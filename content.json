{"meta":{"title":"Smilecoc's Blog","subtitle":null,"description":"Welcome to My Blog","author":"Smilecoc","url":"http://smilecoc.vip","root":"/"},"pages":[{"title":"about","date":"2018-12-12T14:14:36.000Z","updated":"2020-02-20T14:09:48.466Z","comments":false,"path":"about/index.html","permalink":"http://smilecoc.vip/about/index.html","excerpt":"","text":"[ã•ãã‚‰è˜ã®Smilecoc] ä¸&nbsp; Smilecoc&nbsp; ï¼ˆ ã“ã‚“ã«ã¡ã¯ ï¼‰ å¯¹è¯ä¸­... function bot_ui_ini() { var botui = new BotUI(\"hello-mashiro\"); botui.message.add({ delay: 800, content: \"Hi, thereğŸ‘‹\" }).then(function () { botui.message.add({ delay: 1100, content: \"è¿™é‡Œæ˜¯ Smilecoc\" }).then(function () { botui.message.add({ delay: 1100, content: \"ä¸€ä¸ªçˆ±æŠ˜è…¾çš„çš„è“å­©å­~\" }).then(function () { botui.action.button({ delay: 1600, action: [{ text: \"ç„¶åå‘¢ï¼Ÿ ğŸ˜ƒ\", value: \"sure\" }, { text: \"å°‘åºŸè¯ï¼ ğŸ™„\", value: \"skip\" }] }).then(function (a) { \"sure\" == a.value && sure(); \"skip\" == a.value && end() }) }) }) }); var sure = function () { botui.message.add({ delay: 600, content: \"ğŸ˜˜\" }).then(function () { secondpart() }) }, end = function () { botui.message.add({ delay: 600, content: \"![...](https://view.moezx.cc/images/2018/05/06/a1c4cd0452528b572af37952489372b6.md.jpg)\" }) }, secondpart = function () { botui.message.add({ delay: 1500, content: \"æ¯•ä¸šäºæ²ˆé˜³å·¥ä¸šå¤§å­¦\" }).then(function () { botui.message.add({ delay: 1500, content: \"å­¦çš„ç‰©æµå´è¯¯å…¥ITè¡Œä¸šâ€¦\" }).then(function () { botui.message.add({ delay: 1200, content: \"ä»æ­¤è¸ä¸Šæ’¸ä»£ç çš„ä¸å½’è·¯\" }).then(function () { botui.message.add({ delay: 1500, content: \"ä¸»æ”»Pythonå’ŒSQLï¼Œç–¯ç‹‚å†™è¿‡VBAï¼Œå¶å°”ä¹ŸæŠ˜è…¾ HTML/CSS/JavaScript/R\" }).then(function () { botui.message.add({ delay: 1500, content: \"å¸Œæœ›ç ”ç©¶çš„æ–¹å‘ï¼Œæ˜¯æ•°æ®åˆ†æï¼ˆdata scienceï¼‰ï¼Œæ•°æ®ä»“åº“ï¼ˆdata warehouseï¼‰ä»¥åŠæœºå™¨å­¦ä¹ ï¼ˆmachine learningï¼‰\" }).then(function () { botui.message.add({ delay: 1800, content: \"å–œæ¬¢æ¸¸æˆï¼ŒåŠ¨æ¼«ï¼Œæ‘„å½±ï¼Œæ°¸è¿œåœ¨æŠ˜è…¾è‡ªå·±å–œæ¬¢çš„äº‹æƒ…\" }).then(function () { botui.action.button({ delay: 1100, action: [{ text: \"ä¸ºä»€ä¹ˆå«Smilecocå‘¢ï¼Ÿ ğŸ¤”\", value: \"why-mashiro\" }] }).then(function (a) { thirdpart() }) }) }) }) }) }) }) }, thirdpart = function () { botui.message.add({ delay: 1E3, content: \"å…¶å®æ˜¯çå–å¾—~ï¼Œå¸Œæœ›å¯ä»¥æ°¸è¿œsmileå§coc\" }).then(function () { botui.action.button({ delay: 1500, action: [{ text: \"ä¸ºä»€ä¹ˆè¦å»ºç«‹è¿™ä¸ªç½‘ç«™å‘¢ï¼Ÿ ğŸ¤”\", value: \"why-cat\" }] }).then(function (a) { fourthpart() }) }) }, fourthpart = function () { botui.message.add({ delay: 1E3, content: \"ç®—æ˜¯åœ¨å¯¹çš„æ—¶é—´é‡ä¸Šäº†å¯¹çš„äººå§â€¦ \" }).then(function () { botui.message.add({ delay: 1100, content: \"è€Œä¸”å¯ä»¥ç•™ä¸‹ä¸€äº›å¾ˆé…·çš„ä¸œè¥¿ï¼Œä¸æ˜¯å—\" }).then(function () { botui.action.button({ delay: 1500, action: [{ text: \"åŸŸåæœ‰ä»€ä¹ˆå«æ„å—ï¼Ÿ(à¸‡ â€¢_â€¢)à¸‡\", value: \"why-domain\" }] }).then(function (a) { fifthpart() }) }) }) }, fifthpart = function () { botui.message.add({ delay: 1E3, content: \"emmmmï¼Œå¸¦æœ‰èŠ±åè€Œä¸”ä¾¿å®œ=.= \" }).then(function () { botui.message.add({ delay: 1600, content: \"é‚£ä¹ˆï¼Œä»”ç»†çœ‹çœ‹æˆ‘çš„åšå®¢å§ï¼Ÿ ^_^\" }) }) } } bot_ui_ini()"},{"title":"bangumi","date":"2019-02-10T13:32:48.000Z","updated":"2022-05-01T14:55:36.622Z","comments":false,"path":"bangumi/index.html","permalink":"http://smilecoc.vip/bangumi/index.html","excerpt":"","text":""},{"title":"links","date":"2018-12-19T15:11:06.000Z","updated":"2020-02-05T07:03:44.491Z","comments":true,"path":"links/index.html","permalink":"http://smilecoc.vip/links/index.html","excerpt":"","text":""},{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2019-06-01T14:21:46.000Z","comments":false,"path":"client/index.html","permalink":"http://smilecoc.vip/client/index.html","excerpt":"","text":"ç›´æ¥ä¸‹è½½ or æ‰«ç ä¸‹è½½ï¼š"},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2019-06-01T14:21:46.000Z","comments":false,"path":"donate/index.html","permalink":"http://smilecoc.vip/donate/index.html","excerpt":"","text":""},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2019-06-01T14:21:46.000Z","comments":true,"path":"comment/index.html","permalink":"http://smilecoc.vip/comment/index.html","excerpt":"","text":"å¿µä¸¤å¥è¯— å™åˆ«æ¢¦ã€æ‰¬å·ä¸€è§‰ã€‚ ã€å®‹ä»£ã€‘å´æ–‡è‹±ã€Šå¤œæ¸¸å®«Â·äººå»è¥¿æ¥¼é›æ³ã€‹"},{"title":"rss","date":"2018-12-20T15:09:03.000Z","updated":"2019-06-01T14:21:46.000Z","comments":true,"path":"rss/index.html","permalink":"http://smilecoc.vip/rss/index.html","excerpt":"","text":""},{"title":"lab","date":"2019-01-05T13:47:59.000Z","updated":"2019-06-01T14:21:46.000Z","comments":false,"path":"lab/index.html","permalink":"http://smilecoc.vip/lab/index.html","excerpt":"","text":"sakuraä¸»é¢˜balabala"},{"title":"music","date":"2018-12-20T15:14:28.000Z","updated":"2022-03-20T12:23:33.963Z","comments":false,"path":"music/index.html","permalink":"http://smilecoc.vip/music/index.html","excerpt":"","text":""},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2019-06-01T14:21:46.000Z","comments":false,"path":"theme-sakura/index.html","permalink":"http://smilecoc.vip/theme-sakura/index.html","excerpt":"","text":"Hexoä¸»é¢˜Sakuraä¿®æ”¹è‡ªWordPressä¸»é¢˜Sakuraï¼Œæ„Ÿè°¢åŸä½œè€…Mashiro"},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2020-07-05T18:06:58.412Z","comments":true,"path":"tags/index.html","permalink":"http://smilecoc.vip/tags/index.html","excerpt":"","text":""},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2019-06-01T14:21:46.000Z","comments":false,"path":"video/index.html","permalink":"http://smilecoc.vip/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: 'æ”¾é€æ—¶é—´: 2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: '2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} ç•ªç»„è®¡åˆ’ è¿™é‡Œå°†æ˜¯æ°¸è¿œçš„å›å¿† window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} æ”¾é€æ—¶é—´: ${video.time} ${video.desc} ${video.status} `) }) }"},{"title":"books","date":"2020-07-05T18:05:48.000Z","updated":"2020-07-08T16:34:27.854Z","comments":false,"path":"tags/æ‚¦è¯»/index.html","permalink":"http://smilecoc.vip/tags/æ‚¦è¯»/index.html","excerpt":"","text":""},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2020-07-05T18:06:49.673Z","comments":true,"path":"tags/å›¾é›†/index.html","permalink":"http://smilecoc.vip/tags/å›¾é›†/index.html","excerpt":"","text":"å¼€å‘ä¸­ï¼Œå°½æƒ…æœŸå¾…ï¼"}],"posts":[{"title":"Virtual Xposed æ•™ç¨‹â€”â€”ä¸Rootå³å¯ä½¿ç”¨çš„Xposedæ¡†æ¶","slug":"Virtual_Xposed_start","date":"2022-04-12T01:08:20.000Z","updated":"2022-04-17T08:23:39.739Z","comments":true,"path":"2022/04/12/Virtual_Xposed_start/","link":"","permalink":"http://smilecoc.vip/2022/04/12/Virtual_Xposed_start/","excerpt":"","text":"å¯¹äºå¹¿å¤§ç¨€ç½•æŠ˜è…¾ Android è®¾å¤‡çš„æœºå‹æ¥è¯´ï¼ŒXposed å¯è°“æ˜¯å¿…ã€Œè£…ã€å¤‡ã€Œé€¼ã€ç¥å™¨ã€‚Xposed ä½œä¸ºä¸€æ¬¾ç¬¬ä¸‰æ–¹æ¡†æ¶å·¥å…·ï¼Œé€šè¿‡å¯¹ç³»ç»Ÿæ¡†æ¶çš„ã€Œå·å¤©æ¢æ—¥ã€ï¼Œä»¥è¾¾åˆ°ä¿®æ”¹ç³»ç»Ÿä¸åº”ç”¨çš„å„ç§æ•°æ®ï¼Œè¿›è€Œå®ç°æ— æ•°ç§å¯èƒ½æ€§ï¼ŒåŒæ—¶ä¹Ÿå¤§å¤§åœ°æå‡äº† Android ç³»ç»Ÿçš„å¯ç©æ€§ç­‰ç›®çš„ï¼Œå› æ­¤è®©è®¸å¤š Android ç©å®¶éƒ½çˆ±ä¸é‡Šæ‰‹ã€‚ ä½†æ˜¯ï¼Œç”±äº Xposed çš„ä½¿ç”¨æœ‰ç€å„ç§é™åˆ¶ï¼Œä¾‹å¦‚ï¼šå¿…é¡»è¦è§£é”æ‰‹æœºçš„ Bootloaderï¼Œä»¥åŠè·å– Android çš„ Root æƒé™ç­‰ã€‚ ç„¶è€Œï¼Œæœ‰äº›è®¾å¤‡åœ¨æ‰§è¡Œè¿™äº›æ“ä½œæ—¶å¯èƒ½å¹¶ä¸æ–¹ä¾¿ï¼Œç”šè‡³æ— æ³•è§£é”æˆ–è€… Rootã€‚è¿™ä¸ªæ—¶å€™å°±æ˜¯è¯¥ VirtualXposed å‡ºåœºè¡¨æ¼”äº†ï¼Œèµ·ç ä¹Ÿç®—ä¸ºè¿™äº›è®¾å¤‡å¸¦æ¥äº†ä¸€ä¸æ›™å…‰ã€‚å¼€å‘è€…ç§°ï¼Œå€ŸåŠ© VirtualXposed å³ä½¿åœ¨æ²¡æœ‰ Root æƒé™çš„æƒ…å†µä¸‹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Xposed æ¡†æ¶ï¼ VirtualXposed çš„åŸç†ï¼šé¦–å…ˆï¼ŒVirtualXposed å¹¶æœªå¯¹ç³»ç»Ÿåº•å±‚è¿›è¡Œä»»ä½•ä¿®æ”¹ï¼Œä¹Ÿæ²¡æœ‰åˆ©ç”¨ä»€ä¹ˆç¥å¥‡çš„æ¼æ´ã€‚å®ƒçš„å·¥ä½œåŸç†æœ‰ç‚¹åƒé‚£äº›åŒå¼€è½¯ä»¶ã€‚ç®€å•æ¥è¯´ï¼šVirtualXposed æ˜¯é€šè¿‡åœ¨ä½ çš„æ‰‹æœºé‡Œåˆ›å»ºä¸€ä¸ªã€Œè™šæ‹Ÿç¯å¢ƒã€ï¼Œç„¶ååœ¨æ­¤è™šæ‹Ÿç¯å¢ƒä¸­å¯ç”¨ Xposedã€‚ä¸€åˆ‡éƒ½æ˜¯è™šæ‹Ÿçš„ï¼Œè¿™ä¹Ÿæ˜¯å®ƒçš„åå­—å« VirtualXposed çš„åŸå› å§ã€‚ æ‰€ä»¥æ‚¨éœ€è¦ç”¨çš„ Xposed æ¡†æ¶ä¸æ¡†æ¶æ‰€å¯¹åº”çš„åº”ç”¨ï¼Œéƒ½éœ€è¦å®‰è£…åœ¨è¿™ä¸ªè™šæ‹Ÿç¯å¢ƒä¸­ï¼Œæ‰èƒ½èµ·ä½œç”¨ã€‚ ä¸¾ä¸ªæ —å­ï¼Œå¦‚æœæ‚¨è¦åœ¨é’‰é’‰ä¸Šåº”ç”¨æŸä¸ªè™šæ‹Ÿä½ç½®çš„æ¡†æ¶ï¼Œä½ å¿…é¡»åŒæ—¶æŠŠäºŒè€…éƒ½å®‰è£…åˆ° VirtualXposed ä¸­ã€‚åªåœ¨ VirtualXposed ä¸­å®‰è£…æ¡†æ¶ï¼Œæ˜¯ä¸ä¼šå¯¹ç³»ç»Ÿä¸­çš„é’‰é’‰èµ·ä»»ä½•ä½œç”¨çš„ã€‚åŒç†ï¼Œç›´æ¥å°†æ¡†æ¶å®‰è£…åœ¨ç³»ç»Ÿä¸Šï¼Œæˆ–æ˜¯å°†åº”ç”¨å’Œæ¡†æ¶éƒ½å®‰è£…åœ¨ç³»ç»Ÿä¸Šï¼Œä¹Ÿéƒ½ä¸ä¼šèµ·ä»»ä½•ä½œç”¨ã€‚ VirtualXposed çš„ä½¿ç”¨ï¼šGithubä¸»é¡µåŠä¸‹è½½ï¼šhttps://github.com/android-hacker/VirtualXposedhttps://github.com/android-hacker/VirtualXposed/releases/ä¸‹è½½å¯¹åº”apkæ–‡ä»¶å¹¶å®‰è£…å³å¯åˆæ¬¡æ‰“å¼€ VirtualXposed åï¼Œå‘ˆç°åœ¨çœ¼å‰çš„ï¼Œæ˜¯è¿™ä¸ªç±»ä¼¼äº Android å¯åŠ¨å™¨çš„ç•Œé¢ã€‚æ²¡é”™ï¼ä¸è¦æ€€ç–‘ï¼Œä½ å¹¶æ²¡æœ‰è£…é”™è½¯ä»¶ã€‚è¿˜è®°å¾—ä¸Šé¢ä»‹ç»çš„åŸç†å—ï¼Ÿè¿™æ˜¯ä¸€ä¸ªã€Œè™šæ‹Ÿç©ºé—´ã€ã€‚è€Œè¿™ä¸ªå¯åŠ¨å™¨ï¼Œå°±ç›¸å½“äºã€Œè™šæ‹Ÿç©ºé—´ã€çš„å…¥å£ã€‚ ä½¿ç”¨å’Œ Pixel Launcher ä¸€æ ·ï¼Œå‘ä¸Šæ»‘åŠ¨å°±å¯ä»¥æ‰“å¼€åº”ç”¨æŠ½å±‰ï¼Œå®‰è£…åˆ° VirtualXposed çš„åº”ç”¨éƒ½ä¼šåœ¨å…¶ä¸­æ˜¾ç¤ºï¼›ä½†ä¸€å¼€å§‹åªæœ‰é¢„å…ˆè£…å¥½çš„ Xposed Installerã€‚å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œã€Œè™šæ‹Ÿç¯å¢ƒã€ä¸­çš„ Xposed åº”è¯¥æ˜¯å·²ç»å¯ç”¨çš„ï¼Œæ‰“å¼€åä¼šæ˜¾ç¤ºã€ŒXposed æ¡†æ¶å·²æ¿€æ´»ã€â€¦..å³ä¾¿æ˜¯æ‚¨çš„æ‰‹æœºå¹¶æ²¡æœ‰è§£é”ï¼Œä»¥åŠè·å– Root æƒé™ã€‚æœ‰ä¸‰ç§æ–¹æ³•å¯ä»¥å°†åº”ç”¨ä¸æ¨¡å—å®‰è£…åˆ° VirtualXposed ä¸­ã€‚ç¬¬ä¸€ç§ï¼Œæ˜¯ã€Œå…‹éš†åº”ç”¨ã€ï¼Œå³å°†å·²ç»å®‰è£…åœ¨ç³»ç»Ÿä¸­çš„åº”ç”¨æ·»åŠ åˆ° VirtualXposedã€‚å›åˆ° VirtualXposed çš„æ¡Œé¢ï¼ˆåˆå§‹åŒ–è¿›å…¥æ—¶çš„é¡µé¢ï¼‰ï¼Œç‚¹å‡»é‚£ä¸ªçœ‹ä¸Šå»åƒæ˜¯åº”ç”¨æŠ½å±‰çš„æŒ‰é’®ï¼Œå¯ä»¥æ‰“å¼€ VirtualXposed çš„è®¾ç½®é€‰é¡¹ã€‚ç„¶åé€‰æ‹©ã€Œæ·»åŠ åº”ç”¨ã€ï¼Œåœ¨å·²ç»å®‰è£…åˆ°ç³»ç»Ÿä¸­çš„åº”ç”¨åˆ—è¡¨ä¸­å‹¾é€‰éœ€è¦æ·»åŠ çš„åº”ç”¨ï¼Œç¡®è®¤åå³å¯å°†å®ƒä»¬ã€Œå…‹éš†ã€åˆ° VirtualXposed çš„ã€Œè™šæ‹Ÿç¯å¢ƒã€é‡Œå¦‚æœæƒ³è¦æ·»åŠ å¹¶æœªå®‰è£…çš„åº”ç”¨æˆ–æ¨¡å—ï¼Œå¯ä»¥é€‰æ‹©ç¬¬äºŒç§æ–¹å¼ï¼Œå³ç›´æ¥æ‰“å¼€ .apk å®‰è£…åŒ…åé€‰æ‹©ã€Œå®‰è£…åˆ° VirtualXposedã€ã€‚ã€æ›´æ–°ã€‘å¦‚æœä¸å¯ä»¥é€šè¿‡ç›´æ¥æ‰“å¼€ .apk å®‰è£…åŒ…å¹¶é€‰æ‹©ã€Œå®‰è£…åˆ° VirtualXposedã€ï¼ˆå°šä¸æ¸…æ¥šæ˜¯ç‰ˆæœ¬åŸå› è¿˜æ˜¯æ‰‹æœºå‹å·åŸå› ï¼‰ï¼Œå¯ä»¥æ ¹æ®ä¸Šé¢ä¸€ç§æ–¹æ³•çš„æµç¨‹ï¼Œåœ¨ä¸Šé¢æˆªå›¾çš„é‚£ä¸€æ­¥é€‰æ‹©å³ä¸‹è§’çš„åŠ å·ï¼Œå¹¶æ·»åŠ éœ€è¦å®‰è£…çš„apkæ–‡ä»¶å³å¯å¦å¤–ï¼Œå¦‚æœä½ å·²ç»å°†xxå¸‚åœºæˆ–æ˜¯æµè§ˆå™¨æ·»åŠ åˆ°äº† VirtualXposed ä¸­ï¼Œä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡è¿™äº›æ¸ é“ä¸‹è½½å¹¶å®‰è£…åº”ç”¨ã€‚å½“ç„¶ï¼Œå¦‚æœåªæ˜¯æƒ³å®‰è£…æ¨¡å—ï¼Œè¿˜å¯ä»¥ç›´æ¥é€šè¿‡å†…ç½®çš„ Xposed Installer æœç´¢å¹¶å®‰è£…ã€‚æ·»åŠ åˆ° VirtualXposed ä¸­çš„åº”ç”¨ï¼Œè¿è¡Œèµ·æ¥ä¸å®‰è£…åˆ°ç³»ç»Ÿä¸­çš„åº”ç”¨å‡ ä¹æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŒåŒæ ·å¯ä»¥æ­£å¸¸æ¥æ”¶é€šçŸ¥ï¼Œä»¥åŠæµè§ˆæœ¬æœºä¸­çš„å›¾ç‰‡ç­‰æ–‡ä»¶ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒè¿˜å¯ä»¥åƒã€ŒåŒå¼€ã€è½¯ä»¶ä¸€æ ·ï¼ŒåŒæ—¶è¿è¡Œä¸¤ä¸ªç›¸åŒçš„åº”ç”¨ï¼Œå¹¶åœ¨å¤šä»»åŠ¡ä¸­è¿›è¡Œåˆ‡æ¢ï¼Œç”šè‡³è¿˜å¯ä»¥åˆ†å±ã€‚ä» VirtualXposed ä¸­æ‰“å¼€çš„åº”ç”¨ï¼Œä¼šåŠ ä¸Šã€ŒAdminã€çš„å‰ç¼€ã€‚ æƒ³è¦ç®¡ç† VirtualXposed ä¸­çš„åº”ç”¨è¿›ç¨‹æˆ–æ˜¯å¸è½½åº”ç”¨ï¼Œå‰å¾€ã€Œè®¾ç½®ã€å³å¯ï¼Œç›´æ¥åœ¨æŠ½å±‰ä¸­é•¿æŒ‰å›¾æ ‡ä¹Ÿå¯ä»¥å®ç°éƒ¨åˆ†æ“ä½œã€‚å…¶å® VirtualXposed ä¸­çš„å¯åŠ¨å™¨ï¼Œæœ¬è´¨ä¸Šä¹Ÿçš„ç¡®æ˜¯ä¸ª Pixel Launcherã€‚å¦‚æœæ„¿æ„çš„è¯ï¼Œä½ ç”šè‡³è¿˜èƒ½åœ¨è®¾ç½®ä¸­æ›´æ¢å›¾æ ‡åŒ…â€¦â€¦ã€‚ VirtualXposed çš„ä¸Šæ‰‹ä½“éªŒï¼šæ¥ä¸‹æ¥ï¼Œå°±è®©æˆ‘ä»¬ä¸€èµ·ä¸Šæ‰‹ä½“éªŒä¸‹ VirtualXposed å§ï¼ ä» VirtualXposed å®˜æ–¹ç½‘ç«™ä¸Šç»™å‡ºçš„æ”¯æŒæ¨¡å—åˆ—è¡¨ä¸­ï¼Œæˆ‘æŒ‘é€‰äº†ä¸¤æ¬¾æ¡†æ¶è¿›è¡Œæµ‹è¯•ã€‚å…¶ä¸­ä¸€æ¬¾åä¸º MDWechatï¼Œæ˜¯ä¸€ä¸ªèƒ½è®©å¾®ä¿¡ç•Œé¢ Material Design åŒ–çš„æ¨¡å—ã€‚ æ¿€æ´»æ¨¡å—çš„æ–¹å¼ï¼Œä¸å®æœºé‡Œçš„ Xposed å¤§è‡´æ— å¼‚ã€‚æ‰“å¼€ VirtualXposed ä¸­çš„ Xposed Installerï¼Œç„¶åå‰å¾€ã€Œæ¨¡å—ã€ï¼Œå°±èƒ½çœ‹åˆ°å®‰è£…å¥½çš„æ¨¡å—äº†ã€‚ æŒ‰ä»¥å¾€ Xposed æ¡†æ¶æ“ä½œæ­¥éª¤æ¥ä¸‹æ¥åº”è¯¥æ˜¯ã€Œå‹¾é€‰æ¨¡å—ï¼Œç„¶åé‡å¯æ‰‹æœºã€ï¼Œç„¶è€Œåœ¨ VirtualXposed ä¸­ï¼Œå¯ç”¨æ¨¡å—å¹¶ä¸éœ€è¦çœŸçš„é‡å¯æ‰‹æœºã€‚åªè¦åœ¨å‹¾é€‰æ¨¡å—åï¼Œå‰å¾€è®¾ç½®ï¼Œç‚¹å‡»æœ€ä¸‹æ–¹çš„ã€Œé‡å¯ã€å³å¯ã€‚ã€Œé‡å¯ã€çš„é€Ÿåº¦æå¿«ï¼Œå› æ­¤ä½œè€…è¿˜è®¾ç½®äº†ä¸€ä¸ªã€Œæ¸©é¦¨ã€çš„ Toast æé†’ã€‚å®Œæˆè¿™äº›æ“ä½œåï¼Œå†æ‰“å¼€å¾®ä¿¡ï¼›è¿™æ—¶ MDWechat å°±å·²ç»è¢«æˆåŠŸæ¿€æ´»äº†ã€‚ Material Design ç‰ˆå¾®ä¿¡ï¼Œå°±è¿™æ ·æ„‰å¿«çš„å®ç°äº†ï¼ æ¥ä¸‹æ¥æµ‹è¯•å¦ä¸€ä¸ªæ¨¡å—ã€Œåº”ç”¨å˜é‡ã€ï¼Œé€šè¿‡å®ƒå¯ä»¥åˆ†åº”ç”¨ä¿®æ”¹æœºå‹ï¼Œä»è€Œæ˜¾ç¤ºå„ç§ä¸åŒçš„æ¥æºã€Œå°å°¾å·´ã€å®ƒä¹Ÿå¯ä»¥æˆåŠŸåœ°è¢«æ¿€æ´»ï¼Œå¹¶å¯¹ VirtualXposed ä¸­çš„åº”ç”¨è¿›è¡Œä¿®æ”¹ã€‚ç°åœ¨ï¼Œæˆ‘ä¹Ÿæ˜¯ç”¨ Mate 9 ä¿æ—¶æ·è®¾è®¡å‘å¾®åšçš„äººå•¦~~ï¼ å½“ç„¶ï¼Œè¿™äº›æ¨¡å—åªä¼šå¯¹ VirtualXposed é‡Œçš„åº”ç”¨ç”Ÿæ•ˆã€‚VirtualXposed åœ¨ä¸€å°æ—¢æ²¡æœ‰è§£é”ï¼Œä¹Ÿæ²¡æœ‰ Root çš„è®¾å¤‡ä¸Šï¼ŒæˆåŠŸåº”ç”¨äº† Xposed æ¡†æ¶æ¨¡å—ã€‚ å¦‚æœæ‚¨å«Œæ¯æ¬¡éƒ½è¦åœ¨ VirtualXposed çš„å¯åŠ¨å™¨ä¸­æ‰“å¼€åº”ç”¨éº»çƒ¦ï¼Œå¯ä»¥é•¿æŒ‰å›¾æ ‡ï¼Œé€‰æ‹©ã€Œåˆ›å»ºå¿«æ·æ–¹å¼ã€ï¼Œè¿™ä¸ªåº”ç”¨å°±å‡ºç°åœ¨ä½ çš„ç³»ç»Ÿæ¡Œé¢ä¸Šäº†ï¼Œå½“ç„¶åº”ç”¨åä¼šåŠ ä¸Šã€ŒVirtualXposedPã€çš„åç¼€ã€‚ VirtualXposed çš„å½±å“ï¼šå³ä½¿æ‚¨çš„æ’ä»¶å‡ºé—®é¢˜äº†ï¼Œæ‚¨ä¹Ÿä¸å¿…æ‹…å¿ƒï¼ŒVirtualXposed å¹¶ä¸ä¼šå½±å“æ‰‹æœºç³»ç»Ÿï¼Œå¦‚æœçœŸçš„å‡ºç°äº†ä¸¥é‡åˆ°æ— æ³•æ­£å¸¸ä½¿ç”¨çš„æƒ…å†µï¼Œç›´æ¥å¸è½½ VirtualXposed å³å¯ã€‚ å†™åœ¨æœ€åï¼šVirtualXposed çš„å·¥ä½œåŸç†ï¼Œä¹Ÿå†³å®šäº†ä»»ä½•ä¿®æ”¹ç³»ç»Ÿçš„ Xposed æ¨¡å—å‡æ— æ³•ä½¿ç”¨ã€‚ä½† VirtualXposed å¤§å¤§é™ä½äº† Xposed æ¡†æ¶çš„ä½¿ç”¨é—¨æ§›ï¼Œè®©æ›´å¤šäººèƒ½ä½“éªŒåˆ°å„ç§èŠ±æ ·ç™¾å‡ºçš„æ¨¡å—ã€‚æ˜¯ä¸ªå¾ˆæœ‰å‰é€”çš„é¡¹ç›®ã€‚ å¯¹äºå·²ç»åœ¨ç³»ç»Ÿä¸­å¯ç”¨äº† Xposed çš„ç”¨æˆ·ï¼Œè¿˜å¯ä»¥å€ŸåŠ© VirtualXposed æ–¹ä¾¿åœ°æµ‹è¯•æ¨¡å—ã€‚æ—¢ä¸ç”¨é¢‘ç¹é‡å¯æ‰‹æœºï¼Œåˆæ¯‹éœ€æ‹…å¿ƒã€Œç¿»è½¦ã€åå½±å“æ­£å¸¸ä½¿ç”¨ã€‚ ã€å‚è€ƒæ–‡ç« ã€‘https://www.yxssp.com/23278.htmlhttps://www.iplaysoft.com/virtualxposed.html","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://smilecoc.vip/categories/è½¬è½½/"}],"tags":[{"name":"å…¶ä»–èµ„æº","slug":"å…¶ä»–èµ„æº","permalink":"http://smilecoc.vip/tags/å…¶ä»–èµ„æº/"}],"author":"smilecoc"},{"title":"TableauæŠ€å·§-ä» Tableauæ–‡ä»¶ä¸­è·å–æ•°æ®","slug":"get_data_from_tableau","date":"2022-01-12T07:58:22.000Z","updated":"2022-04-28T01:37:31.786Z","comments":true,"path":"2022/01/12/get_data_from_tableau/","link":"","permalink":"http://smilecoc.vip/2022/01/12/get_data_from_tableau/","excerpt":"","text":"åœ¨å®é™…ä½¿ç”¨Tableauä¸­ç»å¸¸ä¼šé‡åˆ°éœ€è¦ä»å·²æœ‰çš„tableauæ–‡ä»¶æˆ–ä»ªè¡¨æ¿ä¸­å¯¼å‡º/æå–/å¤åˆ¶æ•°æ®ï¼Œæœ¬ç¯‡æ–‡ç« æ•´ç†äº†ç›¸å…³ä»Tableauæ–‡ä»¶ä¸­è·å–æ•°æ®çš„æ–¹æ³• ä¸€.è·å–ä»ªè¡¨æ¿ä¸­çš„æ•°æ®è·å–æ•°æ®é¦–å…ˆä½¿ç”¨Tableauçš„å†…ç½®è¶…å¸‚æ•°æ®æºåˆ¶ä½œä¸€ä¸ªæ ·è¡¨å¦‚ä¸‹ï¼š æ–¹æ³•1é€‰æ‹©ä¸€ä¸ªå·¥ä½œè¡¨ï¼Œå¹¶åœ¨ä¸Šæ–¹çš„åŠŸèƒ½åŒºä¸­é€‰æ‹©â€å·¥ä½œè¡¨â€â€”â€œå¤åˆ¶â€â€”â€œæ•°æ®â€å³å¯å¤åˆ¶æ•°æ®ï¼Œå¯ä»¥åˆ°æ‰“å¼€Excelç›´æ¥å¤åˆ¶åˆ°Excelä¸­ æ–¹æ³•2åœ¨ä¸Šæ–¹çš„åŠŸèƒ½åŒºä¸­é€‰æ‹©â€åˆ†æâ€â€”â€œæŸ¥çœ‹æ•°æ®â€å¹¶é€‰æ‹©â€å…¨éƒ¨å¯¼å‡ºâ€ï¼Œå³å¯å°†åŸå§‹æ•°æ®å¯¼å…¥åˆ°csvæ–‡ä»¶ä¸­ æ–¹æ³•3åœ¨ä¸Šæ–¹çš„åŠŸèƒ½åŒºä¸­é€‰æ‹©â€å·¥ä½œè¡¨â€â€”â€œå¯¼å‡ºâ€â€”â€æ•°æ®â€œå¯å°†æ•°æ®å¯¼å‡ºã€‚ æ³¨ï¼šå¤åˆ¶æ•°æ®çš„é€Ÿåº¦æ¯”å¯¼å‡ºæ•°æ®å¿«å¾ˆå¤šï¼Œæ‰€ä»¥å»ºè®®å°½é‡ä½¿ç”¨å¤åˆ¶çš„æ–¹æ³•ï¼Œä¸è¦ä½¿ç”¨åˆ°å¯¼å‡º è·å–äº¤å‰è¡¨æ•°æ®åœ¨ä¹‹å‰è¡¨æ ¼çš„åŸºç¡€ä¸Šæˆ‘ä»¬å†åŠ ä¸Šå¯¹åº”å¹´ä»½ æ–¹æ³•1é€‰æ‹©â€å·¥ä½œè¡¨â€â€”â€œå¤åˆ¶â€â€”â€œäº¤å‰è¡¨â€å³å¯å¤åˆ¶æ•°æ® æ–¹æ³•2é€‰æ‹©â€å·¥ä½œè¡¨â€â€”â€œå¯¼å‡ºâ€â€”â€œäº¤å‰è¡¨åˆ°Excelâ€å³å¯ç›´æ¥å°†äº¤å‰è¡¨æ•°æ®å¯¼å‡ºåˆ°Excel å¤åˆ¶äº¤å‰è¡¨ä¸å¤åˆ¶æ•°æ®çš„åŒºåˆ«äº¤å‰è¡¨å¯ä»¥ç†è§£ä¸ºæ•°æ®é€è§†è¡¨ï¼Œå®ƒå¯¹åŸå§‹æ•°æ®çš„å­—æ®µè¿›è¡Œè¡Œå’Œåˆ—ä¸Šçš„é‡æ’å¹¶åšèšåˆã€‚ä»¥æœ¬ä¾‹æ¥è¯´ï¼Œæ‰€æœ‰è®¢å•æ—¥æœŸçš„å¹´ä»½åœ¨åŸå§‹æ•°æ®ä¸­éƒ½ä¸ºåˆ—å­—æ®µï¼Œä¹‹åæˆ‘ä»¬æ ¹æ®å¹´ä»½æ±‡æ€»åˆ©æ¶¦å¹¶å°†å¹´ä»½æ”¾åˆ°è¡Œå­—æ®µä¸­ï¼Œæ¯ä¸€å¹´çš„æ•°æ®éƒ½å ä¸€åˆ—ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªäº¤å‰è¡¨ã€‚å¦‚æœTableauå·¥ä½œè¡¨ä¸­æ˜¯ä¸€ä¸ªäº¤å‰è¡¨ï¼Œé€šè¿‡å¤åˆ¶äº¤å‰è¡¨ï¼Œå¾—åˆ°çš„æ•°æ®æ˜¯å’Œå‰ç«¯æ˜¾ç¤ºçš„æ ¼å¼æ˜¯ä¸€è‡´çš„ï¼Œè€Œå¦‚æœç›´æ¥å¤åˆ¶æ•°æ®ï¼Œåˆ™å¾—åˆ°çš„æ˜¯åŸå§‹æ•°æ®çš„æ ¼å¼ã€‚å¦‚æœæˆ‘ä»¬åœ¨ä¸Šé¢ä¸€æ­¥é€‰æ‹©â€å¤åˆ¶â€â€”â€œæ•°æ®â€è€Œä¸æ˜¯â€œå¤åˆ¶â€â€”â€œäº¤å‰è¡¨â€,é‚£ä¹ˆå¾—åˆ°çš„æ˜¯åªæœ‰è®¢å•æ—¥æœŸï¼Œçœï¼Œåˆ©æ¶¦çš„ä¸‰åˆ—æ•°æ®ï¼š å¤åˆ¶æ•°æ®ä¸ºå›¾åƒé€‰æ‹©â€å·¥ä½œè¡¨â€â€”â€œå¤åˆ¶â€â€”â€œå›¾åƒâ€æˆ–è€…â€å·¥ä½œè¡¨â€â€”â€œå¯¼å‡ºâ€â€”â€œå›¾åƒâ€å³å¯å¤åˆ¶å·¥ä½œè¡¨ä¸­çš„å›¾æˆ–è€…å°†æ•°æ®ä¿å­˜ä¸ºå›¾ç‰‡å½¢å¼ äºŒ.è·å–æ•°æ®æºä¸­çš„æ•°æ® æ³¨ï¼šä½¿ç”¨æ­¤ç§æ–¹æ³•éœ€è¦åˆ«äººç»™ä½ çš„æ–‡ä»¶æ ¼å¼ä¸ºTableauæ‰“åŒ…å·¥ä½œç°¿ï¼ˆ.twbxï¼‰ï¼Œå¦‚æœæ˜¯Tableauå·¥ä½œç°¿æ ¼å¼ï¼ˆ.twbï¼‰æ ¼å¼åˆ™æ— æ³•ç›´æ¥æå–æ•°æ®æºçš„æ•°æ®ã€‚å› ä¸ºæ‰“åŒ…å·¥ä½œç°¿åŒ…å«å·¥ä½œç°¿ä»¥åŠæ‰€æœ‰æœ¬åœ°æ–‡ä»¶æ•°æ®æºå’ŒèƒŒæ™¯å›¾åƒçš„å‰¯æœ¬ï¼Œè€Œå·¥ä½œç°¿åªä¿ç•™æŒ‡å‘æ•°æ®æºçš„è·¯å¾„ã€‚ æ–¹æ³•1å³é”®ç‚¹å‡»æ•°æ®æºï¼Œé€‰æ‹©â€æå–æ•°æ®â€œ åœ¨æå–æ•°æ®é¡µé¢ä¸­å¯ä»¥è¿›è¡Œå­—æ®µç­›é€‰å’Œè¡Œæ•°ç­›é€‰ã€‚å½“æ•°æ®é‡å¾ˆå¤§æ—¶ä¸€å®šè¦åœ¨è¿™é‡Œè¿›è¡Œç­›é€‰ï¼Œå¦åˆ™åœ¨å¯¼å‡ºæ•°æ®æ—¶ä¼šæŠ¥é”™ï¼ç­›é€‰å®Œæˆåç‚¹å‡»â€æ•°æ®æå–â€å³å¯å¯¼å‡ºæ•°æ® æ–¹æ³•2å³é”®ç‚¹å‡»æ•°æ®æºå¹¶é€‰æ‹©â€æŸ¥çœ‹æ•°æ®â€œï¼Œåœ¨æŸ¥çœ‹æ•°æ®é€‰é¡¹å¡ä¸­é€‰æ‹©â€å…¨éƒ¨å¯¼å‡ºâ€œå³å¯ æ–¹æ³•3è§£åŒ…æ‰“åŒ…çš„å·¥ä½œç°¿ã€‚é¦–å…ˆç”¨ .zip æ‰©å±•åé‡å‘½åæ–‡ä»¶ï¼ˆä¾‹å¦‚ï¼Œä» myfile.twbx é‡å‘½åä¸º myfile.zipï¼‰ï¼Œç„¶åè§£å‹ï¼Œä¹‹åå¯å¾—åˆ°å¸¸è§„å·¥ä½œç°¿æ–‡ä»¶ (.twb)ï¼Œä»¥åŠåŒ…å«ä¸å·¥ä½œç°¿æ‰“åŒ…åœ¨ä¸€èµ·çš„æ•°æ®æºå’Œå›¾åƒçš„æ–‡ä»¶å¤¹ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"BI","slug":"BI","permalink":"http://smilecoc.vip/tags/BI/"}],"author":"smilecoc"},{"title":"Pythonçˆ¬è™«ä¹‹çˆ¬å–ä¸€ä¸ªé—®é¢˜ä¸‹æ‰€æœ‰çš„å›ç­”","slug":"zhihu_spider_by_python","date":"2021-12-26T17:24:28.000Z","updated":"2022-01-16T17:06:26.889Z","comments":true,"path":"2021/12/27/zhihu_spider_by_python/","link":"","permalink":"http://smilecoc.vip/2021/12/27/zhihu_spider_by_python/","excerpt":"","text":"ç½‘é¡µåˆ†æé¦–å…ˆæˆ‘ä»¬æ‰“å¼€çŸ¥ä¹å®˜ç½‘https://www.zhihu.com/ï¼Œé€‰æ‹©çƒ­æ¦œï¼Œæˆ‘ä»¬é€‰å–å½“å‰çƒ­æ¦œç¬¬ä¸€çš„é—®ç­”ç¾å›½å››å¹´æ¥é¦–æ¬¡å…¬å¸ƒè¯¥å›½æ ¸å¼¹å¤´æ•°é‡ä¸º 3750 æšï¼Œè¿™ä¸€æ•°æ®é€éœ²äº†å“ªäº›ä¿¡æ¯ï¼Ÿè¿›è¡Œåˆ†æå’Œçˆ¬å–ã€‚ é¦–å…ˆä¾æ—§F12æ‰“å¼€ç½‘é¡µçš„åˆ†æç•Œé¢ï¼Œé€šè¿‡å®šä½å¯ä»¥çœ‹åˆ°ç½‘é¡µçš„ä»£ç ä¸­å¯¹åº”å›ç­”çš„æ–‡æœ¬ æ¥ç€å³é”®æŸ¥çœ‹æºä»£ç ï¼Œå¯ä»¥çœ‹åˆ°æºä»£ç ä¸­æœ‰å¯¹åº”çš„å›ç­”ï¼Œä½†æ˜¯é€æ­¥çœ‹ä¸‹å»çš„è¯ä¼šå‘ç°åªæœ‰å‰ä¸¤ä¸ªå›ç­”ï¼Œè€Œæ€»å…±çš„å›ç­”æœ‰ä¸¤ç™¾å¤šä¸ªï¼ˆå›ç­”æ•°ä¼šéšç€æ—¶é—´çš„å¢åŠ è€Œå¢åŠ ï¼‰ï¼Œå¯ä»¥ç¡®å®šå‰ç«¯é¡µé¢çš„åŠ è½½æ˜¯AJaxåŠ è½½å‡ºæ¥çš„ï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯ä¸€ä¸ªé—®é¢˜ä¸‹é¢å¯èƒ½ä¼šæœ‰è®¸å¤šå›ç­”ï¼Œå¦‚æœä¸€ä¸‹å­æŠŠæ‰€æœ‰çš„å›ç­”éƒ½åŠ è½½å‡ºæ¥ï¼Œå¯èƒ½ä¼šå¾ˆæ…¢ï¼Œæ‰€ä»¥å…ˆä¼ é€’ç»™HTMLé¡µé¢ä¸€éƒ¨åˆ†å›ç­”ã€‚å½“ç”¨æˆ·ä¸‹æ‹‰æ»šåŠ¨æ¡æˆ–è€…å±•å¼€æ‰€æœ‰å›ç­”çš„æ—¶å€™ï¼Œè§¦å‘æ‰§è¡Œä¸€ä¸ªç¨‹åºï¼Œè¿™æ—¶ç¨‹åºä¼šç»§ç»­å‘æœåŠ¡å™¨è¯·æ±‚ä½™ä¸‹çš„æ•°æ®åŒ…ã€‚é¦–å…ˆæˆ‘ä»¬æ‰¾åˆ°å…·ä½“åœ¨Chromeè°ƒè¯•æ¨¡å¼é€‰æ‹©Networkâ€”XHR,å¯ä»¥æ‰¾åˆ°å›ç­”å…¨éƒ¨å­˜åœ¨è¿™ä¸ªä»¥answerå¼€å¤´çš„æ–‡ä»¶ä¸­ åœ¨Previewä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç­”æ¡ˆåœ¨dataä¸‹çš„åºå·ä¸­ï¼Œæ¯ä¸€ä¸ªåºå·å¯¹åº”ä¸€ä¸ªå›ç­”ï¼Œå›ç­”å†…å®¹åœ¨Contentä¸­ã€‚ä½†æ˜¯åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åªæœ‰ äº”ä¸ªå›ç­”ï¼Œè€Œè¿™ä¸ªé—®é¢˜ä¸‹æ€»å…±æœ‰549 ä¸ªå›ç­”,ä»è¿™è¾¹å¯ä»¥çœ‹å‡ºè¿˜æœ‰å…¶ä»–çš„å›ç­”æ–‡ä»¶ï¼Œè€Œæ‰¾åˆ°å…¶ä»–çš„å›ç­”æ•°æ®æœ‰ä¸¤ç§æ–¹æ³•ï¼šç¬¬ä¸€ç§åœ¨ä¹‹å‰åŒ…å«å›ç­”çš„jsonæ–‡ä»¶çš„æœ€åæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰å¯¹åº”çš„pagingä¿¡æ¯ï¼Œé‡Œé¢æ³¨æ˜äº†æ˜¯å¦ä¸ºèµ·å§‹å’Œç»“æŸçš„æ–‡ä»¶ï¼Œå¹¶åŒ…å«ä¸Šä¸€ä¸ªå’Œä¸‹ä¸€ä¸ªæ–‡ä»¶çš„è¯·æ±‚åœ°å€ã€‚æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦é€šè¿‡è¿™ä¸ªæ–‡ä»¶ä¸€ç›´å‘å‰å’Œå‘åæ‰¾åˆ°æœ€å‰å’Œæœ€åçš„æ–‡ä»¶å³å¯ç¬¬äºŒç§æ–¹æ³•æˆ‘ä»¬å¯ä»¥æ ¹æ®å·²æœ‰çš„jsonè¯·æ±‚åœ°å€å¯¹æ¯”ï¼Œå‘ç°é™¤äº†æœ€åçš„offsetä¸åŒå¤–å…¶ä»–çš„éƒ½æ˜¯ä¸€è‡´çš„ï¼Œè€Œä¸”æ¯ä¸€ä¸ªç›¸å·®5ã€‚å› æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ç›´æ¥æ„é€ URLè¯·æ±‚æ•°æ®.ä½œä¸ºæµ‹è¯•ï¼Œæˆ‘ä»¬å°†å…¶ä¸­çš„offectæ”¹ä¸º0å¹¶è¯·æ±‚åå¾—åˆ°æ•°æ®å¦‚ä¸‹,å¯ä»¥éªŒè¯è¿™ç§æ–¹æ³•æ˜¯å¯è¡Œçš„ï¼š çˆ¬å–æ­¥éª¤é¦–å…ˆæˆ‘ä»¬å…ˆæ„é€ è¯·æ±‚å¤´å¹¶å°è¯•è¯·æ±‚å¯¹åº”çš„åœ°å€ï¼Œå‘ç°å¯ä»¥æ­£ç¡®çš„è¿”å›å›ç­”çš„å†…å®¹ï¼š import requests start_url = &quot;https://www.zhihu.com/api/v4/questions/490840493/answers?include=data%5B%2A%5D.is_normal%2Cadmin_closed_comment%2Creward_info%2Cis_collapsed%2Cannotation_action%2Cannotation_detail%2Ccollapse_reason%2Cis_sticky%2Ccollapsed_by%2Csuggest_edit%2Ccomment_count%2Ccan_comment%2Ccontent%2Ceditable_content%2Cattachment%2Cvoteup_count%2Creshipment_settings%2Ccomment_permission%2Ccreated_time%2Cupdated_time%2Creview_info%2Crelevant_info%2Cquestion%2Cexcerpt%2Cis_labeled%2Cpaid_info%2Cpaid_info_content%2Crelationship.is_authorized%2Cis_author%2Cvoting%2Cis_thanked%2Cis_nothelp%2Cis_recognized%3Bdata%5B%2A%5D.mark_infos%5B%2A%5D.url%3Bdata%5B%2A%5D.author.follower_count%2Cvip_info%2Cbadge%5B%2A%5D.topics%3Bdata%5B%2A%5D.settings.table_of_content.enabled&amp;limit=5&amp;offset=5&amp;platform=desktop&amp;sort_by=default&quot; #è¯·æ±‚å¤´ self_header={&#39;user-agent&#39;: &#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36&#39;} #ç”¨requeståº“è¿›è¡Œè¯·æ±‚å¹¶è·å–è¿”å›æ–‡æœ¬ response = requests.get(start_url , headers=self_header, timeout=30) response.raise_for_status() response.encoding = response.apparent_encoding con=response.text print(con) æ¥ä¸‹æ¥å¯¹è·å–çš„jsonæ•°æ®è¿›è¡Œè§£æã€‚ç”±äºå›ç­”æ•°æ®ä¸­åŒ…å«å‰ç«¯æ ‡ç­¾ï¼Œå› æ­¤åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼å»é™¤ï¼š con= json.loads(response.text) #æå–å›ç­”æ•°æ® answers = [item[&quot;content&quot;] for item in con[&quot;data&quot;]] for answer in answers: #åŸå›ç­”ä¸­å¸¦æœ‰htmlæ ‡ç­¾ï¼Œåˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼å»é™¤ answer=re.sub(&quot;&lt;.*?&gt;&quot;,&quot;&quot;,answer) print(answer) è¿è¡ŒåæˆåŠŸå¾—åˆ°äº†å›ç­”æ•°æ®ï¼Œæ¥ä¸‹æ¥éœ€è¦éå†æ‰€æœ‰çš„urlï¼Œä»è€Œè·å–åˆ°æ‰€æœ‰çš„å›ç­”ã€‚ç”±äºæˆ‘ä»¬é‡‡ç”¨çš„æ˜¯æ”¹åŠ¨URLä¸­çš„offestå‚æ•°æ–¹å¼ï¼Œæ‰€ä»¥é¦–å…ˆå¯ä»¥ä»jsonæ•°æ®ä¸­è·å–å›ç­”æ€»æ•°éå†åå³å¯å¾—åˆ°æ‰€æœ‰çš„å›ç­”ï¼šåŒæ—¶æ¯ä¸ªå›ç­”çš„å¯¹åº”å…¶ä»–ä¿¡æ¯ä¹Ÿå¯ä»¥åœ¨jsonæ–‡ä»¶ä¸­æ‰¾åˆ°.ä¾‹å¦‚ç‚¹èµæ•°åœ¨å¯¹åº”å›ç­”ä¸‹çš„voteup_countä¸­ï¼Œè¯„è®ºæ•°é‡åœ¨comment_countä¸­ã€‚ä½¿ç”¨ç¬¬ä¸€ç§æ–¹æ³•ä¹Ÿæ˜¯ä¸€æ ·çš„åŸç†ï¼Œåªéœ€è¦æ¯æ¬¡è·å–ï½Šï½“ï½ï½æ•°æ®ä¸­çš„ä¸Šä¸€ä¸ªï½•ï½’ï½Œå’Œä¸‹ä¸€ä¸ªï½•ï½’ï½Œå³å¯ï¼Œå°ä¼™ä¼´ä»¬æœ‰å…´è¶£å¯ä»¥å°è¯•ä¸€ä¸‹ã€‚ å®Œæ•´æºç å¯äºå…¬ä¼—å·åå°å›å¤â€œçŸ¥ä¹çˆ¬è™«â€è·å–","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"pythonçˆ¬è™«","slug":"pythonçˆ¬è™«","permalink":"http://smilecoc.vip/tags/pythonçˆ¬è™«/"}],"author":"smilecoc"},{"title":"Pythonåº“ç§¯ç´¯ä¹‹you-getåº“ï¼šç½‘é¡µè§†é¢‘ä¸èµ„æºä¸‹è½½","slug":"Python_you_get","date":"2021-09-10T02:40:14.000Z","updated":"2021-09-21T14:40:52.507Z","comments":true,"path":"2021/09/10/Python_you_get/","link":"","permalink":"http://smilecoc.vip/2021/09/10/Python_you_get/","excerpt":"","text":"you-getåº“æ˜¯ä¸€ä¸ªå¼ºå¤§çš„è§†é¢‘ç½‘ç«™ä¸‹è½½å·¥å…·ï¼Œå¯ä»¥é€šè¿‡éŸ³è§†é¢‘ç½‘é¡µçš„urlé“¾æ¥ç›´æ¥ä¸‹è½½åŒ…æ‹¬è§†é¢‘ï¼Œå›¾ç‰‡ç­‰åª’ä½“å†…å®¹ï¼Œä»è€Œè§£å†³ä¸€äº›ç½‘ç«™è§†é¢‘æ— æ³•ä¸‹è½½çš„é—®é¢˜ã€‚you-getæ”¯æŒå¾ˆå¤šç½‘ç«™ä¸‹è½½ï¼Œå¦‚å“”å“©å“”å“©ï¼Œç½‘æ˜“ï¼Œæ²¹ç®¡ç­‰you-getåº“çš„Githubä¸»é¡µä¸ºhttps://github.com/soimort/you-get,ä¸­æ–‡æ–‡æ¡£åœ°å€ä¸ºï¼šhttps://github.com/soimort/you-get/wiki/%E4%B8%AD%E6%96%87%E8%AF%B4%E6%98%8E,åœ¨è¿™é‡Œä½ å¯ä»¥æ‰¾åˆ°å¯¹åº”çš„æºç å’Œå®˜æ–¹æ–‡æ¡£ï¼Œä¸Šé¢æœ‰å…¶æ”¯æŒçš„è§†é¢‘ç½‘ç«™åˆ—è¡¨.éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œyou-getä¹Ÿå¯ä»¥ç”¨äºå…¶å®˜æ–¹æ²¡æœ‰åˆ—å‡ºçš„ç½‘ç«™çš„è§†é¢‘ä¸‹è½½ï¼Œä½†æ˜¯æ— æ³•ä¿è¯é€Ÿåº¦å’Œä¸‹è½½ç¨³å®šæ€§ï¼Œå»ºè®®å¯¹äºå…¶ä»–çš„ç½‘ç«™ï¼Œä½¿ç”¨aria2å·¥å…·è¿›è¡Œä¸‹è½½ å®‰è£…pip3 install you-get #ä½¿ç”¨æ¸…åæºä¸‹è½½ pip3 install -i https://pypi.tuna.tsinghua.edu.cn/simple you-get åŒæ—¶éœ€è¦å®‰è£…ffmpegï¼Œç”¨æ¥ä¸‹è½½æµå¼è§†é¢‘ä»¥åŠåˆå¹¶åˆ†å—è§†é¢‘(ä¾‹å¦‚ï¼Œç±»ä¼¼Youku), ä»¥åŠYouTubeçš„1080pæˆ–æ›´é«˜åˆ†è¾¨ç‡ã€‚ffmpegå¯ä»¥åœ¨å¯¹åº”å®˜æ–¹ä¸»é¡µhttps://www.ffmpeg.org/ä¸‹è½½ ä½¿ç”¨-iå‚æ•°ï¼šè§£æç»™å®šåœ°å€ä¸‹çš„è§†é¢‘ä¿¡æ¯å¦‚æœä½ åœ¨æŸä¸ªç½‘å€ä¸Šæ‰¾åˆ°äº†æƒ³è¦ä¸‹è½½çš„è§†é¢‘ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ â€”info/-i ä»¥æŸ¥çœ‹æ‰€æœ‰å¯ä»¥ä¸‹è½½ç”»è´¨ä¸æ ¼å¼.åœ¨cmdä¸­è¾“å…¥: you-get -i https://www.youtube.com/watch?v=jNQXAC9IVRw å³å¯è¿”å›å¯¹åº”çš„è§†é¢‘å¯ä¸‹è½½çš„æ ¼å¼ï¼Œç”»è´¨ï¼Œå¤§å°ç­‰ä¿¡æ¯ã€‚ site: YouTube title: Me at the zoo streams: # Available quality and codecs [ DEFAULT ] _________________________________ - itag: 43 container: webm quality: medium size: 0.5 MiB (564215 bytes) # download-with: you-get --itag=43 [URL] - itag: 18 container: mp4 quality: medium # download-with: you-get --itag=18 [URL] - itag: 5 container: flv quality: small # download-with: you-get --itag=5 [URL] - itag: 36 container: 3gp quality: small # download-with: you-get --itag=36 [URL] - itag: 17 container: 3gp quality: small # download-with: you-get --itag=17 [URL] éœ€è¦æ³¨æ„ä¸€ç‚¹,ä¸Šè¿°ä¾‹å­you_getçš„åŸºæœ¬å‘½ä»¤æ˜¯åœ¨cmdä¸­è¾“å…¥çš„å‘½ä»¤è¡Œ,å¦‚æœæˆ‘ä»¬ä½¿ç”¨IDEæ—¶éœ€è¦ä½¿ç”¨os.system()æ–¹æ³•æ¥æ‰§è¡Œcmdå‘½ä»¤ import os os.system(you-get -i https://www.youtube.com/watch?v=jNQXAC9IVRw) åœ¨ä¸‹é¢çš„æ–‡ç« ä¸­æˆ‘ä»¬ç»™å‡ºçš„éƒ½æ˜¯åœ¨åœ¨cmdä¸­è¾“å…¥çš„å‘½ä»¤è¡Œï¼Œå¦‚æœéœ€è¦åœ¨IDEä¸­ä½¿ç”¨è¯·å¯¹åº”ä¿®æ”¹ä»£ç ã€‚ ä¸‹è½½è§†é¢‘ç›´æ¥ä¸‹è½½åœ¨ä¸Šè¿°è¿”å›çš„è§†é¢‘ä¿¡æ¯ä¸­ï¼Œæ ‡æœ‰[ DEFAULT ] ________ä¸ºé»˜è®¤çš„ä¸‹è½½æ–‡ä»¶ï¼Œå³è§†é¢‘ç±»å‹ä¸ºwebmï¼Œç”»è´¨ä¸ºä¸­ç­‰çš„é‚£ä¸€ä¸ªã€‚å¦‚æœéœ€è¦ä¸‹è½½è¿™ä¸ªè§†é¢‘å¯ä»¥ç›´æ¥ä½¿ç”¨you-get+ç½‘å€å³å¯: you-get https://www.youtube.com/watch?v=jNQXAC9IVRw #è¿”å›ä¸‹è½½ä¿¡æ¯å¦‚ä¸‹ï¼š site: YouTube title: Me at the zoo stream: - itag: 43 container: webm quality: medium size: 0.5 MiB (564215 bytes) # download-with: you-get --itag=43 [URL] Downloading zoo.webm ... 100.0% ( 0.5/0.5 MB) â”œâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”¤[1/1] 7 MB/s Saving Me at the zoo.en.srt ...Done. é€‰æ‹©ä¸‹è½½å¦‚æœéœ€è¦ä¸‹è½½å…¶ä»–æ ¼å¼æˆ–ç”»è´¨çš„è§†é¢‘ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®è§†é¢‘ä¿¡æ¯åˆ—è¡¨ä¸­çš„itagè¿›è¡Œé€‰æ‹©ï¼Œä½¿ç”¨you-get --itag= +[URL]è¿›è¡Œä¸‹è½½ã€‚ä¾‹å¦‚æˆ‘éœ€è¦ä¸‹è½½MP4æ ¼å¼çš„è§†é¢‘ï¼Œä¸Šé¢åˆ©ç”¨-iå‚æ•°è¿”å›çš„ä¿¡æ¯åˆ—è¡¨ä¸­å¯¹åº”çš„itagæ˜¯18ï¼Œå¯¹åº”ä¸‹è½½è¯­å¥ä¸ºï¼š you-get --itag=18 &#39;https://www.youtube.com/watch?v=jNQXAC9IVRw&#39; -oå‚æ•°ï¼šæŒ‡å®šä¸‹è½½æ–‡ä»¶åæˆ–è·¯å¾„ä½¿ç”¨â€”output-dir/-o è®¾å®šè·¯å¾„, â€”output-filename/-O è®¾å®šè¾“å‡ºæ–‡ä»¶å: you-get -o ~/Videos -O zoo.webm &#39;https://www.youtube.com/watch?v=jNQXAC9IVRw&#39; ä¸‹è½½å…¶ä»–å†…å®¹å¦‚ä½ æœ‰URLï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨: you-get https://stallman.org/rms.jpg ------------------------------------------ Site: stallman.org Title: rms Type: JPEG Image (image/jpeg) Size: 0.06 MiB (66482 Bytes) Downloading rms.jpg ... 100.0% ( 0.1/0.1 MB) â”œâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”¤[1/1] 127 kB/s æˆ–è€…, you-getå°†è‡ªåŠ¨æ£€æŸ¥ç½‘é¡µï¼Œä¸‹è½½ä¸€åˆ‡æœ‰å¯èƒ½æ„Ÿå…´è¶£çš„å†…å®¹: you-get http://kopasas.tumblr.com/post/69361932517 --------------------------------------- Site: Tumblr.com Title: kopasas Type: Unknown type (None) Size: 0.51 MiB (536583 Bytes) Site: Tumblr.com Title: tumblr_mxhg13jx4n1sftq6do1_1280 Type: Portable Network Graphics (image/png) Size: 0.51 MiB (536583 Bytes) Downloading tumblr_mxhg13jx4n1sftq6do1_1280.png ... 100.0% ( 0.5/0.5 MB) â”œâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”¤[1/1] 22 MB/s æ‰¹é‡ä¸‹è½½æœ‰äº›ç½‘ç«™ä¸­ä¸€ä¸ªé¡µé¢å¾€å¾€ä¼šæœ‰å¤šä¸ªè§†é¢‘ï¼ˆä¾‹å¦‚å“”å“©å“”å“©çš„åˆ†Pï¼‰ï¼Œè¿™ä¸ªæ—¶å€™åªéœ€è¦ä½¿ç”¨â€”playlistå‚æ•°å³å¯å…¨éƒ¨ä¸‹è½½ï¼Œè¯­æ³•ä¸ºï¼šyou-get --playlist è§†é¢‘ç½‘å€ -u å‚æ•°ï¼šè§£æè§†é¢‘çœŸå®çš„åœ°å€(url)ä½¿ç”¨ â€”url/-u è·å¾—é¡µé¢å¯ä¸‹è½½å†…å®¹çš„URLï¼Œå¤åˆ¶æ­¤URLæˆ‘ä»¬å¯ä»¥ç›´æ¥åˆ°è¿…é›·ï¼ŒIDMä¸­ä¸‹è½½ you-get -u https://www.youtube.com/watch?v=jNQXAC9IVRw -på‚æ•°ï¼šåœ¨çº¿æ’­æ”¾è§†é¢‘å¦‚æœæˆ‘ä»¬æƒ³è¦åœ¨æœ¬åœ°çš„è§†é¢‘è½¯ä»¶ä¸­åœ¨çº¿æ’­æ”¾ç½‘é¡µä¸­çš„è§†é¢‘åˆ™åªéœ€åœ¨ç”µè„‘ä¸Šçš„æœ¬åœ°è§†é¢‘æ’­æ”¾å™¨æ ¹ç›®å½•ä¸‹æ‰“å¼€Cmdçª—å£ï¼Œç„¶åè¾“å…¥å‘½ä»¤ï¼ŒæŒ‡å®šè§†é¢‘æ’­æ”¾å™¨æ’­æ”¾ç½‘é¡µè§†é¢‘å³å¯ #ä½¿ç”¨Potplayeræ’­æ”¾å™¨ï¼Œå¯¹åº”æ‰“å¼€ç¨‹åºä¸ºPotplayer.exe $ you-get -p Potplayer.exe &#39;https://www.youtube.com/watch?v=jNQXAC9IVRw&#39; æˆ–è€…ä½ æƒ³åœ¨æµè§ˆå™¨ä¸­è§‚çœ‹è€Œä¸å¸Œæœ›çœ‹å¹¿å‘Šæˆ–è¯„è®ºåŒº: you-get -p chromium &#39;https://www.youtube.com/watch?v=jNQXAC9IVRw&#39; -xå‚æ•°ï¼šä»£ç†è®¾ç½®ä½¿ç”¨ â€”http-proxy/-xä¸ºyou-getè®¾ç½®HTTPä»£ç†: you-get -x 127.0.0.1:8087 &#39;https://www.youtube.com/watch?v=jNQXAC9IVRw&#39; you-getä»£ç ç”¨æ³•å’Œä¼—å¤šå…¶ä»–å‘½ä»¤è¡Œå·¥å…·ä¸€æ ·ï¼Œyou-getåŒæ ·æ”¯æŒåœ¨ä»£ç ä¸­ç›´æ¥ä½¿ç”¨ from you_get.extractors import * download_urls([url], title, &#39;mp4&#39;, 0, &#39;./videos&#39;) CMDä¹±ç é—®é¢˜çš„è§£å†³æ–¹æ³•CMDçª—å£ä¸‹è¾“å…¥ï¼šchcp 65001ä¿®æ”¹å­—ç¬¦é›†ä¸ºUTF-8ï¼Œé»˜è®¤çš„ä¸­æ–‡ç¼–ç æ˜¯GBKCMDçª—å£ä¸Šæ–¹æ ‡é¢˜æ ï¼Œå±æ€§â€”å­—ä½“ä¸­ï¼Œä¿®æ”¹ä¸ºTrueType â€˜Lucida Consoleâ€™","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"Pythonåº“","slug":"Pythonåº“","permalink":"http://smilecoc.vip/tags/Pythonåº“/"}],"author":"smilecoc"},{"title":"Windows 10æ–‡ä»¶å¤¹ä¸­çš„ä¸€äº›é«˜çº§æœç´¢æŠ€å·§","slug":"win10_file_search_tips","date":"2021-09-03T10:23:46.000Z","updated":"2021-09-05T15:25:29.270Z","comments":true,"path":"2021/09/03/win10_file_search_tips/","link":"","permalink":"http://smilecoc.vip/2021/09/03/win10_file_search_tips/","excerpt":"","text":"æœç´¢æ–‡ä»¶ä¸­çš„å†…å®¹é»˜è®¤çš„win10æœç´¢æ˜¯åªé’ˆå¯¹æ–‡ä»¶åæœç´¢çš„ï¼Œä½†æœ‰çš„æ—¶å€™æˆ‘ä»¬éœ€è¦æœç´¢æ–‡ä»¶ä¸­åŒ…å«ç‰¹å®šå†…å®¹çš„æ–‡ä»¶ï¼Œè¿™æ—¶å€™éœ€è¦è®¾ç½®ä¸€ä¸‹æœç´¢çš„é€‰é¡¹æ‰“å¼€æœç´¢æ–‡ä»¶åå’Œå†…å®¹é€‰é¡¹ï¼š æ‰“å¼€æ–‡ä»¶å¤¹â€”æŸ¥çœ‹ é€‰æ‹©é€‰é¡¹ æ‰“å¼€æ–‡ä»¶å¤¹ä¸­çš„æœç´¢é€‰é¡¹ å‹¾é€‰å§‹ç»ˆæœç´¢æ–‡ä»¶åå’Œå†…å®¹ ç”±äºæœç´¢å†…å®¹æ¯”è¾ƒè€—æ—¶ï¼Œæ‰€æœ‰åœ¨æ–‡ä»¶è¾ƒå¤šæˆ–è€…ä¸éœ€è¦æœç´¢å†…å®¹æ˜¯è®°å¾—å…³é—­è¯¥é€‰é¡¹ Advanced Query Syntaxè¯­å¥æœç´¢é€šé…ç¬¦æœç´¢Windowsæœç´¢å·¥å…·æ”¯æŒåŒ¹é…æœç´¢ï¼Œå³æ”¯æŒä½¿ç”¨*ï¼ˆä»£è¡¨ä»»æ„å¤šä¸ªå­—æ¯æˆ–æ±‰å­—ï¼‰å’Œ?ï¼ˆä»£è¡¨ä¸€ä¸ªæ±‰å­—æˆ–å­—ç¬¦ï¼‰ ä¾‹å¦‚ï¼šè¾“å…¥*.txtå°†åˆ—å‡ºæŒ‡å®šç›®å½•ä¸‹æ‰€æœ‰æ–‡æœ¬æ–‡ä»¶ ç²¾ç¡®æœç´¢Win10ä¼šé»˜è®¤è¿”å›æ¨¡ç³ŠåŒ¹é…çš„ç»“æœã€‚ä¾‹å¦‚æˆ‘è¦æœç´¢æµ‹è¯•.txtè¿™ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯è¿”å›çš„ç»“æœä¸ºï¼šè¿™æ—¶å¯ä»¥é€šè¿‡æœç´¢filename:æµ‹è¯•.txtå¾—åˆ°ç²¾ç¡®çš„æœç´¢ç»“æœ åŒç†è¿˜æœ‰å…¶ä»–çš„æœç´¢è¯­å¥ï¼š Kind:&lt;&gt;picture #æŸ¥æ‰¾é™¤å›¾ç‰‡ç±»å‹å¤–çš„æ–‡ä»¶ DateModified:2021/07/03 #æŸ¥æ‰¾ä¿®æ”¹æ—¶é—´åœ¨2021/07/03çš„æ–‡ä»¶ Author:&quot;Admin&quot; #æŸ¥æ‰¾ä½œè€…ä¸ºAdminçš„æ–‡ä»¶ Size:&lt;1mb #æŸ¥æ‰¾æ–‡ä»¶å¤§å°å°äº1Mbçš„æ–‡ä»¶ ç»„åˆä½¿ç”¨AQSè¯­å¥æœç´¢åŒæ ·ä¸Šè¿°è§„åˆ™è¿˜å¯ä»¥ç»„åˆä½¿ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é€»è¾‘è¿ç®—è¡¨è¾¾å¼. AND OR å’ŒNOT(å¤§å†™)æ¥å®ç°ä¸åŒçš„ç»„åˆï¼š #é€‰æ‹©æ–‡ä»¶ä¿®æ”¹æ—¶é—´åœ¨2021/08/01åˆ°2021/08/30çš„æ–‡ä»¶ DateModified:&gt;=2021/08/01 AND DateModified:&lt;=2021/08/30 date:&gt;=2021/08/0&lt;=2021/08/30 #æŸ¥æ‰¾æ–‡ä»¶åä¸­åŒ…å«teståŒæ—¶å¤§å°å°äº110Mçš„çš„pdfæ–‡ä»¶ *test*.pdf AND System.Size: &lt; 10mb #æŸ¥æ‰¾æ–‡ä»¶åä¸­ä¸åŒ…å«testçš„pdfæ–‡ä»¶ NOT test AND *.pdf #ä¿®æ”¹æ—¶é—´åœ¨2021/7/3æˆ–è€…ç±»å‹ä¸ºå›¾ç‰‡çš„æ–‡ä»¶ DateModified:2021/07/03 OR Kind:picture Advanced Query Syntaxè¯­å¥çš„æ›´å¤šä½¿ç”¨æ–¹æ³•å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://smilecoc.vip/categories/ç¬”è®°/"}],"tags":[{"name":"å®ç”¨æŠ€å·§","slug":"å®ç”¨æŠ€å·§","permalink":"http://smilecoc.vip/tags/å®ç”¨æŠ€å·§/"}],"author":"smilecoc"},{"title":"Rè¯­è¨€åŒ…å­¦ä¹ ä¹‹tidyråŒ…ï¼šæ•°æ®ç»“æ„é‡æ„","slug":"R_tidyr","date":"2021-09-03T05:52:38.000Z","updated":"2021-09-06T15:04:46.408Z","comments":true,"path":"2021/09/03/R_tidyr/","link":"","permalink":"http://smilecoc.vip/2021/09/03/R_tidyr/","excerpt":"","text":"tidyråŒ…tidyråŒ…ä¸»è¦æ¶‰åŠçš„åŠŸèƒ½å’Œå‡½æ•°æœ‰ï¼š1)ç¼ºå¤±å€¼çš„ç®€å•è¡¥é½2)é•¿è¡¨å˜å®½è¡¨ä¸å®½è¡¨å˜é•¿è¡¨ gather-æŠŠå®½åº¦è¾ƒå¤§çš„æ•°æ®è½¬æ¢æˆä¸€ä¸ªæ›´é•¿çš„å½¢å¼ï¼Œå³å®½è¡¨å˜é•¿è¡¨ spread-æŠŠé•¿çš„æ•°æ®è½¬æ¢æˆä¸€ä¸ªæ›´å®½çš„å½¢å¼ï¼Œå³é•¿è¡¨å˜å®½è¡¨3)åˆ—åˆ†å‰²ä¸åˆ—åˆå¹¶ separateï¼å°†ä¸€åˆ—æŒ‰åˆ†éš”ç¬¦åˆ†å‰²ä¸ºå¤šåˆ— uniteï¼å°†å¤šåˆ—æŒ‰æŒ‡å®šåˆ†éš”ç¬¦åˆå¹¶ä¸ºä¸€åˆ— tidyråŒ…æœ€ä¸»è¦çš„åŠŸèƒ½å°±æ˜¯é•¿è¡¨å’Œå®½è¡¨ä¹‹é—´çš„è½¬åŒ–ï¼Œç±»ä¼¼äºExcelä¸­çš„æ•°æ®é€è§†è¡¨ï¼Œå› æ­¤ä¹Ÿæœ‰äººå°†é•¿è¡¨å’Œå®½è¡¨ä¹‹é—´çš„è½¬åŒ–ç§°ä¸ºé€è§†å’Œé€†é€è§†ã€‚å…¶è½¬åŒ–è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è¿™ä¸ªæ—¶å€™æœ‰äººå¯èƒ½ä¼šé—®ï¼šå¥½å¥½çš„ä¸ºä»€ä¹ˆè¦åšé•¿è¡¨å’Œå®½è¡¨ä¹‹é—´çš„è½¬åŒ–å‘¢ï¼Ÿè¯•æƒ³ä¸€ä¸‹ä¸Šå›¾ä¸­å®½è¡¨çš„è“è‰²éƒ¨åˆ†è¡¨å¤´ä¸ºå¯¹åº”æ—¶é—´æ®µï¼šè€Œå¦‚æœæˆ‘ä»¬éœ€è¦ä¸€ç›´ä½¿ç”¨è¿™ä¸ªæ•°æ®é›†ï¼Œé‚£ä¹ˆéšç€æ—¶é—´çš„æ¨ç§»å…¶è¡¨å¤´ä¹Ÿä¼šéšä¹‹å˜åŒ–ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦ä¿®æ”¹å¯¹åº”çš„ä»£ç ï¼Œéå¸¸çš„éº»çƒ¦ã€‚è€Œæ”¹æˆå¯¹åº”çš„é•¿è¡¨åæˆ‘ä»¬åªéœ€è¦å¯¹é•¿è¡¨é€è§†ä¸€ä¸‹å³å¯å¾—åˆ°å®½è¡¨çš„æ•°æ®ï¼Œå¯¹åº”ä»£ç ä¸éœ€è¦å˜åŒ–ï¼Œæ˜¯ä¸æ˜¯æ–¹ä¾¿å¾ˆå¤šï¼Ÿ å®‰è£…å¹¶å¯¼å…¥tidyråŒ…install.packages(&quot;tidyr&quot;) library(tidyr) ç¼ºå¤±å€¼çš„ç®€å•è¡¥é½replace_na()å‡½æ•°replace_naå‡½æ•°è¯­æ³•å¯ä»¥æ›¿æ¢æ•°æ®ä¸­çš„ç¼ºå¤±å€¼ã€‚ #åˆ›å»ºä¸€ä¸ªå¸¦ç¼ºå¤±å€¼çš„æ•°æ®é›† df &lt;- data.frame(x = c(1,2,7,NA,NA,10,22,NA,15), y = c(&#39;a&#39;,NA,&#39;b&#39;,NA,&#39;b&#39;,&#39;a&#39;,&#39;a&#39;,&#39;b&#39;,&#39;a&#39;)) #è®¡ç®—xçš„å‡å€¼å’Œyåˆ—çš„ä¼—æ•°ï¼Œå¹¶ä½¿ç”¨è¿™ä¸¤ä¸ªå€¼æ›¿æ¢ç¼ºå¤±å€¼ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥é€‰æ‹©æœ€å¤§å€¼ï¼Œä¸­ä½æ•°ç­‰ç­‰å¡«å……ç¼ºå¤±å€¼ï¼Œè§†æƒ…å†µè€Œå®šï¼‰ x_mean &lt;- mean(df$x, na.rm = TRUE) y_mode &lt;- as.character(df$y[which.max(table(df$y))]) #æ›¿æ¢ç¼ºå¤±å€¼ df2 &lt;- replace_na(data = df, replace = list(x = x_mean, y = y_mode)) è¡¥å……éƒ¨åˆ†ï¼š ç¼ºå¤±å€¼çš„è¯†åˆ«å¤„ç†ç¼ºå¤±å€¼çš„ä¸€èˆ¬æ­¥éª¤ä¸ºï¼šè¯†åˆ«ç¼ºå¤±å€¼â€”ç¼ºå¤±æ•°æ®çš„åŸå› â€”åˆ é™¤ç¼ºå¤±å€¼æˆ–ç”¨åˆç†çš„å€¼ä»£æ›¿ç¼ºå¤±å€¼ã€‚å¯¹ç¼ºå¤±å€¼è¯†åˆ«æ—¶å¯ä»¥ä½¿ç”¨is.na()ã€is.nan()ã€å’Œis.infinite()å‡½æ•°æ¥é‰´åˆ«æ•°æ®é›†ä¸­æ˜¯å¦å­˜åœ¨ç¼ºå¤±ï¼Œä½†æ˜¯è¿™äº›å‡½æ•°è¿”å›çš„æ˜¯æ‰€æœ‰å‘é‡æˆ–æ•°æ®æ¡†ä¸­æ¯ä¸€ä¸ªå…ƒç´ æ˜¯å¦ä¸ºç¼ºå¤±å€¼ï¼Œæ•°æ®é‡éå¸¸å¤§çš„è¯å°±ä¸å¤ªå¥½ç”¨ã€‚å¦å¤–ä¸€ç§æ–¹æ³•å°±æ˜¯ä½¿ç”¨miceåŒ…ä¸­çš„md.pattern()å‡½æ•°æ¥å‘ç°æ•°æ®é›†ä¸­ç¼ºå¤±å€¼çš„æ¨¡å¼ã€‚ä½†è¯¥æ–¹æ³•åªèƒ½è¯†åˆ«Rä¸­çš„NAå’ŒNaNä¸ºç¼ºå¤±å€¼ï¼Œè€Œä¸èƒ½å°†-Infå’ŒInfè§†ä¸ºç¼ºå¤±å€¼ï¼Œå¤„ç†çš„åŠæ³•å¯ä»¥ç”¨NAæ›¿ä»£è¿™äº›å€¼ã€‚ &gt; library(mice) &gt; md.pattern(df) y x 5 1 1 0 2 1 0 1 1 0 1 1 1 0 0 2 2 3 5 å‡½æ•°è¿”å›äº†æ•°æ®é›†ä¸­ç¼ºå¤±å€¼çš„æƒ…å†µï¼Œå…¶ä¸­xå’Œyåˆ—ä¸‹çš„æ•°å­—è¡¨ç¤ºåˆ—ä¸­æ˜¯å¦å­˜åœ¨ç¼ºå¤±å€¼ï¼Œ0è¡¨ç¤ºåˆ—ä¸­å­˜åœ¨ç¼ºå¤±å€¼ï¼Œ1è¡¨ç¤ºåˆ—ä¸­ä¸å­˜åœ¨ç¼ºå¤±å€¼ã€‚å¯¹åº”ç¬¬ä¸€åˆ—çš„æ•°å­—è¡¨ç¤ºå¯¹åº”åé¢ç¼ºå¤±æƒ…å†µçš„æ•°é‡ï¼Œæœ€åä¸€åˆ—è¡¨ç¤ºæœ‰ç¼ºå¤±å€¼çš„å˜é‡ä¸ªæ•°ã€‚æœ€åä¸€è¡Œæ˜¯æ¯ä¸ªå˜é‡ç¼ºå¤±å€¼çš„ä¸ªæ•°ã€‚é‚£æˆ‘ä»¬ä¸Šè¿°çš„ç»“æœæ¥è¯´ï¼Œç¬¬ä¸€è¡Œä¸­x,yåˆ—å¯¹åº”çš„å€¼éƒ½æ˜¯1,è¡¨ç¤ºè¿™æ˜¯x,yåˆ—éƒ½æ²¡æœ‰ç¼ºå¤±å€¼çš„æƒ…å†µï¼Œæ•´ä¸ªæ•°æ®é›†ä¸­æœ‰5è¡Œæ•°æ®éƒ½æ²¡æœ‰ç¼ºå¤±å€¼ï¼Œå¯¹åº”ç¬¬ä¸€åˆ—æ•°æ®ä¸º5.åŒæ—¶ç”±äºx,yéƒ½æ²¡æœ‰ç¼ºå¤±å€¼ï¼Œæ‰€ä»¥æœ‰ç¼ºå¤±å€¼çš„å˜é‡ä¸ªæ•°ä¸º0.ä¹‹åå‡ è¡Œä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œç„¶ååˆ°æœ€åä¸€è¡Œï¼Œyåˆ—çš„2è¡¨ç¤ºå¯¹äºyè¿™ä¸€ä¸ªå˜é‡æ€»å…±æœ‰2ä¸ªNaå€¼ï¼ŒXæ€»å…±æœ‰3ä¸ªNAå€¼ï¼Œæœ€åä¸€åˆ—è¡¨ç¤ºæ•´ä¸ªæ•°æ®é›†ä¸­æ€»å…±æœ‰5ä¸ªç¼ºå¤±å€¼ã€‚ åŒæ—¶æˆ‘ä»¬ä¹Ÿå¯é€šè¿‡VIMåŒ…ä¸­çš„aggr()å‡½æ•°å¯è§†åŒ–æ•°æ®ç¼ºå¤±æƒ…å†µï¼š library(VIM) aggr(df, prop = FALSE, numbers = TRUE) é•¿å®½è¡¨çš„ç›¸äº’è½¬æ¢gather()å‡½æ•°gather()å‡½æ•°æ˜¯å°†å®½æ•°æ®è½¬æ¢ä¸ºé•¿æ•°æ®ï¼Œå‡½æ•°è¯­æ³•å’Œå‚æ•°å¦‚ä¸‹ï¼š &gt; gather(data=,key=,value=,...,na.rm=,convert=,factor_key=) # keyï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„åˆ—åï¼Œè¿™ä¸€åˆ—çš„å€¼æ˜¯è½¬åŒ–å‰æ•°æ®çš„åˆ—å # valueï¼šå†åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ—åï¼ŒåŸæ•°æ®çš„æ‰€æœ‰æ—§åˆ—åçš„å¯¹åº”å€¼æˆä¸ºæ–°åˆ—åçš„å€¼ # ...ï¼šæŒ‰ç…§å®é™…éœ€è¦è‡ªè¡ŒæŒ‡å®šéœ€è¦è½¬æ¢çš„åˆ— # na.rmï¼šé€»è¾‘å€¼ï¼Œæ˜¯å¦åˆ é™¤ç¼ºå¤±å€¼ # convertï¼šé€»è¾‘å€¼ï¼Œåœ¨keyåˆ—æ˜¯å¦è¿›è¡Œæ•°æ®ç±»å‹è½¬æ¢ # factor_key:é€»è¾‘å€¼ï¼Œè‹¥æ˜¯Fï¼Œåˆ™keyè‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œåä¹‹åˆ™æ˜¯å› å­ï¼ˆåŸå§‹leveræ°´å¹³ä¿æŒä¸å˜ï¼‰ ä½¿ç”¨å®ä¾‹ï¼š #æµ‹è¯•æ•°æ®æˆ‘ä»¬é€‰ç”¨Rå†…ç½®çš„Irisæ•°æ®é›† head(iris,3) #å°†irisä¸­çš„æ‰€æœ‰åˆ—è½¬åŒ–ä¸ºé•¿è¡¨ï¼ˆå¦‚æœæ•°æ®ç±»å‹ä¸ä¸€è‡´çš„è¯å¯èƒ½ä¼šè‡ªåŠ¨åˆ é™¤ä¸€äº›åˆ—ï¼‰ gather(iris,key=var1,value = var2,na.rm = F) #å°†irisä¸­çš„Petal.Lengthå’ŒPetal.Widthåˆ—è½¬åŒ–ä¸ºé•¿è¡¨ gather(iris,key=var1,value = var2,Petal.Length,Petal.Width,na.rm = F) #å°†irisä¸­çš„ç¬¬ä¸€åˆ—åˆ°ç¬¬å››åˆ—è½¬åŒ–ä¸ºé•¿è¡¨ gather(iris,key=var1,value = var2,1:4,na.rm = F) spread()å‡½æ•°spread()å‡½æ•°å°†é•¿æ•°æ®è½¬ä¸ºå®½æ•°æ®ï¼Œå³å°†åˆ—å±•å¼€ä¸ºè¡Œï¼Œè¯­æ³•å¦‚ä¸‹ï¼š spread(data, key, value, fill = NA, convert = FALSE, drop = TRUE) dataï¼šä¸ºéœ€è¦è½¬æ¢çš„é•¿å½¢è¡¨ keyï¼šéœ€è¦å°†å˜é‡å€¼æ‹“å±•ä¸ºå­—æ®µçš„å˜é‡ valueï¼šéœ€è¦åˆ†æ•£çš„å€¼ fillï¼šå¯¹äºç¼ºå¤±å€¼ï¼Œå¯å¯¹fillèµ‹å€¼æ›¿æ¢ç¼ºå¤±å€¼ convertï¼šç”¨äºè½¬åŒ–æ•°æ®ç±»å‹ ä½¿ç”¨å®ä¾‹ï¼š åˆ›å»ºä¸€ä¸ªæµ‹è¯•çš„æ•°æ®é›† df = data.frame(name=c(&quot;A&quot;,&quot;A&quot;,&quot;B&quot;,&quot;B&quot;), group=c(&quot;g1&quot;,&quot;g2&quot;,&quot;g1&quot;,&quot;g2&quot;), V1=c(10,40,20,30), V2=c(6,3,1,7)) #æ ¹æ®å¯¹åº”çš„V1ï¼Œv2åˆ—è½¬åŒ–ä¸ºå®½è¡¨ gather(df, Var1, Val2, V1:V2) åˆ—åˆ†å‰²ä¸åˆ—åˆå¹¶unite()å‡½æ•°unite()å‡½æ•°æ˜¯å°†æ•°æ®æ¡†ä¸­å¤šåˆ—åˆå¹¶ä¸ºä¸€åˆ—ï¼Œè°ƒç”¨å…¬å¼å¦‚ä¸‹ï¼š &gt; unite(data, col, ..., sep = &quot;_&quot;, remove = TRUE, na.rm = FALSE) #data:ä½¿ç”¨çš„æ•°æ®é›† # col:æŒ‡å®šç»„åˆä¸ºæ–°åˆ—çš„åå­— # ...:æŒ‡å®šæ•°æ®ä¸­å“ªäº›åˆ—ç»„åˆåœ¨ä¸€èµ·ï¼Œæ”¯æŒtidy selectioné€‰æ‹© # sepï¼šç»„åˆåæ–°åˆ—ä¸­æ•°æ®ä¹‹é—´çš„åˆ†éš”ç¬¦ # remove:é€»è¾‘å€¼ï¼Œæ˜¯å¦ä¿ç•™å‚ä¸ç»„åˆçš„åˆ— #na.rm:æ˜¯å¦åˆ é™¤ç©ºç™½ ä½¿ç”¨å®ä¾‹ï¼š #å°†dfæ•°æ®é›†ä¸­çš„nameå’Œgroupè¿åœ¨ä¸€èµ· unite(df,add_col,name,group) unite(df,add_col,1:2) unite(df,add_col,c(name,group)) #å°†æ‰€æœ‰ä»¥Vå¼€å¤´çš„åˆ—åˆå¹¶ unite(df,add_col,starts_with(&quot;V&quot;)) #ä»¥_ä¸ºåˆ†éš”ç¬¦åˆå¹¶å‰ä¸¤åˆ—ï¼Œå¹¶ä»¥ï¼šåˆå¹¶åä¸¤åˆ— df %&gt;% unite(add_col,c(name,group),sep=&#39;_&#39;) %&gt;% unite(all_unite,c(add_col,V1,V2),sep=&#39;:&#39;) separate()å‡½æ•°separate()å‡½æ•°çš„ä½œç”¨æ­£å¥½å’Œunite()å‡½æ•°ç›¸åï¼Œå³å°†æ•°æ®æ¡†ä¸­çš„æŸåˆ—æŒ‰ç…§åˆ†éš”ç¬¦æ‹†åˆ†ä¸ºå¤šåˆ—ï¼Œå…¶è¯­æ³•å¦‚ä¸‹ï¼š &gt; separate(data,col,into,sep,remove = TRUE,extra = &quot;warn&quot;,fill = &quot;warn&quot;,...) # data:ä½¿ç”¨çš„æ•°æ®é›† # colï¼šå¾…æ‹†åˆ†åˆ— # into:å®šä¹‰æ‹†åˆ†åæ–°çš„åˆ—å # sep:åˆ†éš”ç¬¦ # remove:é€»è¾‘å€¼ï¼Œå¦‚æœä¸ºTrueçš„è¯åˆ é™¤æ‹†åˆ†åçš„åˆ— #æ„å»ºä¸€ä¸ªæµ‹è¯•çš„æ•°æ®é›† test = data.frame(name=c(&quot;Tom_MR&quot;,&quot;Carter_Tomp&quot;,&quot;Sandy_Yu&quot;,&quot;Bob_Smith&quot;), group=c(&quot;g1&quot;,&quot;g2&quot;,&quot;g1&quot;,&quot;g2&quot;), V1=c(10,40,20,30), V2=c(6,3,1,7)) #ä¿ç•™åŸå§‹æ•°æ®ä¸­æ‹†åˆ†å‰çš„åˆ— separate(test,name,c(&quot;frist_name&quot;,&quot;last_name&quot;),sep=&quot;_&quot;,remove = FALSE) #ä¸ä¿ç•™åŸå§‹æ•°æ®ä¸­æ‹†åˆ†å‰çš„åˆ— separate(test,name,c(&quot;frist_name&quot;,&quot;last_name&quot;),sep=&quot;_&quot;) tidyråŒ…åœ¨Rè¯­è¨€ä¸­ä¹Ÿç»å¸¸å’ŒdplyråŒ…ä¸€èµ·ä½¿ç”¨è¿›è¡Œæ•°æ®æ¸…æ´—ï¼ŒdplyråŒ…çš„ä½¿ç”¨å¯ä»¥æŸ¥çœ‹ï¼šhttp://smilecoc.vip/2021/08/23/R_dplyr/ å‚è€ƒæ–‡ç« ï¼šhttps://rpubs.com/bradleyboehmke/data_wranglinghttps://zhuanlan.zhihu.com/p/22265154https://www.cnblogs.com/nxld/p/6060533.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"RåŒ…","slug":"RåŒ…","permalink":"http://smilecoc.vip/tags/RåŒ…/"}],"author":"smilecoc"},{"title":"Rè¯­è¨€åŒ…å­¦ä¹ ä¹‹dplyråŒ…ï¼šæ•°æ®å¤„ç†","slug":"R_dplyr","date":"2021-08-23T06:36:36.000Z","updated":"2021-09-06T15:08:43.335Z","comments":true,"path":"2021/08/23/R_dplyr/","link":"","permalink":"http://smilecoc.vip/2021/08/23/R_dplyr/","excerpt":"","text":"dplyrç®€ä»‹dplyræ˜¯Rè¯­è¨€çš„æ•°æ®åˆ†æåŒ…ï¼Œç±»ä¼¼äºpythonä¸­çš„pandasï¼Œèƒ½å¯¹dataframeç±»å‹çš„æ•°æ®åšå¾ˆæ–¹ä¾¿çš„æ•°æ®å¤„ç†å’Œåˆ†ææ“ä½œã€‚ å®‰è£…å¹¶å¯¼å…¥dplyråŒ…install.packages(&quot;dplyr&quot;) library(dplyr) å‡†å¤‡æµ‹è¯•æ•°æ®æˆ‘ä»¬ä½¿ç”¨dplyråŒ…ä¸­å†…ç½®çš„starwarsæ•°æ®é›†ä½œä¸ºæµ‹è¯•æ•°æ® starwars #æŸ¥çœ‹starwarsæ•°æ®é›†ä¸­çš„æ•°æ® class(starwars) # æŸ¥çœ‹æ•°æ®ç±»å‹ colnames(starwars) #æŸ¥çœ‹æ•°æ®çš„å­—æ®µ dim(starwars) # æŸ¥çœ‹dataframeçš„å¤§å° å¦‚æœä½ æ˜¯ä»å¤–éƒ¨è¯»å…¥æ•°æ®æˆ–è‡ªå·±æ„é€ çš„æ•°æ®ï¼Œé‚£ä¹ˆåœ¨dplyråŒ…ä¸­å†…å¯ä»¥é¦–å…ˆå°†çš„æ•°æ®æ•´ç†æˆæ›´å‹å¥½çš„tbl_dfæ•°æ®ï¼š #å…ˆæŸ¥çœ‹æ•°æ®ç±»å‹ data &lt;- data.frame(person=c(&#39;Alex&#39;,&#39;Bob&#39;,&#39;Cathy&#39;),grade=c(2,3,4),score=c(78,89,88)) class(data) #è½¬æ¢ä¸ºtbl_dfç±»å‹ ds &lt;- tbl_df(data) #è½¬æ¢ä¸ºdata.frameç±»å‹ df &lt;- as.data.frame(ds) ç®¡é“ç¬¦ %&gt;%åœ¨dplyrä¸­æœ‰ä¸€ä¸ªæ¯”è¾ƒæœ‰ç‰¹è‰²çš„ç®¡é“ç¬¦ %&gt;% æœ‰å¿…è¦å…ˆè¯´æ˜ä¸€ä¸‹ï¼Œå…¶ä½œç”¨æ˜¯å°†å‰ä¸€æ­¥çš„ç»“æœç›´æ¥ä¼ å‚ç»™ä¸‹ä¸€æ­¥çš„å‡½æ•°ï¼Œä»è€Œçœç•¥äº†ä¸­é—´çš„èµ‹å€¼æ­¥éª¤ï¼Œå¯ä»¥å¤§é‡å‡å°‘å†…å­˜ä¸­çš„å¯¹è±¡ï¼ŒèŠ‚çœå†…å­˜ã€‚è¯¥ç¬¦å·å°†å·¦è¾¹çš„å¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’åˆ°å³è¾¹çš„å‡½æ•°ä¸­.ä¸¾ä¸ªä¾‹å­æ¥è¯´,åœ¨ä¸Šé¢æŸ¥çœ‹æ•°æ®é›†çš„å­—æ®µä¸­æˆ‘ä»¬ä½¿ç”¨è¯­å¥colnames(starwars),ç”¨ç®¡é“ç¬¦%&gt;%æ¥å†™çš„è¯å°±æ˜¯starwars %&gt;% colnames() #ç®¡é“å‡½æ•° #é»˜è®¤æ˜¯ä¼ é€’è‡³åé¢å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•° df %&gt;% head(2) a b 1 1 a 2 2 b #å½“éœ€è¦ä¼ é€’è‡³åé¢å‡½æ•°çš„éç¬¬ä¸€ä¸ªå‚æ•°æ—¶ï¼Œä½¿ç”¨â€œ.â€ä»£æ›¿ &quot;a_b&quot; %&gt;% str_c(&quot;c_&quot;, ., sep = &quot;&quot;) [1] &quot;c_a_b&quot; dplyrå¸¸ç”¨å‡½æ•°æ’åˆ—Arrangearrange()æŒ‰ç»™å®šçš„åˆ—åä¾æ¬¡å¯¹è¡Œè¿›è¡Œæ’åºï¼Œè¯­æ³•ä¸ºarrange(.data, ...) arrange(starwars, height) #å‡åºæ’åˆ— arrange(starwars, -height) #é™åºæ’åˆ— arrange(starwars, desc(height)) #é™åºæ’åˆ—,ä½¿ç”¨desc()å‡½æ•° starwars %&gt;% arrange(-height) #ç®¡é“å‡½æ•°æ–¹æ³•ï¼šé™åºæ’åˆ— é€‰æ‹©Selectselect()ç”¨åˆ—åä½œå‚æ•°æ¥é€‰æ‹©å­æ•°æ®é›†ã€‚dplyråŒ…ä¸­æä¾›äº†äº›ç‰¹æ®ŠåŠŸèƒ½çš„å‡½æ•°ä¸selectå‡½æ•°ç»“åˆä½¿ç”¨ï¼Œ ç”¨äºç­›é€‰å˜é‡ï¼ŒåŒ…æ‹¬starts_withï¼Œends_withï¼Œcontainsï¼Œmatchesï¼Œone_ofï¼Œnum_rangeå’Œeverythingç­‰ã€‚è¯­æ³• ä¸ºselect(.data, ...) #é€‰å–å¤šåˆ— select(starwars, name,height,mass,hair_color) #é€‰å–å¤šåˆ—å¹¶æ”¹å˜é¡ºåº select(starwars, height,mass,name,hair_color) #é€‰å–åˆ—åä»¥så¼€å§‹çš„åˆ— select(starwars, starts_with(&quot;s&quot;)) #é€‰å–åˆ—ååç¼€åŒ…å«colorçš„åˆ— select(starwars, ends_with(&quot;color&quot;)) #é€‰å–åˆ—ååç¼€ä¸åŒ…å«colorçš„åˆ— select(starwars, -ends_with(&quot;color&quot;)) #é€‰å–åˆ—åä¸­åŒ…å«_çš„åˆ— select(starwars, contains(&quot;_&quot;)) #æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼Œè¿”å›å˜é‡åä¸­åŒ…å«tçš„åˆ— select(starwars, matches(&quot;.t.&quot;)) #ä½¿ç”¨å†’å·è¿æ¥åˆ—åï¼Œé€‰æ‹©å¤šä¸ªåˆ— select(starwars, name:hair_color) #é€‰æ‹©å­—ç¬¦å‘é‡ä¸­çš„åˆ—ï¼Œselectä¸­ä¸èƒ½ç›´æ¥ä½¿ç”¨å­—ç¬¦å‘é‡ç­›é€‰ï¼Œéœ€è¦ä½¿ç”¨one_ofå‡½æ•° vars &lt;- c(&quot;name&quot;, &quot;hair_color&quot;) select(starwars, one_of(vars)) #è¿”å›æŒ‡å®šå­—ç¬¦å‘é‡ä¹‹å¤–çš„åˆ— select(starwars, -one_of(vars)) #è¿”å›æ‰€æœ‰åˆ—ï¼Œä¸€èˆ¬è°ƒæ•´æ•°æ®é›†ä¸­å˜é‡é¡ºåºæ—¶ä½¿ç”¨,ä¾‹å¦‚æŠŠhair_coloråˆ—æ”¾åˆ°æœ€å‰é¢ select(starwars, hair_color, everything()) selectä¹Ÿå¯ä»¥ç”¨æ¥é‡å‘½å: #é‡å‘½ååˆ—hair_colorï¼Œè¿”å›å­æ•°æ®é›†åªåŒ…å«é‡å‘½åçš„åˆ— select(starwars, haircolor = hair_color) #é‡å‘½åæ‰€æœ‰ä»¥colorä¸ºåç¼€çš„åˆ—ï¼Œè¿”å›å­æ•°æ®é›†åªåŒ…å«é‡å‘½åçš„åˆ— select(starwars, color = ends_with(&quot;color&quot;)) #é‡å‘½ååˆ—hair_colorï¼Œè¿”å›å…¨éƒ¨åˆ—,ä½¿ç”¨renameå‡½æ•° rename(starwars,, haircolor = hair_color) ç­›é€‰Filterfilter()å‡½æ•°å¯ä»¥æŒ‰ç»™å®šçš„é€»è¾‘æ¡ä»¶ç­›é€‰å‡ºç¬¦åˆè¦æ±‚çš„å­æ•°æ®é›†.åŒæ—¶ä¹Ÿå¯ä»¥æ ¹æ®è¡Œå·ç­›é€‰æ•°æ®,è¯­æ³•ä¸ºè¯­æ³• filter(.data, ...) #ç­›é€‰å‡ºheightä¸º150çš„è¡Œ filter(starwars, height == 150) #ç­›é€‰å‡ºsexä¸ºfemaleçš„è¡Œ filter(starwars, sex == &#39;female&#39;) #ç­›é€‰å‡ºskin_colorä¸ºlightå¹¶ä¸”heightç­‰äº150çš„è¡Œ filter(starwars, skin_color == &#39;light&#39; &amp; height == 150) filter(starwars, skin_color == &#39;light&#39;,height == 150) #ç­›é€‰å‡ºskin_colorä¸ºlightæˆ–è€…heightç­‰äº150çš„è¡Œ filter(starwars, skin_color == &#39;light&#39; | height == 150) #è¿‡æ»¤å‡ºheightç­‰äº150æˆ–159çš„è¡Œ filter(starwars, height %in% c(150, 165)) #filter()å‡½æ•°å’Œslice()å‡½æ•°æ ¹æ®è¡Œå·ç­›é€‰æ•°æ® #é€‰å–ç¬¬ä¸€è¡Œæ•°æ® slice(starwars, 1L) filter(starwars, row_number() == 1L) #é€‰å–æœ€åä¸€è¡Œæ•°æ® slice(starwars, n()) filter(starwars, row_number() == n()) #é€‰å–ç¬¬5è¡Œåˆ°æœ€åä¸€è¡Œæ‰€æœ‰æ•°æ® slice(starwars, 5:n()) filter(starwars, between(row_number(), 5, n())) å˜å½¢mutatemutateå‡½æ•°å¯¹å·²æœ‰åˆ—è¿›è¡Œæ•°æ®è¿ç®—å¹¶æ·»åŠ ä¸ºæ–°åˆ—ï¼ŒåŒæ—¶è¿˜æœ‰å¦å¤–ä¸€ä¸ªå‡½æ•°transmute()åªè¿”å›æ‰©å±•çš„æ–°å˜é‡ã€‚è¯­æ³•ä¸ºmutate(.data, ...)å’Œtransmute(.data, ...) # æ·»åŠ ä¸¤åˆ—ï¼šht_må°†èº«é«˜æ•°æ®é™¤ä»¥100ï¼Œcoloråˆ—è¿æ¥skin_colorå’Œeye_colorä¸¤åˆ— mutate(starwars, ht_m = height/100,color =paste(starwars$skin_color,starwars$eye_color,sep=&quot;_&quot;)) #è®¡ç®—æ–°åˆ—wt_kgå’Œwt_tï¼Œè¿”å›å¯¹è±¡ä¸­åªåŒ…å«æ–°åˆ— transmute(starwars, ht_m = height/100,color =paste(starwars$skin_color,starwars$eye_color,sep=&quot;_&quot;)) #æ·»åŠ æ–°åˆ—,åœ¨åŒä¸€è¯­å¥ä¸­å¯ä»¥ä½¿ç”¨åˆšæ·»åŠ çš„åˆ—ï¼Œæ³¨æ„è¿™é‡Œä¸ç”¨æ·»åŠ dataframeåï¼Œå¦åˆ™ä¼šæŠ¥é”™ mutate(starwars, ht_m = height/100,ht_m_text =paste(ht_m,&quot;m&quot;,sep=&quot;_&quot;)) æŠ½æ ·sampleæŠ½æ ·å‡½æ•°ï¼Œsample_n()éšæœºæŠ½å–æŒ‡å®šæ•°ç›®çš„æ ·æœ¬ï¼Œsample_frac()éšæœºæŠ½å–æŒ‡å®šç™¾åˆ†æ¯”çš„æ ·æœ¬ï¼Œé»˜è®¤éƒ½ä¸ºä¸æ”¾å›æŠ½æ ·ï¼Œé€šè¿‡è®¾ç½®replacement = TRUEå¯æ”¹ä¸ºæ”¾å›æŠ½æ ·ï¼Œå¯ä»¥ç”¨äºå®ç°BootstrapæŠ½æ ·ã€‚è¯­æ³•ä¸ºsample_n(tbl, size, replace = FALSE, weight = NULL, .env = parent.frame())åœ¨æ–°ç‰ˆæœ¬çš„dplyråŒ…ä¸­æŠ½æ ·å‡½æ•°å·²å˜ä¸ºslice_sampleã€‚ #æ— æ”¾å›æŠ½æ ·10è¡Œæ•°æ® sample_n(starwars, 10) #æœ‰æ”¾å›æŠ½æ ·20è¡Œæ•°æ® sample_n(starwars, 20, replace = TRUE) #é»˜è®¤size=1ï¼Œç›¸å½“äºå¯¹å…¨éƒ¨æ•°æ®æ— æ”¾å›æŠ½æ · sample_frac(starwars) #æ— æ”¾å›æŠ½æ ·10%çš„æ•°æ® sample_frac(starwars, 0.1) # æŒ‰ä¸ªæ•°æŠ½æ · slice_sample(starwars,n = 10) # æŒ‰æ¯”ä¾‹æŠ½æ · slice_sample(starwars,prop = 0.1) æ±‡æ€»summariseå¯¹æ•°æ®æ¡†è°ƒç”¨å…¶å®ƒå‡½æ•°è¿›è¡Œæ±‡æ€»æ“ä½œ, è¿”å›ä¸€ç»´çš„ç»“æœ,è¿”å›å¤šç»´ç»“æœæ—¶ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼šError: expecting result of length one, got : 2,è¯­æ³•ä¸ºsummarise(.data, ...)æ³¨æ„åœ¨ä½¿ç”¨ç»Ÿè®¡å‡½æ•°æ—¶ä¿è¯æ•°æ®ä¸å­˜åœ¨ç¼ºå¤±å€¼ï¼Œå¦åˆ™ç»“æœä¼šè¿”å›NAï¼Œå¯ä»¥åˆ©ç”¨na.omit(starwars)æ¥å»æŠ½é™¤æ•°æ®æ¡†ä¸­åŒ…å«NAçš„è¡Œ. #è¿”å›æ•°æ®ä¸­heightçš„å‡å€¼ summarise(na.omit(starwars), mean(height)) #è¿”å›æ•°æ®ä¸­heightçš„æ ‡å‡†å·® summarise(na.omit(starwars), sd(height)) #è¿”å›æ•°æ®ä¸­heightçš„æœ€å¤§å€¼åŠæœ€å°å€¼ summarise(na.omit(starwars), max(height), min(height)) #è¿”å›æ•°æ®æ¡†çš„è¡Œæ•° summarise(starwars, n()) #è¿”å›sexå»é‡åçš„ä¸ªæ•°æ•° summarise(starwars, n_distinct(sex)) #è¿”å›heightçš„ç¬¬ä¸€ä¸ªå€¼ summarise(starwars, first(height)) #è¿”å›heightçš„æœ€åä¸€ä¸ªå€¼ summarise(starwars, last(height)) åˆ†ç»„group_bygroup_by()å‡½æ•°ç”¨äºå¯¹æ•°æ®é›†æŒ‰ç…§ç»™å®šå˜é‡åˆ†ç»„ï¼Œè¿”å›åˆ†ç»„åçš„æ•°æ®é›†ã€‚å¯¹è¿”å›åçš„æ•°æ®é›†ä½¿ç”¨ä»¥ä¸Šä»‹ç»çš„å‡½æ•°æ—¶ï¼Œä¼šè‡ªåŠ¨çš„å¯¹åˆ†ç»„æ•°æ®æ“ä½œã€‚ #ä½¿ç”¨å˜é‡sexå¯¹starwarsåˆ†ç»„ï¼Œè¿”å›åˆ†ç»„åæ•°æ®é›†ï¼Œæ³¨æ„å»é™¤æ•°æ®é›†ä¸­çš„NA sw_group &lt;- group_by(na.omit(starwars), sex) #è¿”å›æ¯ä¸ªåˆ†ç»„ä¸­æœ€å¤§heightæ‰€åœ¨çš„è¡Œ filter(sw_group, height == max(height)) #è¿”å›æ¯ä¸ªåˆ†ç»„ä¸­å˜é‡ååŒ…å«dçš„åˆ—ï¼ŒåŒæ—¶å§‹ç»ˆè¿”å›åˆ—sex(ä¸Šè¿°åˆ†ç»„ä¾æ®åˆ—) select(sw_group, contains(&quot;d&quot;)) #ä½¿ç”¨heightå¯¹æ¯ä¸ªåˆ†ç»„æ’åº arrange(sw_group, height) #å¯¹æ¯ä¸ªåˆ†ç»„æ— æ”¾å›æŠ½å–2è¡Œ sample_n(sw_group, 2) #æ±‚æ¯ä¸ªåˆ†ç»„ä¸­heightå’Œbirth_yearçš„å‡å€¼ summarise(sw_group, mean(height), mean(birth_year)) #è¿”å›æ¯ä¸ªåˆ†ç»„ä¸­heightç¬¬äºŒçš„å€¼ summarise(sw_group, nth(height,2)) #è·å–åˆ†ç»„æ•°æ®é›†æ‰€ä½¿ç”¨çš„åˆ†ç»„å˜é‡ groups(sw_group) #ungroupä»æ•°æ®æ¡†ä¸­ç§»é™¤ç»„åˆä¿¡æ¯ï¼Œå› æ­¤è¿”å›çš„åˆ†ç»„å˜é‡ä¸ºNULL groups(ungroup(sw_group)) æ•°æ®è¿æ¥join æ•°æ®æ¡†ä¸­ç»å¸¸éœ€è¦å°†å¤šä¸ªè¡¨è¿›è¡Œè¿æ¥æ“ä½œ, å¦‚å·¦è¿æ¥ã€å³è¿æ¥ã€å†…è¿æ¥ç­‰ï¼ŒdplyråŒ…ä¹Ÿæä¾›äº†æ•°æ®é›†çš„è¿æ¥æ“ä½œï¼Œç±»ä¼¼äº base::merge() å‡½æ•°ã€‚è¯­æ³•å¦‚ä¸‹ï¼š #å†…è¿æ¥ï¼Œåˆå¹¶æ•°æ®ä»…ä¿ç•™åŒ¹é…çš„è®°å½• inner_join(x,y, by = NULL, copy = FALSE, suffix = c(&quot;.x&quot;, &quot;.y&quot;), ...) #å·¦è¿æ¥ï¼Œå‘æ•°æ®é›†xä¸­åŠ å…¥åŒ¹é…çš„æ•°æ®é›†yè®°å½• left_join(x,y, by = NULL, copy = FALSE, suffix = c(&quot;.x&quot;, &quot;.y&quot;), ...) #å³è¿æ¥ï¼Œå‘æ•°æ®é›†yä¸­åŠ å…¥åŒ¹é…çš„æ•°æ®é›†xè®°å½• right_join(x,y, by = NULL, copy = FALSE, suffix = c(&quot;.x&quot;, &quot;.y&quot;), ...) #å…¨è¿æ¥ï¼Œåˆå¹¶æ•°æ®ä¿ç•™æ‰€æœ‰è®°å½•ï¼Œæ‰€æœ‰è¡Œ full_join(x,y, by = NULL, copy = FALSE, suffix = c(&quot;.x&quot;, &quot;.y&quot;), ...) #è¿”å›èƒ½å¤Ÿä¸yè¡¨åŒ¹é…çš„xè¡¨æ‰€æœ‰è®°å½• semi_join(x,y, by = NULL, copy = FALSE, ...) #è¿”å›æ— æ³•ä¸yè¡¨åŒ¹é…çš„xè¡¨çš„æ‰€æœ‰è®°å½• anti_join(x, y, by = NULL, copy = FALSE, ...) byè®¾ç½®ä¸¤ä¸ªæ•°æ®é›†ç”¨äºåŒ¹é…çš„å­—æ®µåï¼Œé»˜è®¤ä½¿ç”¨å…¨éƒ¨åŒåå­—æ®µè¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœä¸¤ä¸ªæ•°æ®é›†éœ€è¦åŒ¹é…çš„å­—æ®µåä¸åŒï¼Œå¯ä»¥ç›´æ¥ç”¨ç­‰å·æŒ‡å®šåŒ¹é…çš„å­—æ®µåï¼Œå¦‚ï¼Œ by = c(â€œaâ€ = â€œbâ€)ï¼Œè¡¨ç¤ºç”¨x.aå’Œy.bè¿›è¡ŒåŒ¹é…ã€‚å¦‚æœä¸¤ä¸ªæ•°æ®é›†æ¥è‡ªä¸åŒçš„æ•°æ®æºï¼Œcopyè®¾ç½®ä¸ºTRUEæ—¶ï¼Œä¼šæŠŠæ•°æ®é›†yçš„æ•°æ®å¤åˆ¶åˆ°æ•°æ®é›†xä¸­ï¼Œå‡ºäºæ€§èƒ½ä¸Šçš„è€ƒè™‘ï¼Œéœ€è¦è°¨æ…è®¾ç½®copyå‚æ•°ä¸ºTRUEã€‚åˆå¹¶åçš„æ•°æ®é›†ä¸­åŒåå˜é‡ï¼Œä¼šè‡ªåŠ¨æ·»åŠ suffixä¸­è®¾ç½®çš„åç¼€åŠ ä»¥åŒºåˆ†ã€‚ df1 = data.frame(CustomerId=c(1:6), sex = c(&quot;f&quot;, &quot;m&quot;, &quot;f&quot;, &quot;f&quot;, &quot;m&quot;, &quot;m&quot;), Product=c(rep(&quot;Toaster&quot;,3), rep(&quot;Radio&quot;,3))) df2 = data.frame(CustomerId=c(2,4,6,7),sex = c( &quot;m&quot;, &quot;f&quot;, &quot;m&quot;, &quot;f&quot;), State=c(rep(&quot;Alabama&quot;,3), rep(&quot;Ohio&quot;,1))) #å†…è¿æ¥ï¼Œé»˜è®¤ä½¿ç”¨&quot;CustomerId&quot;å’Œ&quot;sex&quot;è¿æ¥ inner_join(df1, df2) #å·¦è¿æ¥ï¼Œé»˜è®¤ä½¿ç”¨&quot;CustomerId&quot;å’Œ&quot;sex&quot;è¿æ¥ left_join(df1, df2) #å³è¿æ¥ï¼Œé»˜è®¤ä½¿ç”¨&quot;CustomerId&quot;å’Œ&quot;sex&quot;è¿æ¥ right_join(df1, df2) #å…¨è¿æ¥ï¼Œé»˜è®¤ä½¿ç”¨&quot;CustomerId&quot;å’Œ&quot;sex&quot;è¿æ¥ full_join(df1, df2) #å†…è¿æ¥ï¼Œä½¿ç”¨&quot;CustomerId&quot;è¿æ¥ï¼ŒåŒåå­—æ®µsexä¼šè‡ªåŠ¨æ·»åŠ åç¼€ inner_join(df1, df2, by = c(&quot;CustomerId&quot; = &quot;CustomerId&quot;)) #ä»¥CustomerIdè¿æ¥ï¼Œè¿”å›df1ä¸­ä¸df2åŒ¹é…çš„è®°å½• semi_join(df1, df2, by = c(&quot;CustomerId&quot; = &quot;CustomerId&quot;)) #ä»¥CustomerIdå’Œsexè¿æ¥ï¼Œè¿”å›df1ä¸­ä¸df2ä¸åŒ¹é…çš„è®°å½• anti_join(df1, df2) dplyråŒ…åœ¨Rè¯­è¨€ä¸­ä¹Ÿç»å¸¸å’ŒtidyråŒ…ä¸€èµ·ä½¿ç”¨è¿›è¡Œæ•°æ®æ¸…æ´—ï¼ŒtidyråŒ…çš„ä½¿ç”¨å¯ä»¥æŸ¥çœ‹ï¼šhttp://smilecoc.vip/2021/09/03/R_tidyr/ å‚è€ƒé“¾æ¥ï¼šhttps://blog.csdn.net/wltom1985/article/details/54973811https://zhuanlan.zhihu.com/p/150457098https://www.cnblogs.com/shangfr/p/6110614.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"RåŒ…","slug":"RåŒ…","permalink":"http://smilecoc.vip/tags/RåŒ…/"}],"author":"smilecoc"},{"title":"è½¯è€ƒä¸­çº§æ•°æ®åº“ç³»ç»Ÿå·¥ç¨‹å¸ˆå¤‡è€ƒç»éªŒåˆ†äº«","slug":"ruankao_database_engineer","date":"2021-08-15T16:17:08.000Z","updated":"2021-08-15T16:17:46.978Z","comments":true,"path":"2021/08/16/ruankao_database_engineer/","link":"","permalink":"http://smilecoc.vip/2021/08/16/ruankao_database_engineer/","excerpt":"","text":"åŸºæœ¬æƒ…å†µé¦–å…ˆè¯´ä¸€ä¸‹ä¸ªäººçš„åŸºæœ¬æƒ…å†µå§ã€‚æˆ‘æ˜¯åæ–‡ç§‘ä¸“ä¸šçš„ï¼Œå¤§å­¦åŸºæœ¬æ²¡æœ‰æ¥è§¦è¿‡è®¡ç®—æœºä¸æ•°æ®åº“ï¼Œä½†æ˜¯åœ¨æ¯•ä¸šå·¥ä½œåæ…¢æ…¢çš„å¼€å§‹æ¥è§¦å’Œå­¦ä¹ ç¼–ç¨‹å’Œæ•°æ®åº“ï¼Œæ‰€ä»¥å¯¹SQLè¯­å¥æœ‰ä¸€å®šçš„äº†è§£ã€‚ç”±äºå·¥ä½œæ¶‰åŠåˆ°æ•°æ®åº“æ–¹é¢ï¼ŒåŸå…ˆå‡†å¤‡å…ˆè€ƒä¸€ä¸‹è®¡ç®—æœºä¸‰çº§ï¼Œä½†æ˜¯å› ä¸ºç–«æƒ…æœŸé—´å¼€æ”¾åé¢å¾ˆå°‘ï¼Œè¯•äº†ä¸¤æ¬¡éƒ½æ²¡æœ‰æŠ¢åˆ°åé¢ï¼Œé‚ç›´æ¥æ”¾å¼ƒè½¬è€ŒæŠ¥åè½¯è€ƒä¸­çº§æ•°æ®åº“ç³»ç»Ÿå·¥ç¨‹å¸ˆã€‚è€Œè¿™æ—¶è·ç¦»è€ƒè¯•åªæœ‰ä¸¤ä¸ªæœˆäº†,å†åŠ ä¸Šå¹³æ—¶ä¸Šç­çš„æ—¶å€™éœ€è¦ä¸å®šæœŸåŠ ç­ï¼Œå› æ­¤å°±å…ˆè·Ÿç€çœ‹è®²è§£è§†é¢‘è¿‡äº†ä¸€ä¸‹æ•™æï¼Œç„¶åå¼€å§‹åšçœŸé¢˜ï¼Œæœ€åéƒ½æ˜¯ä¸Šä¸‹åˆäº”åå¤šåˆ†é£˜è¿‡ã€‚ è½¯è€ƒåŸºæœ¬æƒ…å†µè½¯è€ƒæœ‰ä»€ä¹ˆç”¨ è¯„èŒç§°ï¼Œå›½ä¼ã€æˆ–è€…æœ‰å›½ä¼èƒŒæ™¯çš„å…¬å¸ä¼šè¯„èŒç§°ï¼Œè¯„ä¸Šäº†æœ‰é’±æ‹¿ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„è½¯è€ƒæ˜¯ä¸€ç§èµ„æ ¼å’ŒæŠ€æœ¯ç­‰çº§è¯ä¹¦ï¼Œä½ æœ‰äº†è¯ï¼Œå•ä½å¦‚æœè˜ç”¨ä½ åšå·¥ç¨‹å¸ˆï¼Œé‚£ä½ è¿™è¯ä¹¦å°±ç”¨ä¸Šäº†ï¼Œè¿™å°±æ˜¯èŒç§°è¯ï¼Œå¦‚æœä¸è˜ç”¨ä½ ï¼Œè¿™ä¸ªè¯åªèƒ½è¯æ˜ä½ æœ‰è¿™ä¸ªæ°´å¹³ã€‚ æ‰¾å·¥ä½œåŠ åˆ†ï¼Œå¦‚æœæ˜¯æ•°æ®åº“è¿™ä¸ªæ–¹å‘çš„ï¼Œè½¯è€ƒè¯ä¹¦è®¤å¯åº¦è¿˜å¯ä»¥ï¼Œæ¯”æ²¡æœ‰å¼ºï¼Œä½†æ˜¯è¿˜æ˜¯å»ºç«‹åœ¨ä½ æœ‰ä¸€å®šèƒ½åŠ›çš„åŸºç¡€ä¸Šï¼Œå…‰æœ‰è¯æ˜¯ä¸å¯èƒ½æ‰¾åˆ°å¥½å·¥ä½œçš„ è½æˆ·åŠ åˆ†ï¼Œè¿™ä¸ªå„åœ°çš„æ”¿ç­–ä¸ä¸€æ ·ï¼Œå…·ä½“å¯ä»¥æ‰¾æ‰¾æ”¿åºœæ–‡ä»¶çœ‹çœ‹å…·ä½“æƒ…å†µ äº¤ç¨å‡å…ã€‚è¿™ä¸ªå¯èƒ½æ˜¯é€‚ç”¨æœ€å¹¿çš„ç”¨å¤„äº†ï¼Œå¯ä»¥ç”¨æ¥ç”³æŠ¥ä¸“é¡¹é™„åŠ æ‰£é™¤å°‘äº¤ç¨ è€ƒè¯•å½¢å¼è½¯è€ƒåˆçº§å’Œä¸­çº§è€ƒè¯•ä¸Šåˆ75ä¸ªé€‰æ‹©é¢˜ï¼Œä¸‹åˆæœ‰4åˆ°5ä¸ªåº”ç”¨é¢˜ï¼Œé«˜çº§é™¤æ­¤ä¹‹å¤–è¿˜æœ‰è®ºæ–‡ã€‚ä¸Šåˆé¢˜75é“é€‰æ‹©é¢˜ä¸­æœ‰5é“è‹±è¯­é¢˜ï¼Œæ•´ä½“æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯è€ƒæ ¸èŒƒå›´ååˆ†çš„å¹¿é˜”ï¼Œåœ¨åœ¨æ•™æä¸­å‡ºç°çš„éƒ½æœ‰å¯èƒ½è€ƒåˆ°ã€‚ä¸‹åˆé¢˜é€šå¸¸æ˜¯5é“é¢˜ï¼ŒåŸºæœ¬æ¯é“é¢˜éƒ½å¯¹åº”ä¸€ä¸ªé‡è¦çš„çŸ¥è¯†ç‚¹ï¼Œä¸”æ¯å¹´è€ƒçš„çŸ¥è¯†ç‚¹éƒ½æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥ä¸‹åˆé¢˜åªè¦å­¦å¥½é‡è¦çš„çš„çŸ¥è¯†ç‚¹ï¼Œæ‘¸æ¸…å¥—è·¯å°±å¥½äº†ã€‚è½¯è€ƒæ¯å¹´éƒ½æ˜¯æ¯ä¸ªç§‘ç›®éƒ½åœ¨45åˆ†åŠä»¥ä¸Šç®—é€šè¿‡ï¼Œä¸æ’é™¤æ”¿ç­–æ”¹å˜ï¼Œæé«˜åˆ†æ•°çº¿çš„å¯èƒ½ï¼Œä½†æ˜¯æé«˜åˆ†æ•°çº¿çš„æƒ…å†µå¥½åƒåªå‡ºç°è¿‡ä¸€æ¬¡ï¼Œæ‰€ä»¥æœ€å¥½è¿˜æ˜¯è€ƒé«˜ç‚¹å•¦ã€‚ æŠ¥è€ƒé€”å¾„è½¯è€ƒæ‰€æœ‰ç§‘ç›®éƒ½å¯ä»¥ç›´æ¥æŠ¥è€ƒï¼Œä½†æ˜¯å»ºè®®ä»ä¸­çº§å¼€å§‹ï¼Œåˆçº§å«é‡‘é‡ä¸é«˜ï¼Œé«˜çº§ä¸å¤ªå¥½è€ƒè½¯è€ƒæŠ¥è€ƒé€”å¾„ä¸ºä¸­å›½è®¡ç®—æœºæŠ€æœ¯èŒä¸šèµ„æ ¼ç½‘ï¼Œä½†æ˜¯è¦æ³¨æ„ï¼Œå…¨å›½æœ‰å‡ ä¸ªçœä»½æ˜¯åœ¨è‡ªå·±è½¯è€ƒç½‘æŠ¥åçš„.æ•°æ®åº“ç³»ç»Ÿå·¥ç¨‹å¸ˆæ¯å¹´åªæœ‰ä¸€æ¬¡è€ƒè¯•ï¼Œå¤§æ¦‚åœ¨5æœˆï¼Œå…¶ä»–æ¯”è¾ƒçƒ­é—¨çš„ç§‘ç›®æœ‰å¯èƒ½åœ¨11æœˆä»½è¿˜ä¼šæœ‰ä¸€æ¬¡è€ƒè¯• å¤‡è€ƒç»éªŒå¤‡è€ƒèµ„æ–™é¦–å…ˆå¿…å¤‡çš„è‚¯å®šæ˜¯å®˜æ–¹çš„æ•™æå’Œè¿‘åå¹´çš„çœŸé¢˜ï¼ŒæŠŠè¿™ä¸¤æœ¬ä¹¦çœ‹å®Œåšå®Œç ”ç©¶æ˜ç™½äº†åŸºæœ¬å°±å¯ä»¥äº†ã€‚ä¸Šé¢ä¹Ÿè¯´åˆ°è¿‡ä¸Šåˆé¢˜è€ƒå¯ŸçŸ¥è¯†é¢æ¯”è¾ƒå¹¿ï¼Œå› æ­¤å¦‚æœä½ æ—¶é—´çœŸçš„å¾ˆå¤šï¼Œå¯ä»¥å¤šçœ‹å‡ ä¸¤éæ•™æï¼Œç„¶åä¸‹åˆé¢˜æ‰¾äº›æ¨¡æ‹Ÿé¢˜æ¥åšã€‚ å¤‡è€ƒæ—¶é—´ç”±äºæˆ‘æ—¥å¸¸å·¥ä½œä¸­æœ‰å­¦ä¹ è¿‡ç¼–ç¨‹å’Œæ•°æ®åº“çš„åŸºæœ¬æŸ¥è¯¢è¯­è¨€ï¼Œå¥½å¤„å°±æ˜¯å°‘èƒŒäº†ä¸€äº›éœ€è¦è®°å¿†çš„å†…å®¹ï¼Œæ‰€ä»¥æˆ‘çš„å¤‡è€ƒæ—¶é—´å¤§çº¦åœ¨100-120ä¸ªå°æ—¶ä¹‹é—´ã€‚å¦‚æœæ˜¯é›¶åŸºç¡€çš„è¯å»ºè®®å­¦ä¹ æ—¶é—´åœ¨200-300ä¸ªå°æ—¶å·¦å³ã€‚ å­¦ä¹ æµç¨‹åŸºç¡€å­¦ä¹ çš„è¯å°±æ˜¯å…ˆè·Ÿç€è§†é¢‘è¿‡äº†ä¸€éæ•™æã€‚å¦‚æœä½ ä¸æ˜¯ä¸“ä¸šçš„è¿˜æ˜¯å»ºè®®è·Ÿç€è€å¸ˆçš„åŸ¹è®­æ¥,æ¯•ç«Ÿæ•™ææ•´æ•´æœ‰600å¤šé¡µï¼Œå…¨éƒ¨è‡ªå·±çœ‹å®Œå¹¶å¼„æ‡‚æ˜¯éå¸¸å›°éš¾çš„,è€Œä¸”å…¶ä¸­æœ‰ä¸€äº›å†…å®¹æ˜¯ä¸ç”¨çœ‹çš„,å› æ­¤æœ‰è€å¸ˆè®²è§£åŠ ä¸Šç”»ä¸€ç”»é‡ç‚¹å¯ä»¥æå¤§çš„æé«˜æ•ˆç‡.å»ºè®®å¤§å®¶å¯ä»¥å»Bç«™å’Œå„å¤§ç½‘ç«™ä¸Šæœä¸€æœ,æ‰¾æ‰¾èµ„æºå’Œè¯¾ç¨‹ï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªæœ€é€‚åˆè‡ªå·±çš„è¯¾ç¨‹.æ¥ç€å°±æ˜¯åšçœŸé¢˜ï¼ŒçœŸé¢˜å¯ä»¥åˆ†åˆ«æŒ‰ç…§æ¨¡å—å’Œå¹´ä»½åˆ†ç±»ï¼ŒæŒ‰æ¨¡å—åˆ†ç±»çš„åœ¨å­¦ä¹ å®Œæ¯ç« åå°±å¯ä»¥ç›´æ¥åšï¼Œè€Œå¹´ä»½åˆ†ç±»çš„é‚£ä»½å¯ä»¥åœ¨çœ‹å®Œæ•™æååšä¸€éã€‚åšå®ŒçœŸé¢˜åä¸€å®šè¦æŠŠé”™é¢˜å¼„æ‡‚ï¼ŒåŸºæœ¬ä¸ŠæŠŠåå¹´çš„çœŸé¢˜åšå®Œå¹¶å¼„æ‡‚å°±æ²¡æœ‰ä»€ä¹ˆé—®é¢˜äº†ã€‚åšå®ŒçœŸé¢˜åå†æ ¹æ®åšé¢˜æƒ…å†µå’Œé‡ç‚¹å»å†çœ‹ä¸€éæ•™æã€‚è¿™é‡Œé‡ç‚¹çœ‹ä¸€äº›éœ€è¦èƒŒè¯µçš„åœ°æ–¹ï¼Œä»¥åŠå®¹æ˜“å‡ºä¸Šåˆçš„é€‰æ‹©é¢˜çš„åœ°æ–¹ã€‚å› ä¸ºä¸‹åˆé¢˜çŸ¥è¯†ç‚¹åŸºæœ¬ä¸Šå°±é‚£ä¹ˆå‡ ä¸ªï¼Œåšå®ŒçœŸé¢˜å¹¶ä¸”éƒ½å¼„æ˜ç™½äº†çš„è¯æ˜¯æ²¡æœ‰ä»€ä¹ˆé—®é¢˜çš„ï¼Œè€Œä¸Šåˆé¢˜ä»€ä¹ˆçŸ¥è¯†ç‚¹éƒ½æœ‰å¯èƒ½ä¼šæ¶‰åŠåˆ°ï¼Œå°±è¦å¤šçœ‹å‡ éæ•™æåŠ æ·±ä¸€ä¸‹å°è±¡ã€‚æœ€åå…³äºæ¨¡æ‹Ÿé¢˜çš„è¯æˆ‘ä¸ªäººæ˜¯ä¸å»ºè®®çš„ï¼Œå› ä¸ºæ¨¡æ‹Ÿé¢˜å¤§éƒ¨åˆ†è´¨é‡ä¸é«˜ï¼Œç­”æ¡ˆä¸å‡†ï¼Œå¦‚æœé‡åˆ°ä¸€äº›æ··æ·†çš„é¢˜ç›®åè€Œæ˜¯æµªè´¹æ—¶é—´ã€‚å¦‚æœå®åœ¨æ—¶é—´å¾ˆå¤šçš„è¯ï¼Œä¹Ÿåªéœ€è¦åšä¸‹åˆçš„æ¨¡æ‹Ÿé¢˜å°±è¡Œäº†ï¼Œåšä¸Šåˆçš„æ¨¡æ‹Ÿé¢˜è¿˜ä¸å¦‚å¤šçœ‹çœ‹æ•™æç”¨å¤„æ¥çš„å¤§ã€‚æœ€åå†è¯´ä¸€ä¸‹è‹±è¯­é¢˜ã€‚è½¯è€ƒçš„è‹±è¯­é¢˜å’Œæˆ‘ä»¬å­¦ç”Ÿæ—¶ä»£è€ƒçš„è‹±è¯­å·®åˆ«è¿˜æ˜¯å¾ˆå¤§çš„ï¼Œè½¯è€ƒçš„è‹±è¯­æ˜¯è¦æ±‚çœ‹æ‡‚æ–‡ç« å¹¶æ ¹æ®çŸ¥è¯†ç‚¹å¡«ç©ºï¼Œä¹Ÿå°±æ˜¯è¯´ä½ çœ‹æ‡‚æ–‡ç« ï¼Œä½†æ˜¯å¯¹åº”æ•™æä¸Šè€ƒçš„çŸ¥è¯†ç‚¹ä½ ä¸çŸ¥é“çš„è¯ä¹Ÿåªèƒ½é çŒœï¼Œæ‰€ä»¥å¹³æ—¶å¤šçœ‹æ•™æï¼Œå“ªæ€•æœ‰äº›å•è¯ä½ ä¸è®¤è¯†ï¼Œæ ¹æ®å­¦çš„ä¸­æ–‡ä¹Ÿå¯ä»¥çŒœä¸ªå¤§æ¦‚ã€‚ æ€»ç»“ æ•™æå’ŒçœŸé¢˜æ˜¯æœ€é‡è¦çš„ï¼Œè¦å¤šåšçœŸé¢˜ï¼Œå¤šè¯»æ•™æï¼Œä¸è¦æŠŠæ—¶é—´æµªè´¹åœ¨ä¸€äº›æ¨¡æ‹Ÿé¢˜ä¸Šé¢ æœ€è¿‘å‡ å¹´çš„ä¸Šåˆè€ƒè¯•ä¸­è®°å¿†çš„çŸ¥è¯†ç‚¹çš„æ¯”é‡é€æ¸å¢åŠ ï¼Œæ€»ä½“éš¾åº¦æ˜¯é™ä½çš„ æœ€åç¥å¤§å®¶éƒ½èƒ½é€šè¿‡è½¯è€ƒï¼","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://smilecoc.vip/categories/ç¬”è®°/"}],"tags":[{"name":"è€ƒè¯•","slug":"è€ƒè¯•","permalink":"http://smilecoc.vip/tags/è€ƒè¯•/"}],"author":"smilecoc"},{"title":"æœç´¢å¼•æ“å’Œç½‘ç«™ä¸­çš„é«˜çº§æœç´¢æŠ€å·§","slug":"search_tech_in_search_engines","date":"2021-08-08T02:00:00.000Z","updated":"2021-09-05T15:21:33.327Z","comments":true,"path":"2021/08/08/search_tech_in_search_engines/","link":"","permalink":"http://smilecoc.vip/2021/08/08/search_tech_in_search_engines/","excerpt":"","text":"åœ¨æµ©ç€šçš„äº’è”ç½‘ä¸­ç²¾å‡†çš„æ‰¾åˆ°éœ€è¦çš„ä¿¡æ¯æ˜¯ä¸€é¡¹å¿…å¤‡çš„æŠ€èƒ½ï¼Œè€Œå„å¤§æœç´¢å¼•æ“google,baidu,bingdç­‰éƒ½æä¾›æœ‰é«˜çº§æœç´¢æŠ€å·§å’Œè¯­å¥å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¿«é€Ÿæ›´å‡†ç¡®çš„æ‰¾åˆ°æˆ‘ä»¬éœ€è¦çš„ä¿¡æ¯ã€‚ 1. å…³é”®å­—æœç´¢åœ¨æœç´¢æ—¶ä½¿ç”¨å…³é”®å­—æœç´¢æ˜¯æœ€åŸºç¡€çš„æœç´¢æŠ€å·§ï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯å»æ‰æ— ç”¨ä¿¡æ¯ã€‚æ¯”å¦‚ä½ çš„ç”µè„‘è“å±äº†ï¼Œä¸æ˜¯æœæˆ‘çš„ç”µè„‘ä¸ºä»€ä¹ˆè“å±äº†ï¼Ÿè€Œæ˜¯å¯ä»¥ç›´æ¥æœç´¢ç”µè„‘è“å±ã€‚ è€Œå…³é”®å­—æœç´¢è¿˜æœ‰ä¸€ä¸ªè¦ç‚¹æ˜¯ç”¨ä¸­æ–‡å’Œè‹±æ–‡æœç´¢çš„ä¿¡æ¯æœ‰æ‰€åŒºåˆ«,åœ¨ä¸€äº›ç‰¹å®šçš„é¢†åŸŸ,æ¯”å¦‚åœ¨ç¼–ç¨‹é—®é¢˜è§£å†³ä¸­ä½¿ç”¨è‹±è¯­ä¼šæ¯”ä¸­æ–‡å¥½ã€‚åŒæ—¶åœ¨ä½¿ç”¨è‹±è¯­æœç´¢æ—¶ä½¿ç”¨Googleå¾€å¾€å¯ä»¥å¾—åˆ°æ¯”è¾ƒå¥½çš„ç»“æœï¼Œåº”ä¸ºGoogleåœ¨æ£€ç´¢å’Œä½¿ç”¨çš„äººæ•°æ–¹é¢éƒ½æ¯”å…¶ä»–æœç´¢å¼•æ“æ›´å¥½ï¼Œè€Œä¸­æ–‡çš„è¯ä½¿ç”¨bing+ç™¾åº¦æ¯”è¾ƒå¥½ 2.åŒå¼•å·ä½¿ç”¨è‹±æ–‡çŠ¶æ€ä¸‹çš„å¼•å·æ¥æœç´¢ä¸€ä¸ªå®Œå…¨åŒ¹é…çš„å­—è¯æˆ–ä¸€ç»„å­—è¯ã€‚åœ¨æœç´¢æ­Œè¯æˆ–æ–‡å­¦ä½œå“ä¸­çš„ä¸€æ®µæ–‡å­—æ—¶ï¼Œæ­¤é€‰é¡¹å¾ˆå®ç”¨ã€‚å»ºè®®æ‚¨åªåœ¨æŸ¥æ‰¾éå¸¸ç¡®åˆ‡çš„å­—è¯æˆ–è¯ç»„æ—¶ä½¿ç”¨è¯¥åŠŸèƒ½ï¼Œå¦åˆ™å¯èƒ½ä¼šæ— æ„ä¸­æ’é™¤æ‰æœ‰ç”¨çš„æœç´¢ç»“æœã€‚ ä¾‹å¦‚æˆ‘ä»¬æœç´¢æ‰˜å°”æ–¯æ³°çš„å®‰å¨œå¡åˆ—å°¼å¨œï¼Œé‚£ä¹ˆåœ¨æœç´¢çš„ç»“æœä¸­å‡ºç°çš„æ˜¯å…³é”®å­—ä¸ºæ‰˜å°”æ–¯æ³°æˆ–è€…å®‰å¨œå¡åˆ—å°¼å¨œçš„ç»“æœï¼Œè€Œæˆ‘ä»¬ä½¿ç”¨åŒå¼•å·è¾“å…¥&quot;æ‰˜å°”æ–¯æ³°çš„å®‰å¨œå¡åˆ—å°¼å¨œ&quot;å°±å¯ä»¥å¾—åˆ°å®Œå…¨åŒ¹é…çš„ç»“æœï¼Œä»è€Œå¾—å‡ºè¿™æ˜¯ä¸€é¦–æ­Œçš„æ­Œè¯ 3.å‡å·å‡å·å¯ä»¥è®©æœç´¢çš„ç»“æœä¸­å»æ‰å»ä¸æƒ³æœç´¢çš„ä¿¡æ¯ã€‚æ ¼å¼ä¸ºA -Bï¼ˆAå’Œå‡å·ä¹‹é—´æœ‰ç©ºæ ¼ï¼‰ä¾‹å¦‚æˆ‘ä»¬æœç´¢ç”µè„‘è“å±ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸æƒ³çœ‹ç™¾åº¦ç»éªŒçš„ç›¸å…³æœç´¢ç»“æœï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥è¾“å…¥ç”µè„‘è“å± -ç™¾åº¦ç»éªŒï¼Œè¿™æ ·å’Œç™¾åº¦ç»éªŒç›¸å…³çš„ç»“æœå°±æ¶ˆå¤±äº† 4.åŠ å·åœ¨æŸä¸ªå­—è¯å‰æ·»åŠ åŠ å· (æ³¨æ„åŠ å·å‰æœ‰ç©ºæ ¼)ä¼šè¿”å› å¿…éœ€åŒ…å«å«è¯¥å­—è¯çš„æœç´¢ç»“æœã€‚ä¾‹å¦‚ï¼šè¾“å…¥å¤§ç†ŠçŒ« +ç™¾ç§‘æœç´¢ç»“æœä¸­å¿…éœ€å‡ºç°â€œç™¾ç§‘â€ 5.ç©ºæ ¼/ç«–çº¿å¤šä¸ªå…³é”®è¯åŒæ—¶æœç´¢æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç©ºæ ¼æˆ–è€…ç«–çº¿å°†å…¶åˆ†éš”å¼€ã€‚ä¾‹å¦‚æœç´¢å¤§ç†ŠçŒ« ç™¾ç§‘ç»“æœä¸­ä¼šæœ‰åŒ…å«å¤§ç†ŠçŒ«ï¼Œç™¾ç§‘å’Œå¤§ç†ŠçŒ«ç™¾ç§‘ä¸‰ä¸ªå…³é”®è¯çš„ç»“æœ 6.é€šé…ç¬¦*å·ä½œä¸ºé€šé…ç¬¦å¯ä»£æ›¿ä»»ä½•æ–‡å­—ï¼Œæœç´¢è¯ä¸­ä¸ç¡®å®šçš„éƒ¨åˆ†å¯ä»¥ç”¨æ˜Ÿå·ä»£æ›¿ä¾‹å¦‚ï¼šè¾“å…¥```å¤±è´¥*ä¹‹æ¯```æ£€ç´¢å³å¯å¾—åˆ°å¤±è´¥ä¹ƒæˆåŠŸä¹‹æ¯çš„ç»“æœ è€Œï¼Ÿç”¨äºå•ä¸ªæœªçŸ¥å­—ç¬¦çš„æ¨¡ç³Šæœç´¢ä¾‹å¦‚å¤±è´¥?æˆåŠŸä¹‹æ¯ 7.é™å®šæ•°å­—èŒƒå›´ç”¨ä¸¤ä¸ªåŠè§’å¥å·..ï¼ˆä¸åŠ ç©ºæ ¼ï¼‰éš”å¼€ä¸¤ä¸ªæ•°å­—å¯æŸ¥çœ‹æ—¥æœŸã€ä»·æ ¼å’Œå°ºå¯¸ç­‰æŒ‡å®šæ•°å­—èŒƒå›´çš„æœç´¢ç»“æœã€‚ä»…ä½¿ç”¨ä¸€ä¸ªæ•°å­—å’Œä¸¤ä¸ªå¥å·å³å¯è¡¨ç¤ºä¸Šé™æˆ–ä¸‹é™ã€‚ ä¾‹å¦‚ï¼šæœç´¢æ‰‹æœº 2017..2018æœç´¢ç»“æœä¸­åªä¼šå‡ºç°æ—¶é—´åœ¨2017-2018å¹´ä¹‹é—´çš„ç»“æœ 8.sitesiteå…³é”®å­—å¯ç”¨äºæœç´¢ç‰¹å®šç½‘é¡µä¸­çš„å†…å®¹ï¼Œæ ¼å¼ä¸ºA site:XXX.comä¾‹å¦‚æƒ³æœç´¢ç”µè„‘è“å±åœ¨çŸ¥ä¹ä¸Šçš„ç»“æœå¯è¾“å…¥ç”µè„‘è“å± site:zhihu.comè¿›è¡Œæ£€ç´¢ 9.filetypefiletypeå¯ç”¨æ¥æœç´¢ç‰¹å®šæ–‡ä»¶æ ¼å¼ã€‚æ¯”å¦‚æœç´¢SEOæ•™ç¨‹ filetype:pdfç»“æœè¿”å›çš„å°±æ˜¯åŒ…å«SEOæ•™ç¨‹è¿™ä¸ªå…³é”®è¯çš„æ‰€æœ‰pdfçš„é¡µé¢ã€‚ 10.intitleç»“æœé¡µé¢æ ‡é¢˜åŒ…å«å…³é”®è¯,ä¾‹å¦‚æœç´¢æ‰‹æœº intitle å®‰å“åˆ™å‡ºç°çš„ç»“æœä¸­é¡µé¢æ ‡é¢˜åŒ…å«å®‰å“ 11.inurlåœ¨æœç´¢ä¸­åŠ å…¥inurlå¯ä»¥é™å®šåœ¨ç½‘ç«™urlé“¾æ¥ä¸­æœç´¢ç½‘ç«™ä¿¡æ¯ï¼Œä¾‹å¦‚è¾“å…¥è§†é¢‘æ•™ç¨‹ inurl:videoåˆ™ç»“æœä¸­â€œvideoâ€å¿…é¡»å‡ºç°åœ¨ç½‘é¡µurlä¸­ã€‚ 12.relatedåœ¨æœç´¢ä¸­åŠ å…¥â€œrelated:â€å¯ä»¥æœç´¢ä¸æŒ‡å®šç½‘ç«™æœ‰ç›¸ä¼¼å†…å®¹çš„ç½‘é¡µã€‚ä¾‹å¦‚è¾“å…¥related:baidu.comå¯ä»¥æœç´¢å’Œç™¾åº¦ç±»ä¼¼çš„ç½‘ç«™","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://smilecoc.vip/categories/ç¬”è®°/"}],"tags":[{"name":"å®ç”¨æŠ€å·§","slug":"å®ç”¨æŠ€å·§","permalink":"http://smilecoc.vip/tags/å®ç”¨æŠ€å·§/"}],"author":"smilecoc"},{"title":"Pythonåº“ç§¯ç´¯ä¹‹Seleniumï¼ˆäºŒï¼‰-Seleniunä¸­çš„ä¸€äº›é—®é¢˜ä¸è§£å†³æ–¹æ³•","slug":"Python_Selenium_part2","date":"2021-07-24T16:59:06.000Z","updated":"2021-08-08T16:57:52.199Z","comments":true,"path":"2021/07/25/Python_Selenium_part2/","link":"","permalink":"http://smilecoc.vip/2021/07/25/Python_Selenium_part2/","excerpt":"","text":"1.seleniumä¸­å‡ºç°æç¤ºâ€™Your connection is not privateâ€™ï¼ˆä½ çš„è¿æ¥ä¸æ˜¯ç§å¯†è¿æ¥ï¼‰åœ¨Chromeä¸­éœ€è¦æ·»åŠ å¿½ç•¥è®¤è¯é”™è¯¯ï¼š from selenium import webdriver options = webdriver.ChromeOptions() options.add_argument(&#39;ignore-certificate-errors&#39;) driver = webdriver.Chrome(chrome_options=options) driver.get(&#39;https://cacert.org/&#39;) driver.close() åœ¨ Firefoxä¸­è®¾ç½®accept_untrusted_certsä¸ºTrueï¼š from selenium import webdriver profile = webdriver.FirefoxProfile() profile.accept_untrusted_certs = True driver = webdriver.Firefox(firefox_profile=profile) driver.get(&#39;https://cacert.org/&#39;) driver.close() åŸå›ç­”ï¼šhttps://stackoverflow.com/questions/24507078/how-to-deal-with-certificates-using-selenium 2.é¼ æ ‡æ‚¬åœä¸é€‰æ‹©ä¸‹æ‹‰ä¸‹æ‹‰åˆ—è¡¨çš„æ—¶å€™ï¼Œå­˜åœ¨ä¸¤ç§æƒ…å†µã€‚ç¬¬ä¸€ç§æ˜¯æœ‰selectæ ‡ç­¾çš„ï¼Œè¿™ç§æƒ…å†µä¸‹å¯ä»¥é€šè¿‡from selenium.webdriver.support.ui import Selectæ–¹å¼å®ç°å…·ä½“seleniumä»£ç ä¸ºï¼š &#39;&#39;&#39; ç¬¬ä¸€ç§æƒ…å½¢ï¼šå¯ä»¥é€šè¿‡ from selenium.webdriver.support.ui import Select &#39;&#39;&#39; from selenium import webdriver from selenium.webdriver.support.ui import Select driver = webdriver.Chrome() driver.get(&#39;https://www.17sucai.com/pins/demo-show?id=5926&#39;) # åˆ‡æ¢ifrane driver.switch_to_frame(driver.find_element_by_id(&#39;iframe&#39;)) # æ‰¾åˆ°ä¸‹æ‹‰æ¡† selectTag = Select(driver.find_element_by_name(&#39;country-wrap&#39;)) # selectæ ‡ç­¾ # è·å¾—é€‰æ‹©é¡¹ # 1.æ ¹æ®å€¼æ¥é€‰æ‹© selectTag.select_by_value(&#39;CA&#39;) # 2.æ ¹æ®ç´¢å¼•æ¥é€‰æ‹© # selectTag.select_by_index(3) ä½†ä¹Ÿå­˜åœ¨æ²¡æœ‰selectæ ‡ç­¾çš„ä¸‹æ‹‰åˆ—è¡¨ï¼Œè¿™æ—¶å€™å°±éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨é“¾æ¥åˆ°è¯¥ä½ç½®ã€‚å¦‚å›¾ç‰‡æƒ…å½¢æ‰€ç¤ºï¼Œå°±æ˜¯aæ ‡ç­¾ï¼Œä¸æ˜¯selectæ ‡ç­¾ï¼Œæ— æ³•é€šè¿‡from selenium.webdriver.support.ui import Selectæ–¹å¼å®ç° &#39;&#39;&#39; ç¬¬äºŒç§æƒ…å½¢ï¼šæ‰‹åŠ¨ç‚¹å‡» &#39;&#39;&#39; from selenium import webdriver from selenium.webdriver.support.ui import Select driver = webdriver.Chrome() driver.get(&#39;https://www.17sucai.com/pins/demo-show?id=5926&#39;) # åˆ‡æ¢ifrane driver.switch_to_frame(driver.find_element_by_id(&#39;iframe&#39;)) # æ‰¾åˆ°ä¸‹æ‹‰æ¡† selectTag = driver.find_element_by_xpath(&#39;//*[@id=&quot;dk_container_country-nofake&quot;]&#39;).click() # ç‚¹å‡»ä¸‹æ‹‰åˆ—è¡¨ä½ç½® # è·å¾—ä¸‹æ‹‰é€‰æ‹©é¡¹ driver.find_element_by_xpath(&#39;//*[@id=&quot;dk_container_country-nofake&quot;]/div/ul/li[1]/a&#39;).click() åŸæ–‡ï¼šhttps://blog.csdn.net/Claire_chen_jia/article/details/106523131 3.ä¸‹è½½æ–‡ä»¶ä¸­æ–‡ä¹±ç /å°†æµè§ˆå™¨è®¾ç½®ä¸ºä¸­æ–‡/æ”¹å˜ç¼–ç å¦‚æœä¸‹è½½ä¸­æ–‡æ–‡ä»¶åæ–‡ä»¶åä¸ºä¹±ç ï¼Œåˆ™éœ€è¦é…ç½®å¯¹åº”æµè§ˆå™¨è®¾ç½® options.add_argument(&#39;lang=zh_CN.UTF-8&#39;) selenium+pythoné…ç½®chromeæµè§ˆå™¨è¯¦è§£https://blog.csdn.net/zwq912318834/article/details/78933910 4.ä¸æ˜¾ç¤ºUIè°ƒç”¨æµè§ˆå™¨åœ¨ä¸æ‰“å¼€UIç•Œé¢çš„æƒ…å†µä¸‹ä½¿ç”¨ Chrome æµè§ˆå™¨ã€‚ç”¨æ³•ï¼š option=webdriver.ChromeOptions() option.add_argument(&#39;headless&#39;) driver=webdriver.Chrome(chrome_options=option) 5.ç›´æ¥ç”¨cookieç™»å½•æ–¹æ³•å…ˆæ‰‹åŠ¨è·å–ç½‘é¡µçš„cookieï¼Œå°†å…¶åºåˆ—åŒ–å¹¶å­˜å‚¨åœ¨æœ¬åœ°ä½¿ç”¨åˆ°ä¸€ä¸ªchromeæ’ä»¶EditThisCookiehttp://www.editthiscookie.com/å®ƒæœ‰ä¸ªå¯¼å‡ºåŠŸèƒ½ï¼Œå½“ä½ ç™»å½•å®Œåç‚¹å‡»å¯¼å‡ºä¾¿ä¼šå¾—åˆ°ä¸€ä¸ªlistæ ¼å¼çš„å­—ç¬¦ä¸²,ç¨åŠ ä¿®æ”¹å°±å¯ä»¥ä½œä¸ºpythonçš„listæ¥å¯¼å…¥cookieäº† #å¯¼å…¥cookie for item in cookies: driver.add_cookie(item) https://www.jianshu.com/p/773c58406bdb 6.seleniumä¸‹è½½æ–‡ä»¶åˆ°æŒ‡å®šçš„æ–‡ä»¶å¤¹åœ¨çˆ¬è™«çš„æ—¶å€™ä¼šé‡åˆ°ä¸‹è½½æ–‡ä»¶çš„æƒ…å†µï¼Œè¿™æ—¶å€™å¦‚æœç”¨Chromeæµè§ˆå™¨ç‚¹å‡»ä¸‹è½½ï¼Œæ–‡ä»¶ä¼šè‡ªåŠ¨å­˜æ”¾åˆ°é»˜è®¤æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬æ˜¯ æˆ‘çš„ç”µè„‘&gt;ä¸‹è½½ è¿™ä¸ªè·¯å¾„ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ä¸‹è½½åˆ°æŒ‡å®šæ–‡ä»¶å¤¹ï¼Œæœ‰æ²¡æœ‰åŠæ³•å‘¢ï¼Ÿï¼Œå¯ä»¥è¯•è¯•ä¸‹é¢çš„æ–¹æ³•ï¼Œåœ¨å¯åŠ¨driverçš„æ—¶å€™å°±æŒ‡å®šä¸€ä¸ªé»˜è®¤ä¸‹è½½è·¯å¾„ from selenium import webdriver options = webdriver.ChromeOptions() out_path = r&#39;D:\\Projects\\Spiders&#39; # æ˜¯ä½ æƒ³æŒ‡å®šçš„è·¯å¾„ prefs = {&#39;profile.default_content_settings.popups&#39;: 0, &#39;download.default_directory&#39;: out_path} options.add_experimental_option(&#39;prefs&#39;, prefs) browser = webdriver.Chrome(executable_path=r&#39;D:\\Repo 3\\chromedriver.exe&#39;, chrome_options=options) 7.åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ä¸‹è½½å®Œæˆhttps://stackoverflow.com/questions/34338897/python-selenium-find-out-when-a-download-has-completed","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"Pythonåº“","slug":"Pythonåº“","permalink":"http://smilecoc.vip/tags/Pythonåº“/"}],"author":"smilecoc"},{"title":"Pythonåº“ç§¯ç´¯ä¹‹Seleniumï¼ˆä¸€ï¼‰-SeleniunåŸºç¡€","slug":"Python_Selenium_part1","date":"2021-07-24T16:52:14.000Z","updated":"2021-08-08T16:57:46.785Z","comments":true,"path":"2021/07/25/Python_Selenium_part1/","link":"","permalink":"http://smilecoc.vip/2021/07/25/Python_Selenium_part1/","excerpt":"","text":"Seleniumæ˜¯ä¸€ä¸ªç”¨ç”µè„‘æ¨¡æ‹Ÿäººæ“ä½œæµè§ˆå™¨ç½‘é¡µï¼Œæ”¯æŒå¤šå¹³å°ï¼Œå¤šæµè§ˆå™¨å’Œå¤šç§ç¼–ç¨‹è¯­è¨€ï¼Œå¹¿æ³›åº”ç”¨äºè‡ªåŠ¨åŒ–ï¼Œæµ‹è¯•ï¼Œçˆ¬è™«ç­‰åœºæ™¯ä¸­. å®˜æ–¹æ–‡æ¡£ï¼šhttps://www.selenium.dev/selenium/docs/api/py/api.html#ä¸­æ–‡æ–‡æ¡£ï¼šhttps://selenium-python-zh.readthedocs.io/en/latest/index.html å‡†å¤‡å·¥ä½œå®‰è£…seleniumç›´æ¥ä½¿ç”¨pipå®‰è£…å³å¯ pip install selenium ä¸‹è½½æµè§ˆå™¨é©±åŠ¨å„å¯¹åº”çš„æµè§ˆå™¨é©±åŠ¨ä¸‹è½½åœ°å€å¦‚ä¸‹ï¼š Firefoxæµè§ˆå™¨é©±åŠ¨ï¼šgeckodriverChromeæµè§ˆå™¨é©±åŠ¨ï¼šchromedriver , taobaoå¤‡ç”¨åœ°å€IEæµè§ˆå™¨é©±åŠ¨ï¼šIEDriverServerEdgeæµè§ˆå™¨é©±åŠ¨ï¼šMicrosoftWebDriverOperaæµè§ˆå™¨é©±åŠ¨ï¼šoperadriver åœ¨é€‰æ‹©æµè§ˆå™¨é©±åŠ¨æ—¶ï¼Œæˆ‘ä»¬è¦é€‰æ‹©å’Œæˆ‘ä»¬çš„æµè§ˆå™¨ç‰ˆæœ¬å·ä¸€è‡´çš„é©±åŠ¨ï¼Œä¾‹å¦‚æˆ‘ä½¿ç”¨çš„ä¸ºChromeã€‚é¦–å…ˆéœ€è¦æŸ¥çœ‹Chromeç‰ˆæœ¬ï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥chrome://version/æˆ–è€…æ‰“å¼€è®¾ç½®æŸ¥çœ‹å¯¹åº”çš„ç‰ˆæœ¬å·,å¹¶æ ¹æ®ç‰ˆæœ¬å·ä¸‹è½½å¯¹åº”çš„chromedriver ä¸‹è½½è§£å‹å®Œæˆåéœ€è¦æŠŠæµè§ˆå™¨é©±åŠ¨æ”¾å…¥ç›¸å¯¹è·¯å¾„ä¸­ï¼ˆè¿è¡Œseleniumç¨‹åºæ‰€åœ¨çš„è·¯å¾„ï¼‰ï¼Œæˆ–è€…ä¹‹ååœ¨ç¨‹åºä¸­ç›´æ¥å‘ŠçŸ¥selenuimçš„é©±åŠ¨è·¯å¾„ã€‚ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç æ¥æµ‹è¯•seleniumæ˜¯å¦å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼š from selenium import webdriver driver = webdriver.Firefox() # Firefoxæµè§ˆå™¨ # driver = webdriver.Firefox(&quot;é©±åŠ¨è·¯å¾„&quot;) ç”¨äºæµè§ˆå™¨é©±åŠ¨ä¸åœ¨ç³»ç»Ÿè·¯å¾„ä¸‹ã€‚å…¶ä»–æµè§ˆå™¨åŒç†ã€‚ driver = webdriver.Chrome() # Chromeæµè§ˆå™¨ driver = webdriver.Ie() # Internet Exploreræµè§ˆå™¨ driver = webdriver.Edge() # Edgeæµè§ˆå™¨ driver = webdriver.Opera() # Operaæµè§ˆå™¨ driver = webdriver.PhantomJS() # PhantomJS # æ‰“å¼€ç½‘é¡µ driver.get(url) # æ‰“å¼€urlç½‘é¡µ æ¯”å¦‚ driver.get(&quot;http://www.baidu.com&quot;) å¦‚æœå¯æ­£å¸¸ä½¿ç”¨è¿è¡Œåä¼šå‡ºç°æµè§ˆå™¨é¡µé¢å¹¶è¿›å…¥åˆ°å¯¹åº”çš„urlç½‘é¡µä¸­ã€‚ å…ƒç´ å®šä½ç½‘é¡µä¸Šçš„æ–‡æœ¬ï¼Œå†…å®¹ï¼ŒæŒ‰é’®ï¼Œè¾“å…¥æ¡†ç­‰ç»Ÿç§°ä¸ºå…ƒç´ ã€‚å½“æˆ‘ä»¬æ‰§è¡Œæ“ä½œï¼Œæ¯”å¦‚éœ€è¦ç‚¹å‡»æŸä¸ªæŒ‰é’®ï¼Œæˆ–è€…åœ¨æŸä¸ªè¾“å…¥æ¡†ä¸­è¾“å…¥æ—¶æˆ‘ä»¬éœ€è¦å‘Šè¯‰seleniumå…·ä½“éœ€è¦æ“ä½œçš„ä½ç½®ï¼Œè¿™å°±æ˜¯å…ƒç´ å®šä½ã€‚å®šä½å…ƒç´ çš„æ–¹æ³•éå¸¸å¤šï¼Œå¯ä»¥æŒ‰ç…§id,æ–‡æœ¬å†…å®¹ï¼Œxpathç­‰è¿›è¡Œå®šä½ï¼Œå…·ä½“å¦‚ä¸‹ï¼š find_element_by_id() find_element_by_name() find_element_by_class_name() find_element_by_tag_name() find_element_by_link_text() find_element_by_partial_link_text() find_element_by_xpath() find_element_by_css_selector() ä¾‹å¦‚åœ¨ç™¾åº¦ç½‘ç«™ä¸­æˆ‘ä»¬å®šä½åˆ°è¾“å…¥æ¡†å¹¶ä¼ å…¥æ–‡å­—seleniumï¼š #coding=utf-8 from selenium import webdriver browser = webdriver.Chrome() browser.get(&quot;http://www.baidu.com&quot;) #########ç™¾åº¦è¾“å…¥æ¡†çš„å®šä½æ–¹å¼########## #é€šè¿‡idæ–¹å¼å®šä½ browser.find_element_by_id(&quot;kw&quot;).send_keys(&quot;selenium&quot;) #é€šè¿‡nameæ–¹å¼å®šä½ browser.find_element_by_name(&quot;wd&quot;).send_keys(&quot;selenium&quot;) #é€šè¿‡tag nameæ–¹å¼å®šä½ browser.find_element_by_tag_name(&quot;input&quot;).send_keys(&quot;selenium&quot;) #é€šè¿‡class nameæ–¹å¼å®šä½ browser.find_element_by_class_name(&quot;s_ipt&quot;).send_keys(&quot;selenium&quot;) #é€šè¿‡CSSæ–¹å¼å®šä½ browser.find_element_by_css_selector(&quot;#kw&quot;).send_keys(&quot;selenium&quot;) #é€šè¿‡xpathæ–¹å¼å®šä½ browser.find_element_by_xpath(&quot;//input[@id=&#39;kw&#39;]&quot;).send_keys(&quot;selenium&quot;) ############################################ browser.find_element_by_id(&quot;su&quot;).click() time.sleep(3) browser.quit() å°†elementå˜æˆelementså°±æ˜¯æ‰¾æ‰€æœ‰æ»¡è¶³çš„æ¡ä»¶ï¼Œè¿”å›æ•°ç»„ã€‚ å®é™…ä¸­æœ€å¸¸ç”¨çš„æ–¹å¼æ˜¯é€šè¿‡ xpath å®šä½å…ƒç´ çš„ã€‚å…·ä½“æ­¥éª¤ä¸ºåœ¨Chromeä¸­æŒ‰F12è¿›å…¥å¼€å‘è€…æ¨¡å¼ï¼Œæ‰¾åˆ°å…ƒç´ å¯¹åº”çš„ä»£ç å³é”®å¤åˆ¶xpathå³å¯ã€‚å…ƒç´ å®šä½åæˆ‘ä»¬å¯ä»¥å¯¹å…ƒç´ è¿›è¡Œå„ç§æ“ä½œã€‚ å…ƒç´ ï¼ˆWebelementï¼‰æ“ä½œç‚¹å‡»å’Œè¾“å…¥ driver.find_element_by_id(&quot;kw&quot;).clear() # æ¸…é™¤æ–‡æœ¬ driver.find_element_by_id(&quot;kw&quot;).send_keys(&quot;selenium&quot;) # æ¨¡æ‹ŸæŒ‰é”®è¾“å…¥ï¼Œä¸€èˆ¬ç”¨äºè¾“å…¥æ¡†ï¼Œä¾‹å¦‚è¾“å…¥è´¦å·å¯†ç ç­‰ã€‚æœ¬å¥ä»£ç å‘è¾“å…¥æ¡†ä¸­ä¼ å…¥seleniumå­—ç¬¦ä¸² driver.find_element_by_id(&quot;su&quot;).click() # å•å‡»å…ƒç´  æäº¤ï¼šå¯ä»¥åœ¨æœç´¢æ¡†æ¨¡æ‹Ÿå›è½¦æ“ä½œ search_text = driver.find_element_by_id(&#39;kw&#39;) search_text.send_keys(&#39;selenium&#39;) #å‘è¾“å…¥æ¡†å†…ä¼ å…¥selenium search_text.submit() #æäº¤ å…¶ä»– sizeï¼š è¿”å›å…ƒç´ çš„å°ºå¯¸ã€‚ textï¼š è·å–å…ƒç´ çš„æ–‡æœ¬ã€‚ get_attribute(name)ï¼š è·å¾—å±æ€§å€¼ã€‚ is_displayed()ï¼š è®¾ç½®è¯¥å…ƒç´ æ˜¯å¦ç”¨æˆ·å¯è§ã€‚ æ§åˆ¶æµè§ˆå™¨æ“ä½œæ§åˆ¶æµè§ˆå™¨çª—å£å¤§å° driver.set_window_size(480, 800) æµè§ˆå™¨åé€€ï¼Œå‰è¿› driver.back() #åé€€ driver.forward() #å‰è¿› åˆ·æ–° driver.refresh() # åˆ·æ–° å°†æµè§ˆå™¨æœ€å¤§åŒ–/æœ€å°åŒ–æ˜¾ç¤º driver.maximize_window() #æœ€å¤§åŒ– driver.minimize_window() #æœ€å°åŒ– é¼ æ ‡æ“ä½œåœ¨ WebDriver ä¸­ï¼Œ å°†è¿™äº›å…³äºé¼ æ ‡æ“ä½œçš„æ–¹æ³•å°è£…åœ¨ ActionChains ç±»æä¾›ã€‚ActionChains ç±»æä¾›äº†é¼ æ ‡æ“ä½œçš„å¸¸ç”¨æ–¹æ³•ï¼š perform() #æ‰§è¡Œæ‰€æœ‰ ActionChains ä¸­å­˜å‚¨çš„è¡Œä¸ºï¼› context_click() #å³å‡» double_click() #åŒå‡» drag_and_drop() #æ‹–åŠ¨ move_to_element() #é¼ æ ‡æ‚¬åœ ä¸¾ä¸ªä¾‹å­ï¼š from selenium import webdriver # å¼•å…¥ ActionChains ç±» from selenium.webdriver.common.action_chains import ActionChains driver = webdriver.Chrome() driver.get(&quot;https://www.baidu.cn&quot;) # å®šä½åˆ°è¦æ‚¬åœçš„å…ƒç´  above = driver.find_element_by_link_text(&quot;è®¾ç½®&quot;) # å¯¹å®šä½åˆ°çš„å…ƒç´ æ‰§è¡Œé¼ æ ‡æ‚¬åœæ“ä½œ ActionChains(driver).move_to_element(above).perform() é”®ç›˜äº‹ä»¶è¦æƒ³è°ƒç”¨é”®ç›˜æŒ‰é”®æ“ä½œéœ€è¦å¼•å…¥ keys åŒ…ï¼š from selenium.webdriver.common.keys import Keys #é€šè¿‡ send_keys()è°ƒç”¨æŒ‰é”® ä»¥ä¸‹ä¸ºå¸¸ç”¨çš„é”®ç›˜æ“ä½œï¼š send_keys(Keys.BACK_SPACE) åˆ é™¤é”®ï¼ˆBackSpaceï¼‰ send_keys(Keys.SPACE) ç©ºæ ¼é”®(Space) send_keys(Keys.TAB) åˆ¶è¡¨é”®(Tab) send_keys(Keys.ESCAPE) å›é€€é”®ï¼ˆEscï¼‰ send_keys(Keys.ENTER) å›è½¦é”®ï¼ˆEnterï¼‰ send_keys(Keys.F1) é”®ç›˜ F1 â€¦â€¦ send_keys(Keys.F12) é”®ç›˜ F12 #é”®ç›˜ç»„åˆé”® send_keys(Keys.CONTROL,&#39;a&#39;) å…¨é€‰ï¼ˆCtrl+Aï¼‰ send_keys(Keys.CONTROL,&#39;c&#39;) å¤åˆ¶ï¼ˆCtrl+Cï¼‰ send_keys(Keys.CONTROL,&#39;x&#39;) å‰ªåˆ‡ï¼ˆCtrl+Xï¼‰ send_keys(Keys.CONTROL,&#39;v&#39;) ç²˜è´´ï¼ˆCtrl+Vï¼‰ å…·ä½“å®ä¾‹ï¼š # è¾“å…¥æ¡†è¾“å…¥å†…å®¹ driver.find_element_by_id(&quot;kw&quot;).send_keys(&quot;seleniumm&quot;) # åˆ é™¤å¤šè¾“å…¥çš„ä¸€ä¸ª m driver.find_element_by_id(&quot;kw&quot;).send_keys(Keys.BACK_SPACE) ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆåœ¨å®é™…åº”ç”¨ä¸­ç”±äºç½‘é€Ÿï¼Œç¡¬ä»¶æ¡ä»¶ç­‰åŸå› æˆ‘ä»¬å¯èƒ½æ— æ³•ç«‹å³åŠ è½½é¡µé¢ï¼Œè¿™æ—¶å€™å°±éœ€è¦ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆï¼Œå¦åˆ™åç»­ä¼šå‡ºç°å…ƒç´ æ— æ³•æ‰¾åˆ°ç­‰æŠ¥é”™ å¼ºåˆ¶ç­‰å¾…ç¬¬ä¸€ç§ä¹Ÿæ˜¯æœ€ç®€å•ç²—æš´çš„ä¸€ç§åŠæ³•å°±æ˜¯å¼ºåˆ¶ç­‰å¾…sleep(xx)ï¼Œè®©ç¨‹åºæš‚åœä¸‰ç§’ã€‚éœ€è¦å¼•å…¥â€œtimeâ€æ¨¡å—ï¼Œè¿™ç§å«å¼ºåˆ¶ç­‰å¾…ï¼Œä¸ç®¡ä½ æµè§ˆå™¨æ˜¯å¦åŠ è½½å®Œäº†ï¼Œç¨‹åºéƒ½å¾—ç­‰å¾…3ç§’ï¼Œ3ç§’ä¸€åˆ°ï¼Œç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼Œä½œä¸ºè°ƒè¯•å¾ˆæœ‰ç”¨ï¼Œæœ‰æ—¶å€™ä¹Ÿå¯ä»¥åœ¨ä»£ç é‡Œè¿™æ ·ç­‰å¾…ï¼Œä¸è¿‡ä¸å»ºè®®æ€»ç”¨è¿™ç§ç­‰å¾…æ–¹å¼ï¼Œå¤ªæ­»æ¿ï¼Œä¸¥é‡å½±å“ç¨‹åºæ‰§è¡Œé€Ÿåº¦ã€‚ # -*- coding: utf-8 -*- from selenium import webdriver import time driver = webdriver.Firefox() driver.get(&#39;http://baidu.com&#39;) time.sleep(3) # å¼ºåˆ¶ç­‰å¾…3ç§’å†æ‰§è¡Œä¸‹ä¸€æ­¥ print(driver.current_url) driver.quit() éšå¼ç­‰å¾…éšå½¢ç­‰å¾…æ˜¯è®¾ç½®äº†ä¸€ä¸ªæœ€é•¿ç­‰å¾…æ—¶é—´ï¼Œå¦‚æœåœ¨è§„å®šæ—¶é—´å†…ç½‘é¡µåŠ è½½å®Œæˆï¼Œåˆ™æ‰§è¡Œä¸‹ä¸€æ­¥ï¼Œå¦åˆ™ä¸€ç›´ç­‰åˆ°æ—¶é—´æˆªæ­¢ï¼Œç„¶åæ‰§è¡Œä¸‹ä¸€æ­¥ã€‚åœ¨Seleniumä¸­ä½¿ç”¨implicitly_wait()æ–¹æ³•å®ç° from selenium import webdriver driver = webdriver.Firefox() driver.implicitly_wait(10) # éšå¼ç­‰å¾…10ç§’ driver.get(&quot;http://somedomain/url_that_delays_loading&quot;) myDynamicElement = driver.find_element_by_id(&quot;myDynamicElement&quot;) implicitly_wait() çš„ç”¨æ³•æ¯” time.sleep() æ›´æ™ºèƒ½ï¼Œåè€…åªèƒ½é€‰æ‹©ä¸€ä¸ªå›ºå®šçš„æ—¶é—´çš„ç­‰å¾…ï¼Œå‰è€…å¯ä»¥åœ¨ä¸€ä¸ªæ—¶é—´èŒƒå›´å†…æ™ºèƒ½çš„ç­‰å¾…ã€‚éœ€è¦ç‰¹åˆ«è¯´æ˜çš„æ˜¯ï¼šéšæ€§ç­‰å¾…å¯¹æ•´ä¸ªdriverçš„å‘¨æœŸéƒ½èµ·ä½œç”¨ï¼Œæ‰€ä»¥åªè¦è®¾ç½®ä¸€æ¬¡å³å¯ï¼Œä¸ç”¨åƒsleep()ä¸€æ ·æ¯ä¸€æ­¥éƒ½æ¥ä¸€ä¸‹ã€‚ä½†æ˜¯éšå¼ç­‰å¾…æœ‰ä¸€ä¸ªå¼Šç«¯ï¼Œé‚£å°±æ˜¯ç¨‹åºä¼šä¸€ç›´ç­‰å¾…æ•´ä¸ªé¡µé¢åŠ è½½å®Œæˆï¼Œä¹Ÿå°±æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹ä½ çœ‹åˆ°æµè§ˆå™¨æ ‡ç­¾æ é‚£ä¸ªå°åœˆä¸å†è½¬ï¼Œæ‰ä¼šæ‰§è¡Œä¸‹ä¸€æ­¥ï¼Œä½†æœ‰æ—¶å€™é¡µé¢æƒ³è¦çš„å…ƒç´ æ—©å°±åœ¨åŠ è½½å®Œæˆäº†ï¼Œä½†æ˜¯å› ä¸ºä¸ªåˆ«jsä¹‹ç±»çš„ä¸œè¥¿ç‰¹åˆ«æ…¢ï¼Œæˆ‘ä»å¾—ç­‰åˆ°é¡µé¢å…¨éƒ¨å®Œæˆæ‰èƒ½æ‰§è¡Œä¸‹ä¸€æ­¥ï¼Œæˆ‘æƒ³ç­‰æˆ‘è¦çš„å…ƒç´ å‡ºæ¥ä¹‹åå°±ä¸‹ä¸€æ­¥æ€ä¹ˆåŠï¼Ÿè¿™å°±è¦ä½¿ç”¨seleniumæä¾›çš„å¦ä¸€ç§ç­‰å¾…æ–¹å¼â€”â€”æ˜¾æ€§ç­‰å¾…äº†ã€‚ æ˜¾ç¤ºç­‰å¾…æ˜¾æ€§ç­‰å¾…å°±æ˜¯è®©ç¨‹åºæ¯éš”xxç§’æµ‹è¯•ä¸€ä¸‹ï¼Œå¦‚æœæ¡ä»¶æˆç«‹äº†ï¼Œåˆ™æ‰§è¡Œä¸‹ä¸€æ­¥ï¼Œå¦åˆ™ç»§ç»­ç­‰å¾…ï¼Œç›´åˆ°è¶…è¿‡è®¾ç½®çš„æœ€é•¿æ—¶é—´ï¼Œç„¶åæŠ›å‡ºTimeoutExceptionã€‚Seleniumä¸­å®ç°æ˜¾ç¤ºç­‰å¾…çš„æ˜¯WebDriverWaitç±»ï¼Œå…ˆçœ‹ä¸‹å®ƒæœ‰å“ªäº›å‚æ•°ä¸æ–¹æ³•ï¼š selenium.webdriver.support.wait.WebDriverWaitï¼ˆç±»ï¼‰ å‚æ•°ï¼š driver: ä¼ å…¥WebDriverå®ä¾‹ï¼Œå³æˆ‘ä»¬ä¸Šä¾‹ä¸­çš„driver timeout: è¶…æ—¶æ—¶é—´ï¼Œç­‰å¾…çš„æœ€é•¿æ—¶é—´ï¼ˆåŒæ—¶è¦è€ƒè™‘éšæ€§ç­‰å¾…æ—¶é—´ï¼‰ poll_frequency: è°ƒç”¨untilæˆ–until_notä¸­çš„æ–¹æ³•çš„é—´éš”æ—¶é—´ï¼Œé»˜è®¤æ˜¯0.5ç§’ ignored_exceptions: å¿½ç•¥çš„å¼‚å¸¸ï¼Œå¦‚æœåœ¨è°ƒç”¨untilæˆ–until_notçš„è¿‡ç¨‹ä¸­æŠ›å‡ºè¿™ä¸ªå…ƒç»„ä¸­çš„å¼‚å¸¸ï¼Œåˆ™ä¸ä¸­æ–­ä»£ç ï¼Œç»§ç»­ç­‰å¾…ï¼Œå¦‚æœæŠ›å‡ºçš„æ˜¯è¿™ä¸ªå…ƒç»„å¤–çš„å¼‚å¸¸ï¼Œåˆ™ä¸­æ–­ä»£ç ï¼ŒæŠ›å‡ºå¼‚å¸¸ã€‚é»˜è®¤åªæœ‰NoSuchElementExceptionã€‚ æ–¹æ³•ï¼š until: method: åœ¨ç­‰å¾…æœŸé—´ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´ï¼ˆ__init__ä¸­çš„poll_frequencyï¼‰è°ƒç”¨è¿™ä¸ªä¼ å…¥çš„æ–¹æ³•ï¼Œç›´åˆ°è¿”å›å€¼ä¸æ˜¯False message: å¦‚æœè¶…æ—¶ï¼ŒæŠ›å‡ºTimeoutExceptionï¼Œå°†messageä¼ å…¥å¼‚å¸¸ until_not:ä¸untilç›¸åï¼Œuntilæ˜¯å½“æŸå…ƒç´ å‡ºç°æˆ–ä»€ä¹ˆæ¡ä»¶æˆç«‹åˆ™ç»§ç»­æ‰§è¡Œï¼Œuntil_notæ˜¯å½“æŸå…ƒç´ æ¶ˆå¤±æˆ–ä»€ä¹ˆæ¡ä»¶ä¸æˆç«‹åˆ™ç»§ç»­æ‰§è¡Œï¼Œå‚æ•°ä¹Ÿç›¸åŒï¼Œä¸å†èµ˜è¿°ã€‚ è¿™é‡Œéœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯untilæˆ–until_notä¸­çš„å¯æ‰§è¡Œæ–¹æ³•methodå‚æ•°ï¼Œå¾ˆå¤šäººä¼ å…¥äº†WebElementå¯¹è±¡ï¼Œä¾‹å¦‚WebDriverWait(driver, 10).until(driver.find_element_by_id(&#39;kw&#39;)) # é”™è¯¯,è¿™æ˜¯é”™è¯¯çš„ç”¨æ³•ï¼Œè¿™é‡Œçš„å‚æ•°ä¸€å®šè¦æ˜¯å¯ä»¥è°ƒç”¨çš„ï¼Œå³è¿™ä¸ªå¯¹è±¡ä¸€å®šæœ‰ call() æ–¹æ³•ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ï¼šTypeError: &#39;xxx&#39; object is not callable.methodå‚æ•°å¯ä»¥ç”¨seleniumæä¾›çš„ expected_conditions æ¨¡å—ä¸­çš„å„ç§æ¡ä»¶ï¼Œä¹Ÿå¯ä»¥ç”¨WebElementçš„ is_displayed() ã€is_enabled()ã€is_selected() æ–¹æ³•ï¼Œæˆ–è€…ç”¨è‡ªå·±å°è£…çš„æ–¹æ³•éƒ½å¯ä»¥ã€‚ #coding=utf-8 from selenium import webdriver from selenium.webdriver.common.by import By from selenium.webdriver.support import expected_conditions as EC from selenium.webdriver.support.wait import WebDriverWait base_url = &quot;http://www.baidu.com&quot; driver = webdriver.Firefox() driver.implicitly_wait(5) &#39;&#39;&#39;éšå¼ç­‰å¾…å’Œæ˜¾ç¤ºç­‰å¾…éƒ½å­˜åœ¨æ—¶ï¼Œè¶…æ—¶æ—¶é—´å–äºŒè€…ä¸­è¾ƒå¤§çš„&#39;&#39;&#39; locator = (By.ID,&#39;kw&#39;) driver.get(base_url) WebDriverWait(driver,10).until(EC.title_is(u&quot;ç™¾åº¦ä¸€ä¸‹ï¼Œä½ å°±çŸ¥é“&quot;)) &#39;&#39;&#39;åˆ¤æ–­title,è¿”å›å¸ƒå°”å€¼&#39;&#39;&#39; WebDriverWait(driver,10).until(EC.title_contains(u&quot;ç™¾åº¦ä¸€ä¸‹&quot;)) &#39;&#39;&#39;åˆ¤æ–­titleï¼Œè¿”å›å¸ƒå°”å€¼&#39;&#39;&#39; WebDriverWait(driver,10).until(EC.presence_of_element_located((By.ID,&#39;kw&#39;))) &#39;&#39;&#39;åˆ¤æ–­æŸä¸ªå…ƒç´ æ˜¯å¦è¢«åŠ åˆ°äº†domæ ‘é‡Œï¼Œå¹¶ä¸ä»£è¡¨è¯¥å…ƒç´ ä¸€å®šå¯è§ï¼Œå¦‚æœå®šä½åˆ°å°±è¿”å›WebElement&#39;&#39;&#39; WebDriverWait(driver,10).until(EC.visibility_of_element_located((By.ID,&#39;su&#39;))) &#39;&#39;&#39;åˆ¤æ–­æŸä¸ªå…ƒç´ æ˜¯å¦è¢«æ·»åŠ åˆ°äº†domé‡Œå¹¶ä¸”å¯è§ï¼Œå¯è§ä»£è¡¨å…ƒç´ å¯æ˜¾ç¤ºä¸”å®½å’Œé«˜éƒ½å¤§äº0&#39;&#39;&#39; WebDriverWait(driver,10).until(EC.visibility_of(driver.find_element(by=By.ID,value=&#39;kw&#39;))) &#39;&#39;&#39;åˆ¤æ–­å…ƒç´ æ˜¯å¦å¯è§ï¼Œå¦‚æœå¯è§å°±è¿”å›è¿™ä¸ªå…ƒç´ &#39;&#39;&#39; WebDriverWait(driver,10).until(EC.presence_of_all_elements_located((By.CSS_SELECTOR,&#39;.mnav&#39;))) &#39;&#39;&#39;åˆ¤æ–­æ˜¯å¦è‡³å°‘æœ‰1ä¸ªå…ƒç´ å­˜åœ¨äºdomæ ‘ä¸­ï¼Œå¦‚æœå®šä½åˆ°å°±è¿”å›åˆ—è¡¨&#39;&#39;&#39; WebDriverWait(driver,10).until(EC.visibility_of_any_elements_located((By.CSS_SELECTOR,&#39;.mnav&#39;))) &#39;&#39;&#39;åˆ¤æ–­æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ åœ¨é¡µé¢ä¸­å¯è§ï¼Œå¦‚æœå®šä½åˆ°å°±è¿”å›åˆ—è¡¨&#39;&#39;&#39; WebDriverWait(driver,10).until(EC.text_to_be_present_in_element((By.XPATH,&quot;//*[@id=&#39;u1&#39;]/a[8]&quot;),u&#39;è®¾ç½®&#39;)) &#39;&#39;&#39;åˆ¤æ–­æŒ‡å®šçš„å…ƒç´ ä¸­æ˜¯å¦åŒ…å«äº†é¢„æœŸçš„å­—ç¬¦ä¸²ï¼Œè¿”å›å¸ƒå°”å€¼&#39;&#39;&#39; WebDriverWait(driver,10).until(EC.text_to_be_present_in_element_value((By.CSS_SELECTOR,&#39;#su&#39;),u&#39;ç™¾åº¦ä¸€ä¸‹&#39;)) &#39;&#39;&#39;åˆ¤æ–­æŒ‡å®šå…ƒç´ çš„å±æ€§å€¼ä¸­æ˜¯å¦åŒ…å«äº†é¢„æœŸçš„å­—ç¬¦ä¸²ï¼Œè¿”å›å¸ƒå°”å€¼&#39;&#39;&#39; #WebDriverWait(driver,10).until(EC.frame_to_be_available_and_switch_to_it(locator)) &#39;&#39;&#39;åˆ¤æ–­è¯¥frameæ˜¯å¦å¯ä»¥switchè¿›å»ï¼Œå¦‚æœå¯ä»¥çš„è¯ï¼Œè¿”å›Trueå¹¶ä¸”switchè¿›å»ï¼Œå¦åˆ™è¿”å›False&#39;&#39;&#39; #æ³¨æ„è¿™é‡Œå¹¶æ²¡æœ‰ä¸€ä¸ªframeå¯ä»¥åˆ‡æ¢è¿›å» WebDriverWait(driver,10).until(EC.invisibility_of_element_located((By.CSS_SELECTOR,&#39;#swfEveryCookieWrap&#39;))) &#39;&#39;&#39;åˆ¤æ–­æŸä¸ªå…ƒç´ åœ¨æ˜¯å¦å­˜åœ¨äºdomæˆ–ä¸å¯è§,å¦‚æœå¯è§è¿”å›False,ä¸å¯è§è¿”å›è¿™ä¸ªå…ƒç´ &#39;&#39;&#39; #æ³¨æ„#swfEveryCookieWrapåœ¨æ­¤é¡µé¢ä¸­æ˜¯ä¸€ä¸ªéšè—çš„å…ƒç´  WebDriverWait(driver,10).until(EC.element_to_be_clickable((By.XPATH,&quot;//*[@id=&#39;u1&#39;]/a[8]&quot;))).click() &#39;&#39;&#39;åˆ¤æ–­æŸä¸ªå…ƒç´ ä¸­æ˜¯å¦å¯è§å¹¶ä¸”æ˜¯enableçš„ï¼Œä»£è¡¨å¯ç‚¹å‡»&#39;&#39;&#39; driver.find_element_by_xpath(&quot;//*[@id=&#39;wrapper&#39;]/div[6]/a[1]&quot;).click() #WebDriverWait(driver,10).until(EC.element_to_be_clickable((By.XPATH,&quot;//*[@id=&#39;wrapper&#39;]/div[6]/a[1]&quot;))).click() #WebDriverWait(driver,10).until(EC.staleness_of(driver.find_element(By.ID,&#39;su&#39;))) &#39;&#39;&#39;ç­‰å¾…æŸä¸ªå…ƒç´ ä»domæ ‘ä¸­ç§»é™¤&#39;&#39;&#39; #è¿™é‡Œæ²¡æœ‰æ‰¾åˆ°åˆé€‚çš„ä¾‹å­ WebDriverWait(driver,10).until(EC.element_to_be_selected(driver.find_element(By.XPATH,&quot;//*[@id=&#39;nr&#39;]/option[1]&quot;))) &#39;&#39;&#39;åˆ¤æ–­æŸä¸ªå…ƒç´ æ˜¯å¦è¢«é€‰ä¸­äº†,ä¸€èˆ¬ç”¨åœ¨ä¸‹æ‹‰åˆ—è¡¨&#39;&#39;&#39; WebDriverWait(driver,10).until(EC.element_selection_state_to_be(driver.find_element(By.XPATH,&quot;//*[@id=&#39;nr&#39;]/option[1]&quot;),True)) &#39;&#39;&#39;åˆ¤æ–­æŸä¸ªå…ƒç´ çš„é€‰ä¸­çŠ¶æ€æ˜¯å¦ç¬¦åˆé¢„æœŸ&#39;&#39;&#39; WebDriverWait(driver,10).until(EC.element_located_selection_state_to_be((By.XPATH,&quot;//*[@id=&#39;nr&#39;]/option[1]&quot;),True)) &#39;&#39;&#39;åˆ¤æ–­æŸä¸ªå…ƒç´ çš„é€‰ä¸­çŠ¶æ€æ˜¯å¦ç¬¦åˆé¢„æœŸ&#39;&#39;&#39; driver.find_element_by_xpath(&quot;.//*[@id=&#39;gxszButton&#39;]/a[1]&quot;).click() instance = WebDriverWait(driver,10).until(EC.alert_is_present()) &#39;&#39;&#39;åˆ¤æ–­é¡µé¢ä¸Šæ˜¯å¦å­˜åœ¨alert,å¦‚æœæœ‰å°±åˆ‡æ¢åˆ°alertå¹¶è¿”å›alertçš„å†…å®¹&#39;&#39;&#39; print instance.text instance.accept() driver.close() åœ¨ä¸åŒçš„çª—å£å’Œæ¡†æ¶ä¹‹é—´ç§»åŠ¨å®šä½å…ƒç´ è¿‡ç¨‹ä¸­å¦‚æœé¡µé¢å­˜åœ¨iframeæˆ–å†…åµŒçª—å£å°±ä¼šé‡åˆ°æ‰¾ä¸åˆ°å…ƒç´ çš„é—®é¢˜ï¼Œwebdriver æä¾›äº†ä¸€ä¸ª switch_to_frame æ–¹æ³•ï¼Œå¯ä»¥å¾ˆè½»æ¾çš„æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ driver.switch_to_window(&quot;windowName&quot;) #å†…åµŒçª—å£ driver.switch_to_frame(&quot;frameName&quot;) #å¤šå±‚æ¡†æ¶ ä»¥ç›´æ¥å–è¡¨å•çš„id æˆ–nameå±æ€§ã€‚å¦‚æœiframeæ²¡æœ‰å¯ç”¨çš„idå’Œnameå±æ€§ï¼Œåˆ™å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼è¿›è¡Œå®šä½ã€‚ #å…ˆé€šè¿‡xpthå®šä½åˆ°iframe xf = driver.find_element_by_xpath(&#39;//*[@id=&quot;x-URS-iframe&quot;]&#39;) #å†å°†å®šä½å¯¹è±¡ä¼ ç»™switch_to_frame()æ–¹æ³• driver.switch_to_frame(xf) ä¸€æ—¦æˆ‘ä»¬å®Œæˆäº†frameä¸­çš„å·¥ä½œï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·è¿”å›çˆ¶frame: driver.switch_to_default_content() è·å–æ–­è¨€ä¿¡æ¯è®²å¦‚ä½•è·å–æ–­è¨€ä¿¡æ¯ä¹‹å‰ï¼Œå…ˆæ™®åŠä¸€ä¸‹æ–­è¨€çš„æ¦‚å¿µã€‚æ–­è¨€æ˜¯ç¼–ç¨‹æœ¯è¯­ï¼Œè¡¨ç¤ºä¸ºä¸€äº›å¸ƒå°”è¡¨è¾¾ï¼Œç”¨æ¥æ£€æŸ¥ä¸€ä¸ªæ¡ä»¶ï¼Œå¦‚æœå®ƒä¸ºçœŸï¼Œå°±ä¸åšä»»ä½•äº‹ã€‚å¦‚æœå®ƒä¸ºå‡æŠ›å‡ºå¼‚å¸¸ã€‚é‚£ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ–­è¨€å‘¢ï¼Ÿå› ä¸ºä½¿ç”¨æ–­è¨€å¯ä»¥åˆ›å»ºæ›´ç¨³å®šã€å“è´¨æ›´å¥½ä¸” ä¸æ˜“äºå‡ºé”™çš„ä»£ç ã€‚å½“éœ€è¦åœ¨ä¸€ä¸ªå€¼ä¸ºFALSEæ—¶ä¸­æ–­å½“å‰æ“ä½œçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨æ–­è¨€ã€‚æ¯”å¦‚è¯´æˆ‘ä»¬åšseleniumè‡ªåŠ¨åŒ–ï¼Œéœ€è¦æ‰“å¼€ç™¾åº¦ï¼Œé‚£ä¹ˆå¦‚ä½•å»åˆ¤æ–­æ‰“å¼€çš„è¿™ä¸ªç™¾åº¦é¡µé¢æ˜¯å¦ä¸ºçœŸå‘¢ï¼Ÿå¯ä»¥è·å–é¡µé¢çš„æ ‡é¢˜ï¼Œæˆ–è€…ç‰¹å®šçš„æ–‡æœ¬ç­‰ä¿¡æ¯å»æ–­è¨€æ˜¯å¦ä¸ºçœŸã€‚é€šå¸¸å¯ä»¥é€šè¿‡è·å–title ã€URLå’Œtextç­‰ä¿¡æ¯è¿›è¡Œæ–­è¨€ title = driver.title # æ‰“å°å½“å‰é¡µé¢title now_url = driver.current_url # æ‰“å°å½“å‰é¡µé¢URL user = driver.find_element_by_class_name(&#39;nums&#39;).text #è·å–ç»“æœæ•°ç›® è­¦å‘Šæ¡†å¤„ç†#åˆ‡æ¢åˆ°alertï¼Œé»˜è®¤è¿”å›alertå¯¹è¯æ¡†å¯¹è±¡ alert = driver.switch_to_alert() #å¤„ç†å¯¹è¯æ¡† alert.accept() å…¶ä¸­å¤„ç†å¯¹è¯æ¡†çš„æ–¹æ³•æœ‰ï¼š textï¼šè¿”å› alert/confirm/prompt ä¸­çš„æ–‡å­—ä¿¡æ¯ã€‚ accept()ï¼šæ¥å—ç°æœ‰è­¦å‘Šæ¡†ã€‚ dismiss()ï¼šè§£æ•£ç°æœ‰è­¦å‘Šæ¡†ã€‚ send_keys(keysToSend)ï¼šå‘é€æ–‡æœ¬è‡³è­¦å‘Šæ¡†ã€‚keysToSendï¼šå°†æ–‡æœ¬å‘é€è‡³è­¦å‘Šæ¡†ã€‚ ä¸‹æ‹‰æ¡†é€‰æ‹©from selenium import webdriver from selenium.webdriver.support.select import Select from time import sleep driver = webdriver.Chrome() driver.implicitly_wait(10) driver.get(&#39;http://www.baidu.com&#39;) sel = driver.find_element_by_xpath(&quot;//select[@id=&#39;nr&#39;]&quot;) Select(sel).select_by_value(&#39;50&#39;) # æ˜¾ç¤º50æ¡ æ–‡ä»¶ä¸Šä¼ driver.find_element_by_name(&quot;file&quot;).send_keys(&#39;D:\\\\upload_file.txt&#39;) #å®šä½ä¸Šä¼ æŒ‰é’®ï¼Œæ·»åŠ æœ¬åœ°æ–‡ä»¶ æ— ç•Œé¢æ¨¡å¼æ— ç•Œé¢æ¨¡å¼å¯ä»¥éšè—æµè§ˆå™¨ç•Œé¢åŒæ—¶ä¸å½±å“å…·ä½“æ“ä½œ from selenium import webdriver from selenium.webdriver import ChromeOptions option = ChromeOptions() option.headless = True #è®¾ç½®æ— ç•Œé¢æ¨¡å¼çš„ç¬¬ä¸€ç§æ–¹æ³• #option.add_argument(&#39;--headless&#39;) #è®¾ç½®æ— ç•Œé¢æ¨¡å¼çš„ç¬¬äºŒç§æ–¹æ³• driver = webdriver.Chrome(options=option) driver.get(&#39;https://www.baidu.com&#39;) # è·å–ç½‘é¡µçš„æºç  html = driver.page_source print(html) ä½¿ç”¨ä»£ç†from selenium import webdriver import time options = webdriver.ChromeOptions() options.add_argument(&#39;--proxy-server=http://ipåœ°å€&#39;) # ä»£ç†IP:ç«¯å£å· driver = webdriver.Chrome(options=options) driver.get(&quot;https://dev.kdlapi.com/testproxy&quot;) # è·å–é¡µé¢å†…å®¹ print(driver.page_source) # å»¶è¿Ÿ3ç§’åå…³é—­å½“å‰çª—å£ï¼Œå¦‚æœæ˜¯æœ€åä¸€ä¸ªçª—å£åˆ™é€€å‡º time.sleep(3) driver.close() cookieæ“ä½œWebDriveræ“ä½œcookieçš„æ–¹æ³•ï¼š get_cookies()ï¼š è·å¾—æ‰€æœ‰cookieä¿¡æ¯ã€‚ get_cookie(name)ï¼š è¿”å›å­—å…¸çš„keyä¸ºâ€œnameâ€çš„cookieä¿¡æ¯ã€‚ add_cookie(cookie_dict) ï¼š æ·»åŠ cookieã€‚â€œcookie_dictâ€æŒ‡å­—å…¸å¯¹è±¡ï¼Œå¿…é¡»æœ‰name å’Œvalue å€¼ã€‚ delete_cookie(name,optionsString)ï¼šåˆ é™¤cookieä¿¡æ¯ã€‚â€œnameâ€æ˜¯è¦åˆ é™¤çš„cookieçš„åç§°ï¼Œâ€œoptionsStringâ€æ˜¯è¯¥cookieçš„é€‰é¡¹ï¼Œç›®å‰æ”¯æŒçš„é€‰é¡¹åŒ…æ‹¬â€œè·¯å¾„â€ï¼Œâ€œåŸŸâ€ã€‚ delete_all_cookies()ï¼š åˆ é™¤æ‰€æœ‰cookieä¿¡æ¯ åœ¨çˆ¬è™«ä¸­æˆ‘ä»¬å°±ç»å¸¸éœ€è¦ä¼ å…¥cookie,å¦åˆ™æ¯æ¬¡è‡ªåŠ¨æ‰“å¼€ä¸€äº›æœ‰åçˆ¬æœºåˆ¶çš„ç½‘ç«™å°±ä¼šéœ€è¦éªŒè¯ï¼Œå…·ä½“å¯å‚è€ƒæ–‡ç« ï¼šhttps://blog.csdn.net/qq_42692386/article/details/119004055 è°ƒç”¨JavaScriptä»£ç js=&quot;window.scrollTo(100,450);&quot; driver.execute_script(js) # é€šè¿‡javascriptè®¾ç½®æµè§ˆå™¨çª—å£çš„æ»šåŠ¨æ¡ä½ç½® é€šè¿‡execute_script()æ–¹æ³•æ‰§è¡ŒJavaScriptsä»£ç æ¥ç§»åŠ¨æ»šåŠ¨æ¡çš„ä½ç½®ã€‚é€šè¿‡JavaScriptå’ŒSeleniumå¯ä»¥å®ç°éå¸¸å¤šçš„æ“ä½œ çª—å£æˆªå›¾driver.get_screenshot_as_file(&quot;D:\\\\baidu_img.jpg&quot;) # æˆªå–å½“å‰çª—å£ï¼Œå¹¶æŒ‡å®šæˆªå›¾å›¾ç‰‡çš„ä¿å­˜ä½ç½® å…³é—­æµè§ˆå™¨close() #å…³é—­å•ä¸ªçª—å£ quit() #å…³é—­æ‰€æœ‰çª—å£ å…¶ä»–Seleniumå¸¸è§é—®é¢˜ä¸è§£å†³ï¼š å‚è€ƒæ–‡ç« ï¼šseleniumå®˜æ–¹æ–‡æ¡£ï¼šhttps://www.selenium.dev/selenium/docs/api/py/index.htmlhttps://www.jianshu.com/p/1531e12f8852https://zhuanlan.zhihu.com/p/111859925","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"Pythonåº“","slug":"Pythonåº“","permalink":"http://smilecoc.vip/tags/Pythonåº“/"}],"author":"smilecoc"},{"title":"åˆ©ç”¨Pythonè°ƒç”¨outlookè‡ªåŠ¨å‘é€é‚®ä»¶","slug":"Python_outlook_auto_send_email","date":"2021-07-09T07:24:05.000Z","updated":"2021-08-08T16:57:21.506Z","comments":true,"path":"2021/07/09/Python_outlook_auto_send_email/","link":"","permalink":"http://smilecoc.vip/2021/07/09/Python_outlook_auto_send_email/","excerpt":"","text":"ä½¿ç”¨Pythonå‘é€é‚®ä»¶æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯ä½¿ç”¨smtpè°ƒç”¨é‚®ç®±çš„smtpæœåŠ¡å™¨ï¼Œå¦ä¸€ç§æ˜¯ç›´æ¥è°ƒç”¨ç¨‹åºç›´æ¥å‘é€é‚®ä»¶ã€‚è€Œåœ¨outlookä¸­æˆ‘ä»¬ä¸€èˆ¬æ˜¯æ²¡æœ‰æƒé™å»å¼€å¯smtpæœåŠ¡çš„ï¼Œæ‰€ä»¥ä¸€èˆ¬åªèƒ½é€šè¿‡ç¬¬äºŒç§ç›´æ¥è°ƒç”¨æ–¹å¼å‘é€é‚®ä»¶ åŸºç¡€ç‰ˆæœ¬â€”èƒ½è‡ªåŠ¨å‘é€å°±æ˜¯æˆåŠŸåˆ©ç”¨Pythonä½¿ç”¨Outlookè‡ªåŠ¨å‘é€é‚®ä»¶ï¼Œä»£ç åŠæ³¨é‡Šå¦‚ä¸‹ï¼š import win32com.client as win32 outlook = win32.Dispatch(&#39;outlook.application&#39;) mail = outlook.CreateItem(0) mail.To = &#39;12345@qq.com&#39; #æ”¶ä»¶äºº mail.CC = &#39;12345678@qq.com&#39; # æŠ„é€äºº #mail.Bcc=&#39;12345678@qq.com&#39; #å¯†æŠ„æ”¶ä»¶äºº mail.Subject = &#39;test1&#39; #é‚®ä»¶ä¸»é¢˜ mail.Body = &#39;è¿™æ˜¯ä¸€å°æµ‹è¯•é‚®ä»¶&#39; #é‚®ä»¶æ­£æ–‡ mail.Importance = 2 #è®¾ç½®é‡è¦æ€§ä¸ºé«˜ mail.Attachments.Add(r&#39;C:\\Users\\Desktop\\æµ‹è¯•.xlsx&#39;) #æ·»åŠ é™„ä»¶ mail.Send() #å‘é€ æ·»åŠ å¤šä¸ªé™„ä»¶å¦‚æœéœ€è¦æ·»åŠ å¤šä¸ªé™„ä»¶ï¼Œåˆ™ç›´æ¥ä½¿ç”¨å¤šæ¬¡çš„ .Attachments.Addå³å¯ import win32com.client as win32 outlook = win32.Dispatch(&#39;outlook.application&#39;) mail = outlook.CreateItem(0) mail.To = &#39;12345@qq.com&#39; #æ”¶ä»¶äºº mail.Subject = &#39;test1&#39; #é‚®ä»¶ä¸»é¢˜ mail.Body = &#39;è¿™æ˜¯ä¸€å°å¤šé™„ä»¶æµ‹è¯•é‚®ä»¶&#39; #é‚®ä»¶æ­£æ–‡ mail.Attachments.Add(r&#39;C:\\Users\\Desktop\\æµ‹è¯•.xlsx&#39;) #æ·»åŠ é™„ä»¶ mail.Attachments.Add(r&#39;C:\\Users\\Desktop\\æµ‹è¯•2.txt&#39;) #æ·»åŠ ç¬¬äºŒä¸ªé™„ä»¶ mail.Send() #å‘é€ é€‰æ‹©å‘é€é‚®ç®±/è´¦å·è‡ªåŠ¨å‘é€é»˜è®¤ä½¿ç”¨outlookä¸­çš„é»˜è®¤é‚®ç®±ï¼Œä½†æ˜¯æˆ‘ä»¬çš„outlooké‚®ç®±å¯èƒ½é™¤äº†æˆ‘ä»¬è‡ªå·±çš„é‚®ç®±è´¦å·å¤–è¿˜æœ‰å…¶ä»–çš„è´¦å·ï¼Œä¾‹å¦‚å…¬å…±é‚®ç®±ã€‚åªè¦è®¾å®šä¸€ä¸‹.SentOnBehalfOfNameå³å¯ï¼š import win32com.client as win32 outlook = win32.Dispatch(&#39;outlook.application&#39;) mail = outlook.CreateItem(0) mail.SentOnBehalfOfName = &#39;accoumt2@outlook.com&#39; #é€‰æ‹©å‘é€é‚®ç®±,åªéœ€è¦ä¿®æ”¹å¯¹åº”ä½¿ç”¨çš„é‚®ç®±/è´¦å·åœ°å€å³å¯ mail.To = &#39;12345@qq.com&#39; #æ”¶ä»¶äºº mail.Subject = &#39;test1&#39; #é‚®ä»¶ä¸»é¢˜ mail.Body = &#39;è¿™æ˜¯ä¸€å°æµ‹è¯•é‚®ä»¶&#39; #é‚®ä»¶æ­£æ–‡ mail.Send() #å‘é€ ä¿®æ”¹æ­£æ–‡æ ¼å¼å¦‚æœéœ€è¦ä¿®æ”¹æ­£æ–‡ä¸­çš„å­—ä½“ï¼Œåˆ™éœ€è¦åœ¨æ­£æ–‡ä¸­ä½¿ç”¨HTMLæ ¼å¼è°ƒæ•´ï¼Œä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š import win32com.client as win32 outlook = win32.Dispatch(&#39;outlook.application&#39;) mail = outlook.CreateItem(0) mail.To = &#39;Joshua.Shu@saicgmac.com&#39; #æ”¶ä»¶äºº mail.Subject = &#39;test&#39; #é‚®ä»¶ä¸»é¢˜ mail.Body = &#39;è¿™æ˜¯ä¸€å°æµ‹è¯•é‚®ä»¶&#39; #é‚®ä»¶æ­£æ–‡ mail.BodyFormat = 2 # 2è¡¨ç¤ºä½¿ç”¨Html formatï¼Œå¯ä»¥è°ƒæ•´æ ¼å¼ç­‰ mail.HTMLBody = &#39;&#39;&#39;&lt;H2&gt;è‡´å°Šæ•¬çš„æ”¶ä»¶äºº&lt;/H2&gt;&lt;BR&gt; &lt;FONT SIZE=4&gt;è¯·æ³¨æ„&lt;BR&gt; è¿™æ˜¯ä¸€å°&lt;Font Face=Times Roman Size=4.5 Color=blue&gt;æµ‹è¯•é‚®ä»¶&lt;/font&gt;å¹¶ä¸”&lt;Font Face=Times Roman Size=4.5 Color=red&gt;æ²¡æœ‰é™„ä»¶&lt;/font&gt;ã€‚&lt;BR&gt;&#39;&#39;&#39; mail.Display() #æ˜¾ç¤ºå‘é€é‚®ä»¶ç•Œé¢ mail.Send() #å‘é€ å…¶ä¸­æ­£æ–‡ä¸­çš„HTMLæ ‡ç­¾å«ä¹‰å¦‚ä¸‹ï¼š &lt;H2&gt; &lt;/H2&gt;æ ‡ç­¾: åœ¨Htmlè¯­å¥ä¸­&lt;h1&gt; - &lt;h6&gt; æ ‡ç­¾å¯å®šä¹‰æ ‡é¢˜ã€‚&lt;h1&gt; å®šä¹‰æœ€å¤§çš„æ ‡é¢˜ã€‚&lt;h6&gt; å®šä¹‰æœ€å°çš„æ ‡é¢˜ã€‚ &lt;br&gt; æ ‡ç­¾ï¼šæ’å…¥ä¸€ä¸ªæ¢è¡Œç¬¦ &lt;font&gt;æ ‡ç­¾ï¼š è§„å®šæ–‡æœ¬çš„å­—ä½“ã€å­—ä½“å°ºå¯¸ã€å­—ä½“é¢œè‰²ã€‚ä¾‹å¦‚ç¤ºä¾‹ä¸­çš„&lt;Font Face=Times Roman Size=4.5 Color=blue&gt; å…¶ä»–æ ¼å¼ï¼Œä¾‹å¦‚åŠ ç²—ï¼Œæ–œä½“ç­‰éƒ½å¯ä»¥ä½¿ç”¨ç‰¹å®šçš„HTMLæ ‡ç­¾å®ç°ï¼Œå…·ä½“ç™¾åº¦å³å¯ã€‚ æ’å…¥å›¾ç‰‡å¦‚æœéœ€è¦åœ¨æ­£æ–‡ä¸­æ’å…¥å›¾ç‰‡çš„è¯åˆ™éœ€è¦å…ˆæ’å…¥å›¾ç‰‡é™„ä»¶ï¼Œç„¶ååˆ©ç”¨HTMLå°†å›¾ç‰‡æ’å…¥åˆ°æ­£æ–‡ä¸­ import win32com.client as win32 outlook = win32.Dispatch(&#39;Outlook.Application&#39;) mail = outlook.CreateItem(0) mail.To = &#39;12345@qq.com&#39; mail.Subject =&#39;test&#39; mail.BodyFormat = 2 mail.Attachments.Add(r&quot;C:\\Users\\æµ‹è¯•.jpg&quot;) # å…ˆæŠŠè¦æ’å…¥çš„å›¾ç‰‡å½“ä½œä¸€ä¸ªé™„ä»¶æ·»åŠ  mail.Attachments.Add(r&quot;C:\\Users\\æµ‹è¯•è¡¨æ ¼.xlsx&quot;) # æ·»åŠ æ­£å¸¸çš„é™„ä»¶ mail.HtmlBody = &quot;&lt;div&gt;&lt;img src=&#39;æµ‹è¯•.jpg&#39; /&gt;&lt;/div&gt;&quot; # ç„¶ååœ¨htmlbodyé‡Œé¢è°ƒç”¨è¿™ä¸ªå›¾ç‰‡ï¼Œå°±å¯ä»¥è¿›å…¥åˆ°æ­£æ–‡é‡Œé¢äº† mail.Display() mail.Send() åˆ©ç”¨VBAè°ƒç”¨outlookè‡ªåŠ¨å‘é€é‚®ä»¶","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"Pythonå…¶ä»–","slug":"Pythonå…¶ä»–","permalink":"http://smilecoc.vip/tags/Pythonå…¶ä»–/"}],"author":"smilecoc"},{"title":"åˆ©ç”¨VBAè°ƒç”¨outlookè‡ªåŠ¨å‘é€é‚®ä»¶","slug":"vba_outlook_auto_send_email","date":"2021-06-28T07:24:17.000Z","updated":"2021-08-08T16:57:33.205Z","comments":true,"path":"2021/06/28/vba_outlook_auto_send_email/","link":"","permalink":"http://smilecoc.vip/2021/06/28/vba_outlook_auto_send_email/","excerpt":"","text":"åŸºç¡€ç‰ˆæœ¬â€”èƒ½è‡ªåŠ¨å‘é€å°±æ˜¯æˆåŠŸåˆ©ç”¨VBAä½¿ç”¨Outlookè‡ªåŠ¨å‘é€é‚®ä»¶ï¼Œä»£ç åŠæ³¨é‡Šå¦‚ä¸‹ï¼š Sub send_mail() Dim ObjOL As Object Dim itmNewMail As Outlook.MailItem Dim mailaddress As String &#39;å¼•ç”¨Microsoft Outlook å¯¹è±¡ Set ObjOL = CreateObject(&quot;Outlook.Application&quot;) Set itmNewMail = ObjOL.CreateItem(olMailItem) &#39;******è¾“å…¥å‚æ•°ï¼Œå¤šä¸ªæ”¶ä»¶äººï¼ŒæŠ„é€äººç”¨åˆ†å·é—´éš” With itmNewMail .Subject = &quot;æµ‹è¯•é‚®ä»¶&quot; &#39;ä¸»æ—¨ .body = &quot;è¿™æ˜¯ä¸€å°æµ‹è¯•é‚®ä»¶&quot; &#39;æ­£æ–‡æœ¬æ–‡ .To = &quot;12345@qq.com&quot; &#39;æ”¶ä»¶è€… &#39; .CC=CC &#39;æŠ„é€é‚®ä»¶åœ°å€ &#39; .BCC = BCC mail.Bcc=&#39;12345678@qq.com&#39; .Attachments.Add &quot;C:\\æµ‹è¯•.xlsx&quot; &#39;æ’å…¥é™„ä»¶ .Importance = 2 &#39;è®¾ç½®é‡è¦æ€§ä¸ºé«˜ .Display &#39;å¯åŠ¨Outlookå‘é€çª—å£ .send &#39;å‘é€ End With Set ObjOL = Nothing Set itmNewMail = Nothing End Sub å¦‚æœè¿è¡Œè¿‡ç¨‹ä¸­æŠ¥é”™â€œç”¨æˆ·å®šä¹‰ç±»å‹æœªå®šä¹‰ï¼ˆUser-defined type not definedï¼‰â€ï¼Œåˆ™éœ€è¦æ·»åŠ å¯¹åº”çš„æ’ä»¶ï¼šç‚¹å‡»Tools-&gt; Referencesï¼Œé€‰ä¸­ä¸‹é¢ä¸¤ä¸ªæ’ä»¶ï¼šMicrosoft Excel [ç‰ˆæœ¬å·] Object LibraryMicrosoft Outlook [ç‰ˆæœ¬å·] Object Library æ·»åŠ å¤šä¸ªé™„ä»¶å¦‚æœéœ€è¦æ·»åŠ å¤šä¸ªé™„ä»¶ï¼Œåˆ™ç›´æ¥ä½¿ç”¨å¤šæ¬¡çš„ .Attachments.Addå³å¯ Sub send_mail() Dim ObjOL As Object Dim itmNewMail As Outlook.MailItem Dim mailaddress As String &#39;å¼•ç”¨Microsoft Outlook å¯¹è±¡ Set ObjOL = CreateObject(&quot;Outlook.Application&quot;) Set itmNewMail = ObjOL.CreateItem(olMailItem) &#39;******è¾“å…¥å‚æ•°ï¼Œå¤šä¸ªæ”¶ä»¶äººï¼ŒæŠ„é€äººç”¨åˆ†å·é—´éš” With itmNewMail .Subject = &quot;æµ‹è¯•é‚®ä»¶&quot; &#39;ä¸»æ—¨ .body = &quot;è¿™æ˜¯ä¸€å°æµ‹è¯•é‚®ä»¶&quot; &#39;æ­£æ–‡æœ¬æ–‡ .To = &quot;12345@qq.com&quot; &#39;æ”¶ä»¶è€… .Attachments.Add &quot;C:\\æµ‹è¯•.xlsx&quot; &#39;æ’å…¥é™„ä»¶1 .Attachments.Add &quot;C:\\æµ‹æ–‡ä»¶.docx&quot; &#39;æ’å…¥é™„ä»¶2 .Display &#39;å¯åŠ¨Outlookå‘é€çª—å£ .send &#39;å‘é€ End With Set ObjOL = Nothing Set itmNewMail = Nothing End Sub é€‰æ‹©å‘é€é‚®ç®±/è´¦å·è‡ªåŠ¨å‘é€é»˜è®¤ä½¿ç”¨outlookä¸­çš„é»˜è®¤é‚®ç®±ï¼Œä½†æ˜¯æˆ‘ä»¬çš„outlooké‚®ç®±å¯èƒ½é™¤äº†æˆ‘ä»¬è‡ªå·±çš„é‚®ç®±è´¦å·å¤–è¿˜æœ‰å…¶ä»–çš„è´¦å·ï¼Œä¾‹å¦‚å…¬å…±é‚®ç®±ã€‚é‚£æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨å…¶ä»–çš„è´¦å·è‡ªåŠ¨å‘é€é‚®ä»¶å‘¢ï¼Ÿåªè¦è®¾å®šä¸€ä¸‹SendUsingAccountå±æ€§å³å¯ï¼š Sub send_mail() Dim ObjOL As Object Dim itmNewMail As Outlook.MailItem Dim mailaddress As String &#39;å¼•ç”¨Microsoft Outlook å¯¹è±¡ Set ObjOL = CreateObject(&quot;Outlook.Application&quot;) Set itmNewMail = ObjOL.CreateItem(olMailItem) &#39;******è¾“å…¥å‚æ•°ï¼Œå¤šä¸ªæ”¶ä»¶äººï¼ŒæŠ„é€äººç”¨åˆ†å·é—´éš” With itmNewMail .Subject = &quot;æµ‹è¯•é‚®ä»¶&quot; &#39;ä¸»æ—¨ .body = &quot;è¿™æ˜¯ä¸€å°æµ‹è¯•é‚®ä»¶&quot; &#39;æ­£æ–‡æœ¬æ–‡ .To = &quot;12345@qq.com&quot; &#39;æ”¶ä»¶è€… .SendUsingAccount = ObjOL.Session.Accounts.Item(2) &#39;é€‰æ‹©å‘é€é‚®ç®± .Importance = 2 &#39;è®¾ç½®é‡è¦æ€§ä¸ºé«˜ .Display &#39;å¯åŠ¨Outlookå‘é€çª—å£ .send &#39;å‘é€ End With Set ObjOL = Nothing Set itmNewMail = Nothing End Sub è¯­å¥ .SendUsingAccount = ObjOL.Session.Accounts.Item(2)ä¸­çš„Item(2)ä¸­çš„æ•°å­—æ˜¯æ ¹æ®å®é™…é‚®ç®±è´¦å·çš„æ•°é‡å’Œé¡ºåºæ¥çš„ï¼Œç¡®å®šçš„æ–¹æ³•å¯ä»¥åœ¨debugæ—¶æ‰¾åˆ°itmNewMailå¯¹è±¡çš„.SendUsingAccount å±æ€§ç¡®è®¤ï¼Œæˆ–è€…ç›´æ¥ä»1å¼€å§‹æ…¢æ…¢è¯•å§ï¼ ä¿®æ”¹æ­£æ–‡æ ¼å¼å¦‚æœéœ€è¦ä¿®æ”¹æ­£æ–‡ä¸­çš„å­—ä½“ï¼Œåˆ™éœ€è¦ä½¿ç”¨HTMLæ ¼å¼è°ƒæ•´ï¼Œä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š Sub send_mail_html() Dim ObjOL As Object Dim itmNewMail As Outlook.MailItem Dim mailaddress As String &#39;å¼•ç”¨Microsoft Outlook å¯¹è±¡ Set ObjOL = CreateObject(&quot;Outlook.Application&quot;) Set itmNewMail = ObjOL.CreateItem(olMailItem) &#39;******è¾“å…¥å‚æ•°ï¼Œå¤šä¸ªæ”¶ä»¶äººï¼ŒæŠ„é€äººç”¨åˆ†å·é—´éš” With itmNewMail .Subject = &quot;æµ‹è¯•é‚®ä»¶&quot; &#39;ä¸»æ—¨ &#39;æ­£æ–‡æœ¬æ–‡ .HTMLBody = &quot;&lt;H2&gt;è‡´å°Šæ•¬çš„æ”¶ä»¶äºº&lt;/H2&gt;&lt;BR&gt;&quot; &amp; _ &quot;&lt;FONT SIZE=4&gt;è¯·æ³¨æ„&lt;BR&gt;&quot; &amp; _ &quot;è¿™æ˜¯ä¸€å°&lt;Font Face=Times Roman Size=4.5 Color=blue&gt;æµ‹è¯•é‚®ä»¶&lt;/font&gt;å¹¶ä¸”&lt;Font Face=Times Roman Size=4.5 Color=red&gt;æ²¡æœ‰é™„ä»¶&lt;/font&gt;ã€‚&lt;BR&gt;&quot; .To = &quot;12345@qq.com&quot; &#39;æ”¶ä»¶è€… .Display &#39;å¯åŠ¨Outlookå‘é€çª—å£ .Send End With Set ObjOL = Nothing Set itmNewMail = Nothing End Sub å…¶ä¸­æ­£æ–‡ä¸­çš„HTMLæ ‡ç­¾å«ä¹‰å¦‚ä¸‹ï¼š &lt;H2&gt; &lt;/H2&gt;æ ‡ç­¾: åœ¨Htmlè¯­å¥ä¸­&lt;h1&gt; - &lt;h6&gt; æ ‡ç­¾å¯å®šä¹‰æ ‡é¢˜ã€‚&lt;h1&gt; å®šä¹‰æœ€å¤§çš„æ ‡é¢˜ã€‚&lt;h6&gt; å®šä¹‰æœ€å°çš„æ ‡é¢˜ã€‚ &lt;br&gt; æ ‡ç­¾ï¼šæ’å…¥ä¸€ä¸ªæ¢è¡Œç¬¦ &lt;font&gt;æ ‡ç­¾ï¼š è§„å®šæ–‡æœ¬çš„å­—ä½“ã€å­—ä½“å°ºå¯¸ã€å­—ä½“é¢œè‰²ã€‚ä¾‹å¦‚ç¤ºä¾‹ä¸­çš„&lt;Font Face=Times Roman Size=4.5 Color=blue&gt; å…¶ä»–æ ¼å¼ï¼Œä¾‹å¦‚åŠ ç²—ï¼Œæ–œä½“ç­‰éƒ½å¯ä»¥ä½¿ç”¨ç‰¹å®šçš„HTMLæ ‡ç­¾å®ç°ï¼Œå…·ä½“ç™¾åº¦å³å¯ã€‚ æ’å…¥å›¾ç‰‡å¦‚æœéœ€è¦åœ¨æ­£æ–‡ä¸­æ’å…¥å›¾ç‰‡çš„è¯åˆ™éœ€è¦å…ˆæ’å…¥å›¾ç‰‡é™„ä»¶ï¼Œç„¶ååˆ©ç”¨HTMLå°†å›¾ç‰‡æ’å…¥åˆ°æ­£æ–‡ä¸­ Sub send_mail_html() Dim ObjOL As Object Dim itmNewMail As Outlook.MailItem Dim mailaddress As String &#39;å¼•ç”¨Microsoft Outlook å¯¹è±¡ Set ObjOL = CreateObject(&quot;Outlook.Application&quot;) Set itmNewMail = ObjOL.CreateItem(olMailItem) &#39;******è¾“å…¥å‚æ•° With itmNewMail .Subject = &quot;æµ‹è¯•é‚®ä»¶&quot; &#39;ä¸»æ—¨ .Attachments.Add &quot;C:\\Users\\test.jpg&quot; &#39;æ·»åŠ å›¾ç‰‡é™„ä»¶ &#39;æ­£æ–‡æœ¬æ–‡,æ’å…¥å›¾ç‰‡ .HTMLBody = &quot;&lt;H2&gt;è‡´å°Šæ•¬çš„æ”¶ä»¶äºº&lt;/H2&gt;&lt;BR&gt;&quot; &amp; _ &quot;&lt;FONT SIZE=4&gt;è¯·çœ‹å¦‚ä¸‹å›¾ç‰‡&lt;BR&gt;&quot; &amp; _ &quot;&lt;img src=&#39;cid:test.jpg&#39; height=432 width=864&gt;&quot; .To = &quot;12345@qq.com&quot; &#39;æ”¶ä»¶è€… .Display &#39;å¯åŠ¨Outlookå‘é€çª—å£ .Send End With Set ObjOL = Nothing Set itmNewMail = Nothing End Sub ä»£ç ä¸­çš„ä¸»è¦æ˜¯&lt;img src=&#39;cid:test.jpg&#39; height=432 width=864&gt;è¿™ä¸€å¥ï¼Œç”¨äºæ˜¾ç¤ºå›¾ç‰‡å’Œè°ƒæ•´å¤§å°,å…¶ä¸­cid:åçš„å­—ç¬¦ä¸²ä¸€å®šè¦ä¿æŒå’Œå›¾ç‰‡é™„ä»¶çš„åç§°ä¸€è‡´såˆ©ç”¨Pythonè°ƒç”¨outlookè‡ªåŠ¨å‘é€é‚®ä»¶","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"Excel & VBA","slug":"Excel-VBA","permalink":"http://smilecoc.vip/tags/Excel-VBA/"}],"author":"smilecoc"},{"title":"Excelï¼šä½¿ç”¨powerqueryè¿›è¡Œå¤šè¡¨åˆå¹¶","slug":"concat_excel_by_powerquery","date":"2021-04-28T08:18:28.000Z","updated":"2021-09-06T15:30:07.136Z","comments":true,"path":"2021/04/28/concat_excel_by_powerquery/","link":"","permalink":"http://smilecoc.vip/2021/04/28/concat_excel_by_powerquery/","excerpt":"","text":"â€‹æ³¨ï¼šæœ¬æ–‡åŸåˆ›ä¸ºï¼šhttps://www.cnblogs.com/fanyu2019/p/11175827.html,æœ¬æ–‡åœ¨åŸåˆ›çš„åŸºç¡€ä¸Šæ·»åŠ ä¿®æ”¹äº†ä¸€ç‚¹å†…å®¹ å·¥ä½œä¸­å¸¸é‡åˆ°éœ€æ±‡æ€»å¤šå¼ è¡¨è¿›è¡Œåˆ†æçš„æƒ…å†µï¼Œæœ¬æ–‡ä»¥æŸå…¬å¸é”€å”®æ•°æ®ï¼ˆæ•°æ®ä¸ºè™šæ„æ•°æ®ï¼‰ä¸ºä¾‹ä»‹ç»ä½¿ç”¨powerqueryåˆå¹¶excelè¡¨çš„æ–¹æ³•ã€‚ æœ¬æ–‡ä¸­æ‰€ä½¿ç”¨æ•°æ®æ ¼å¼ç›¸åŒï¼Œä¸”å·¥ä½œè¡¨ä¸­ç¬¬ä¸€è¡Œä¸ºæ ‡é¢˜è¡Œï¼Œæ•°æ®ä¸è§„èŒƒå¯èƒ½ä½¿åˆå¹¶æ±‡æ€»æ•°æ®å­˜åœ¨é—®é¢˜æˆ–åˆå¹¶ä¸æˆåŠŸï¼Œæ³¨æ„äº‹é¡¹è¯·ç§»è‡³æ–‡æœ«è¿›è¡ŒæŸ¥çœ‹ã€‚åŒæ—¶æœ¬æ–‡æ“ä½œå·¥å…·ä¸ºoffice365ã€‚ å¤šè¡¨åˆå¹¶å­˜åœ¨å¤šç§æƒ…å†µï¼š ä¸€. å•å·¥ä½œç°¿å¤šå·¥ä½œè¡¨åˆå¹¶åŸå§‹æ•°æ®ä¸­å­˜åœ¨å¤šsheeté¡µï¼Œè¿›è¡Œå•å·¥ä½œç°¿çš„å¤šå·¥ä½œè¡¨åˆå¹¶ï¼Œå…ˆçœ‹åŸå§‹æ•°æ®åŠå¤„ç†ä¹‹åçš„æ•°æ®ï¼š åŸå§‹æ•°æ®â–¼ æœ€ç»ˆæ•°æ®â–¼ ç¬¬ä¸€æ­¥ï¼šæ–°å»ºæŸ¥è¯¢ï¼ˆè¿›å…¥powerqueryç¼–è¾‘å™¨ï¼‰ç‚¹å‡»ã€æ•°æ®ã€‘&gt;ã€è·å–æ•°æ®ã€‘&gt;ã€æ¥è‡ªæ–‡ä»¶ã€‘&gt;ã€ä»å·¥ä½œç°¿ã€‘ï¼Œé€‰æ‹©åŸå§‹æ•°æ®ï¼Œå¯¼å…¥ ç¬¬äºŒæ­¥ï¼šè¿½åŠ æŸ¥è¯¢ç‚¹å‡»ã€ä¸»é¡µã€‘&gt;ã€è¿½åŠ æŸ¥è¯¢ã€‘&gt;ã€è¿½åŠ æŸ¥è¯¢ã€‘ï¼Œé€‰æ‹©â€œä¸‰ä¸ªæˆ–æ›´å¤šè¡¨â€ï¼Œä¾æ¬¡æ·»åŠ å·¥ä½œè¡¨ï¼Œå¾—åˆ°åˆå¹¶åçš„æ•°æ® ç¬¬ä¸‰æ­¥ï¼šå…³é—­å¹¶ä¸Šè½½ ç‚¹å‡»ã€å…³é—­å¹¶ä¸Šè½½ã€‘&gt;ã€å…³é—­å¹¶ä¸Šè½½ã€‘ï¼Œå¯åœ¨excelä¸­æŸ¥çœ‹æ±‡æ€»åçš„æ•°æ® ç¬¬å››æ­¥ï¼šexcelä¸­å¯¹æ•°æ®è¿›è¡Œæœ€åå¤„ç† åœ¨excelä¸­å¯¹æ•°æ®è¿›è¡Œç®€å•å¤„ç†ï¼Œå¾—åˆ°æœ€ç»ˆæ±‡æ€»æ•°æ® äºŒ. å¤šå·¥ä½œç°¿å•å·¥ä½œè¡¨åˆå¹¶åŸå§‹æ•°æ®å«æœ‰å¤šä¸ªå·¥ä½œç°¿ï¼Œä½†æ¯ä¸ªå·¥ä½œç°¿ä¸­åªæœ‰ä¸€ä¸ªå·¥ä½œè¡¨ï¼Œè¿›è¡Œå¤šå·¥ä½œç°¿çš„å•å·¥ä½œè¡¨åˆå¹¶ï¼Œå…ˆçœ‹åŸå§‹æ•°æ®åŠå¤„ç†ä¹‹åçš„æ•°æ®ï¼š åŸå§‹æ•°æ®â–¼ æœ€ç»ˆæ•°æ®â–¼ ç¬¬ä¸€æ­¥ï¼šæ–°å»ºæŸ¥è¯¢ï¼ˆè¿›å…¥powerqueryç¼–è¾‘å™¨ï¼‰ï¼Œåˆå¹¶ç‚¹å‡»ã€æ•°æ®ã€‘&gt;ã€è·å–æ•°æ®ã€‘&gt;ã€æ¥è‡ªæ–‡ä»¶ã€‘&gt;ã€ä»æ–‡ä»¶å¤¹ã€‘ï¼Œé€‰æ‹©åŸå§‹æ•°æ®ï¼Œå¯¼å…¥ï¼Œç‚¹å‡»ã€ç»„åˆã€‘&gt;ã€åˆå¹¶å’Œç¼–è¾‘ã€‘ï¼Œé€‰æ‹©å·¥ä½œè¡¨ï¼Œç‚¹å‡»ã€ç¡®å®šã€‘ï¼Œåœ¨powerqueryä¸­å¯æŸ¥çœ‹åˆ°å·²åˆå¹¶çš„æ•°æ® ç¬¬äºŒæ­¥ï¼šå…³é—­å¹¶ä¸Šè½½æŸ¥çœ‹åˆå¹¶åçš„æ•°æ®ï¼Œç‚¹å‡»ã€å…³é—­å¹¶ä¸Šè½½ã€‘ æ³¨ï¼šç”±äºç¬¬ä¸‰ä¸ªå·¥ä½œè¡¨ä¸­å­˜åœ¨ç¼–è¾‘è¿‡çš„ç©ºè¡Œï¼Œåˆå¹¶æ—¶ç©ºè¡Œä¹Ÿè¿›å…¥åˆ°åˆå¹¶çš„æ•°æ®ä¸­ï¼Œå¯åœ¨åˆå¹¶ä¹‹å‰å¯¹å·¥ä½œè¡¨æ•°æ®è¿›è¡Œå¤„ç† ç¬¬ä¸‰æ­¥ï¼šexcelä¸­å¯¹æ•°æ®è¿›è¡Œæœ€åå¤„ç†åœ¨excelä¸­å¯¹æ•°æ®è¿›è¡Œç®€å•å¤„ç†ï¼Œå¾—åˆ°æœ€ç»ˆæ±‡æ€»æ•°æ® ä¸‰. å¤šå·¥ä½œç°¿å¤šå·¥ä½œè¡¨åˆå¹¶å®é™…å·¥ä½œä¸­å¸¸å¸¸å­˜åœ¨éœ€è¦åˆå¹¶æ–‡ä»¶å¤¹ä¸­çš„excelæ•°æ®ï¼Œä¸”æ¯ä¸ªå·¥ä½œç°¿ä¸­å«æœ‰å¤šå¼ å·¥ä½œè¡¨ï¼Œè¿›è¡Œå¤šå·¥ä½œç°¿çš„å¤šå·¥ä½œè¡¨åˆå¹¶ï¼Œå…ˆçœ‹åŸå§‹æ•°æ®åŠå¤„ç†ä¹‹åçš„æ•°æ®ï¼š åŸå§‹æ•°æ®â–¼ æœ€ç»ˆæ•°æ®â–¼ ç¬¬ä¸€æ­¥ï¼šæ–°å»ºæŸ¥è¯¢ï¼ˆè¿›å…¥powerqueryç¼–è¾‘å™¨ï¼‰ ç‚¹å‡»ã€æ•°æ®ã€‘&gt;ã€è·å–æ•°æ®ã€‘&gt;ã€æ¥è‡ªæ–‡ä»¶ã€‘&gt;ã€ä»æ–‡ä»¶å¤¹ã€‘ï¼Œé€‰æ‹©åŸå§‹æ•°æ®ï¼Œå¯¼å…¥ï¼Œç‚¹å‡»ã€è½¬æ¢æ•°æ®ã€‘ ç¬¬äºŒæ­¥ï¼šåˆ é™¤å…¶ä»–ä¿¡æ¯ï¼Œä¿ç•™contentåŠnameåˆ— ä¿ç•™contentåŠnameåˆ—ï¼Œç‚¹å‡»ã€ä¸»é¡µã€‘&gt;ã€åˆ é™¤åˆ—ã€‘&gt;ã€åˆ é™¤å…¶ä»–åˆ—ã€‘ã€‚è¿™äº›åˆ é™¤çš„åˆ—ä¸€èˆ¬æˆ‘ä»¬éƒ½æ˜¯ç”¨ä¸åˆ°çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥åˆ é™¤æé«˜æ•ˆç‡ ç¬¬ä¸‰æ­¥ï¼šè‡ªå®šä¹‰åˆ—ï¼Œè¿”å›å·¥ä½œè¡¨è®°å½• ç‚¹å‡»ã€æ·»åŠ åˆ—ã€‘&gt;ã€è‡ªå®šä¹‰åˆ—ã€‘ï¼Œè¾“å…¥æ–°åˆ—ååŠå…¬å¼ï¼šExcel.Workbook([Content],true) æ³¨ï¼šå…¬å¼Excel.Workbook([Content],true)éœ€åŒºåˆ†å¤§å°å†™ å…¬å¼è§£æï¼š åŠŸèƒ½ï¼šä»Excelå·¥ä½œç°¿è¿”å›å·¥ä½œè¡¨çš„è®°å½• å‚æ•°ï¼šExcel.Workbook( workbook as binary, optional useHeaders as nullable logical, optional delayTypes as nullable logical) as tableç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦è§£æçš„å­—æ®µï¼Œè¿”å›ä¸€ä¸ªtableï¼Œç¬¬äºŒä¸ªæ˜¯å¯é€‰å‚æ•°é€»è¾‘å€¼ï¼Œå‚æ•°ä½¿ç”¨trueï¼Œå°±æ˜¯æŒ‡å®šæ•°æ®ä½¿ç”¨ç¬¬ä¸€è¡Œåšä¸ºæ ‡é¢˜ã€‚ ç¬¬å››æ­¥ï¼šå±•å¼€æ•°æ®å¹¶åˆ é™¤å¤šä½™æ•°æ® é€‰ä¸­ç¬¬ä¸‰æ­¥ä¸­è¿”å›çš„tableåˆ—åŠnameåˆ—ï¼Œç‚¹å‡»ã€ä¸»é¡µã€‘&gt;ã€åˆ é™¤åˆ—ã€‘&gt;ã€åˆ é™¤å…¶ä»–åˆ—ã€‘ æ³¨ï¼šä¿ç•™nameåˆ—ä¸ºä¿ç•™æ•°æ®æ¥æºï¼Œè‹¥ä¸éœ€è¦å¯ä»¥åˆ é™¤ ç‚¹å‡»tableåˆ—ï¼Œè¿›è¡Œå±•å¼€ å±•å¼€çš„æ•°æ®ä¸­ï¼Œé€‰ä¸­tableåˆ—åŠæ•°æ®æºåˆ—ï¼Œç‚¹å‡»ã€ä¸»é¡µã€‘&gt;ã€åˆ é™¤åˆ—ã€‘&gt;ã€åˆ é™¤å…¶ä»–åˆ—ã€‘ å±•å¼€tableåˆ— æ³¨ï¼šè‹¥éœ€ä¿ç•™æ•°æ®æ¥æºï¼ˆå·¥ä½œç°¿åã€å·¥ä½œè¡¨åï¼‰ï¼Œåœ¨æ•°æ®å¤„ç†ä¸­å¯¹æ•°æ®æ¥æºåˆ—è¿›è¡Œä¿ç•™å³å¯ ç¬¬äº”æ­¥ï¼šå…³é—­å¹¶ä¸Šè½½ ç‚¹å‡»ã€å…³é—­å¹¶ä¸Šè½½ã€‘&gt;ã€å…³é—­å¹¶ä¸Šè½½ã€‘ï¼Œå¯åœ¨excelä¸­æŸ¥çœ‹åˆ°å·²åˆå¹¶çš„æ•°æ® ç¬¬å…­æ­¥ï¼šexcelä¸­å¯¹æ•°æ®è¿›è¡Œæœ€åå¤„ç† åœ¨excelä¸­å¯¹æ•°æ®è¿›è¡Œç®€å•å¤„ç†ï¼Œå¾—åˆ°æœ€ç»ˆæ±‡æ€»æ•°æ® æ³¨ï¼šå½“æ–‡ä»¶å¤¹ä¸­çš„æ•°æ®æ”¹å˜ä¸­ï¼Œå¯å³é”®è¿›è¡Œã€åˆ·æ–°ã€‘å³å¯æ›´æ–°æ•°æ® æ³¨æ„äº‹é¡¹ï¼š æ•°æ®æ ¼å¼ï¼šæ­¤æ–¹æ³•ä»…é€‚ç”¨äºæ•°æ®æ ¼å¼ç›¸åŒçš„æ•°æ®è¡¨åˆå¹¶ åˆå¹¶å•å…ƒæ ¼ï¼šå·¥ä½œè¡¨ä¸­åº”é¿å…å‡ºç°åˆå¹¶å•å…ƒæ ¼ ç©ºè¡Œï¼šè‹¥å·¥ä½œè¡¨ä¸­å­˜åœ¨ç¼–è¾‘è¿‡æˆ–æœ‰æ ¼å¼çš„ç©ºè¡Œï¼Œåˆå¹¶æ—¶ç©ºè¡Œä¹Ÿä¼šä¿ç•™ï¼Œéœ€åœ¨åˆå¹¶ä¹‹å‰å¯¹å·¥ä½œè¡¨æ•°æ®è¿›è¡Œå¤„ç†ï¼šCtrl+shift+â†“é€‰ä¸­æ‰€æœ‰ç©ºè¡Œï¼ŒCtrl+-åˆ é™¤æ‰€æœ‰ç©ºè¡Œ ç­›é€‰å¾ˆå¤šçš„ä¸‹æ‹‰å€¼æ—¶åªä¼šæ˜¾ç¤ºå‰1000ä¸ªå€¼ï¼Œå¦‚æœæƒ³è¦ç­›é€‰1000åçš„å€¼å¯ä»¥è€ƒè™‘åœ¨åŸå§‹æ•°æ®ä¸­æ”¹å˜ä¸€ä¸‹å€¼çš„ä½ç½®","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"Excel & VBA","slug":"Excel-VBA","permalink":"http://smilecoc.vip/tags/Excel-VBA/"}],"author":"smilecoc"},{"title":"æ•°æ®é€è§†è¡¨ï¼ˆå›¾ï¼‰ä¸­æ·»åŠ å…¬å¼è®¡ç®—ä¸æ±‡æ€»--è®¡ç®—é¡¹å’Œè®¡ç®—å­—æ®µ","slug":"pivot_table_calculate_fileds","date":"2021-04-25T06:45:06.000Z","updated":"2021-08-15T17:32:16.393Z","comments":true,"path":"2021/04/25/pivot_table_calculate_fileds/","link":"","permalink":"http://smilecoc.vip/2021/04/25/pivot_table_calculate_fileds/","excerpt":"","text":"é—®é¢˜æœ€è¿‘æœ‰ä¸€ä¸ªåŒå­¦å’¨è¯¢äº†ä¸€ä¸ªExcelé—®é¢˜å¦‚ä¸‹ï¼šåŸå§‹æ•°æ®å¦‚ä¸‹è¡¨ï¼š| å“ç‰Œ | æ—¶é—´ | äº§å“æ•°é‡ | æ¬¡å“æ•°é‡ ||â€”â€”|â€”â€”â€”â€”â€”|â€”â€”â€”|â€”â€”â€”|| A | 2020/1/1 | 3501 | 25 || A | 2020/1/2 | 3697 | 23 || A | 2020/1/3 | 4694 | 22 || A | 2020/1/4 | 3191 | 18 || A | 2020/1/5 | 3583 | 30 || A | 2020/1/6 | 4024 | 12 || A | 2020/1/7 | 3378 | 28 || A | 2020/1/8 | 4240 | 20 || B | 2020/1/1 | 4520 | 42 || B | 2020/1/2 | 4909 | 54 || B | 2020/1/3 | 4218 | 52 || B | 2020/1/4 | 3621 | 34 || B | 2020/1/5 | 3023 | 56 || B | 2020/1/6 | 3411 | 56 || B | 2020/1/7 | 4238 | 37 || B | 2020/1/8 | 4495 | 32 || C | 2020/1/1 | 3944 | 39 || C | 2020/1/2 | 3055 | 42 || C | 2020/1/3 | 4541 | 47 || C | 2020/1/4 | 3471 | 80 || C | 2020/1/5 | 3181 | 97 || C | 2020/1/6 | 3273 | 74 || C | 2020/1/7 | 3425 | 88 || C | 2020/1/8 | 4372 | 89 | ç°åœ¨éœ€è¦ä½¿ç”¨æ•°æ®é€è§†è¡¨ï¼ˆå›¾ï¼‰ ä»¥æ—¶é—´ä¸ºæ¨ªè½´ï¼Œæ¬¡å“ç‡ä¸ºçºµè½´ç”»å‡ºå„å“ç‰Œå’Œæ‰€æœ‰å“ç‰Œæ€»è®¡çš„æ¬¡å“ç‡çš„æŠ˜çº¿å›¾ï¼Œç»“æœå¦‚ä¸‹ä»–çš„é—®é¢˜æ˜¯ï¼š å¦‚ä½•åœ¨æ•°æ®é€è§†å›¾ï¼ˆè¡¨ï¼‰ä¸­æ·»åŠ æ¬¡å“ç‡è¿™ä¸€ä¸ªè®¡ç®—ã€‚ä¹‹å‰ä»–çš„è§£å†³åŠæ³•æ˜¯æ–°å»ºä¸€åˆ—è¾…åŠ©åˆ—åˆ©ç”¨å…¬å¼è®¡ç®— æ¬¡å“æ•°é‡/äº§å“æ•°é‡ï¼Œç„¶åå†åˆ©ç”¨è¿™å¼ è¡¨ä½œä¸ºæ•°æ®æºç”»å›¾ã€‚ä½†æ˜¯é—®é¢˜åœ¨äºå¦‚æœåç»­æœ‰æ–°çš„æ•°æ®è¡¥å……è¿›æ¥ï¼Œé‚£ä¹ˆéœ€è¦æ‰‹åŠ¨è°ƒæ•´å…¬å¼èŒƒå›´ éœ€è¦æ·»åŠ å…¨éƒ¨äº§å“çš„æ¬¡å“ç‡åˆ°å›¾è¡¨ä¸­ã€‚é‡åˆ°çš„é—®é¢˜æ˜¯åœ¨æ•°æ®é€è§†è¡¨ä¸­ä¼šå‡ºç°ä¸€ä¸ªæ±‡æ€»çš„æ¬¡å“ç‡ï¼Œä½†æ˜¯ç”±äºæ˜¯æ•°æ®é€è§†è¡¨çš„è‡ªåŠ¨æ±‡æ€»æ— æ³•æ·»åŠ åˆ°é€è§†å›¾ä¸­ï¼Œå› æ­¤ä¹‹å‰çš„è§£å†³åŠæ³•æ˜¯åœ¨è¡¨ä¸­å¤åˆ¶æ‰€æœ‰çš„æ•°æ®å¹¶å°†å“ç‰Œå…¨éƒ¨æ”¹ä¸ºå…¨éƒ¨äº§å“ä»è€Œå¾—åˆ°ä¸€ä¸ªå…¨éƒ¨äº§å“çš„çš„æ¬¡å“ç‡ã€‚é—®é¢˜åŒæ ·åœ¨äºå¦‚æœåç»­æœ‰æ–°çš„æ•°æ®è¡¥å……è¿›æ¥ï¼Œé‚£ä¹ˆéœ€è¦æ‰‹åŠ¨å¤åˆ¶æ•°æ®è°ƒæ•´æ•°æ® æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è®¡ç®—é¡¹å’Œè®¡ç®—å­—æ®µæ¥å®ç°åˆ—ä¹‹é—´çš„è®¡ç®—å’Œæ·»åŠ åˆ†ç±»æ±‡æ€»å¹¶æ·»åŠ åˆ°æ•°æ®é€è§†è¡¨ï¼ˆå›¾ï¼‰ä¸­ã€‚ è§£å†³æ–¹æ³•å…·ä½“æ­¥éª¤ä¸ºï¼š é¦–å…ˆæ–°å»ºæ•°æ®é€è§†è¡¨ï¼Œå¹¶åœ¨æ•°æ®é€è§†è¡¨å·¥å…·ä¸­é€‰å–è®¡ç®—å­—æ®µ æ ¹æ®å…·ä½“çš„é€»è¾‘ä¹¦å†™å…¬å¼ã€‚ä¾‹å¦‚è¿™é‡Œå…¬å¼ä¸º =æ¬¡å“æ•°é‡ /äº§å“æ•°é‡ï¼Œå…¬å¼å¡«å†™å®Œåç‚¹å‡»ç¡®å®š ä¹‹åæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°åœ¨æ•°æ®é€è§†è¡¨å­—æ®µä¸­å‡ºç°äº†æ¬¡å“ç‡è¿™ä¸€ä¸ªå­—æ®µï¼Œæ ¹æ®å…·ä½“çš„éœ€æ±‚åˆ¶ä½œæ•°æ®é€è§†è¡¨/å›¾å³å¯å¾—åˆ°å„å“ç‰Œçš„æ¬¡å“ç‡ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å°†æ‰€æœ‰å“ç‰Œçš„æ¬¡å“ç‡åŠ è¿›å»ï¼Œè¿™é‡Œæˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°è®¡ç®—é¡¹ã€‚ è¿™é‡Œæ³¨æ„ä¸€å®šè¦å…ˆé€‰ä¸­ä¸€ä¸ªè¡Œæ ‡ç­¾ç„¶åå†æ·»åŠ è®¡ç®—é¡¹ï¼Œå¦åˆ™ä½ ä¼šå‘ç°è®¡ç®—é¡¹è¿™ä¸€ä¸ªåŠŸèƒ½æ˜¯ç°è‰²çš„æ— æ³•ä½¿ç”¨ï¼ åŒæ ·æˆ‘ä»¬åœ¨æ•°æ®é€è§†è¡¨å·¥å…·ä¸­é€‰å–è®¡ç®—é¡¹å¹¶æ ¹æ®å¯¹åº”é€»è¾‘ä¹¦å†™å…¬å¼ã€‚è¿™é‡Œæˆ‘ä»¬è¦è®¡ç®—æ‰€æœ‰å“ç‰Œçš„æ•°æ®ï¼Œå°±ç”¨å…¬å¼æŠŠæ‰€æœ‰çš„å“ç‰ŒåŠ èµ·æ¥ä¹‹ååœ¨æ•°æ®è¡¨ä¸­å°±å¯ä»¥çœ‹åˆ°å„ä¸ªå“ç‰Œçš„æ¬¡å“ç‡å’Œåˆè®¡çš„æ¬¡å“ç‡äº†ã€‚ æ€»ç»“ä»ä¸Šè¿°ä¾‹å­ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è®¡ç®—é¡¹å’Œè®¡ç®—å­—æ®µçš„å¼ºå¤§åŠŸèƒ½ã€‚è®¡ç®—å­—æ®µæ˜¯æ¨ªå‘è®¡ç®—ï¼Œå½“æˆ‘ä»¬éœ€è¦å¯¹ä¸¤åˆ—è¿›è¡Œé€»è¾‘è®¡ç®—çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥é€šè¿‡æ–°å»ºè®¡ç®—å­—æ®µæ¥æ·»åŠ ä¸€ä¸ªæ–°çš„å­—æ®µï¼ˆä¹Ÿå°±æ˜¯ä¸€åˆ—ï¼‰ã€‚è€Œè®¡ç®—é¡¹æ˜¯çºµå‘è®¡ç®—ï¼Œå½“æˆ‘ä»¬éœ€è¦å¯¹ä¸€ä¸ªå­—æ®µï¼ˆä¸€åˆ—ï¼‰çš„æ•°æ®è¿›è¡Œè®¡ç®—çš„æ—¶å€™æˆ‘ä»¬é€šè¿‡æ–°å»ºè®¡ç®—é¡¹æ¥æ·»åŠ åˆ†ç±»/é¡¹ç›®ã€‚è®¡ç®—å­—æ®µå’Œè®¡ç®—é¡¹çš„ç»¼åˆè¿ç”¨å¯ä»¥å¯¹é€è§†è¡¨ï¼ˆå›¾ï¼‰è¿›è¡Œå¤šç»´åº¦çš„è®¡ç®—ï¼Œèƒ½å¤Ÿä½¿ç”¨æ›´å¤šé€è§†è¡¨çš„å¼ºå¤§åŠŸèƒ½ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"Excel & VBA","slug":"Excel-VBA","permalink":"http://smilecoc.vip/tags/Excel-VBA/"}],"author":"smilecoc"},{"title":"æ—¶é—´åºåˆ—ï¼ˆä¸‰ï¼‰ï¼šARIMAæ¨¡å‹ä¸Pythonå®æˆ˜","slug":"time_series_part3_arima_models","date":"2021-01-15T11:45:45.000Z","updated":"2021-02-24T14:43:50.159Z","comments":true,"path":"2021/01/15/time_series_part3_arima_models/","link":"","permalink":"http://smilecoc.vip/2021/01/15/time_series_part3_arima_models/","excerpt":"","text":"æ—¶é—´åºåˆ—ç³»åˆ—æ–‡ç« ï¼šæ—¶é—´åºåˆ—ï¼ˆä¸€ï¼‰ï¼šæ—¶é—´åºåˆ—æ•°æ®ä¸æ—¶é—´åºåˆ—é¢„æµ‹æ¨¡å‹æ—¶é—´åºåˆ—ï¼ˆäºŒï¼‰ï¼šæ—¶é—´åºåˆ—å¹³ç¨³æ€§æ£€æµ‹æ—¶é—´åºåˆ—ï¼ˆä¸‰ï¼‰ï¼šARIMAæ¨¡å‹å®æˆ˜ ä»€ä¹ˆæ˜¯ ARIMAæ¨¡å‹ARIMAæ¨¡å‹çš„å…¨ç§°å«åšè‡ªå›å½’ç§»åŠ¨å¹³å‡æ¨¡å‹ï¼Œå…¨ç§°æ˜¯(ARIMA, Autoregressive Integrated Moving Average Model)ã€‚ä¹Ÿè®°ä½œARIMA(p,d,q)ï¼Œæ˜¯ç»Ÿè®¡æ¨¡å‹(statistic model)ä¸­æœ€å¸¸è§çš„ä¸€ç§ç”¨æ¥è¿›è¡Œæ—¶é—´åºåˆ—é¢„æµ‹çš„æ¨¡å‹ã€‚ ARIMAæ¨¡å‹æ˜¯ä¸€ç§è‡ªå›å½’æ¨¡å‹ï¼Œåªéœ€è¦è‡ªå˜é‡å³å¯é¢„æµ‹åç»­çš„å€¼ã€‚ARIMAæ¨¡å‹è¦æ±‚æ—¶åºæ•°æ®æ˜¯ç¨³å®šçš„ï¼Œæˆ–è€…ç»è¿‡å·®åˆ†å¤„ç†åç¨³å®šï¼Œå¦‚æœä¸ç¨³å®šçš„æ•°æ®ï¼Œæ˜¯æ— æ³•æ•æ‰åˆ°è§„å¾‹çš„ã€‚æ¯”å¦‚è‚¡ç¥¨æ•°æ®ç”¨ARIMAæ— æ³•é¢„æµ‹çš„åŸå› å°±æ˜¯è‚¡ç¥¨æ•°æ®æ˜¯éç¨³å®šçš„ï¼Œå¸¸å¸¸å—æ”¿ç­–å’Œæ–°é—»çš„å½±å“è€Œæ³¢åŠ¨ã€‚ ARIMAæ¨¡å‹æ­¥éª¤ æ—¶é—´åºåˆ—çš„è·å–ä¸é¢„å¤„ç†ï¼šå¯¹äºå¾—åˆ°çš„æ—¶é—´åºåˆ—æ•°æ®ï¼Œé¦–å…ˆåº”è¯¥æ£€æŸ¥æ•°æ®è´¨é‡ï¼Œä¾‹å¦‚æ˜¯å¦æœ‰ç¼ºå¤±ï¼Œå¼‚å¸¸å€¼çš„å­˜åœ¨ã€‚ç¡®ä¿æ•°æ®æ— è¯¯åéœ€è¦è¿›è¡Œç¨³å®šæ€§æ£€éªŒå’Œç™½å™ªå£°æ£€éªŒã€‚èƒ½å¤Ÿé€‚ç”¨ARMAæ¨¡å‹è¿›è¡Œåˆ†æé¢„æµ‹çš„æ—¶é—´åºåˆ—å¿…é¡»æ»¡è¶³çš„æ¡ä»¶æ˜¯å¹³ç¨³éç™½å™ªå£°åºåˆ—ã€‚å› æ­¤å¯¹æ•°æ®çš„å¹³ç¨³æ€§è¿›è¡Œæ£€éªŒæ˜¯æ—¶é—´åºåˆ—åˆ†æçš„é‡è¦æ­¥éª¤ã€‚å…·ä½“çš„æ£€éªŒæ–¹æ³•å¯ä»¥æŸ¥çœ‹ä¸Šä¸€ç¯‡æ–‡ç«  æ—¶é—´åºåˆ—ï¼ˆäºŒï¼‰ï¼šæ—¶é—´åºåˆ—å¹³ç¨³æ€§ä¸ç™½å™ªå£°æ£€æµ‹ æ¨¡å‹å®šé˜¶: ç¡®å®šæ¨¡å‹çš„ç±»å‹å¹¶ç¡®å®šæ¨¡å‹çš„å‚æ•° å»ºæ¨¡é¢„æµ‹ï¼šä½¿ç”¨æ¨¡å‹è¿›è¡Œå»ºæ¨¡å¹¶è¿›è¡Œç›¸å…³é¢„æµ‹ã€‚ æ¨¡å‹çš„éªŒè¯ï¼š æ¨¡å‹çš„éªŒè¯ä¸»è¦æ˜¯éªŒè¯æ¨¡å‹çš„æ‹Ÿåˆæ•ˆæœï¼Œä¹‹åå¯¹æ¨¡å‹è¿›è¡Œç›¸å…³ä¼˜åŒ–ä¸åº”ç”¨ æ—¶é—´åºåˆ—çš„è·å–ä¸é¢„å¤„ç†å¯¼å…¥æ•°æ®åœ¨æœ¬æ–‡ä¸­æˆ‘ä»¬ä½¿ç”¨2015/1/2-2015/2/6æŸé¤å…çš„é”€å”®æ•°æ®è¿›è¡Œå»ºæ¨¡ã€‚æ•°æ®æ–‡ä»¶å¯ä»¥åœ¨å…¬ä¼—å·ï¼šSmilecocçš„æ‚è´§é“º ä¸­å›å¤æ—¶é—´åºåˆ—è·å–ã€‚å¯ç›´æ¥æ‰«ææ–‡æœ«äºŒç»´ç å…³æ³¨ï¼ é¦–å…ˆè¯»å…¥æ•°æ®å¹¶æŸ¥çœ‹ä¸€ä¸‹æ—¶åºå›¾ import pandas as pd discfile = &#39;arima_data.xls&#39; data = pd.read_excel(discfile, index_col = u&#39;æ—¥æœŸ&#39;) #æ—¶åºå›¾ import matplotlib.pyplot as plt plt.rcParams[&#39;font.sans-serif&#39;] = [&#39;SimHei&#39;] #ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾ plt.rcParams[&#39;axes.unicode_minus&#39;] = False #ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå· data.plot() plt.show() å¹³ç¨³æ€§æ£€éªŒä»ä¸Šè¿°æ—¶åºå›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åºåˆ—æœ‰æ˜æ˜¾çš„ä¸Šå‡è¶‹åŠ¿ï¼ŒåŸºæœ¬å¯ä»¥ç¡®å®šä¸æ˜¯å¹³ç¨³åºåˆ—äº†ã€‚å†é€šè¿‡è‡ªç›¸å…³å›¾æ£€éªŒä¸€ä¸‹ï¼š #è‡ªç›¸å…³å›¾ from statsmodels.graphics.tsaplots import plot_acf plot_acf(data).show() ä»è‡ªç›¸å…³å›¾ä»å³å‘å·¦çœ‹ï¼Œæ—¶é—´åºåˆ—éšç€é˜¶æ•°çš„é€’å¢ï¼Œè‡ªç›¸å…³ç³»æ•°ç¼“æ…¢è¡°å‡è‡³0ï¼Œä¸ç¬¦åˆå¹³ç¨³åºåˆ—çš„è¦æ±‚ã€‚ä¹‹åå†å¯¹åºåˆ—è¿›è¡ŒADFæ£€éªŒï¼Œ from statsmodels.tsa.stattools import adfuller as ADF print(u&#39;åŸå§‹åºåˆ—çš„ADFæ£€éªŒç»“æœä¸ºï¼š&#39;, ADF(data[u&#39;é”€é‡&#39;])) å•ä½æ ¹æ£€éªŒç»Ÿè®¡é‡å¯¹åº”çš„på€¼æ˜¾è‘—å¤§äº0.05, æœ€ç»ˆå°†è¯¥åºåˆ—åˆ¤æ–­ä¸ºéå¹³ç¨³åºåˆ— åˆ©ç”¨å·®åˆ†å¹³ç¨³æ•°æ®é¦–å…ˆæˆ‘ä»¬å¯¹æ—¶é—´åºåˆ—æ•°æ®è¿›è¡Œä¸€é˜¶å·®åˆ†ï¼ˆä¸€èˆ¬æƒ…å†µä¸‹å·®åˆ†çš„é˜¶æ•°ä¸ä¼šè¶…è¿‡ä¸¤é˜¶ï¼Œå¦‚æœå·®åˆ†é˜¶æ•°è¿‡é«˜ä¼šå¯¼è‡´ä¿¡æ¯ä¸¢å¤±è¾ƒå¤šå¯¼è‡´é¢„æµ‹è¯¯å·®è¾ƒå¤§ï¼‰.ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š #ä¸€é˜¶ å·®åˆ† D_data = data.diff().dropna() D_data.columns = [u&#39;é”€é‡å·®åˆ†&#39;] D_data.plot() #æ—¶åºå›¾ plt.show() ä¹‹åæˆ‘ä»¬å†æ¬¡å¯¹å·®åˆ†åçš„åºåˆ—è¿›è¡Œå¹³ç¨³æ€§æ£€æµ‹ï¼š plot_acf(D_data).show() #è‡ªç›¸å…³å›¾ from statsmodels.graphics.tsaplots import plot_pacf plot_pacf(D_data).show() #åè‡ªç›¸å…³å›¾ print(u&#39;å·®åˆ†åºåˆ—çš„ADFæ£€éªŒç»“æœä¸ºï¼š&#39;, ADF(D_data[u&#39;é”€é‡å·®åˆ†&#39;])) #ADFæ£€æµ‹ ä»æ£€éªŒç»“æœæ¥çœ‹åœ¨ä¸€é˜¶å·®åˆ†åå·²ç»æ˜¯å¹³ç¨³åºåˆ—ï¼Œç¬¦åˆåç»­å»ºæ¨¡è¦æ±‚ æ¨¡å‹å®šé˜¶å†å¯¹æ•°æ®è¿›è¡Œé¢„å¤„ç†åå¾—åˆ°å¹³ç¨³æ—¶é—´åºåˆ—åæˆ‘ä»¬å°±å¯ä»¥ç¡®å®šARIMAæ¨¡å‹ç›¸å…³çš„å‚æ•°ã€‚ARIMAæœ‰ä¸‰ä¸ªå‚æ•°ï¼Œå¯è¡¨ç¤ºä¸ºARIMA(p, d, q)ã€‚pä¸ºè‡ªå›å½’é˜¶æ•°ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦ç”¨å‰å¤šå°‘ä¸ªæ—¶é—´æ®µçš„æ•°æ®å»åšè‡ªå›å½’ã€‚dä¸ºæ—¶é—´æˆä¸ºå¹³ç¨³æ—¶æ‰€åšçš„å·®åˆ†æ¬¡æ•°ï¼Œqä¸ºç§»åŠ¨å¹³å‡é˜¶æ•°ã€‚åœ¨ä¹‹å‰çš„å¹³ç¨³æ€§å˜åŒ–ä¸­æˆ‘ä»¬åšäº†ä¸€é˜¶å·®åˆ†ï¼Œé‚£ä¹ˆå¯¹åº”d=1,é‚£ä¹ˆå¦å¤–ä¸¤ä¸ªå‚æ•°ARMA(p, q)å¦‚ä½•ç¡®å®šå‘¢ï¼Ÿ é€šè¿‡è‡ªç›¸å…³å›¾æˆ–è€…åç›¸å…³å›¾åœ¨ä¸Šè¿°çš„å¹³ç¨³æ€§æ£€éªŒçš„è¿‡ç¨‹ä¸­æˆ‘ä»¬å¾—åˆ°äº†ç›¸å…³çš„è‡ªç›¸å…³å›¾å’Œåè‡ªç›¸å…³å›¾ï¼š ä¸Šé¢ä¸¤å¹…å›¾ä¸­ï¼Œé˜´å½±éƒ¨åˆ†ä¸ºç½®ä¿¡åŒºé—´ã€‚æ‹–å°¾æŒ‡åºåˆ—ä»¥æŒ‡æ•°ç‡å•è°ƒé€’å‡æˆ–éœ‡è¡è¡°å‡ï¼Œè€Œæˆªå°¾æŒ‡åºåˆ—å€¼è½åœ¨ç½®ä¿¡åŒºé—´å†…ï¼ˆ95%çš„ç‚¹éƒ½ç¬¦åˆè¯¥è§„åˆ™ï¼‰.æ ¹æ®ä¸Šè¿°è‡ªç›¸å…³å›¾ä¸åè‡ªç›¸å…³å›¾ï¼Œæˆ‘ä»¬æœ‰ä»¥ä¸‹æ¨¡å‹å¯ä»¥ä¾›é€‰æ‹©ï¼š ARMA(0,1)æ¨¡å‹ï¼šå³è‡ªç›¸å…³å›¾åœ¨æ»å1é˜¶ä¹‹åç¼©å°ä¸º0ï¼Œä¸”åè‡ªç›¸å…³ç¼©å°è‡³0ï¼Œåˆ™æ˜¯ä¸€ä¸ªé˜¶æ•°q=1çš„ç§»åŠ¨å¹³å‡æ¨¡å‹ï¼› ARMA(3,0)æ¨¡å‹ï¼šå³åè‡ªç›¸å…³å›¾åœ¨æ»å3é˜¶ä¹‹åç¼©å°ä¸º0ï¼Œä¸”è‡ªç›¸å…³ç¼©å°è‡³0ï¼Œåˆ™æ˜¯ä¸€ä¸ªé˜¶å±‚p=3çš„è‡ªå›å½’æ¨¡å‹ï¼› ARMA(3,1)æ¨¡å‹ï¼šå³ä½¿å¾—è‡ªç›¸å…³å’Œåè‡ªç›¸å…³éƒ½ç¼©å°è‡³é›¶ã€‚åˆ™æ˜¯ä¸€ä¸ªæ··åˆæ¨¡å‹ã€‚ é’ˆå¯¹è¿™ä¸‰ç§æ¨¡å‹ï¼Œæˆ‘ä»¬åç»­å¯ä»¥é€šè¿‡å»ºç«‹æ¨¡å‹é¢„æµ‹åå¹¶åˆ©ç”¨æµ‹è¯•æ•°æ®æ£€éªŒå“ªä¸ªæ¨¡å‹æ›´å¥½, åŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡æŸ¥çœ‹ä¸‰ç§æ¨¡å‹çš„AIC,BICç­‰ä¿¡æ¯æ¥ç¡®å®šå“ªä¸ªæ¨¡å‹æ›´å¥½ã€‚AIC,BICéƒ½æ˜¯åˆ¤æ–­æ¨¡å‹çš„æ ‡å‡†ï¼Œå…¶å€¼è¶Šå°è¡¨ç¤ºæ¨¡å‹è¶Šå¥½ã€‚ AIC ï¼šèµ¤æ± ä¿¡æ¯é‡ ï¼Œå…¬å¼ä¸ºï¼š$AIC= 2 k-2 ln(L)$BICï¼šè´å¶æ–¯ä¿¡æ¯é‡ï¼Œå…¬å¼ä¸ºï¼š$BIC=ln(n)*k-2 ln(L)$å…¶ä¸­kä¸ºæ¨¡å‹å‚æ•°ä¸ªæ•°ï¼Œnä¸ºæ ·æœ¬æ•°é‡ï¼ŒLä¸ºä¼¼ç„¶å‡½æ•° ä¾‹å¦‚æˆ‘ä»¬é€šè¿‡BICåˆ¤æ–­ç›¸å…³æ¨¡å‹çš„å¥½åçš„ç›¸å…³ä»£ç ä¸ºï¼š print(ARIMA(data, (p,1,q)).fit().bic) é€šè¿‡éå†è·å–åœ¨ä¸Šè¿°é€šè¿‡è‡ªç›¸å…³å›¾ä¸åè‡ªç›¸å…³å›¾ç¡®å®šp,qçš„æ–¹æ³•é‡Œï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç¡®å®šçš„å‚æ•°ä¸æ­¢ä¸€ç§ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡éå†å„ä¸ªpï¼Œqå‚æ•°è·å–å¯¹åº”çš„AIC,BICç­‰ä¿¡æ¯ç¡®å®šå‚æ•°ã€‚ #éå† from statsmodels.tsa.arima_model import ARIMA data[u&#39;é”€é‡&#39;] = data[u&#39;é”€é‡&#39;].astype(float) #å®šé˜¶ pmax = int(len(D_data)/10) #ä¸€èˆ¬é˜¶æ•°ä¸è¶…è¿‡length/10 qmax = int(len(D_data)/10) #ä¸€èˆ¬é˜¶æ•°ä¸è¶…è¿‡length/10 bic_matrix = [] #bicçŸ©é˜µ for p in range(pmax+1): tmp = [] for q in range(qmax+1): try: #å­˜åœ¨éƒ¨åˆ†æŠ¥é”™ï¼Œæ‰€ä»¥ç”¨tryæ¥è·³è¿‡æŠ¥é”™ã€‚ tmp.append(ARIMA(data, (p,1,q)).fit().bic) except: tmp.append(None) bic_matrix.append(tmp) #è¾“å‡ºBICç»“æœçŸ©é˜µ bic_matrix = pd.DataFrame(bic_matrix) #ä»ä¸­å¯ä»¥æ‰¾å‡ºæœ€å°å€¼ print(bic_matrix) ç»“æœä¸­å¯¹åº”BICæœ€å°çš„på€¼å’Œqå€¼ä¸ºï¼š0ã€1. å»ºæ¨¡é¢„æµ‹ åœ¨ç¡®å®šäº†æœ€ä½³å‚æ•°åï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œåç»­çš„å»ºæ¨¡ä¸é¢„æµ‹ã€‚é¢„æµ‹ä¸»è¦æœ‰ä¸¤ä¸ªå‡½æ•°ï¼Œä¸€ä¸ªæ˜¯predictå‡½æ•°ï¼Œä¸€ä¸ªæ˜¯forecastå‡½æ•°ï¼Œpredictçš„èµ·å§‹æ—¶é—´å¿…é¡»åœ¨åŸå§‹çš„æ•°æ®ä¸­çš„ï¼Œè€Œforecaståˆ™æ˜¯å¯¹è®­ç»ƒæ•°æ®é›†æœ«å°¾ä¸‹ä¸€ä¸ªæ—¶é—´æ®µçš„å€¼è¿›è¡Œé¢„ä¼°ã€‚ model = ARIMA(data, (0,1,1)).fit() #å»ºç«‹ARIMA(0, 1, 1)æ¨¡å‹ model.forecast(5) #ä½œä¸ºæœŸ5å¤©çš„é¢„æµ‹ è¿™æ ·æˆ‘ä»¬å°±å¾—åˆ°äº†æœªæ¥äº”å¤©çš„é¢„æµ‹æ•°æ®ã€‚ä¹‹åæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å®é™…å€¼å’Œé¢„æµ‹å€¼çš„å¯¹æ¯”å¯¹æ¨¡å‹è¿›è¡Œè°ƒæ•´å’Œè¿›ä¸€æ­¥çš„ä¼˜åŒ– ç›¸å…³æ•°æ®æ–‡ä»¶ä¸ä»£ç ï¼šhttps://github.com/smilecoc/Data_analysis/tree/master/time_series","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"Pythonæ•°æ®åˆ†æ","slug":"Pythonæ•°æ®åˆ†æ","permalink":"http://smilecoc.vip/tags/Pythonæ•°æ®åˆ†æ/"}],"author":"smilecoc"},{"title":"æ—¶é—´åºåˆ—ï¼ˆäºŒï¼‰ï¼šæ—¶é—´åºåˆ—å¹³ç¨³æ€§æ£€æµ‹","slug":"time_series_part2_stability","date":"2021-01-15T11:20:03.000Z","updated":"2021-01-31T11:45:29.498Z","comments":true,"path":"2021/01/15/time_series_part2_stability/","link":"","permalink":"http://smilecoc.vip/2021/01/15/time_series_part2_stability/","excerpt":"","text":"åœ¨ä¸Šä¸€ç¯‡æ–‡ç« æ—¶é—´åºåˆ—ï¼ˆä¸€ï¼‰ï¼šæ—¶é—´åºåˆ—æ•°æ®ä¸æ—¶é—´åºåˆ—é¢„æµ‹æ¨¡å‹ä¸­æˆ‘ä»¬ä»‹ç»äº†æ—¶é—´åºåˆ—åŠä¸€äº›æ—¶é—´åºåˆ—é¢„æµ‹æ¨¡å‹ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨è¿›è¡Œé¢„æµ‹æ—¶æœ‰ä¸€äº›æ¨¡å‹è¡¨ç°è¾ƒå¥½ï¼Œè€Œå¦ä¸€äº›æ¨¡å‹çš„é¢„æµ‹ç»“æœå´ä¸å°½äººæ„ã€‚è¿™æ˜¯å› ä¸ºä¸åŒçš„æ—¶é—´åºåˆ—æ¨¡å‹å¯¹åŸå§‹æ•°æ®çš„è¦æ±‚æ˜¯ä¸åŒçš„ï¼Œä¾‹å¦‚ä¹‹å‰æåˆ°çš„ARIMAæ¨¡å‹ï¼Œè¦æ±‚æ—¶é—´åºåˆ—æ•°æ®å¹³ç¨³ï¼Œå¦åˆ™å¾—å‡ºçš„é¢„æµ‹ç»“æœå°±ä¼šç›¸å·®è¾ƒå¤§ã€‚æœ¬ç¯‡æ–‡ç« æˆ‘ä»¬ä»‹ç»æ—¶é—´åºåˆ—çš„å¹³ç¨³æ€§ã€éšæœºæ€§æ£€éªŒåŠç›¸å…³æ—¶é—´åºåˆ—æ•°æ®å¤„ç†æ–¹æ³•ã€‚ æ—¶é—´åºåˆ—çš„å¹³ç¨³æ€§ã€éšæœºæ€§æ£€éªŒåœ¨æ‹¿åˆ°æ—¶é—´åºåˆ—æ•°æ®åï¼Œé¦–å…ˆè¦å¯¹æ•°æ®çš„éšæœºæ€§å’Œå¹³ç¨³æ€§è¿›è¡Œæ£€æµ‹ï¼Œ è¿™ä¸¤ä¸ªæ£€æµ‹æ˜¯æ—¶é—´åºåˆ—é¢„æµ‹çš„é‡è¦éƒ¨åˆ†ã€‚æ ¹æ®ä¸åŒæ£€æµ‹ç»“æœéœ€è¦é‡‡å–ä¸åŒçš„åˆ†ææ–¹æ³•ã€‚ ä¸ºä»€ä¹ˆæ—¶é—´åºåˆ—è¦æ±‚å¹³ç¨³æ€§å‘¢ï¼Ÿå¹³ç¨³æ€§å°±æ˜¯è¦æ±‚ç”±æ ·æœ¬æ‹Ÿåˆå‡ºçš„æ›²çº¿åœ¨æœªæ¥ä¸€æ®µæ—¶é—´å†…ä»ç„¶èƒ½å¤Ÿä»¥ç°æœ‰çš„å½¢æ€å’Œè¶‹åŠ¿å‘å±•ä¸‹å»ï¼Œè¿™æ ·é¢„æµ‹ç»“æœæ‰ä¼šæœ‰æ„ä¹‰ã€‚ å¯¹äºå¹³ç¨³å£°åºåˆ—ï¼Œ å®ƒçš„å‡å€¼å’Œæ–¹å·®æ˜¯å¸¸æ•°ï¼Œ ç°å·²æœ‰ä¸€å¥—éå¸¸æˆç†Ÿçš„å¹³ç¨³åºåˆ—çš„å»ºæ¨¡æ–¹æ³•ã€‚ é€šå¸¸æ˜¯å»ºç«‹ä¸€ä¸ªçº¿æ€§æ¨¡å‹æ¥æ‹Ÿåˆè¯¥åºåˆ—çš„å‘å±• å€Ÿæ­¤æå–è¯¥åºåˆ—çš„æœ‰ç”¨ä¿¡æ¯ã€‚ å¯¹äºéå¹³ç¨³åºåˆ—ï¼Œ ç”±äºå®ƒçš„å‡å€¼å’Œæ–¹å·®ä¸ç¨³å®šï¼Œ å¤„ç†æ–¹æ³•ä¸€èˆ¬æ˜¯å°†å…¶è½¬å˜ä¸ºå¹³ç¨³åºåˆ—ï¼Œè¿™æ ·å°±å¯ä»¥åº”ç”¨æœ‰å…³å¹³ç¨³æ—¶é—´åºåˆ—çš„åˆ†ææ–¹æ³•ï¼Œ å¦‚å»ºç«‹ ARIMAæ¨¡å‹æ¥è¿›è¡Œç›¸åº”çš„ç ”ç©¶ï¼Œæˆ–è€…åˆ†è§£è¶‹åŠ¿ä¸å­£èŠ‚æ€§ç­‰å¹¶æ ¹æ®æƒ…å†µåº”ç”¨æŒ‡æ•°å¹³æ»‘æ¨¡å‹ç­‰ã€‚ å¯¹äºçº¯éšæœºåºåˆ—ï¼Œ åˆç§°ä¸ºç™½å™ªå£°åºåˆ—ï¼Œ åºåˆ—çš„å„é¡¹ä¹‹é—´æ²¡æœ‰ä»»ä½•ç›¸å…³å…³ç³»ï¼Œ åºåˆ—åœ¨è¿›è¡Œå®Œå…¨æ— åºçš„éšæœºæ³¢åŠ¨ï¼Œ å¯ä»¥ç»ˆæ­¢å¯¹è¯¥åºåˆ—çš„åˆ†æã€‚ ç™½å™ªå£°åºåˆ—æ˜¯æ²¡æœ‰ä¿¡æ¯å¯æå–çš„å¹³ç¨³åºåˆ—ã€‚ åœ¨è®²è§£å¹³ç¨³æ€§å’Œéšæœºæ€§çš„å®šä¹‰ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆä»‹ç»ä¸€ä¸‹æ—¶é—´åºåˆ—ä¸­å¸¸ç”¨çš„å‡ ä¸ªç‰¹å¾ç»Ÿè®¡é‡ã€‚ æ—¶é—´åºåˆ—çš„ç‰¹å¾ç»Ÿè®¡é‡å¯¹äºä¸€ä¸ªæ—¶é—´åºåˆ—ä»»æ„æ—¶åˆ»çš„åºåˆ—å€¼$\\left\\{ X _ { t } , t \\in T \\right\\}$ï¼Œä»»æ„æ—¶åˆ»çš„åºåˆ—å€¼ $X _ { t }$éƒ½æ˜¯ä¸€ä¸ªéšæœºå˜é‡ï¼Œè®°å…¶åˆ†å¸ƒå‡½æ•°ä¸º$F _ { t } ( x )$,åˆ™å…¶ç‰¹å¾ç»Ÿè®¡é‡å‡å€¼ã€æ–¹å·®ã€è‡ªåæ–¹å·®å‡½æ•°ã€è‡ªç›¸å…³ç³»æ•°çš„å®šä¹‰åˆ†åˆ«å¦‚ä¸‹: å‡å€¼ï¼š è¡¨ç¤ºæ—¶é—´åºåˆ—åœ¨å„ä¸ªæ—¶åˆ»å–å€¼çš„å¹³å‡å€¼ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š$\\mu _ { t } = E X _ { t } = \\int _ { - \\infty } ^ { \\infty } x \\mathrm { d } F _ { t } ( x )$ æ–¹å·®ï¼š è¡¨ç¤ºæ—¶é—´åºåˆ—åœ¨å„ä¸ªæ—¶åˆ»å›´ç»•å…¶å‡å€¼æ³¢åŠ¨çš„å¹³å‡ç¨‹åº¦ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š$\\sigma _ { t } ^ { 2 } = D X _ { t } = E \\left( X _ { t } - \\mu _ { t } \\right) ^ { 2 } = \\int _ { - \\infty } ^ { \\infty } \\left( x - \\mu _ { t } \\right) ^ { 2 } \\mathrm { d } F _ { t } ( x )$ è‡ªåæ–¹å·® ï¼š è¡¨ç¤ºæ—¶é—´åºåˆ—ä»»æ„ä¸¤ä¸ªæ—¶åˆ»ç›´æ¥çš„ç›¸å…³æ€§ï¼Œä»»å–$t , s \\in T$ï¼Œåˆ™å…¶å®šä¹‰å¦‚ä¸‹ï¼š$\\gamma ( t , s ) = E \\left[ \\left( X _ { t } - \\mu _ { t } \\right) \\left( X _ { s } - \\mu _ { s } \\right) \\right]$ è‡ªç›¸å…³ç³»æ•°ï¼š åŒè‡ªåæ–¹å·®å‡½æ•°ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š $\\rho ( t , s ) = \\frac { \\gamma ( t , s ) } { \\sqrt { D X _ { t } \\cdot D X _ { s } } }$ å¹³ç¨³æ—¶é—´åºåˆ—çš„å®šä¹‰ä¸æ£€éªŒå¹³ç¨³æ—¶é—´åºåˆ—çš„å®šä¹‰å¹³ç¨³æ—¶é—´åºåˆ—æŒ‰ç…§é™å®šæ¡ä»¶çš„ä¸¥æ ¼ç¨‹åº¦å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§ç±»å‹ï¼š ä¸¥å¹³ç¨³æ—¶é—´åºåˆ—ï¼š æŒ‡æ—¶é—´åºåˆ—çš„æ‰€æœ‰ç»Ÿè®¡æ€§è´¨ä¸ä¼šéšç€æ—¶é—´çš„æ¨ç§»è€Œå‘ç”Ÿå˜åŒ–ï¼Œå³å…¶è”åˆæ¦‚ç‡åˆ†å¸ƒåœ¨ä»»ä½•æ—¶é—´é—´éš”éƒ½æ˜¯ç›¸åŒçš„ã€‚è®¾$\\left\\{ X _ { t } \\right\\}$ä¸ºä¸€æ—¶é—´åºåˆ—ï¼Œå¯¹ä»»æ„çš„æ­£æ•´æ•°$m$ï¼Œä»»å–$t _ { 1 } , t _ { 2 } , \\cdots , t _ { m } \\in T$ï¼Œå¯¹ä»»æ„æ•´æ•°$\\tau$ï¼Œæœ‰ï¼š $F _ { t _ { 1 } , t _ { 2 } , \\cdots , t _ { m } } \\left( x _ { 1 } , x _ { 2 } , \\cdots , x _ { m } \\right) = F _ { t _ { 1 + \\tau } , t _ { 2 + \\tau } , \\cdots , t _ { m + \\tau } } \\left( x _ { 1 } , x _ { 2 } , \\cdots , x _ { m } \\right)$ åˆ™ç§°æ—¶é—´åºåˆ—$\\left\\{ X _ { t } \\right\\}$ä¸ºä¸¥å¹³ç¨³æ—¶é—´åºåˆ—ã€‚ å®½å¹³ç¨³æ—¶é—´åºåˆ—ï¼š å®½å¹³ç¨³æ—¶é—´åºåˆ—åˆ™è®¤ä¸ºåªè¦æ—¶é—´åºåˆ—çš„ä½é˜¶è·ï¼ˆäºŒé˜¶ï¼‰å¹³ç¨³ï¼Œåˆ™è¯¥æ—¶é—´åºåˆ—è¿‘ä¼¼å¹³ç¨³ã€‚å¦‚æœæ—¶é—´åºåˆ—$\\left\\{ X _ { t } \\right\\}$æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶ï¼š ä»»å–$t \\in T$ï¼Œæœ‰ $EX _ { t }^ { 2 } &lt;âˆ$ ä»»å–$t \\in T$ï¼Œæœ‰$E X _ { t } = \\mu$,å…¶ä¸­$\\mu$ä¸ºå¸¸æ•°ï¼› ä»»å–$t , s , k \\in T$, $k + s - t \\in T$ï¼Œæœ‰$\\gamma ( t , s ) = \\gamma ( k , k + s - t )$ åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œæ—¶é—´åºåˆ—æ˜¯å¾ˆéš¾æ»¡è¶³ä¸¥å¹³ç¨³æ—¶é—´åºåˆ—çš„è¦æ±‚çš„ï¼Œå› æ­¤ï¼Œä¸€èˆ¬æ‰€è®²çš„å¹³ç¨³æ—¶é—´åºåˆ—åœ¨é»˜è®¤æƒ…å†µä¸‹éƒ½æ˜¯æŒ‡å®½å¹³ç¨³æ—¶é—´åºåˆ—ã€‚æ ¹æ®å®½å¹³ç¨³æ—¶é—´åºåˆ—çš„æ¡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å®¹æ˜“å¾—åˆ°å®½å¹³ç¨³æ—¶é—´åºåˆ—æ‰€å…·æœ‰çš„æ€§è´¨ï¼š å‡å€¼ä¸ºå¸¸æ•°ï¼Œå³ï¼š$E X _ { t } = \\mu , \\quad \\forall t \\in T$ æ–¹å·®ä¹Ÿä¸ºå‡å€¼ï¼Œå³ï¼š$D X _ { t } = \\gamma ( t , t ) = \\gamma ( 0 ) , \\quad \\forall t \\in T$ è‡ªåæ–¹å·®å‡½æ•°å’Œè‡ªç›¸å…³ç³»æ•°åªä¾èµ–äºæ—¶é—´çš„å¹³ç§»é•¿åº¦ï¼Œè€Œä¸æ—¶é—´çš„èµ·ç‚¹æ— å…³ã€‚å³ï¼š$\\gamma ( t , s ) = \\gamma ( k , k + s - t ) , \\quad \\forall t , s , k \\in T$å› æ­¤ï¼Œå¯ä»¥è®°$\\gamma ( k )$ä¸ºæ—¶é—´åºåˆ—${ X _ { t } $çš„å»¶è¿Ÿkè‡ªåæ–¹å·®å‡½æ•°ã€‚ ç”±äºå¹³ç¨³æ—¶é—´åºåˆ—å…·æœ‰è¿™äº›ä¼˜è‰¯æ€§è´¨ï¼Œå› æ­¤ï¼Œå¯¹äºä¸€ä¸ªå¹³ç¨³æ—¶é—´åºåˆ—æ¥è¯´ï¼Œå…¶å¾…ä¼°è®¡çš„å‚æ•°é‡å°±å˜å¾—å°‘äº†å¾ˆå¤šï¼Œå› ä¸ºä»–ä»¬çš„å‡å€¼ã€æ–¹å·®éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå› æ­¤ï¼Œå¯ä»¥åˆ©ç”¨å…¨éƒ¨çš„æ ·æœ¬æ¥ä¼°è®¡æ€»ä½“çš„å‡å€¼å’Œæ–¹å·®ï¼Œå³ï¼š$\\widehat { \\mu } = \\overline { x } = \\frac { \\sum _ { i = 1 } ^ { n } x _ { i } } { n } \\\\ \\widehat { \\gamma } ( 0 ) = \\frac { \\sum _ { t = 1 } ^ { n } \\left( x _ { t } - \\overline { x } \\right) ^ { 2 } } { n - 1 }$è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¯´å½“æ‹¿åˆ°ä¸€ä¸ªæ—¶é—´åºåˆ—åï¼Œéœ€è¦å¯¹å…¶è¿›è¡Œå¹³ç¨³æ€§æ£€éªŒã€‚ å¹³ç¨³æ—¶é—´åºåˆ—çš„æ£€éªŒé‚£ä¹ˆï¼Œå½“æ‹¿åˆ°ä¸€ä¸ªæ—¶é—´åºåˆ—åï¼Œåº”è¯¥å¦‚ä½•å¯¹å…¶è¿›è¡Œå¹³ç¨³æ€§çš„æ£€éªŒå‘¢ï¼Ÿç›®å‰ï¼Œå¯¹æ—¶é—´åºåˆ—çš„å¹³ç¨³æ€§æ£€éªŒä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯å›¾æ£€æ³•ï¼Œå³æ ¹æ®æ—¶åºå›¾å’Œè‡ªç›¸å…³å›¾è¿›è¡Œç›´è§‚åˆ¤æ–­ï¼Œå¦ä¸€ç§æ˜¯æ„é€ æ£€éªŒç»Ÿè®¡é‡çš„æ–¹æ³•ï¼Œæœ‰å•ä½æ ¹æ£€éªŒæ³•ç­‰æ–¹æ³•ã€‚ å›¾æ£€æ³•å¯¹äºå›¾æ£€æ³•ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç»˜åˆ¶æ—¶é—´åºåˆ—çš„æ—¶åºå›¾ï¼Œè€ƒè™‘ä»¥ä¸‹ä¸‰ä¸ªå›¾å½¢: åœ¨ç¬¬ä¸€å¹…å›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°ï¼Œå‡å€¼éšæ—¶é—´è€Œå˜åŒ–(å¢åŠ )ï¼Œå‘ˆç°ä¸Šå‡çš„è¶‹åŠ¿ã€‚å› æ­¤ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¹³ç¨³åºåˆ—ã€‚å¹³ç¨³åºåˆ—ä¸åº”è¯¥å‘ˆç°å‡ºéšæ—¶é—´å˜åŒ–çš„è¶‹åŠ¿ã€‚ ç¬¬äºŒå¹…å›¾æ˜¾ç„¶çœ‹ä¸åˆ°åºåˆ—çš„è¶‹åŠ¿ï¼Œä½†åºåˆ—çš„å˜åŒ–æ˜¯ä¸€ä¸ªæ—¶é—´çš„å‡½æ•°ã€‚æ­£å¦‚å‰é¢æåˆ°çš„ï¼Œå¹³ç¨³åºåˆ—çš„æ–¹å·®å¿…é¡»æ˜¯ä¸€ä¸ªå¸¸æ•°ã€‚ å†æ¥çœ‹ç¬¬ä¸‰å¹…å›¾ï¼Œéšç€æ—¶é—´çš„å¢åŠ ï¼Œåºåˆ—ä¼ æ’­åå˜å¾—æ›´è¿‘ï¼Œè¿™æ„å‘³ç€åæ–¹å·®æ˜¯æ—¶é—´çš„å‡½æ•°ã€‚ æ‰€ä»¥ä¸Šè¿°ä¸‰ä¸ªä¾‹å­å‡æ˜¯éå¹³ç¨³æ—¶é—´åºåˆ—. å†çœ‹ä¸‹é¢çš„æ—¶åºå›¾ï¼šåœ¨è¿™å¼ å›¾ä¸­ï¼Œå‡å€¼ã€æ–¹å·®å’Œåæ–¹å·®éƒ½æ˜¯å¸¸æ•°ï¼Œè¿™å°±æ˜¯å¹³ç¨³æ—¶é—´åºåˆ— å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡è‡ªç›¸å…³å›¾æ¥è¿›è¡Œæ£€éªŒï¼Œå¯¹äºå¹³ç¨³æ—¶é—´åºåˆ—ï¼Œå…¶è‡ªç›¸å…³å›¾ä¸€èˆ¬éšç€é˜¶æ•°çš„é€’å¢ï¼Œè‡ªç›¸å…³ç³»ç»Ÿä¼šè¿…é€Ÿè¡°å‡è‡³0é™„è¿‘ï¼Œè€Œéå¹³ç¨³æ—¶é—´åºåˆ—åˆ™å¯èƒ½å­˜åœ¨å…ˆå‡åå¢æˆ–è€…å‘¨æœŸæ€§æ³¢åŠ¨ç­‰å˜åŠ¨ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¯¥æ—¶é—´åºåˆ—éšç€é˜¶æ•°çš„é€’å¢ï¼Œè‡ªç›¸å…³ç³»æ•°å…ˆå‡åå¢ï¼Œå› æ­¤ï¼Œå¯ä»¥åˆ¤æ–­è¯¥æ—¶é—´åºåˆ—ä¸æ˜¯å¹³ç¨³æ—¶é—´åºåˆ—ã€‚ ç»Ÿè®¡æ£€éªŒå¯ä»¥åˆ©ç”¨ç»Ÿè®¡æ£€éªŒæ¥ä»£æ›¿ç›®è§†æ£€éªŒï¼šæ¯”å¦‚å•ä½æ ¹å¹³ç¨³æ£€éªŒã€‚å•ä½æ ¹è¡¨åç»™å®šåºåˆ—çš„ç»Ÿè®¡ç‰¹æ€§ï¼ˆå‡å€¼ï¼Œæ–¹å·®å’Œåæ–¹å·®ï¼‰ä¸æ˜¯æ—¶é—´çš„å¸¸æ•°ï¼Œè¿™æ˜¯å¹³ç¨³æ—¶é—´åºåˆ—çš„å…ˆå†³æ¡ä»¶ã€‚ä¸‹é¢æ˜¯å®ƒçš„æ•°å­¦è§£é‡Šï¼š å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ—¶é—´åºåˆ—ï¼š$y_t=ay_{t-1 }+Îµ_t$å…¶ä¸­$y_t$æ˜¯tæ—¶åˆ»çš„æ•°æ®å€¼ï¼Œ$Îµ_t$ æ˜¯è¯¯å·®é¡¹ã€‚ä»™å­æˆ‘ä»¬éœ€è¦åˆ©ç”¨$y_{t-1 }$çš„å€¼æ¥è®¡ç®—$y_t$ï¼Œå³ï¼š$y_{t-1}=ay_{t-2}+Îµ_{t-1}$å¦‚æœåˆ©ç”¨æ‰€æœ‰çš„è§‚å¯Ÿå€¼ï¼Œ$y_{t}$çš„å€¼å°†æ˜¯ï¼š$y_{t}=a^ny_{t-n}+ \\sumÎµ_{t-i}a^i$ å‡è®¾åœ¨ä¸Šè¿°æ–¹ç¨‹ä¸­açš„å€¼ä¸º1(å•ä½)ï¼Œåˆ™é¢„æµ‹å€¼å°†ç­‰äº$y_{t-n}$ å’Œä»$t-n$åˆ°$t$çš„æ‰€æœ‰è¯¯å·®ä¹‹å’Œï¼Œè¿™æ„å‘³ç€æ–¹å·®å°†éšç€æ—¶é—´çš„æ¨ç§»è€Œå¢å¤§ï¼Œè¿™å°±æ˜¯æ—¶é—´åºåˆ—ä¸­çš„å•ä½æ ¹ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œå¹³ç¨³æ—¶é—´åºåˆ—çš„æ–¹å·®ä¸èƒ½æ˜¯æ—¶é—´çš„å‡½æ•°ã€‚å•å…ƒæ ¹æ£€éªŒé€šè¿‡æ£€æŸ¥a=1çš„å€¼æ¥æ£€æŸ¥åºåˆ—ä¸­æ˜¯å¦å­˜åœ¨å•ä½æ ¹ã€‚ä»¥ä¸‹æ˜¯ä¸¤ä¸ªæœ€å¸¸ç”¨çš„å•ä½æ ¹å¹³ç¨³æ£€æµ‹æ–¹æ³•ï¼š ADFï¼ˆå¢è¡¥è¿ªåŸº-ç¦å‹’ï¼‰æ£€éªŒè¿ªåŸº-ç¦å‹’ï¼ˆDickey Fullerï¼‰æ£€éªŒæ˜¯æœ€æµè¡Œçš„ç»Ÿè®¡æ£€éªŒæ–¹æ³•ä¹‹ä¸€ï¼Œå¯ä»¥ç”¨å®ƒæ¥ç¡®å®šåºåˆ—ä¸­å•ä½æ ¹çš„å­˜åœ¨ï¼Œä»è€Œå¸®åŠ©åˆ¤æ–­åºåˆ—æ˜¯å¦æ˜¯å¹³ç¨³ã€‚ADFæ£€éªŒæ˜¯å¯¹DFæ£€éªŒçš„æ‰©å±•ã€‚è¿™ä¸€æ£€éªŒçš„åŸå‡è®¾ä¸å¤‡é€‰å‡è®¾å¦‚ä¸‹ï¼š åŸå‡è®¾ï¼š åºåˆ—æœ‰ä¸€ä¸ªå•ä½æ ¹(åºåˆ—éå¹³ç¨³) å¤‡é€‰å‡è®¾ï¼š è¯¥åºåˆ—æ²¡æœ‰å•ä½æ ¹ã€‚ï¼ˆåºåˆ—å¹³ç¨³ï¼‰ å•ä½æ ¹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå½“ä¸€ä¸ªè‡ªå›å½’è¿‡ç¨‹ä¸­ï¼š $y_{t} = by_{t-1} + a + \\epsilon _{t}$ï¼Œå¦‚æœæ»åé¡¹ç³»æ•°bä¸º1ï¼Œå°±ç§°ä¸ºå•ä½æ ¹ã€‚å½“å•ä½æ ¹å­˜åœ¨æ—¶ï¼Œè‡ªå˜é‡å’Œå› å˜é‡ä¹‹é—´çš„å…³ç³»å…·æœ‰æ¬ºéª—æ€§ï¼Œå› ä¸ºæ®‹å·®åºåˆ—çš„ä»»ä½•è¯¯å·®éƒ½ä¸ä¼šéšç€æ ·æœ¬é‡ï¼ˆå³æ—¶æœŸæ•°ï¼‰å¢å¤§è€Œè¡°å‡ï¼Œä¹Ÿå°±æ˜¯è¯´æ¨¡å‹ä¸­çš„æ®‹å·®çš„å½±å“æ˜¯æ°¸ä¹…çš„ã€‚è¿™ç§å›å½’åˆç§°ä½œä¼ªå›å½’ã€‚å¦‚æœå•ä½æ ¹å­˜åœ¨ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯ä¸€ä¸ªéšæœºæ¼«æ­¥ï¼ˆrandom walkï¼‰ã€‚ADFæ£€éªŒå°±æ˜¯åˆ¤æ–­åºåˆ—æ˜¯å¦å­˜åœ¨å•ä½æ ¹ï¼šå¦‚æœåºåˆ—å¹³ç¨³ï¼Œå°±ä¸å­˜åœ¨å•ä½æ ¹ï¼›å¦åˆ™ï¼Œå°±ä¼šå­˜åœ¨å•ä½æ ¹. åœ¨Pythonä¸­ä½¿ç”¨ADFæ£€éªŒå¯ä»¥åœ¨statsmodelsä¸­ä½¿ç”¨adfullerå‡½æ•°ã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­æˆ‘ä»¬åŠ ä¸Šæ ‡é¢˜ä¸è¾“å‡ºå€¼å¯¹åº”çš„åç§°ï¼š #å®šä¹‰ADFè¾“å‡ºæ ¼å¼åŒ–å‡½æ•° from statsmodels.tsa.stattools import adfuller def adf_test(timeseries): print (&#39;ADFæ£€éªŒç»“æœ:&#39;) dftest = adfuller(timeseries, autolag=&#39;AIC&#39;) dfoutput = pd.Series(dftest[0:4], index=[&#39;Test Statistic&#39;,&#39;p-value&#39;,&#39;Number of Lags Used&#39;,&#39;Number of Observations Used&#39;]) for key,value in dftest[4].items(): dfoutput[&#39;Critical Value (%s)&#39;%key] = value print (dfoutput) #å¯¹æ•°æ®é›†ä½¿ç”¨ADFæ£€éªŒ adf_test(train[&#39;#Passengers&#39;]) æ£€éªŒç»“æœå¦‚ä¸‹ï¼š ADFæ£€éªŒç»“æœ: Test Statistic 0.815369 p-value 0.991880 Number of Lags Used 13.000000 Number of Observations Used 130.000000 Critical Value (1%) -3.481682 Critical Value (5%) -2.884042 Critical Value (10%) -2.578770 dtype: float64 ADFçš„ç»“æœä¸»è¦çœ‹ä»¥ä¸‹ä¸¤ä¸ªæ–¹é¢ï¼š Test Statisticçš„å€¼å¦‚æœæ¯”Critical Value (5%)å°åˆ™æ»¡è¶³ç¨³å®šæ€§éœ€æ±‚. p-valueè¶Šä½ï¼ˆç†è®ºä¸Šéœ€è¦ä½äº0.05ï¼‰è¯æ˜åºåˆ—è¶Šç¨³å®šã€‚ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œtest statistic &gt; Critical Value (5%) ï¼Œè¿™æ„å‘³ç€åºåˆ—ä¸æ˜¯å¹³ç¨³çš„ã€‚åŒæ—¶på€¼ä¸º0.99,è¿™è¯å®äº†æˆ‘ä»¬æœ€åˆåœ¨ç›®è§†æ£€æµ‹ä¸­è§‚å¯Ÿçš„ç»“æœã€‚ éšæœºæ€§ï¼ˆç™½å™ªå£°ï¼‰çš„å®šä¹‰ä¸æ£€éªŒéšæœºæ€§æ—¶é—´åºåˆ—çš„å®šä¹‰é€šè¿‡å¯¹æ—¶é—´åºåˆ—è¿›è¡Œå¹³ç¨³æ€§æ£€éªŒåï¼Œæˆ‘ä»¬å¯ä»¥å°†æ—¶é—´åºåˆ—åˆ†ä¸ºå¹³ç¨³æ—¶é—´åºåˆ—å’Œéå¹³ç¨³æ—¶é—´åºåˆ—ï¼Œå¯¹äºéå¹³ç¨³æ—¶é—´åºåˆ—ï¼Œä¸€èˆ¬éœ€è¦å°†å…¶è½¬åŒ–ä¸ºå¹³ç¨³æ—¶é—´åºåˆ—å†è¿›è¡Œåˆ†æï¼Œå…·ä½“çš„è½¬åŒ–æ–¹æ³•éšåå†è®²ã€‚è€Œå¯¹äºå¹³ç¨³æ—¶é—´åºåˆ—ï¼Œæˆ‘ä»¬çŸ¥é“å…¶æœ‰ä¸€ä¸ªæ€§è´¨ï¼Œå³è‡ªåæ–¹å·®å‡½æ•°å’Œè‡ªç›¸å…³ç³»æ•°åªä¾èµ–äºæ—¶é—´é—´éš”ï¼Œè€Œä¸èµ·ç‚¹æ— å…³ï¼Œå¯¹äºç›¸åŒçš„æ—¶é—´é—´éš”ï¼Œå…¶è‡ªåæ–¹å·®å‡½æ•°å’Œè‡ªç›¸å…³ç³»æ•°ä¸ºä¸€ä¸ªå¸¸æ•°ï¼Œé‚£ä¹ˆï¼Œå°±å­˜åœ¨ä¸€ç§æƒ…å†µï¼Œå½“è¯¥å¸¸æ•°ä¸º0æ—¶ï¼Œç…§æ ·æ»¡è¶³å¹³ç¨³æ—¶é—´åºåˆ—çš„æ¡ä»¶ï¼Œè€Œæ­¤æ—¶åºåˆ—ä¹‹é—´çš„ç›¸å…³æ€§åˆ™ä¸º0ï¼Œå³åºåˆ—ä¹‹é—´ä¸ç›¸å…³ï¼Œé‚£ä¹ˆï¼Œè¿™æ—¶æˆ‘ä»¬çš„åˆ†æå³å¯ç»“æŸï¼Œå› ä¸ºå¯¹äºä¸€ä¸ªæ¯«æ— ç›¸å…³çš„åºåˆ—ï¼Œæˆ‘ä»¬æ²¡æ³•ä»ä¸­æŒ–æ˜å‡ºå¯ç”¨çš„è§„å¾‹ï¼Œæ­¤æ—¶çš„åºåˆ—å³ä¸ºéšæœºæ€§æ—¶é—´åºåˆ—ï¼Œä¹Ÿç§°ä¸ºç™½å™ªå£°åºåˆ—ã€‚ å¯¹äºæ—¶é—´åºåˆ—$X _ { t }$ï¼Œå¦‚æœæ»¡è¶³ï¼š ä»»å–$t \\in T$ï¼Œæœ‰$E X _ { t } = \\mu$ï¼› ä»»å–$t , s \\in T$ï¼Œæœ‰$\\gamma ( t , s ) = \\begin{array} { l l } { \\sigma ^ { 2 }}; { t = s } \\\\ { 0 }; { t \\neq s } \\end{array}$ åˆ™ç§°è¯¥æ—¶é—´åºåˆ—ä¸ºçº¯éšæœºåºåˆ—æˆ–ç™½å™ªå£°åºåˆ—ï¼Œç®€è®°ä¸º$X _ { t } \\sim W N \\left( \\mu , \\sigma ^ { 2 } \\right)$ã€‚æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå…¶å®ç™½å™ªå£°åºåˆ—çš„æ€§è´¨ä¸å¹³ç¨³æ—¶é—´åºåˆ—çš„æ€§è´¨ä¸€æ ·ï¼Œå…¶å‡å€¼å’Œæ–¹å·®å‡ä¸ºå¸¸æ•°ï¼Œåªæ˜¯è‡ªåæ–¹å·®å‡½æ•°æˆ–è‡ªç›¸å…³ç³»æ•°ä¸º0ï¼Œå› æ­¤ï¼Œè¯¥åºåˆ—çš„ä»»ä½•ä¸¤é¡¹ä¹‹é—´ä¸å­˜åœ¨ç›¸å…³æ€§ï¼Œæ— æ³•ä»ä¸­å¾—åˆ°ä»»ä½•æœ‰ç”¨çš„ä¿¡æ¯ï¼Œæ­¤æ—¶åˆ†æå¯ä»¥åœæ­¢ã€‚ çº¯éšæœºæ€§ï¼ˆç™½å™ªå£°ï¼‰æ£€éªŒå¯¹äºçº¯éšæœºæ€§åºåˆ—ï¼Œä¸€èˆ¬é€šè¿‡æ„å»ºç»Ÿè®¡é‡çš„æ–¹æ³•æ¥æ£€éªŒã€‚æˆ‘ä»¬çŸ¥é“ï¼Œç™½å™ªå£°åºåˆ—é™¤äº†0é˜¶è‡ªç›¸å…³ç³»æ•°å¤–ï¼Œå³æ–¹å·®ï¼Œå…¶ä»–é˜¶çš„è‡ªç›¸å…³ç³»æ•°åº”è¯¥å‡ä¸º0ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æå‡ºä¸‹é¢è¿™æ ·ä¸€ä¸ªå‡è®¾ï¼š $H _ { 0 } : \\rho _ { 1 } = \\rho _ { 2 } = \\cdots = \\rho _ { m } = 0 , \\quad \\forall m \\geqslant 1\\\\ H _ { 1 } :è‡³å°‘å­˜åœ¨æŸä¸ª\\rho _ { k } \\neq 0 , \\quad \\forall m \\geqslant 1 , k \\leqslant m$ å› æ­¤ï¼Œå›´ç»•è¯¥å‡è®¾ï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºç»Ÿè®¡é‡è¿›è¡Œæ£€éªŒï¼Œå¸¸ç”¨çš„ç»Ÿè®¡é‡æœ‰Qç»Ÿè®¡é‡å’ŒLBç»Ÿè®¡é‡ï¼Œå…¶è®¡ç®—å…¬å¼åˆ†åˆ«å¦‚ä¸‹ï¼š $Q = n \\sum _ { k = 1 } ^ { m } \\widehat { \\rho } _ { k } ^ { 2 }\\\\L B = n ( n + 2 ) \\sum _ { k = 1 } ^ { m } \\left( \\frac { \\widehat { \\rho } _ { k } ^ { 2 } } { n - k } \\right)$ å…¶ä¸­ï¼Œ$n$ä¸ºåºåˆ—çš„è§‚å¯ŸæœŸæ•°ï¼Œ$m$ä¸ºæŒ‡å®šå»¶è¿ŸæœŸæ•°ï¼Œ$k$ä¸ºå»¶è¿Ÿé˜¶æ•°ï¼ŒBoxå’ŒPierceè¯æ˜è¿™ä¸¤ä¸ªç»Ÿè®¡é‡å‡æœä»è‡ªç”±åº¦ä¸ºm mmçš„å¡æ–¹åˆ†å¸ƒï¼Œå½“ç»Ÿè®¡é‡å¤§äº$\\chi _ { 1 - \\alpha } ^ { 2 } ( m )$æˆ–è€…På€¼å°äº$Î±$ æ—¶ï¼Œåˆ™è®¤ä¸ºå¯ä»¥æ‹’ç»åŸå‡è®¾ï¼Œå³è®¤ä¸ºè¯¥åºåˆ—æ˜¯ééšæœºåºåˆ— æˆ‘ä»¬å¯ä»¥ä½¿ç”¨acorr_ljungboxå‡½æ•°è¿›è¡Œæ•°æ®çš„çº¯éšæœºæ€§æ£€éªŒ.è¯­æ³•ä¸ºï¼š acorr_ljungbox(x, lags=None, boxpierce=False) # æ•°æ®çš„çº¯éšæœºæ€§æ£€éªŒå‡½æ•° lagsï¼šä¸ºå»¶è¿ŸæœŸæ•°ï¼Œå¦‚æœä¸ºæ•´æ•°ï¼Œåˆ™æ˜¯åŒ…å«åœ¨å†…çš„å»¶è¿ŸæœŸæ•°ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªåˆ—è¡¨æˆ–æ•°ç»„ï¼Œé‚£ä¹ˆæ‰€æœ‰æ—¶æ»éƒ½åŒ…å«åœ¨åˆ—è¡¨ä¸­æœ€å¤§çš„æ—¶æ»ä¸­ boxpierceï¼šä¸ºTrueæ—¶è¡¨ç¤ºé™¤å¼€è¿”å›LBç»Ÿè®¡é‡è¿˜ä¼šè¿”å›Boxå’ŒPierceçš„Qç»Ÿè®¡é‡ è¿”å›å€¼ï¼š lbvalue:æµ‹è¯•çš„ç»Ÿè®¡é‡ pvalue:åŸºäºå¡æ–¹åˆ†å¸ƒçš„pç»Ÿè®¡é‡ bpvalue:((optionsal), float or array) â€“ åŸºäº Box-Pierce çš„æ£€éªŒçš„pç»Ÿè®¡é‡ bppvalue:((optional), float or array) â€“ åŸºäºå¡æ–¹åˆ†å¸ƒä¸‹çš„Box-Pierceæ£€éªŒçš„pç»Ÿè®¡é‡ ä»£ç å®ç°ï¼š from statsmodels.stats.diagnostic import acorr_ljungbox acorr_ljungbox(train[&#39;#Passengers&#39;]) è¾“å‡ºæ£€éªŒç»“æœä¸­ä¼šè¿”å›ä¸¤ä¸ªå€¼ï¼šlbvalue: æµ‹è¯•çš„ç»Ÿè®¡é‡ å’Œ pvalue: åŸºäºå¡æ–¹åˆ†å¸ƒçš„pç»Ÿè®¡é‡ã€‚å¦‚æœp-value&gt;0.05åˆ™å¯åˆ¤æ–­ä¸ºç™½å™ªå£°åºåˆ— æ—¶é—´åºåˆ—çš„å¹³ç¨³åŒ–åœ¨ç†Ÿæ‚‰äº†å¹³ç¨³æ€§çš„æ¦‚å¿µåŠå…¶ä¸åŒçš„ç±»å‹ä¹‹åï¼Œæ¥ä¸‹æ¥å¯ä»¥å¯¹åºåˆ—è¿›è¡Œå¹³ç¨³åŒ–æ“ä½œã€‚å¹³ç¨³åŒ–çš„æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§ï¼š å·®åˆ†æ³•åœ¨è¯¥æ–¹æ³•ä¸­ï¼Œè®¡ç®—åºåˆ—ä¸­è¿ç»­é¡¹çš„å·®å€¼ã€‚æ‰§è¡Œå·®åˆ†æ“ä½œé€šå¸¸æ˜¯ä¸ºäº†æ¶ˆé™¤å‡å€¼çš„å˜åŒ–ã€‚ä»æ•°å­¦è§’åº¦ï¼Œå·®åˆ†å¯ä»¥å†™æˆï¼š $y_t = y_t â€“ y_{t-1}$ å…¶ä¸­$y_t$ æ˜¯tæ—¶åˆ»çš„æ•°å€¼ã€‚ç›¸å‡æ•°å€¼ä¹‹é—´çš„é—´éš”æ•°å³ä¸ºé˜¶æ•°ã€‚ä¾‹å¦‚ä¸Šè¿°å…¬å¼å³ä¸ºä¸€é˜¶å·®åˆ†ã€‚ æˆ‘ä»¬å¯ä»¥ç›´æ¥ç›¸å‡å¯¹åºåˆ—å·®åˆ†ï¼Œå¹¶ç»˜åˆ¶å‡ºå¯¹åº”çº¿å›¾ï¼š train[&#39;#Passengers_diff&#39;] = train[&#39;#Passengers&#39;] - train[&#39;#Passengers&#39;].shift(1) train[&#39;#Passengers_diff&#39;].dropna().plot() æˆ–è€…ä½¿ç”¨diffæ–¹æ³•è¿›è¡Œå·®åˆ†ï¼š train[&#39;#Passengers_diff&#39;] = train[&#39;#Passengers&#39;].diff(1)#ä¸€é˜¶å·®åˆ† train[&#39;#Passengers_diff2&#39;] = train[&#39;#Passengers_diff&#39;].diff(1)#äºŒé˜¶å·®åˆ† å½“æ•°æ®å­˜åœ¨å­£èŠ‚æ€§è¶‹åŠ¿æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å­£èŠ‚æ€§å·®åˆ†æ¥æ¶ˆé™¤å­£èŠ‚æ€§çš„ä¸å¹³ç¨³å› ç´ ã€‚ä¾‹å¦‚ï¼Œæ˜ŸæœŸä¸€çš„è§‚å¯Ÿå€¼å°†ä¸ä¸Šæ˜ŸæœŸä¸€çš„è§‚å¯Ÿå€¼ç›¸å‡ã€‚ä»æ•°å­¦è§’åº¦ï¼Œå®ƒå¯ä»¥å†™æˆï¼š $y_t = y_t â€“ y_{t-n}$ n=7 train[&#39;#Passengers_diff&#39;] = train[&#39;#Passengers&#39;] - train[&#39;#Passengers&#39;].shift(n) å˜æ¢å˜æ¢ç”¨äºå¯¹æ–¹å·®ä¸ºéå¸¸æ•°çš„åºåˆ—è¿›è¡Œå¹³ç¨³åŒ–ã€‚å¸¸ç”¨çš„å˜æ¢æ–¹æ³•åŒ…æ‹¬å¹‚å˜æ¢ã€å¹³æ–¹æ ¹å˜æ¢å’Œå¯¹æ•°å˜æ¢ã€‚ train[&#39;#Passengers_log&#39;] = np.log(train[&#39;#Passengers&#39;]) train[&#39;#Passengers_log_diff&#39;] = train[&#39;#Passengers_log&#39;] - train[&#39;#Passengers_log&#39;].shift(1) train[&#39;#Passengers_log_diff&#39;].dropna().plot() åœ¨ä¸Šé¢çš„å˜åŒ–è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆå¯¹åŸå§‹æ•°æ®å–å¯¹æ•°ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªç”¨å¤„ï¼šï¼ˆ1ï¼‰å°†æŒ‡æ•°å¢é•¿è½¬ä¸ºçº¿æ€§å¢é•¿ï¼ˆ2ï¼‰å¯ä»¥å¹³ç¨³åºåˆ—çš„æ–¹å·®ã€‚éšåè¿›è¡Œå·®åˆ†ä»è€Œæ¶ˆé™¤è¶‹åŠ¿çš„å½±å“ä½¿åºåˆ—å¹³ç¨³ã€‚ åˆ†è§£å¯¹äºæœ‰æ˜æ˜¾è¶‹åŠ¿æˆ–è€…å‘¨æœŸæ€§çš„æ—¶é—´åºåˆ—äºŒï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹å…¶è¿›è¡Œåˆ†è§£ã€‚åˆ†è§£éœ€è¦ç”¨åˆ°statsmodels.tsa.seasonal.seasonal_decomposeå‡½æ•°ï¼Œå¯ä»¥å°†æ—¶é—´åºåˆ—çš„æ•°æ®åˆ†è§£ä¸ºè¶‹åŠ¿(trend),å­£èŠ‚æ€§(seasonality)å’Œæ®‹å·®(residual)ä¸‰éƒ¨åˆ†ã€‚ from statsmodels.tsa.seasonal import seasonal_decompose decomposition = seasonal_decompose(train[&#39;#Passengers&#39;]).plot()#ç”»å‡ºåˆ†è§£åæ—¶åºå›¾ plt.show() trend = decomposition.trend seasonal = decomposition.seasonal residual = decomposition.resid è¿™æ ·è¶‹åŠ¿å’Œå­£èŠ‚æ€§ï¼Œè¿˜æœ‰æ®‹å·®å€¼éƒ½è¢«åˆ†è§£å‡ºæ¥ï¼Œä¹‹åæˆ‘ä»¬å°±å¯ä»¥è®¡ç®—æ®‹å·®å€¼çš„ç¨³å®šæ€§ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªå¹³ç¨³çš„æ—¶é—´åºåˆ— å‚è€ƒæ–‡ç« ï¼šhttps://www.biaodianfu.com/arima.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"Pythonæ•°æ®åˆ†æ","slug":"Pythonæ•°æ®åˆ†æ","permalink":"http://smilecoc.vip/tags/Pythonæ•°æ®åˆ†æ/"}],"author":"smilecoc"},{"title":"æ—¶é—´åºåˆ—ï¼ˆä¸€ï¼‰ï¼šæ—¶é—´åºåˆ—æ•°æ®ä¸æ—¶é—´åºåˆ—é¢„æµ‹æ¨¡å‹","slug":"time_series_part1_introduction_and_models","date":"2021-01-15T08:25:43.000Z","updated":"2021-01-31T10:44:46.835Z","comments":true,"path":"2021/01/15/time_series_part1_introduction_and_models/","link":"","permalink":"http://smilecoc.vip/2021/01/15/time_series_part1_introduction_and_models/","excerpt":"","text":"æ—¶é—´åºåˆ—åŠå…¶é¢„æµ‹æ˜¯æ—¥å¸¸å·¥ä½œä¸­å»ºæ¨¡ï¼Œåˆ†æï¼Œé¢„æµ‹çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚æœ¬ç³»åˆ—æˆ‘ä»¬å°†ä»0å¼€å§‹ä»‹ç»æ—¶é—´åºåˆ—çš„å«ä¹‰ï¼Œæ¨¡å‹åŠå…¶åˆ†æã€‚æœ¬ç¯‡ä¸ºç¬¬ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬ä¸»è¦ä»‹ç»æ—¶é—´åºåˆ—ï¼Œä¸å…¶å¸¸ç”¨çš„é¢„æµ‹æ¨¡å‹ã€‚ æ—¶é—´åºåˆ—å®šä¹‰ï¼šæ—¶é—´åºåˆ—æ˜¯æŒ‰ç…§ä¸€å®šçš„æ—¶é—´é—´éš”æ’åˆ—çš„ä¸€ç»„æ•°æ®ï¼Œå…¶æ—¶é—´é—´éš”å¯ä»¥æ˜¯ä»»æ„çš„æ—¶é—´å•ä½ï¼Œå¦‚å°æ—¶ã€æ—¥ã€å‘¨æœˆç­‰ã€‚æ¯”å¦‚ï¼Œæ¯å¤©æŸäº§å“çš„ç”¨æˆ·æ•°é‡ï¼Œæ¯ä¸ªæœˆçš„é”€å”®é¢ï¼Œè¿™äº›æ•°æ®å½¢æˆäº†ä»¥ä¸€å®šæ—¶é—´é—´éš”çš„æ•°æ®ã€‚ é€šè¿‡å¯¹è¿™äº›æ—¶é—´åºåˆ—çš„åˆ†æï¼Œä»ä¸­å‘ç°å’Œæ­ç¤ºç°è±¡å‘å±•å˜åŒ–çš„è§„å¾‹ï¼Œå¹¶å°†è¿™äº›çŸ¥è¯†å’Œä¿¡æ¯ç”¨äºé¢„æµ‹ã€‚æ¯”å¦‚é”€å”®é‡æ˜¯ä¸Šå‡è¿˜æ˜¯ä¸‹é™ï¼Œé”€å”®é‡æ˜¯å¦ä¸å­£èŠ‚æœ‰å…³ï¼Œæ˜¯å¦å¯ä»¥é€šè¿‡ç°æœ‰çš„æ•°æ®é¢„æµ‹æœªæ¥ä¸€å¹´çš„é”€å”®é¢æ˜¯å¤šå°‘ç­‰ã€‚ å¯¹äºæ—¶é—´åºåˆ—çš„é¢„æµ‹ï¼Œç”±äºå¾ˆéš¾ç¡®å®šå®ƒä¸å…¶ä»–å˜é‡ä¹‹é—´çš„å…³ç³»ï¼Œè¿™æ—¶æˆ‘ä»¬å°±ä¸èƒ½ç”¨å›å½’å»é¢„æµ‹ï¼Œè€Œåº”ä½¿ç”¨æ—¶é—´åºåˆ—æ–¹æ³•è¿›è¡Œé¢„æµ‹ã€‚ é‡‡ç”¨æ—¶é—´åºåˆ—åˆ†æè¿›è¡Œé¢„æµ‹æ—¶éœ€è¦ä¸€ç³»åˆ—çš„æ¨¡å‹ï¼Œè¿™ç§æ¨¡å‹ç§°ä¸ºæ—¶é—´åºåˆ—æ¨¡å‹ã€‚ æ—¶é—´åºåˆ—é¢„æµ‹æ¨¡å‹ä¸æ–¹æ³•æ³¨ï¼šæœ¬éƒ¨åˆ†åªå…³æ³¨ç›¸å…³æ¨¡å‹ä¸åˆ†æçš„æ–¹æ³•ï¼Œæ¨¡å‹çš„é€‰æ‹©ï¼Œè°ƒå‚ä¸ä¼˜åŒ–ä¼šæ”¾åœ¨åç»­æ–‡ç« ä¸­è¯¦ç»†è®²è§£ åŸå§‹æ•°æ®æœ¬æ–‡æ‰€ä½¿ç”¨åŸå§‹æ•°æ®ä¸ä»£ç å¯åœ¨æˆ‘çš„GitHubä¸‹è½½ æœ´ç´ æ³•æœ´ç´ æ³•å°±æ˜¯é¢„æµ‹å€¼ç­‰äºå®é™…è§‚å¯Ÿåˆ°çš„æœ€åä¸€ä¸ªå€¼ã€‚å®ƒå‡è®¾æ•°æ®æ˜¯å¹³ç¨³ä¸”æ²¡æœ‰è¶‹åŠ¿æ€§ä¸å­£èŠ‚æ€§çš„ã€‚é€šä¿—æ¥è¯´å°±æ˜¯ä»¥åçš„é¢„æµ‹å€¼éƒ½ç­‰äºæœ€åçš„å€¼ã€‚ è¿™ç§æ–¹æ³•å¾ˆæ˜æ˜¾é€‚ç”¨æƒ…å†µæå°‘ï¼Œæ‰€ä»¥æˆ‘ä»¬é‡ç‚¹é€šè¿‡è¿™ä¸ªæ–¹æ³•æ¥ç†Ÿæ‚‰ä¸€ä¸‹æ•°æ®å¯è§†åŒ–ä¸æ¨¡å‹çš„è¯„ä»·åŠå…¶ç›¸å…³ä»£ç ã€‚ #æœ´ç´ æ³• dd = np.asarray(train[&#39;Count&#39;])#è®­ç»ƒç»„æ•°æ® y_hat = test.copy()#æµ‹è¯•ç»„æ•°æ® y_hat[&#39;naive&#39;] = dd[len(dd) - 1]#é¢„æµ‹ç»„æ•°æ® #æ•°æ®å¯è§†åŒ– plt.figure(figsize=(12, 8)) plt.plot(train.index, train[&#39;Count&#39;], label=&#39;Train&#39;) plt.plot(test.index, test[&#39;Count&#39;], label=&#39;Test&#39;) plt.plot(y_hat.index, y_hat[&#39;naive&#39;], label=&#39;Naive Forecast&#39;) plt.legend(loc=&#39;best&#39;) plt.title(&quot;Naive Forecast&quot;) plt.show() å¾—åˆ°ç»“æœï¼šæˆ‘ä»¬é€šè¿‡è®¡ç®—å‡æ–¹æ ¹è¯¯å·®ï¼Œæ£€æŸ¥æ¨¡å‹åœ¨æµ‹è¯•æ•°æ®é›†ä¸Šçš„å‡†ç¡®ç‡ã€‚å…¶ä¸­å‡æ–¹æ ¹è¯¯å·®ï¼ˆRMSEï¼‰æ˜¯å„æ•°æ®åç¦»çœŸå®å€¼çš„è·ç¦»å¹³æ–¹å’Œçš„å¹³å‡æ•°çš„å¼€æ–¹ #è®¡ç®—å‡æ–¹æ ¹è¯¯å·®RMSE from sklearn.metrics import mean_squared_error from math import sqrt # mean_squared_erroræ±‚å‡æ–¹è¯¯å·® rmse = sqrt(mean_squared_error(test[&#39;Count&#39;], y_hat[&#39;naive&#39;])) print(rmse) å¾—åˆ°å‡æ–¹æ ¹è¯¯å·®ä¸º1053 ç®€å•å¹³å‡æ³•ç®€å•å¹³å‡æ³•å°±æ˜¯é¢„æµ‹çš„å€¼ä¸ºä¹‹å‰è¿‡å»æ‰€æœ‰å€¼çš„å¹³å‡.å½“ç„¶è¿™ä¸ä¼šå¾ˆå‡†ç¡®ï¼Œä½†è¿™ç§é¢„æµ‹æ–¹æ³•åœ¨æŸäº›æƒ…å†µä¸‹æ•ˆæœæ˜¯æœ€å¥½çš„ã€‚ #ç®€å•å¹³å‡æ³• y_hat_avg = test.copy() y_hat_avg[&#39;avg_forecast&#39;] = train[&#39;Count&#39;].mean() å…¶åç»­å¯è§†åŒ–ä¸æ¨¡å‹æ•ˆæœè¯„ä¼°æ–¹æ³•ä¸ä¸Šè¿°ä¸€è‡´ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼Œéœ€è¦è¯¦ç»†ä»£ç å¯ä»¥æŸ¥çœ‹ç›¸å…³æºç ã€‚å¾—åˆ°RMSEå€¼ä¸º2637 ç§»åŠ¨å¹³å‡æ³•æˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°è¿™ç§æ•°æ®é›†ï¼Œæ¯”å¦‚ä»·æ ¼æˆ–é”€å”®é¢æŸæ®µæ—¶é—´å¤§å¹…ä¸Šå‡æˆ–ä¸‹é™ã€‚å¦‚æœæˆ‘ä»¬è¿™æ—¶ç”¨ä¹‹å‰çš„ç®€å•å¹³å‡æ³•ï¼Œå°±å¾—ä½¿ç”¨æ‰€æœ‰å…ˆå‰æ•°æ®çš„å¹³å‡å€¼ï¼Œä½†åœ¨è¿™é‡Œä½¿ç”¨ä¹‹å‰çš„æ‰€æœ‰æ•°æ®æ˜¯è¯´ä¸é€šçš„ï¼Œå› ä¸ºç”¨å¼€å§‹é˜¶æ®µçš„ä»·æ ¼å€¼ä¼šå¤§å¹…å½±å“æ¥ä¸‹æ¥æ—¥æœŸçš„é¢„æµ‹å€¼ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åªå–æœ€è¿‘å‡ ä¸ªæ—¶æœŸçš„ä»·æ ¼å¹³å‡å€¼ã€‚å¾ˆæ˜æ˜¾è¿™é‡Œçš„é€»è¾‘æ˜¯åªæœ‰æœ€è¿‘çš„å€¼æœ€è¦ç´§ã€‚è¿™ç§ç”¨æŸäº›çª—å£æœŸè®¡ç®—å¹³å‡å€¼çš„é¢„æµ‹æ–¹æ³•å°±å«ç§»åŠ¨å¹³å‡æ³•ã€‚ #ç§»åŠ¨å¹³å‡æ³• y_hat_avg = test.copy() #åˆ©ç”¨æ—¶é—´çª—å‡½æ•°rollingæ±‚å¹³å‡å€¼u y_hat_avg[&#39;moving_avg_forecast&#39;] = train[&#39;Count&#39;].rolling(60).mean().iloc[-1] å…¶åç»­å¯è§†åŒ–ä¸æ¨¡å‹æ•ˆæœè¯„ä¼°æ–¹æ³•ä¸ä¸Šè¿°ä¸€è‡´ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ï¼Œéœ€è¦è¯¦ç»†ä»£ç å¯ä»¥æŸ¥çœ‹ç›¸å…³æºç ã€‚å¾—åˆ°RMSEå€¼ä¸º1121 æŒ‡æ•°å¹³æ»‘æ³•åœ¨åšæ—¶åºé¢„æµ‹æ—¶ï¼Œä¸€ä¸ªæ˜¾ç„¶çš„æ€è·¯æ˜¯ï¼šè®¤ä¸ºç¦»ç€é¢„æµ‹ç‚¹è¶Šè¿‘çš„ç‚¹ï¼Œä½œç”¨è¶Šå¤§ã€‚æ¯”å¦‚æˆ‘è¿™ä¸ªæœˆä½“é‡100æ–¤ï¼Œå»å¹´æŸä¸ªæœˆ120æ–¤ï¼Œæ˜¾ç„¶å¯¹äºé¢„æµ‹ä¸‹ä¸ªæœˆä½“é‡è€Œè¨€ï¼Œè¿™ä¸ªæœˆçš„æ•°æ®å½±å“åŠ›æ›´å¤§äº›ã€‚å‡è®¾éšç€æ—¶é—´å˜åŒ–æƒé‡ä»¥æŒ‡æ•°æ–¹å¼ä¸‹é™â€”â€”æœ€è¿‘ä¸º0.8ï¼Œç„¶å0.8*2ï¼Œ0.8*3â€¦ï¼Œæœ€ç»ˆå¹´ä»£ä¹…è¿œçš„æ•°æ®æƒé‡å°†æ¥è¿‘äº0ã€‚å°†æƒé‡æŒ‰ç…§æŒ‡æ•°çº§è¿›è¡Œè¡°å‡ï¼Œè¿™å°±æ˜¯æŒ‡æ•°å¹³æ»‘æ³•çš„åŸºæœ¬æ€æƒ³ã€‚ æŒ‡æ•°å¹³æ»‘æ³•æœ‰å‡ ç§ä¸åŒå½¢å¼ï¼šä¸€æ¬¡æŒ‡æ•°å¹³æ»‘æ³•é’ˆå¯¹æ²¡æœ‰è¶‹åŠ¿å’Œå­£èŠ‚æ€§çš„åºåˆ—ï¼ŒäºŒæ¬¡æŒ‡æ•°å¹³æ»‘æ³•é’ˆå¯¹æœ‰è¶‹åŠ¿ä½†æ²¡æœ‰å­£èŠ‚æ€§çš„åºåˆ—ï¼Œä¸‰æ¬¡æŒ‡æ•°å¹³æ»‘æ³•é’ˆå¯¹æœ‰è¶‹åŠ¿ä¹Ÿæœ‰å­£èŠ‚æ€§çš„åºåˆ—ã€‚â€œ æ‰€æœ‰çš„æŒ‡æ•°å¹³æ»‘æ³•éƒ½è¦æ›´æ–°ä¸Šä¸€æ—¶é—´æ­¥é•¿çš„è®¡ç®—ç»“æœï¼Œå¹¶ä½¿ç”¨å½“å‰æ—¶é—´æ­¥é•¿çš„æ•°æ®ä¸­åŒ…å«çš„æ–°ä¿¡æ¯ã€‚å®ƒä»¬é€šè¿‡â€æ··åˆâ€œæ–°ä¿¡æ¯å’Œæ—§ä¿¡æ¯æ¥å®ç°ï¼Œè€Œç›¸å…³çš„æ–°æ—§ä¿¡æ¯çš„æƒé‡ç”±ä¸€ä¸ªå¯è°ƒæ•´çš„å‚æ•°æ¥æ§åˆ¶ã€‚ ä¸€æ¬¡æŒ‡æ•°å¹³æ»‘ä¸€æ¬¡æŒ‡æ•°å¹³æ»‘æ³•çš„é€’æ¨å…³ç³»å¦‚ä¸‹ï¼š $s_{i}=\\alpha x_{i}+(1-\\alpha)s_{i-1}ï¼Œå…¶ä¸­ 0 \\leq \\alpha \\leq 1$ å…¶ä¸­ï¼Œ$s_{i}$æ˜¯æ—¶é—´æ­¥é•¿iï¼ˆç†è§£ä¸ºç¬¬iä¸ªæ—¶é—´ç‚¹ï¼‰ä¸Šç»è¿‡å¹³æ»‘åçš„å€¼ï¼Œ$x_{i}$ æ˜¯è¿™ä¸ªæ—¶é—´æ­¥é•¿ä¸Šçš„å®é™…æ•°æ®ã€‚ $\\alpha$å¯ä»¥æ˜¯0å’Œ1ä¹‹é—´çš„ä»»æ„å€¼ï¼Œå®ƒæ§åˆ¶ç€æ–°æ—§ä¿¡æ¯ä¹‹é—´çš„å¹³è¡¡ï¼šå½“ $\\alpha$ æ¥è¿‘1ï¼Œå°±åªä¿ç•™å½“å‰æ•°æ®ç‚¹ï¼›å½“$\\alpha$ æ¥è¿‘0æ—¶ï¼Œå°±åªä¿ç•™å‰é¢çš„å¹³æ»‘å€¼(æ•´ä¸ªæ›²çº¿éƒ½æ˜¯å¹³çš„)ã€‚æˆ‘ä»¬å±•å¼€å®ƒçš„é€’æ¨å…³ç³»å¼ï¼š æˆ‘ä»¬å±•å¼€å®ƒçš„é€’æ¨å…³ç³»å¼ï¼š$\\begin{aligned} s_{i}&amp;=\\alpha x_{i}+(1-\\alpha)s_{i-1} \\\\ &amp;=\\alpha x_{i}+(1-\\alpha)[\\alpha x_{i-1}+(1-\\alpha)s_{i-2}]\\\\ &amp;=\\alpha x_{i}+(1-\\alpha)[\\alpha x_{i-1}+(1-\\alpha)[\\alpha x_{i-2}+(1-\\alpha)s_{i-3}]]\\\\ &amp;=\\alpha[x_{i}+(1-\\alpha)x_{i-1}+(1-\\alpha)^{2}x_{i-2}+(1-\\alpha)^{3}s_{i-3}]\\\\ &amp;=â€¦ \\\\ &amp;=\\alpha\\sum_{j=0}^{i}(1-\\alpha)^{j}x_{i-j} \\end{aligned}$ å¯ä»¥çœ‹å‡ºï¼Œåœ¨æŒ‡æ•°å¹³æ»‘æ³•ä¸­ï¼Œæ‰€æœ‰å…ˆå‰çš„è§‚æµ‹å€¼éƒ½å¯¹å½“å‰çš„å¹³æ»‘å€¼äº§ç”Ÿäº†å½±å“ï¼Œä½†å®ƒä»¬æ‰€èµ·çš„ä½œç”¨éšç€å‚æ•° $\\alpha$ çš„å¹‚çš„å¢å¤§è€Œé€æ¸å‡å°ã€‚é‚£äº›ç›¸å¯¹è¾ƒæ—©çš„è§‚æµ‹å€¼æ‰€èµ·çš„ä½œç”¨ç›¸å¯¹è¾ƒå°ã€‚åŒæ—¶ï¼Œç§°Î±ä¸ºè®°å¿†è¡°å‡å› å­å¯èƒ½æ›´åˆé€‚â€”â€”å› ä¸ºÎ±çš„å€¼è¶Šå¤§ï¼Œæ¨¡å‹å¯¹å†å²æ•°æ®â€œé—å¿˜â€çš„å°±è¶Šå¿«ã€‚ä»æŸç§ç¨‹åº¦æ¥è¯´ï¼ŒæŒ‡æ•°å¹³æ»‘æ³•å°±åƒæ˜¯æ‹¥æœ‰æ— é™è®°å¿†ï¼ˆå¹³æ»‘çª—å£è¶³å¤Ÿå¤§ï¼‰ä¸”æƒå€¼å‘ˆæŒ‡æ•°çº§é€’å‡çš„ç§»åŠ¨å¹³å‡æ³•ã€‚ä¸€æ¬¡æŒ‡æ•°å¹³æ»‘æ‰€å¾—çš„è®¡ç®—ç»“æœå¯ä»¥åœ¨æ•°æ®é›†åŠèŒƒå›´ä¹‹å¤–è¿›è¡Œæ‰©å±•ï¼Œå› æ­¤ä¹Ÿå°±å¯ä»¥ç”¨æ¥è¿›è¡Œé¢„æµ‹ã€‚é¢„æµ‹æ–¹å¼ä¸ºï¼š $x_{i+h}=s_{i}$ $s_{i}$æ˜¯æœ€åä¸€ä¸ªå·²ç»ç®—å‡ºæ¥çš„å€¼ã€‚hç­‰äº1ä»£è¡¨é¢„æµ‹çš„ä¸‹ä¸€ä¸ªå€¼ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡statsmodelsä¸­çš„æ—¶é—´åºåˆ—æ¨¡å‹è¿›è¡ŒæŒ‡æ•°å¹³æ»‘å»ºæ¨¡ã€‚å®˜æ–¹æ–‡æ¡£åœ°å€ä¸ºï¼šhttps://www.statsmodels.org/stable/generated/statsmodels.tsa.holtwinters.SimpleExpSmoothing.htmlå…·ä½“ä»£ç å¦‚ä¸‹ï¼š #ä¸€æ¬¡æŒ‡æ•°å¹³æ»‘ from statsmodels.tsa.api import SimpleExpSmoothing y_hat_avg = test.copy() fit = SimpleExpSmoothing(np.asarray(train[&#39;Count&#39;])).fit(smoothing_level=0.6, optimized=False) y_hat_avg[&#39;SES&#39;] = fit.forecast(len(test)) ä¹‹ååŒæ ·è¿›è¡Œæ•°æ®å¯è§†åŒ–å¹¶æŸ¥çœ‹æ¨¡å‹æ•ˆæœ plt.figure(figsize=(16, 8)) plt.plot(train[&#39;Count&#39;], label=&#39;Train&#39;) plt.plot(test[&#39;Count&#39;], label=&#39;Test&#39;) plt.plot(y_hat_avg[&#39;SES&#39;], label=&#39;SES&#39;) plt.legend(loc=&#39;best&#39;) plt.show() å¯è§†åŒ–ç»“æœä¸ºï¼šRMSEç»“æœä¸º1040 äºŒæ¬¡æŒ‡æ•°å¹³æ»‘åœ¨ä»‹ç»äºŒæ¬¡æŒ‡æ•°å¹³æ»‘å‰ä»‹ç»ä¸€ä¸‹è¶‹åŠ¿çš„æ¦‚å¿µã€‚ è¶‹åŠ¿ï¼Œæˆ–è€…è¯´æ–œç‡çš„å®šä¹‰å¾ˆç®€å•ï¼š$b=Î”y/Î”x$ï¼Œå…¶ä¸­$Î”x$ä¸ºä¸¤ç‚¹åœ¨xåæ ‡è½´çš„å˜åŒ–å€¼ï¼Œæ‰€ä»¥å¯¹äºä¸€ä¸ªåºåˆ—è€Œè¨€ï¼Œç›¸é‚»ä¸¤ä¸ªç‚¹çš„$Î”x=1$ï¼Œå› æ­¤$b=Î”y=y(x)-y(x-1)$ã€‚ é™¤äº†ç”¨ç‚¹çš„å¢é•¿é‡è¡¨ç¤ºï¼Œä¹Ÿå¯ä»¥ç”¨äºŒè€…çš„æ¯”å€¼è¡¨ç¤ºè¶‹åŠ¿ã€‚æ¯”å¦‚å¯ä»¥è¯´ä¸€ä¸ªç‰©å“æ¯”å¦ä¸€ä¸ªè´µ20å—é’±ï¼Œç­‰ä»·åœ°ä¹Ÿå¯ä»¥è¯´è´µäº†5%ï¼Œå‰è€…ç§°ä¸ºå¯åŠ çš„ï¼ˆaddtiveï¼‰ï¼Œåè€…ç§°ä¸ºå¯ä¹˜çš„ï¼ˆmultiplicativeï¼‰ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¯ä¹˜çš„æ¨¡å‹é¢„æµ‹ç¨³å®šæ€§æ›´ä½³ï¼Œä½†æ˜¯ä¸ºäº†ä¾¿äºç†è§£ï¼Œæˆ‘ä»¬åœ¨è¿™ä»¥å¯åŠ çš„æ¨¡å‹ä¸ºä¾‹è¿›è¡Œæ¨å¯¼ã€‚æŒ‡æ•°å¹³æ»‘è€ƒè™‘çš„æ˜¯æ•°æ®çš„baselineï¼ŒäºŒæ¬¡æŒ‡æ•°å¹³æ»‘åœ¨æ­¤åŸºç¡€ä¸Šå°†è¶‹åŠ¿ä½œä¸ºä¸€ä¸ªé¢å¤–è€ƒé‡ï¼Œä¿ç•™äº†è¶‹åŠ¿çš„è¯¦ç»†ä¿¡æ¯ã€‚å³æˆ‘ä»¬ä¿ç•™å¹¶æ›´æ–°ä¸¤ä¸ªé‡çš„çŠ¶æ€ï¼šå¹³æ»‘åçš„ä¿¡å·å’Œå¹³æ»‘åçš„è¶‹åŠ¿ã€‚å…¬å¼å¦‚ä¸‹ï¼šåŸºå‡†ç­‰å¼$s_{i}=\\alpha x_{i}+(1-\\alpha)(s_{i-1}+t_{i-1})$è¶‹åŠ¿ç­‰å¼$t_{i}=\\beta (s_{i}-s_{i-1})+(1-\\beta)t_{i-1}$ ç¬¬äºŒä¸ªç­‰å¼æè¿°äº†å¹³æ»‘åçš„è¶‹åŠ¿ã€‚å½“å‰è¶‹åŠ¿çš„æœªå¹³æ»‘â€œå€¼â€ï¼ˆ $t_{i}$ ï¼‰æ˜¯å½“å‰å¹³æ»‘å€¼ï¼ˆ $s_{i}$ ï¼‰å’Œä¸Šä¸€ä¸ªå¹³æ»‘å€¼ï¼ˆ$s_{i-1}$ï¼‰çš„å·®ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“å‰è¶‹åŠ¿å‘Šè¯‰æˆ‘ä»¬åœ¨ä¸Šä¸€ä¸ªæ—¶é—´æ­¥é•¿é‡Œå¹³æ»‘ä¿¡å·æ”¹å˜äº†å¤šå°‘ã€‚è¦æƒ³ä½¿è¶‹åŠ¿å¹³æ»‘ï¼Œæˆ‘ä»¬ç”¨ä¸€æ¬¡æŒ‡æ•°å¹³æ»‘æ³•å¯¹è¶‹åŠ¿è¿›è¡Œå¤„ç†ï¼Œå¹¶ä½¿ç”¨å‚æ•° $\\beta$ ï¼ˆç†è§£ï¼šå¯¹ $t_{i}$ çš„å¤„ç†ç±»ä¼¼äºä¸€æ¬¡å¹³æ»‘æŒ‡æ•°æ³•ä¸­çš„ $s_{i}$ ï¼Œå³å¯¹è¶‹åŠ¿ä¹Ÿéœ€è¦åšä¸€ä¸ªå¹³æ»‘ï¼Œä¸´è¿‘çš„è¶‹åŠ¿æƒé‡å¤§ï¼‰ã€‚ ä¸ºè·å¾—å¹³æ»‘ä¿¡å·ï¼Œæˆ‘ä»¬åƒä¸Šæ¬¡é‚£æ ·è¿›è¡Œä¸€æ¬¡æ··åˆï¼Œä½†è¦åŒæ—¶è€ƒè™‘åˆ°ä¸Šä¸€ä¸ªå¹³æ»‘ä¿¡å·åŠè¶‹åŠ¿ã€‚å‡è®¾å•ä¸ªæ­¥é•¿æ—¶é—´å†…ä¿æŒç€ä¸Šä¸€ä¸ªè¶‹åŠ¿ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªç­‰å¼çš„æœ€åé‚£é¡¹å°±å¯ä»¥å¯¹å½“å‰å¹³æ»‘ä¿¡å·è¿›è¡Œä¼°è®¡ã€‚ è‹¥è¦åˆ©ç”¨è¯¥è®¡ç®—ç»“æœè¿›è¡Œé¢„æµ‹ï¼Œå°±å–æœ€åé‚£ä¸ªå¹³æ»‘å€¼ï¼Œç„¶åæ¯å¢åŠ ä¸€ä¸ªæ—¶é—´æ­¥é•¿å°±åœ¨è¯¥å¹³æ»‘å€¼ä¸Šå¢åŠ ä¸€æ¬¡æœ€åé‚£ä¸ªå¹³æ»‘è¶‹åŠ¿ï¼š $x_{i+h}=s_{i}+ht_{i}$ ä¹‹åä½¿ç”¨äºŒæ¬¡æŒ‡æ•°å¹³æ»‘è¿›è¡Œé¢„æµ‹ï¼š from statsmodels.tsa.api import Holt y_hat_avg = test.copy() fit = Holt(np.asarray(train[&#39;Count&#39;])).fit(smoothing_level=0.3, smoothing_slope=0.1) y_hat_avg[&#39;Holt_linear&#39;] = fit.forecast(len(test)) ç»“æœå¦‚å›¾ï¼šå¾—åˆ°å¯¹åº”çš„RMSEä¸º1033 ä¸‰æ¬¡æŒ‡æ•°å¹³æ»‘åœ¨åº”ç”¨è¿™ç§ç®—æ³•å‰ï¼Œæˆ‘ä»¬å…ˆä»‹ç»ä¸€ä¸ªæ–°æœ¯è¯­ã€‚å‡å¦‚æœ‰å®¶é…’åº—åè½åœ¨åŠå±±è…°ä¸Šï¼Œå¤å­£çš„æ—¶å€™ç”Ÿæ„å¾ˆå¥½ï¼Œé¡¾å®¢å¾ˆå¤šï¼Œä½†æ¯å¹´å…¶ä½™æ—¶é—´é¡¾å®¢å¾ˆå°‘ã€‚å› æ­¤ï¼Œæ¯å¹´å¤å­£çš„æ”¶å…¥ä¼šè¿œé«˜äºå…¶å®ƒå­£èŠ‚ï¼Œè€Œä¸”æ¯å¹´éƒ½æ˜¯è¿™æ ·ï¼Œé‚£ä¹ˆè¿™ç§é‡å¤ç°è±¡å«åšâ€œå­£èŠ‚æ€§â€ï¼ˆSeasonalityï¼‰ã€‚å¦‚æœæ•°æ®é›†åœ¨ä¸€å®šæ—¶é—´æ®µå†…çš„å›ºå®šåŒºé—´å†…å‘ˆç°ç›¸ä¼¼çš„æ¨¡å¼ï¼Œé‚£ä¹ˆè¯¥æ•°æ®é›†å°±å…·æœ‰å­£èŠ‚æ€§ã€‚äºŒæ¬¡æŒ‡æ•°å¹³æ»‘è€ƒè™‘äº†åºåˆ—çš„åŸºæ•°å’Œè¶‹åŠ¿ï¼Œä¸‰æ¬¡å°±æ˜¯åœ¨æ­¤åŸºç¡€ä¸Šå¢åŠ äº†ä¸€ä¸ªå­£èŠ‚åˆ†é‡ã€‚ç±»ä¼¼äºè¶‹åŠ¿åˆ†é‡ï¼Œå¯¹å­£èŠ‚åˆ†é‡ä¹Ÿè¦åšæŒ‡æ•°å¹³æ»‘ã€‚æ¯”å¦‚é¢„æµ‹ä¸‹ä¸€ä¸ªå­£èŠ‚ç¬¬3ä¸ªç‚¹çš„å­£èŠ‚åˆ†é‡æ—¶ï¼Œéœ€è¦æŒ‡æ•°å¹³æ»‘åœ°è€ƒè™‘å½“å‰å­£èŠ‚ç¬¬3ä¸ªç‚¹çš„å­£èŠ‚åˆ†é‡ã€ä¸Šä¸ªå­£èŠ‚ç¬¬3ä¸ªç‚¹çš„å­£èŠ‚åˆ†é‡â€¦ç­‰ç­‰ã€‚è¯¦ç»†çš„æœ‰ä¸‹è¿°å…¬å¼(ç´¯åŠ æ³•)ï¼š \\begin{aligned} s_{i}&=\\alpha (x_{i}-p_{i-k})+(1-\\alpha)(s_{i-1}+t_{i-1}) \\\\ t_{i} &=\\beta (s_{i}-s_{i-1})+(1-\\beta)t_{i-1}\\\\ p_{i}&=\\gamma (x_{i}-s_{i})+(1-\\gamma)p_{i-k} \\end{aligned}å…¶ä¸­ï¼Œ $p_{i}$ æ˜¯æŒ‡â€œå‘¨æœŸæ€§â€éƒ¨åˆ†ã€‚é¢„æµ‹å…¬å¼å¦‚ä¸‹ï¼š $x_{i+h}=s_{i}+ht_{i}+p_{i-k+h}$ k æ˜¯è¿™ä¸ªå‘¨æœŸçš„é•¿åº¦ã€‚ åœ¨ä½¿ç”¨äºŒæ¬¡å¹³æ»‘æ¨¡å‹ä¸ä¸‰æ¬¡å¹³æ»‘æ¨¡å‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨sm.tsa.seasonal_decomposeåˆ†è§£æ—¶é—´åºåˆ—ï¼Œå¯ä»¥å¾—åˆ°ä»¥ä¸‹åˆ†è§£å›¾å½¢â€”â€”ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ˜¯åŸå§‹æ•°æ®ã€è¶‹åŠ¿æ•°æ®ã€å‘¨æœŸæ€§æ•°æ®ã€éšæœºå˜é‡ï¼ˆæ®‹å·®å€¼ï¼‰ æ ¹æ®åˆ†æå›¾å½¢å’Œæ•°æ®å¯ä»¥ç¡®å®šå¯¹åº”çš„å­£èŠ‚å‚æ•° å…·ä½“ä»£ç ä¸ºï¼š #ä¸‰æ¬¡æŒ‡æ•°å¹³æ»‘ from statsmodels.tsa.api import ExponentialSmoothing y_hat_avg = test.copy() fit1 = ExponentialSmoothing(np.asarray(train[&#39;Count&#39;]), seasonal_periods=7, trend=&#39;add&#39;, seasonal=&#39;add&#39;, ).fit() y_hat_avg[&#39;Holt_Winter&#39;] = fit1.forecast(len(test)) å¾—åˆ°çš„RMSEä¸º575ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¶‹åŠ¿å’Œå­£èŠ‚æ€§çš„é¢„æµ‹å‡†ç¡®åº¦éƒ½å¾ˆé«˜ã€‚ä½ å¯ä»¥è¯•ç€è°ƒæ•´å‚æ•°æ¥ä¼˜åŒ–è¿™ä¸ªæ¨¡å‹ã€‚ ARæ¨¡å‹AR(Auto Regressive Model)è‡ªå›å½’æ¨¡å‹æ˜¯çº¿æ€§æ—¶é—´åºåˆ—åˆ†ææ¨¡å‹ä¸­æœ€ç®€å•çš„æ¨¡å‹ã€‚é€šè¿‡è‡ªèº«å‰é¢éƒ¨åˆ†çš„æ•°æ®ä¸åé¢éƒ¨åˆ†çš„æ•°æ®ä¹‹é—´çš„ç›¸å…³å…³ç³»ï¼ˆè‡ªç›¸å…³ï¼‰æ¥å»ºç«‹å›å½’æ–¹ç¨‹ï¼Œä»è€Œå¯ä»¥è¿›è¡Œé¢„æµ‹æˆ–è€…åˆ†æã€‚æœä»pé˜¶çš„è‡ªå›å½’æ–¹ç¨‹è¡¨è¾¾å¼å¦‚ä¸‹ï¼š $x_{t}=\\phi_{1}x_{t-1}+\\phi_{2}x_{t-2}+\\cdots+\\phi_{p}x_{t-p}+\\mu_{t}$ è¡¨ç¤ºä¸º$AR(p)$,ã€‚å…¶ä¸­ï¼Œ$\\mu_{t}$è¡¨ç¤ºç™½å™ªå£°ï¼Œæ˜¯æ—¶é—´åºåˆ—ä¸­çš„æ•°å€¼çš„éšæœºæ³¢åŠ¨ï¼Œä½†æ˜¯è¿™äº›æ³¢åŠ¨ä¼šç›¸äº’æŠµæ¶ˆï¼Œæœ€ç»ˆæ˜¯0ã€‚$\\phi$è¡¨ç¤ºè‡ªå›å½’ç³»æ•°ã€‚ æ‰€ä»¥å½“åªæœ‰ä¸€ä¸ªæ—¶é—´è®°å½•ç‚¹æ—¶ï¼Œç§°ä¸ºä¸€é˜¶è‡ªå›å½’è¿‡ç¨‹ï¼Œå³AR(1)ã€‚å…¶è¡¨è¾¾å¼ä¸ºï¼š$x_{t}=\\phi_{1}x_{t-1}+\\mu_{t}$ åˆ©ç”¨Pythonå»ºç«‹ARæ¨¡å‹ä¸€èˆ¬ä¼šç”¨åˆ°æˆ‘ä»¬ä¹‹åä¼šè¯´åˆ°çš„ARIMAæ¨¡å‹ï¼ˆARæ¨¡å‹ä¸­çš„pæ˜¯ARIMAæ¨¡å‹ä¸­çš„å‚æ•°ä¹‹ä¸€ï¼Œåªè¦å°†å…¶ä»–çš„å‚æ•°è®¾ç½®ä¸º0å³ä¸ºARæ¨¡å‹ï¼‰ã€‚æ‚¨å¯ä»¥å…ˆé˜…è¯»åç»­ARIMAæ¨¡å‹çš„å†…å®¹å¹¶å‚è€ƒæ–‡ä»¶ä¸­çš„ä»£ç æŸ¥çœ‹å…·ä½“çš„å†…å®¹ MAæ¨¡å‹MA(Moving Average Model)ç§»åŠ¨å¹³å‡æ¨¡å‹é€šè¿‡å°†ä¸€æ®µæ—¶é—´åºåˆ—ä¸­ç™½å™ªå£°(è¯¯å·®)è¿›è¡ŒåŠ æƒå’Œï¼Œå¯ä»¥å¾—åˆ°ç§»åŠ¨å¹³å‡æ–¹ç¨‹ã€‚å¦‚ä¸‹æ¨¡å‹ä¸ºqé˜¶ç§»åŠ¨å¹³å‡è¿‡ç¨‹ï¼Œè¡¨ç¤ºä¸ºMA(q)ã€‚ $x_{t}=\\mu+\\mu_{t}+\\theta_{1}\\mu_{t-1}+\\theta_{2}\\mu_{t-2}+\\cdots+\\theta_{q}\\mu_{t-q}$ å…¶ä¸­$x_{t}$è¡¨ç¤ºtæœŸçš„å€¼ï¼Œå½“æœŸçš„å€¼ç”±å‰qæœŸçš„è¯¯å·®å€¼æ¥å†³å®šï¼Œ$Î¼$å€¼æ˜¯å¸¸æ•°é¡¹ï¼Œç›¸å½“äºæ™®é€šå›å½’ä¸­çš„æˆªè·é¡¹ï¼Œ$\\mu_{t}$æ˜¯å½“æœŸçš„éšæœºè¯¯å·®ã€‚MAæ¨¡å‹çš„æ ¸å¿ƒæ€æƒ³æ˜¯æ¯ä¸€æœŸçš„éšæœºè¯¯å·®éƒ½ä¼šå½±å“å½“æœŸå€¼ï¼ŒæŠŠå‰qæœŸçš„æ‰€æœ‰è¯¯å·®åŠ èµ·æ¥å°±æ˜¯å¯¹tæœŸå€¼çš„å½±å“ã€‚ åŒæ ·ï¼Œåˆ©ç”¨Pythonå»ºç«‹MAæ¨¡å‹ä¸€èˆ¬ä¼šç”¨åˆ°æˆ‘ä»¬ä¹‹åä¼šè¯´åˆ°çš„ARIMAæ¨¡å‹,æ‚¨å¯ä»¥å…ˆé˜…è¯»åç»­ARIMAæ¨¡å‹çš„å†…å®¹å¹¶å‚è€ƒæ–‡ä»¶ä¸­çš„ä»£ç æŸ¥çœ‹å…·ä½“çš„å†…å®¹ ARMAæ¨¡å‹ARMA(Auto Regressive and Moving Average Model)è‡ªå›å½’ç§»åŠ¨å¹³å‡æ¨¡å‹æ˜¯ä¸è‡ªå›å½’å’Œç§»åŠ¨å¹³å‡æ¨¡å‹ä¸¤éƒ¨åˆ†ç»„æˆã€‚æ‰€ä»¥å¯ä»¥è¡¨ç¤ºä¸ºARMA(p, q)ã€‚pæ˜¯è‡ªå›å½’é˜¶æ•°ï¼Œqæ˜¯ç§»åŠ¨å¹³å‡é˜¶æ•°ã€‚ $x_{t}=\\phi_{1}x_{t-1}+\\phi_{2}x_{t-2}+\\cdots+\\phi_{p}x_{t-p}+\\mu_{t}+\\theta_{1}\\mu_{t-1}+\\theta_{2}\\mu_{t-2}+\\cdots+\\theta_{q}\\mu_{t-q}$ ä»å¼å­ä¸­å°±å¯ä»¥çœ‹å‡ºï¼Œè‡ªå›å½’æ¨¡å‹ç»“åˆäº†ä¸¤ä¸ªæ¨¡å‹çš„ç‰¹ç‚¹ï¼Œå…¶ä¸­ï¼ŒARå¯ä»¥è§£å†³å½“å‰æ•°æ®ä¸åæœŸæ•°æ®ä¹‹é—´çš„å…³ç³»ï¼ŒMAåˆ™å¯ä»¥è§£å†³éšæœºå˜åŠ¨ä¹Ÿå°±æ˜¯å™ªå£°çš„é—®é¢˜ã€‚ ARIMAæ¨¡å‹ARIMA(Auto Regressive Integrate Moving Average Model)å·®åˆ†è‡ªå›å½’ç§»åŠ¨å¹³å‡æ¨¡å‹æ˜¯åœ¨ARMAæ¨¡å‹çš„åŸºç¡€ä¸Šè¿›è¡Œæ”¹é€ çš„ï¼ŒARMAæ¨¡å‹æ˜¯é’ˆå¯¹tæœŸå€¼è¿›è¡Œå»ºæ¨¡çš„ï¼Œè€ŒARIMAæ˜¯é’ˆå¯¹tæœŸä¸t-dæœŸä¹‹é—´å·®å€¼è¿›è¡Œå»ºæ¨¡ï¼Œæˆ‘ä»¬æŠŠè¿™ç§ä¸åŒæœŸä¹‹é—´åšå·®ç§°ä¸ºå·®åˆ†ï¼Œè¿™é‡Œçš„dæ˜¯å‡ å°±æ˜¯å‡ é˜¶å·®åˆ†ã€‚ARIMAæ¨¡å‹ä¹Ÿæ˜¯åŸºäºå¹³ç¨³çš„æ—¶é—´åºåˆ—çš„æˆ–è€…å·®åˆ†åŒ–åæ˜¯ç¨³å®šçš„ï¼Œå¦å¤–å‰é¢çš„å‡ ç§æ¨¡å‹éƒ½å¯ä»¥çœ‹ä½œARIMAçš„æŸç§ç‰¹æ®Šå½¢å¼ã€‚è¡¨ç¤ºä¸ºARIMA(p, d, q)ã€‚pä¸ºè‡ªå›å½’é˜¶æ•°ï¼Œqä¸ºç§»åŠ¨å¹³å‡é˜¶æ•°ï¼Œdä¸ºæ—¶é—´æˆä¸ºå¹³ç¨³æ—¶æ‰€åšçš„å·®åˆ†æ¬¡æ•°ï¼Œä¹Ÿå°±æ˜¯Integrateå•è¯çš„åœ¨è¿™é‡Œçš„æ„æ€ã€‚ å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š $x_{t}=\\phi_{1}w_{t-1}+\\phi_{2}w_{t-2}+\\cdots+\\phi_{p}w_{t-p}+\\mu_{t}+\\theta_{1}\\mu_{t-1}+\\theta_{2}\\mu_{t-2}+\\cdots+\\theta_{q}\\mu_{t-q}$ ä¸Šé¢å…¬å¼ä¸­çš„$w_{t}$è¡¨ç¤ºtæœŸç»è¿‡dé˜¶å·®åˆ†ä»¥åçš„ç»“æœã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ARIMAæ¨¡å‹çš„å½¢å¼åŸºæœ¬ä¸ARMAçš„å½¢å¼æ˜¯ä¸€è‡´çš„ï¼Œåªä¸è¿‡æŠŠ$X$æ¢æˆäº†$w$ ä½¿ç”¨ARIMAè¿›è¡Œé¢„æµ‹ä»£ç å¦‚ä¸‹ï¼š from statsmodels.tsa.arima_model import ARIMA ts_ARIMA= train[&#39;Count&#39;].astype(float) fit1 = ARIMA(ts_ARIMA, order=(7, 1, 4)).fit() y_hat_ARIMA = fit1.predict(start=&quot;2013-11-1&quot;, end=&quot;2013-12-31&quot;, dynamic=True) å¹¶ç”»å‡ºé¢„æµ‹å€¼ä¸å®é™…å€¼å›¾å½¢ï¼š plt.figure(figsize=(16, 8)) plt.plot(train[&#39;Count&#39;], label=&#39;Train&#39;) plt.plot(test[&#39;Count&#39;], label=&#39;Test&#39;) plt.plot(y_hat_ARIMA, label=&#39;ARIMA&#39;) plt.legend(loc=&#39;best&#39;) plt.show() å¹¶è®¡ç®—RMSE: from sklearn.metrics import mean_squared_error from math import sqrt rmse = sqrt(mean_squared_error(test[&#39;Count&#39;],y_hat_ARIMA.to_frame())) print(rmse) å¾—åˆ°å¯¹åº”çš„RMSEä¸º3723 SARIMAæ¨¡å‹SARIMAå­£èŠ‚æ€§è‡ªå›å½’ç§»åŠ¨å¹³å‡æ¨¡å‹æ¨¡å‹åœ¨ARIMAæ¨¡å‹çš„åŸºç¡€ä¸Šæ·»åŠ äº†å­£èŠ‚æ€§çš„å½±å“ï¼Œç»“æ„å‚æ•°æœ‰ä¸ƒä¸ªï¼šSARIMA(p,d,q)(P,D,Q,s)å…¶ä¸­p,d,qåˆ†åˆ«ä¸ºä¹‹å‰ARIMAæ¨¡å‹ä¸­æˆ‘ä»¬æ‰€è¯´çš„p:è¶‹åŠ¿çš„è‡ªå›å½’é˜¶æ•°ã€‚d:è¶‹åŠ¿å·®åˆ†é˜¶æ•°ã€‚q:è¶‹åŠ¿çš„ç§»åŠ¨å¹³å‡é˜¶æ•°ã€‚P:å­£èŠ‚æ€§è‡ªå›å½’é˜¶æ•°ã€‚D:å­£èŠ‚æ€§å·®åˆ†é˜¶æ•°ã€‚Q:å­£èŠ‚æ€§ç§»åŠ¨å¹³å‡é˜¶æ•°ã€‚s:å•ä¸ªå­£èŠ‚æ€§å‘¨æœŸçš„æ—¶é—´æ­¥é•¿æ•°ã€‚ import statsmodels.api as sm y_hat_avg = test.copy() fit1 = sm.tsa.statespace.SARIMAX(train.Count, order=(2, 1, 4), seasonal_order=(0, 1, 1, 7)).fit() y_hat_avg[&#39;SARIMA&#39;] = fit1.predict(start=&quot;2013-11-1&quot;, end=&quot;2013-12-31&quot;, dynamic=True) å¾—åˆ°å®é™…å€¼ä¸é¢„æµ‹å€¼å¦‚ä¸‹ï¼š plt.figure(figsize=(16, 8)) plt.plot(train[&#39;Count&#39;], label=&#39;Train&#39;) plt.plot(test[&#39;Count&#39;], label=&#39;Test&#39;) plt.plot(y_hat_avg[&#39;SARIMA&#39;], label=&#39;SARIMA&#39;) plt.legend(loc=&#39;best&#39;) plt.show() å¹¶è®¡ç®—RMSEï¼š from sklearn.metrics import mean_squared_error from math import sqrt rmse = sqrt(mean_squared_error(test[&#39;Count&#39;], y_hat_avg[&#39;SARIMA&#39;])) print(rmse) ç»“æœä¸º933 å…¶ä»–æ—¶é—´åºåˆ—é¢„æµ‹çš„æ¨¡å‹è¿˜æœ‰SARIMAXæ¨¡å‹ï¼ˆåœ¨ARIMAæ¨¡å‹ä¸ŠåŠ äº†å­£èŠ‚æ€§çš„å› ç´ ï¼‰ï¼ŒProphetæ¨¡å‹ï¼ŒARCHæ¨¡å‹ï¼ŒLSTMç¥ç»ç½‘ç»œæ¨¡å‹ç­‰ã€‚é™äºç¯‡å¹…ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è‡ªè¡ŒæŸ¥çœ‹ç›¸å…³æ¨¡å‹èµ„æ–™ åœ¨åç»­çš„æ–‡ç« ä¸­æˆ‘ä»¬å°†è®²è§£å¦‚ä½•ç¡®å®šæ•°æ®çš„å¹³ç¨³æ€§ä¸æ•°æ®é¢„å¤„ç†ï¼Œä¸ºåç»­æ—¶é—´åºåˆ—çš„å»ºæ¨¡åšå‡†å¤‡ å‚è€ƒæ–‡ç« ï¼šhttps://www.analyticsvidhya.com/blog/2018/02/time-series-forecasting-methods/https://blog.csdn.net/anshuai_aw1/article/details/82499095","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"Pythonæ•°æ®åˆ†æ","slug":"Pythonæ•°æ®åˆ†æ","permalink":"http://smilecoc.vip/tags/Pythonæ•°æ®åˆ†æ/"}],"author":"smilecoc"},{"title":"é€šè¿‡Github Pages å°†è‡ªå·±çš„Htmlæ–‡ä»¶å‘å¸ƒåˆ°æœåŠ¡å™¨ä¸Šä¾›è¿œç¨‹è®¿é—®","slug":"publish_html_by_github_pages","date":"2021-01-05T02:22:11.000Z","updated":"2021-01-16T07:17:00.514Z","comments":true,"path":"2021/01/05/publish_html_by_github_pages/","link":"","permalink":"http://smilecoc.vip/2021/01/05/publish_html_by_github_pages/","excerpt":"","text":"æ­¥éª¤ä¸€ï¼šç™»å½•åˆ°Githubä¸Šï¼Œæ–°å»ºä¸€ä¸ªä»“åº“å¹¶å‘½åï¼Œå‹¾é€‰ Add a README fileï¼Œç‚¹å‡»create repositoryã€‚ æ­¥éª¤äºŒï¼šæ‰“å¼€settingsï¼Œæœ‰ä¸€ä¸ªGithub Pages çš„è®¾ç½®ï¼Œç‚¹å‡» source ä¸­çš„æœ¬æ¥çš„ None ï¼Œä½¿å…¶å˜æˆ mainåˆ†æ”¯ï¼Œä¹Ÿå°±æ˜¯ä½œä¸ºéƒ¨ç½²github pages çš„åˆ†æ”¯ï¼Œç„¶åç‚¹å‡» saveã€‚ æ­¥éª¤ä¸‰ï¼šé¡µé¢åˆ·æ–°ä¹‹åï¼Œå†çœ‹ github pages è®¾ç½®æ¡†å¤„ï¼Œå¤šäº†ä¸€è¡Œç½‘å€ï¼Œå°±æ˜¯ä½ çš„ github pages çš„ç½‘å€äº†ã€‚ è¿™é‡Œæˆ‘çš„ä»“åº“åç§°æ˜¯data_dashboardï¼ŒåŒæ—¶ç”±äºæˆ‘å·²ç»è®¾ç½®äº†è‡ªå·±çš„åŸŸåï¼Œæ‰€ä»¥å¯¹åº”çš„github pages çš„ç½‘å€ä¸ºhttp://smilecoc.vip/data_dashboard/ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®è¿‡è¿™äº›ï¼Œå¯¹åº”çš„github pages çš„ç½‘å€ä¸€èˆ¬ä¸ºhttp://githubç”¨æˆ·å.github.io/ ç¬¬å››æ­¥ï¼Œå°†ä½ æ‰€æƒ³å±•ç¤ºçš„html æ–‡ä»¶ä¸Šä¼ è‡³ä»“åº“ä¸­ï¼Œé‚£ä¹ˆgithub pagesç½‘å€+æ–‡ä»¶å.html,å°±æ˜¯å¯ä»¥è®¿é—®çš„é“¾æ¥ã€‚ æºæ–‡ä»¶ä¸ä»“åº“åœ°å€ï¼šhttps://github.com/smilecoc/data_dashboard å±•ç¤ºæ•ˆæœï¼šhttp://smilecoc.vip/data_dashboard/index.html éœ€è¦æ³¨æ„å…¬å…±ä»“åº“ä¸­çš„Github Pagesæ˜¯å…è´¹çš„ï¼Œè€Œç§æœ‰ä»“åº“æ˜¯æ”¶è´¹çš„ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"Git","slug":"Git","permalink":"http://smilecoc.vip/tags/Git/"}],"author":"smilecoc"},{"title":"SQLé¢è¯•é¢˜æ•´ç†æ±‡æ€»-è¿›é˜¶ç¯‡","slug":"SQLé¢è¯•é¢˜æ•´ç†æ±‡æ€»","date":"2020-11-15T02:24:33.000Z","updated":"2021-01-16T12:16:06.547Z","comments":true,"path":"2020/11/15/SQLé¢è¯•é¢˜æ•´ç†æ±‡æ€»/","link":"","permalink":"http://smilecoc.vip/2020/11/15/SQLé¢è¯•é¢˜æ•´ç†æ±‡æ€»/","excerpt":"","text":"æœ¬ç¯‡æ–‡ç« åˆ†äº«ä¸€äº›è‡ªå·±é‡åˆ°çš„æˆ–è€…ç½‘ä¸Šçœ‹åˆ°çš„ä¸€äº›é¢è¯•é¢˜ã€‚SQLåŸºç¡€éƒ¨åˆ†çš„é¢è¯•é¢˜å¯ä»¥å‚é˜…è¿™ç¯‡æ–‡ç« ï¼šhttp://smilecoc.vip/2020/04/04/SQL%E9%9D%A2%E8%AF%9544%E9%A2%98/ æœ¬ç¯‡æ–‡ç« ä»£ç æ— ç‰¹æ®Šè¯´æ˜çš„è¯å‡åŸºäºSQL Server. ç¬¬ä¸€é¢˜ï¼šè¿ç»­ä¸‰å¤©ç™»é™†æœ‰å¦‚ä¸‹è¡¨æ ¼ï¼š +â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+ | user_id | login_date | +â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+ | A | 2019-09-02 | | A | 2019-09-03 | | A | 2019-09-04 | | B | 2018-11-25 | | B | 2018-12-31 | | C | 2019-01-01 | | C | 2019-04-04 | | C | 2019-09-03 | | C | 2019-09-04 | | C | 2019-09-05 | +â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+ ç°åœ¨éœ€è¦åˆ©ç”¨SQLæ‰¾å‡ºè¿™å¼ è¡¨ä¸­æ‰€æœ‰çš„è¿ç»­3å¤©ç™»å½•ç”¨æˆ·. ç­”æ¡ˆï¼š select user_id from ( select user_id,login_date, row_number() over(partition by user_id order by login_date) as rn from last_3_day_test_table ) t group by user_id,DATEADD(D,-t.rn,login_date) having count(1)&gt;=3; æœ¬é¢˜éœ€è¦ä½¿ç”¨çª—å£å‡½æ•°ï¼Œå…·ä½“å¯å‚é˜…ï¼šhttp://smilecoc.vip/2019/12/25/SQL%E5%AE%9E%E7%8E%B0%E7%AD%9B%E9%80%89%E5%87%BA%E8%BF%9E%E7%BB%AD3%E5%A4%A9%E7%99%BB%E5%BD%95%E7%94%A8%E6%88%B7/ ç¬¬äºŒé¢˜ï¼šæ´»åŠ¨è¿è¥æ•°æ®åˆ†æè¡¨1â€”â€”è®¢å•è¡¨ordersï¼Œè¦ç”¨åˆ°çš„å­—æ®µæœ‰ï¼ˆuser_idâ€˜ç”¨æˆ·ç¼–å·â€™, order_payâ€˜è®¢å•é‡‘é¢â€™ , order_timeâ€˜ä¸‹å•æ—¶é—´â€™ï¼‰ã€‚è¡¨2â€”â€”æ´»åŠ¨æŠ¥åè¡¨act_applyï¼Œè¦ç”¨åˆ°çš„å­—æ®µæœ‰ï¼ˆact_idâ€˜æ´»åŠ¨ç¼–å·â€™, user_idâ€˜æŠ¥åç”¨æˆ·â€™,act_timeâ€˜æŠ¥åæ—¶é—´â€™ï¼‰æ³¨æ„è¿™é‡Œçš„è¡¨1å’Œè¡¨2éƒ½è¿˜æœ‰å…¶ä»–çš„å­—æ®µ éœ€æ±‚ï¼š ç»Ÿè®¡æ¯ä¸ªæ´»åŠ¨å¯¹åº”æ‰€æœ‰ç”¨æˆ·åœ¨æŠ¥ååäº§ç”Ÿçš„æ€»è®¢å•é‡‘é¢ï¼Œæ€»è®¢å•æ•°ã€‚ï¼ˆæ¯ä¸ªç”¨æˆ·é™æŠ¥ä¸€ä¸ªæ´»åŠ¨,é¢˜å¹²é»˜è®¤ç”¨æˆ·æŠ¥ååäº§ç”Ÿçš„è®¢å•å‡ä¸ºå‚åŠ æ´»åŠ¨çš„è®¢å•ï¼‰ã€‚ ç»Ÿè®¡æ¯ä¸ªæ´»åŠ¨ä»å¼€å§‹ååˆ°ä»Šå¤©å¹³å‡æ¯å¤©äº§ç”Ÿçš„è®¢å•æ•°ï¼Œæ´»åŠ¨å¼€å§‹æ—¶é—´å®šä¹‰ä¸ºæœ€æ—©æœ‰ç”¨æˆ·æŠ¥åçš„æ—¶é—´ã€‚ï¼ˆæ¶‰åŠåˆ°æ—¶é—´çš„æ•°æ®ç±»å‹å‡ä¸ºï¼šdatetimeï¼‰ã€‚ ç­”æ¡ˆï¼š1. select t2.act_id,sum(order_pay) as total_cost,count(order_time) as order_num from (select user_idï¼Œorder_payï¼Œorder_time from orders) as t1 inner join (select act_id,user_id,act_time) as t2 on t1.user_id=t2.user_id where t1.order_time&gt;=t2.act_time group by t2.act_id 2. select t1.act_id,count(order_time)/dateiff(now(),t1.begin_time) as avg_ordercount from (select act_id,user_id,act_time,min(act_time) over (partition by act_id) as begin_time from act_apply) as t1 inner join (select user_id,order_time from orders) as t2 on t1.user_id=t2.user_id where t1.act_time between t1.begin_time and now() and t2.order_time &gt;= t1.act_time group by t1.act_id ç¬¬äºŒé¢˜åŒæ ·æ¶‰åŠåˆ°çª—å£å‡½æ•°çš„ä½¿ç”¨ï¼Œè¯¦è§http://smilecoc.vip/2019/12/25/SQL%E5%AE%9E%E7%8E%B0%E7%AD%9B%E9%80%89%E5%87%BA%E8%BF%9E%E7%BB%AD3%E5%A4%A9%E7%99%BB%E5%BD%95%E7%94%A8%E6%88%B7/ ç¬¬ä¸‰é¢˜ï¼šç”¨æˆ·è¡Œä¸ºåˆ†æè¡¨1â€”â€”ç”¨æˆ·è¡Œä¸ºè¡¨tracking_logï¼Œå¤§æ¦‚å­—æ®µæœ‰ï¼ˆuser_idâ€˜ç”¨æˆ·ç¼–å·â€™,opr_idâ€˜æ“ä½œç¼–å·â€™,log_timeâ€˜æ“ä½œæ—¶é—´â€™ï¼‰ éœ€æ±‚ï¼š 1ã€è®¡ç®—æ¯å¤©çš„è®¿å®¢æ•°å’Œä»–ä»¬çš„å¹³å‡æ“ä½œæ¬¡æ•°ã€‚ 2ã€ç»Ÿè®¡æ¯å¤©ç¬¦åˆä»¥ä¸‹æ¡ä»¶çš„ç”¨æˆ·æ•°ï¼šAæ“ä½œä¹‹åæ˜¯Bæ“ä½œï¼ŒABæ“ä½œå¿…é¡»ç›¸é‚»ã€‚ ç­”æ¡ˆï¼š1. select date(log_time),count(distinct user_id) as user_num,avg(num_ci) as avg_operqationcount from (select date(log_time),user_id,count(opr_id) as num_ci from tracking_log group by date(log_time),user_id) group by date(log_time) 2. select date(log_time),count(distinct user_id) as user_num from (select user_id,date(log_time),opr_id,lead(opr_id,1) over(partition by user_id order by lod_time) as opr_id_2 from tracking_log) where opr_id=&#39;A&#39; and opr_id_2=&#39;B&#39; group by date(log_time) è§£æï¼šä½¿ç”¨lead()å‡½æ•°å®ç°ã€‚LEAD()æ˜¯ä¸€ä¸ªçª—å£å‡½æ•°ï¼Œå®ƒæä¾›å¯¹å½“å‰è¡Œä¹‹åçš„æŒ‡å®šç‰©ç†åç§»é‡çš„è¡Œçš„è®¿é—®ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡ä½¿ç”¨LEAD()å‡½æ•°ï¼Œå¯ä»¥ä»å½“å‰è¡Œè®¿é—®ä¸‹ä¸€è¡Œçš„æ•°æ®æˆ–ä¸‹ä¸€è¡Œä¹‹åçš„è¡Œï¼Œä¾æ­¤ç±»æ¨ã€‚LEAD()å‡½æ•°å¯¹äºå°†å½“å‰è¡Œçš„å€¼ä¸åç»­è¡Œçš„å€¼è¿›è¡Œæ¯”è¾ƒéå¸¸æœ‰ç”¨ã€‚ä»¥ä¸‹æ˜¯LEAD()å‡½æ•°çš„è¯­æ³•ï¼š LEAD(return_value ,offset [,default]) OVER ([PARTITION BY partition_expression, ... ]) åœ¨ä¸Šé¢è¯­æ³•ä¸­ï¼Œ return_value - åŸºäºæŒ‡å®šåç§»é‡çš„åç»­è¡Œçš„è¿”å›å€¼ã€‚è¿”å›å€¼å¿…é¡»æ±‚å€¼ä¸ºå•ä¸ªå€¼ï¼Œä¸èƒ½æ˜¯å¦ä¸€ä¸ªWindowå‡½æ•°ã€‚offsetæ˜¯ä»å½“å‰è¡Œè½¬å‘çš„è¡Œæ•°ï¼Œç”¨äºè®¿é—®æ•°æ®ã€‚ offsetå¯ä»¥æ˜¯è¡¨è¾¾å¼ï¼Œå­æŸ¥è¯¢æˆ–åˆ—ï¼Œå…¶å€¼ä¸ºæ­£æ•´æ•°ã€‚å¦‚æœæœªæ˜ç¡®æŒ‡å®šï¼Œåˆ™offsetçš„é»˜è®¤å€¼ä¸º1ã€‚å¦‚æœoffsetè¶…å‡ºåˆ†åŒºèŒƒå›´ï¼Œåˆ™è¯¥å‡½æ•°è¿”å›defaultã€‚ å¦‚æœæœªæŒ‡å®šï¼Œåˆ™é»˜è®¤ä¸ºNULLã€‚ PARTITION BYå­å¥å°†ç»“æœé›†çš„è¡Œåˆ†é…åˆ°åº”ç”¨äº†LEAD()å‡½æ•°çš„åˆ†åŒºã€‚å¦‚æœæœªæŒ‡å®šPARTITION BYå­å¥ï¼Œåˆ™è¯¥å‡½æ•°å°†æ•´ä¸ªç»“æœé›†è§†ä¸ºå•ä¸ªåˆ†åŒºã€‚ å…³äºleadå‡½æ•°å¯å‚é˜…ï¼šhttps://docs.microsoft.com/zh-cn/sql/t-sql/functions/lead-transact-sql?view=sql-server-ver15 ç¬¬ä¸‰é¢˜ï¼šç”¨æˆ·æ–°å¢ç•™å­˜åˆ†æè¡¨1â€”â€”ç”¨æˆ·ç™»é™†è¡¨user_logï¼Œå¤§æ¦‚å­—æ®µæœ‰ï¼ˆuser_idâ€˜ç”¨æˆ·ç¼–å·â€™ï¼Œlog_timeâ€˜ç™»é™†æ—¶é—´â€™ï¼‰ è¦æ±‚ï¼š æ¯å¤©æ–°å¢ç”¨æˆ·æ•°ï¼Œä»¥åŠä»–ä»¬ç¬¬2å¤©ã€30å¤©çš„å›è®¿æ¯”ä¾‹ å¦‚ä½•å®šä¹‰æ–°å¢ç”¨æˆ·ï¼šç”¨æˆ·ç™»é™†è¡¨ä¸­æœ€æ—©çš„ç™»é™†æ—¶é—´æ‰€åœ¨çš„ç”¨æˆ·æ•°ä¸ºå½“å¤©æ–°å¢ç”¨æˆ·æ•°ï¼› ç¬¬2å¤©å›è®¿ç”¨æˆ·æ•°ï¼šç¬¬ä¸€å¤©ç™»é™†çš„ç”¨æˆ·ä¸­ï¼Œç¬¬äºŒå¤©ä¾æ—§ç™»é™†çš„ç”¨æˆ·ï¼›â€”æ¬¡æ—¥ç•™å­˜ç‡ ç¬¬30å¤©çš„å›è®¿ç”¨æˆ·æ•°ï¼šç¬¬ä¸€å¤©ç™»é™†ç”¨æˆ·ä¸­ï¼Œç¬¬30å¤©ä¾æ—§ç™»é™†çš„ç”¨æˆ·ï¼› select date(t1.user_begin),count(distinct t1.user_id) as new_user,count(distinct t2.user_id) as twodays_retained_users,count(distinct t3.user_id) as thrityday_retained_users from (select user_id,min(log_time) as user_begin from user_log group by user_id) t1 left join (select user_id,log_time from user_log) t2 on t1.user_id=t2.user_id and date(t2.log_time)=date(t1.user_begin)+1 left join (select user_id,log_time from user_log) t3 on t1.user_id=t3.user_id and date(t3.log_time)=date(t1.user_begin)+29 group by date(t1.user_begin) ç¬¬å››é¢˜ï¼šä»ä¸è®¢è´­çš„å®¢æˆ·æŸç½‘ç«™åŒ…å«ä¸¤ä¸ªè¡¨ï¼ŒCustomers è¡¨å’Œ Orders è¡¨ã€‚ç¼–å†™ä¸€ä¸ª SQL æŸ¥è¯¢ï¼Œæ‰¾å‡ºæ‰€æœ‰ä»ä¸è®¢è´­ä»»ä½•ä¸œè¥¿çš„å®¢æˆ·ã€‚Customersè¡¨ï¼š | ID | Name | |----|-------| | 1 | Joe | | 2 | Henry | | 3 | Sam | | 4 | Max | Ordersè¡¨ï¼š | ID | CustomerID | |----|------------| | 1 | 3 | | 2 | 1 | ä¾‹å¦‚ç»™å®šä¸Šè¿°è¡¨æ ¼ï¼Œä½ çš„æŸ¥è¯¢åº”è¿”å›ï¼š |Customers| |---------| | Henry | | Max | è§£ç­”ï¼š select c.name from customers c left join (select distinct customerid from orders) o on c.id=o.customerid where o.customerid is null ç¬¬äº”é¢˜ï¼šåˆ é™¤é‡å¤çš„ç”µå­é‚®ç®±ç¼–å†™ä¸€ä¸ª SQL æŸ¥è¯¢ï¼Œæ¥åˆ é™¤ Person è¡¨ä¸­æ‰€æœ‰é‡å¤çš„ç”µå­é‚®ç®±ï¼Œé‡å¤çš„é‚®ç®±é‡Œåªä¿ç•™ Id æœ€å°çš„é‚£ä¸ªã€‚æ³¨æ„ï¼šPerson è¡¨ä¸­æ•°æ®é‡å¾ˆå¤§ï¼ŒIDä¸ºä¸»é”® | ID | Email | |----|-------------------| | 1 | john@example\\.com | | 2 | bob@example\\.com | | 3 | john@example\\.com | ä¾‹å¦‚ï¼Œåœ¨è¿è¡Œä½ çš„æŸ¥è¯¢è¯­å¥ä¹‹åï¼Œä¸Šé¢çš„ Person è¡¨åº”è¿”å›ä»¥ä¸‹å‡ è¡Œ: | ID | Email | |----|-------------------| | 1 | john@example\\.com | | 2 | bob@example\\.com | delete from email where id not in( select a.id from (select min(id) id from email group by email) a ) ç¬¬å…­é¢˜ï¼šæŒ‰å‘¨æ±‡æ€»æ•°æ®ç°æœ‰åŸå§‹æ•°æ®è¡¨å¦‚ä¸‹æ‰€ç¤ºï¼ŒåŒ…å«ä¸€ä¸ªæ—¶é—´æ®µå†…æ¯å¤©çš„é¢„ç®—é‡‘é¢ä¸æ‰€å±åˆ†ç±»ä¿¡æ¯ï¼š è¡¨åï¼šdatabasetable +â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+ | Date | buget | category | +â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+ | 2020-8-4 | 2574.2 | A | | 2020-8-5 | 260.38 | A | | 2020-8-6 | 9045.16 | A | | 2020-8-12 | 17.431 | A | | 2020-8-8 | 658.308 | B | | 2020-8-12 | 496.263 | A | | 2020-9-15 | 85.05 | B | ...... ç°åœ¨éœ€è¦ç¼–å†™ä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹ï¼Œåœ¨ç»™å®šcategoryä¸æ—¥æœŸçš„æƒ…å†µä¸‹ï¼Œå¾—åˆ°åœ¨ç»™å®šcategoryä¸ç»™å®šæ—¥æœŸä¹‹å‰çš„æ•°æ®åˆ†å‘¨çš„æ±‡æ€»ä»¥åŠå…¨éƒ¨æ±‡æ€».ã€‚åˆ†å‘¨ä¾æ®ä¸ºå‘¨ä¸€ä¸ºä¸€å‘¨å¼€å§‹ï¼Œå‘¨æ—¥ä¸ºä¸€å‘¨ç»“æŸã€‚ ä¾‹å¦‚ç»™å®šç»“æŸæ—¥æœŸä¸º2020/9/13.ç»™å®šcategoryä¸ºAï¼Œåˆ™è¾“å‡ºç»“æœçš„å‚è€ƒæ ¼å¼ä¸ºï¼š | period | buget | |----------------|---------------------| | 0803-0809 | 2142574.2332 | | 0810-0816 | 2608220.3855 | | 0817-0823 | 1549045.1096 | | 0824-0830 | 1004057.4311 | | 0831-0906 | 654538.3078 | | 0907-0913 | 495186.2633 | | Total | 8453621.7305 | ç­”æ¡ˆï¼š create proc summaruy_by_week_total ( @category VARCHAR(250), @enddate date) as With all_data as ( select *, format(DATEADD(wk, DATEDIFF(wk,0,DATEADD(dd,-1,[date])), 0),&#39;MMdd&#39;)+&#39;-&#39;+format(DATEADD(dd,-1,DATEADD(wk, DATEDIFF(wk,0,DATEADD(dd,6,[date])), 0)),&#39;MMdd&#39;) as period from databasetable where category=@category and [date]&lt;= @enddate ) select [period], sum(buget) as buget, union all Select &#39;Total&#39; as [period], sum(buget) as buget, from all_data order by [period] --æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹ exec summaruy_by_week_total &#39;A&#39;,&#39;2020/9/13&#39; è§£æ1.å­˜å‚¨è¿‡ç¨‹å…³äºå­˜å‚¨è¿‡ç¨‹çš„åŸºç¡€çŸ¥è¯†å¯ä»¥çœ‹http://smilecoc.vip/2020/11/12/SQL%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B%E8%AF%A6%E8%A7%A3%E4%B8%8E%E5%AE%9E%E6%88%98/ é¦–å…ˆä»‹ç»ä¸€ä¸‹å­˜å‚¨è¿‡ç¨‹ã€‚ç®€å•æ¥è¯´æ•°æ®åº“ä¸­çš„å­˜å‚¨è¿‡ç¨‹å°±æ˜¯ä¸€ç³»åˆ—ä»£ç çš„é›†åˆï¼Œç±»ä¼¼äºå…¶ä»–ç¼–ç¨‹ä¸­çš„å‡½æ•°ã€‚åœ¨åˆ›å»ºå®Œæˆåæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥é€šè¿‡è°ƒç”¨å­˜å‚¨è¿‡ç¨‹æ¥å®ç°ä¸€ç³»åˆ—æ“ä½œä»è€Œæå‡ä»£ç å¯è¯»æ€§ä¸æ‰§è¡Œæ•ˆç‡ã€‚ é¢˜ç›®ä¸­è¦æ±‚æˆ‘ä»¬ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹å¹¶ä¸”éœ€è¦åœ¨å­˜å‚¨è¿‡ç¨‹ä¸­ç­›é€‰categoryå’Œæ—¥æœŸã€‚æ‰€ä»¥ç›´æ¥åˆ›å»ºå¸¦å‚æ•°çš„å­˜å‚¨è¿‡ç¨‹ã€‚åˆ›å»ºè¯­å¥ä¸º create proc summaruy_by_week_total ( @category VARCHAR(250), @enddate date) as 2.æ—¥æœŸå‡½æ•°åœ¨åˆ†å‘¨æ±‡æ€»ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œæ—¥æœŸçš„è®¡ç®—ä¸æ—¥æœŸçš„æ ¼å¼åŒ–ã€‚å¦‚æœä½ æ˜¯å°ç™½è¯·å…ˆæŸ¥çœ‹å¯¹åº”æ—¥æœŸå‡½æ•°çš„åŸºç¡€è¯­æ³•ä¸è¯¦ç»†è§£æï¼šhttp://smilecoc.vip/2020/09/20/SQL%20Server%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3%E4%B8%8E%E5%AE%9E%E6%88%98/ æ—¥æœŸçš„è®¡ç®—ä¸æ—¥æœŸçš„æ ¼å¼åŒ–çš„ä»£ç ä¸ºï¼š format(DATEADD(wk, DATEDIFF(wk,0,DATEADD(dd,-1,[date])), 0),&#39;MMdd&#39;)+&#39;-&#39;+format(DATEADD(dd,-1,DATEADD(wk, DATEDIFF(wk,0,DATEADD(dd,6,[date])), 0)),&#39;MMdd&#39;) as period é¦–å…ˆåˆ©ç”¨datediif(wk,0,date)è®¡ç®—ä»1900-01-01 åˆ°æŒ‡å®šæ—¥æœŸçš„å‘¨æ•°ï¼ˆ0ä»£è¡¨æ—¥æœŸå¯¹åº”çš„æ•°å­—å½¢å¼ï¼Œå³1900-01-01ï¼‰ã€‚ä¹‹ååˆ©ç”¨DateAddå‡½æ•°åœ¨1900-01-01 çš„åŸºç¡€ä¸ŠåŠ ä¸Šåˆšåˆšæˆ‘ä»¬è®¡ç®—å‡ºçš„å‘¨æ•°ï¼Œä»è€Œå¾—åˆ°æ¯å‘¨çš„å¼€å§‹æ—¶é—´ã€‚æœ€åé€šè¿‡formaå‡½æ•°å¯¹æ—¥æœŸæ ¼å¼åŒ–å³å¯å¾—å‡ºç»“æœ 3.CTEå…³äºCTEçš„è¯¦ç»†ä»‹ç»ä¸åŸºç¡€å¯ä»¥æŸ¥çœ‹æ–‡ç« http://smilecoc.vip/2020/09/20/SQL%20%20Server%20%E5%85%AC%E7%94%A8%E8%A1%A8%E8%A1%A8%E8%BE%BE%E5%BC%8F(CTE)//) åœ¨ä¸Šè¿°æ—¥æœŸæ ¼å¼åŒ–è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬äº§ç”Ÿäº†ä¸€ä¸ªä¸­é—´è¡¨ã€‚ç”±äºåé¢ä¼šè°ƒç”¨ä¸¤æ¬¡ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨CTEä½¿ä»£ç æ›´åŠ ç®€æ´æ˜“è¯»å¹¶æœ€ç»ˆå¾—å‡ºä»£ç ã€‚å¯¹åº”ç­”æ¡ˆä¸­çš„ï¼š With all_data as ( select *, format(DATEADD(wk, DATEDIFF(wk,0,DATEADD(dd,-1,[date])), 0),&#39;MMdd&#39;)+&#39;-&#39;+format(DATEADD(dd,-1,DATEADD(wk, DATEDIFF(wk,0,DATEADD(dd,6,[date])), 0)),&#39;MMdd&#39;) as period from databasetable where category=@category and [date]&lt;= @enddate ) 4.æ•°æ®æ±‡æ€»åˆ†åˆ«æ±‚å‡ºæ•°æ®åˆ†å‘¨æ±‡æ€»ä¸å…¨éƒ¨æ•°æ®æ±‡æ€»å¹¶ä½¿ç”¨union allè¿æ¥.åŒæ—¶ä½¿ç”¨åˆ°ä¸Šè¿°CTEä¸­å®šä¹‰çš„è¡¨ï¼šall_dataã€‚å¯¹åº”ç­”æ¡ˆçš„ä»£ç ä¸ºï¼š select [period], sum(buget) as buget, union all Select &#39;Total&#39; as [period], sum(buget) as buget, from all_data order by [period] ç¬¬ä¸ƒé¢˜ï¼šæŸ¥æ‰¾åœ°ç†å±‚çº§æœ‰å¦‚ä¸‹åŸå§‹è¡¨#hierarchyï¼Œè¡¨ç»“æ„ä¸ºï¼š | ID | ParentID | name | |----|----------|------| | 1 | 0 | æ²³å—çœ | | 19 | 0 | åŒ—äº¬å¸‚ | | 20 | 0 | æ±Ÿè‹çœ | | 21 | 1 | å—äº¬å¸‚ | | 2 | 1 | ä¿¡é˜³å¸‚ | | 5 | 1 | å®‰é˜³å¸‚ | | 15 | 1 | å—é˜³å¸‚ | | 17 | 1 | é©»é©¬åº—å¸‚| | 10 | 2 | æ¯å¿ | | 8 | 2 | å›ºå§‹å¿ | | 3 | 2 | æ·®æ»¨å¿ | | 22 | 2 | æ­£é˜³å¿ | | 4 | 3 | èŠ¦é›†ä¹¡ | | 12 | 3 | é‚“æ¹¾ä¹¡ | | 13 | 3 | å°å¤´ä¹¡ | | 14 | 3 | è°·å †ä¹¡ | | 6 | 5 | æ»‘å¿ | | 7 | 6 | è€åº™ä¹¡ | | 9 | 8 | æåº—ä¹¡ | | 11 | 10 | å…³åº—ä¹¡ | | 16 | 15 | æ–¹åŸå¿ | | 18 | 17 | æ­£é˜³å¿ | ç°è¦ç¼–å†™SQLè¯­å¥æŸ¥æ‰¾æŸ¥æ‰¾èŠ¦é›†ä¹¡æ‰€å±çœï¼Œå¸‚ï¼Œå¿å¹¶è¾“å‡ºã€‚æœŸæœ›è¾“å‡ºç»“æœä¸ºï¼š | ID | ParentID | name | |----|----------|------| | 1 | 0 | æ²³å—çœ | | 2 | 1 | ä¿¡é˜³å¸‚ | | 3 | 2 | æ·®æ»¨å¿ | | 4 | 3 | èŠ¦é›†ä¹¡ | ç­”æ¡ˆï¼šèŠ¦é›†ä¹¡çš„IDæ˜¯4ï¼Œæ ¹æ®èŠ¦é›†ä¹¡çš„IDè¿›è¡Œé€’å½’æŸ¥æ‰¾å…³äºCTEçš„è¯¦ç»†ä»‹ç»ä¸åŸºç¡€å¯ä»¥æŸ¥çœ‹æ–‡ç« http://smilecoc.vip/2020/09/20/SQL%20%20Server%20%E5%85%AC%E7%94%A8%E8%A1%A8%E8%A1%A8%E8%BE%BE%E5%BC%8F(CTE)//) with cte as ( select ID,ParentID,name from #hierarchy where id=4 --èŠ¦é›†ä¹¡çš„ID union all select h.ID,h.ParentID,h.name from #hierarchy h inner join cte c on h.id=c.ParentID ) select ID,ParentID,name from cte order by ParentID ç¬¬å…«é¢˜ï¼šæŸ¥è¯¢ä¼—æ•°ä¸ä¸­ä½æ•°ç°æœ‰å¦‚ä¸‹åŸå§‹è¡¨#gradeï¼š | id | name | score | |----|--------|-------| | 1 | Kevin | 85 | | 2 | Mary | 59 | | 3 | Andy | 60 | | 4 | Tony | 79 | | 5 | Lucky | 90 | | 6 | Bob | 60 | | 7 | Tom | 100 | | 8 | Lucy | 90 | | 9 | Cherry | 92 | | 10 | Ada | 99 | | 11 | Alice | 83 | | 12 | Amy | 82 | æ±‚æˆç»©çš„ä¼—æ•°ä¸ä¸­ä½æ•° æ±‚ä¼—æ•°ï¼š select top(1) WITH TIES score, count(score) as sc_count from #grade group by score order by sc_count desc æ±‚ä¸­ä½æ•°ï¼š select avg(score) from ( select score, count(*) over() total, row_number() over(order by score) rn from #grade ) g where g.rn in ( floor(cast((total+1) as decimal)/2),ceiling(cast((total+1) as decimal)/2) è¯¦ç»†è§£é‡Šå‚é˜…ï¼šhttp://smilecoc.vip/2020/09/20/SQL%E6%9F%A5%E8%AF%A2%E4%BC%97%E6%95%B0%E4%B8%8E%E4%B8%AD%E4%BD%8D%E6%95%B0/ ç¬¬ä¹é¢˜ï¼šè¿æ¥æ¡ä»¶æŸ¥è¯¢æœ‰å¦‚ä¸‹ä¸¤å¼ è¡¨ï¼Œæ‰§è¡Œè¯­å¥ï¼šselect count(s_id) from students left join information on s_id=id where province in (&#39;å±±ä¸œ&#39;,&#39;æ¹–å—&#39;),åçš„æŸ¥è¯¢ç»“æœæœ‰å‡ è¡Œç»“æœï¼Ÿstudentsè¡¨ï¼š | s_id | name | |--------| ------ | | 123585 | å¼ å°é£ | | 123586 | ç¨‹å°è‹± | | 123587 | å´å¤© | | 123588 | å¼ ä»™ | | 123589 | åˆ˜æˆ | | 123590 | ä½•æ¢… | | 123591 | ç‹ç¨‹æ° | | 123592 | ææˆæµ© | | 123593 | æé™ | | 123594 | åˆ˜æ•æ• | informationè¡¨ï¼š | id | name | çœä»½ | å¹´é¾„ | æ€§åˆ« | |--------|------|----|----|----| | 123585 | å¼ å°é£ | æ¹–å— | 22 | ç”· | | 123586 | ç¨‹å°è‹± | æ²³åŒ— | 20 | å¥³ | | 123587 | å´å¤© | æ²³å— | 22 | ç”· | | 123589 | åˆ˜æˆ | æ²³å— | 21 | ç”· | | 123590 | ä½•æ¢… | æ²³å— | 22 | å¥³ | | 123591 | ç‹ç¨‹æ° | è‹å· | 20 | ç”· | | 123593 | æé™ | æ¹–å— | 23 | å¥³ | | 123594 | åˆ˜æ•æ• | æ¹–å— | 20 | å¥³ | | 123595 | ç‹å¿—å³° | å±±ä¸œ | 21 | ç”· | | 123596 | èµµç½—ç”Ÿ | æ±Ÿè¥¿ | 21 | ç”· | | 123597 | æé™ | å±±ä¸œ | 20 | å¥³ | | 123598 | ç¨‹ä¸½ | æ¹–å— | 21 | å¥³ | ç­”æ¡ˆï¼šæ‰§è¡Œçš„ç»“æœä¸º3. å…·ä½“è§£æå¯ä»¥æŸ¥çœ‹ï¼šhttp://smilecoc.vip/2020/08/17/left%20join%20on%20and%20%E4%B8%8E%20left%20join%20on%20where%E7%9A%84%E5%8C%BA%E5%88%AB/ ç¬¬åé¢˜ï¼šæ•°æ®åº“å¢åˆ æ”¹å­˜åœ¨å¦‚ä¸‹è®¢å•è¡¨order: | è®¢å•å· | name | è´§å¸ç±»å‹ | é‡‘é¢ | æ€§åˆ« | |--------|------|------|----|----| | 123585 | å¼ å°é£ | USD | 22 | ç”· | | 123586 | ç¨‹å°è‹± | RMB | | å¥³ | | 123587 | å´å¤© | RMB | 140 | ç”· | | 123588 | åˆ˜æˆ | RMB | 106 | ç”· | | 123589 | ä½•æ¢… | USD | | å¥³ | | 123590 | ç‹ç¨‹æ° | USD | 20 | ç”· | å…¶ä¸­1USD=7RMBè¯·æ ¹æ®éœ€æ±‚å†™å‡ºå¯¹åº”SQLè¯­å¥ï¼š å°†å¹´é¾„ä¸­çš„ç©ºå…¨éƒ¨ä¿®æ”¹ä¸º0 å¢åŠ ä¸€æ¡è®°å½•ï¼Œidä¸º123598ï¼Œnameä¸ºå¼ ä¸‰ï¼Œè´§å¸ç±»å‹ä¸ºRMBï¼Œé‡‘é¢150ï¼Œæ€§åˆ«ç”· è®¡ç®—å½“å‰æ€»è®¢å•é¢ åˆ é™¤nameä¸ºç¨‹å°è‹±çš„è®°å½• ç­”æ¡ˆï¼šç¬¬ä¸€é¢˜ UPDATE order SET å¹´é¾„= 0 WHERE å¹´é¾„ is null ç¬¬äºŒé¢˜ INSERT INTO order VALUES (å€¼1, å€¼2,....) ç¬¬ä¸‰é¢˜ï¼š select sum((case when è´§å¸ç±»å‹=&#39;USD&#39; then é‡‘é¢ * 7 else é‡‘é¢)) as æ€»è®¢å•é¢ from order ç¬¬å››é¢˜ï¼š DELETE FROM order WHERE name = &#39;ç¨‹å°è‹±&#39; ç¬¬åä¸€é¢˜ï¼šæ•°æ®åº“ä¼˜åŒ–åœ¨ä¸€äº›é¢è¯•é¢˜ä¸­ä¼šæåˆ°æ•°æ®åº“ä¼˜åŒ–çš„éƒ¨åˆ† ï¼Œå…·ä½“å¯å‚é˜…ï¼šhttp://smilecoc.vip/2020/11/11/SQL%E8%AF%AD%E5%8F%A5%E4%BC%98%E5%8C%96/ å…¶ä¸­æ¯”è¾ƒå¸¸è§çš„ä¼˜åŒ–è€ƒç‚¹æœ‰ï¼š1ã€ åœ¨è¡¨ä¸­å»ºç«‹ç´¢å¼•ï¼Œä¼˜å…ˆè€ƒè™‘whereã€group byä½¿ç”¨åˆ°çš„å­—æ®µã€‚ 2ã€ å°½é‡é¿å…ä½¿ç”¨select *ï¼Œè¿”å›æ— ç”¨çš„å­—æ®µä¼šé™ä½æŸ¥è¯¢æ•ˆç‡ã€‚å¦‚ä¸‹ï¼š SELECT * FROM t ä¼˜åŒ–æ–¹å¼ï¼šä½¿ç”¨å…·ä½“çš„å­—æ®µä»£æ›¿*ï¼Œåªè¿”å›ä½¿ç”¨åˆ°çš„å­—æ®µã€‚ 3ã€å°½é‡é¿å…ä½¿ç”¨in å’Œnot inï¼Œä¼šå¯¼è‡´æ•°æ®åº“å¼•æ“æ”¾å¼ƒç´¢å¼•è¿›è¡Œå…¨è¡¨æ‰«æã€‚å¦‚ä¸‹ï¼š SELECT * FROM t WHERE id IN (2,3) SELECT * FROM t1 WHERE username IN (SELECT username FROM t2) ä¼˜åŒ–æ–¹å¼ï¼šå¦‚æœæ˜¯è¿ç»­æ•°å€¼ï¼Œå¯ä»¥ç”¨betweenä»£æ›¿ã€‚å¦‚ä¸‹ï¼š SELECT * FROM t WHERE id BETWEEN 2 AND 3 å¦‚æœæ˜¯å­æŸ¥è¯¢ï¼Œå¯ä»¥ç”¨existsä»£æ›¿ã€‚å¦‚ä¸‹ï¼š SELECT * FROM t1 WHERE EXISTS (SELECT * FROM t2 WHERE t1.username = t2.username) 4ã€å°½é‡é¿å…ä½¿ç”¨orï¼Œä¼šå¯¼è‡´æ•°æ®åº“å¼•æ“æ”¾å¼ƒç´¢å¼•è¿›è¡Œå…¨è¡¨æ‰«æã€‚å¦‚ä¸‹ï¼š SELECT * FROM t WHERE id = 1 OR id = 3 ä¼˜åŒ–æ–¹å¼ï¼šå¯ä»¥ç”¨unionä»£æ›¿orã€‚å¦‚ä¸‹ï¼š SELECT * FROM t WHERE id = 1 UNION SELECT * FROM t WHERE id = 3 ï¼ˆPSï¼šå¦‚æœorä¸¤è¾¹çš„å­—æ®µæ˜¯åŒä¸€ä¸ªï¼Œå¦‚ä¾‹å­ä¸­è¿™æ ·ã€‚è²Œä¼¼ä¸¤ç§æ–¹å¼æ•ˆç‡å·®ä¸å¤šï¼Œå³ä½¿unionæ‰«æçš„æ˜¯ç´¢å¼•ï¼Œoræ‰«æçš„æ˜¯å…¨è¡¨ï¼‰ 5ã€å°½é‡é¿å…åœ¨å­—æ®µå¼€å¤´æ¨¡ç³ŠæŸ¥è¯¢ï¼Œä¼šå¯¼è‡´æ•°æ®åº“å¼•æ“æ”¾å¼ƒç´¢å¼•è¿›è¡Œå…¨è¡¨æ‰«æã€‚å¦‚ä¸‹ï¼š SELECT * FROM t WHERE username LIKE &#39;%li%&#39; ä¼˜åŒ–æ–¹å¼ï¼šå°½é‡åœ¨å­—æ®µåé¢ä½¿ç”¨æ¨¡ç³ŠæŸ¥è¯¢ã€‚å¦‚ä¸‹ï¼š SELECT * FROM t WHERE username LIKE &#39;li%&#39; 6ã€å°½é‡é¿å…è¿›è¡Œnullå€¼çš„åˆ¤æ–­ï¼Œä¼šå¯¼è‡´æ•°æ®åº“å¼•æ“æ”¾å¼ƒç´¢å¼•è¿›è¡Œå…¨è¡¨æ‰«æã€‚å¦‚ä¸‹ï¼š SELECT * FROM t WHERE score IS NULL ä¼˜åŒ–æ–¹å¼ï¼šå¯ä»¥ç»™å­—æ®µæ·»åŠ é»˜è®¤å€¼0ï¼Œå¯¹0å€¼è¿›è¡Œåˆ¤æ–­ã€‚å¦‚ä¸‹ï¼š SELECT * FROM t WHERE score = 0 7ã€å°½é‡é¿å…åœ¨whereæ¡ä»¶ä¸­ç­‰å·çš„å·¦ä¾§è¿›è¡Œè¡¨è¾¾å¼ã€å‡½æ•°æ“ä½œï¼Œä¼šå¯¼è‡´æ•°æ®åº“å¼•æ“æ”¾å¼ƒç´¢å¼•è¿›è¡Œå…¨è¡¨æ‰«æã€‚å¦‚ä¸‹ï¼š SELECT * FROM t2 WHERE score/10 = 9 SELECT * FROM t2 WHERE SUBSTR(username,1,2) = &#39;li&#39; ä¼˜åŒ–æ–¹å¼ï¼šå¯ä»¥å°†è¡¨è¾¾å¼ã€å‡½æ•°æ“ä½œç§»åŠ¨åˆ°ç­‰å·å³ä¾§ã€‚å¦‚ä¸‹ï¼š SELECT * FROM t2 WHERE score = 10*9 SELECT * FROM t2 WHERE username LIKE &#39;li%&#39; ç¬¬åäºŒé¢˜ï¼šSQLæ•°æ®ç±»å‹åœ¨SQLä¸­æ‰§è¡Œå¦‚ä¸‹ä¸¤æ®µè¯­å¥çš„ç»“æœï¼š select 256*1.000/100 select 256/100*1.000 ç­”æ¡ˆï¼šç»“æœåˆ†åˆ«ä¸ºï¼š 2.5600000 2.000 è§£æï¼šåœ¨ç¬¬ä¸€æ®µä»£ç ä¸­ï¼Œ256ä¸ºæ•´æ•°ç±»å‹ï¼Œåœ¨ä¹˜ä»¥æ•°å€¼å‹çš„1.000åå˜ä¸ºäº†æ•°å€¼å‹çš„256.000,ä»è€Œé™¤ä»¥100åå¾—åˆ°2.56.è€Œç¬¬äºŒæ®µä»£ç ä¸­æ•´æ•°ç±»å‹çš„256é™¤ä»¥æ•´æ•°ç±»å‹çš„100åä»ä¸ºæ•´æ•°ç±»å‹ï¼Œå› æ­¤åªä¿ç•™æ•´æ•°éƒ¨åˆ†2ï¼Œå†ä¹˜ä»¥æ•°å€¼å‹çš„1.000åå˜ä¸º2.000","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://smilecoc.vip/categories/ç¬”è®°/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"SQLå­˜å‚¨è¿‡ç¨‹è¯¦è§£ä¸å®æˆ˜","slug":"SQLå­˜å‚¨è¿‡ç¨‹è¯¦è§£ä¸å®æˆ˜","date":"2020-11-12T09:22:11.000Z","updated":"2020-11-15T15:09:51.052Z","comments":true,"path":"2020/11/12/SQLå­˜å‚¨è¿‡ç¨‹è¯¦è§£ä¸å®æˆ˜/","link":"","permalink":"http://smilecoc.vip/2020/11/12/SQLå­˜å‚¨è¿‡ç¨‹è¯¦è§£ä¸å®æˆ˜/","excerpt":"","text":"å®šä¹‰å­˜å‚¨è¿‡ç¨‹ï¼ˆStored Procedureï¼‰æ˜¯ä¸€ç§åœ¨æ•°æ®åº“ä¸­å­˜å‚¨å¤æ‚ç¨‹åºï¼Œä»¥ä¾¿å¤–éƒ¨ç¨‹åºè°ƒç”¨çš„ä¸€ç§æ•°æ®åº“å¯¹è±¡ã€‚ å­˜å‚¨è¿‡ç¨‹æ˜¯ä¸ºäº†å®Œæˆç‰¹å®šåŠŸèƒ½çš„SQLè¯­å¥é›†ï¼Œç»ç¼–è¯‘åˆ›å»ºå¹¶ä¿å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œç”¨æˆ·å¯é€šè¿‡æŒ‡å®šå­˜å‚¨è¿‡ç¨‹çš„åå­—å¹¶ç»™å®šå‚æ•°(éœ€è¦æ—¶)æ¥è°ƒç”¨æ‰§è¡Œã€‚ ä½ å¯ä»¥ç†è§£ä¸ºå…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­çš„å‡½æ•°æˆ–è€…å­ç¨‹åº ä¼˜ç‚¹ å°†é‡å¤æ€§å¾ˆé«˜çš„ä¸€äº›æ“ä½œï¼Œå°è£…åˆ°ä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹ä¸­ï¼Œç®€åŒ–äº†å¯¹è¿™äº›SQLçš„è°ƒç”¨ æ‰¹é‡å¤„ç†ï¼šå¯ä»¥ç›´æ¥æ‰¹é‡è¿è¡Œå­˜å‚¨è¿‡ç¨‹ä¸­çš„å¤šä¸ªSQLè¯­å¥ æé«˜é€Ÿåº¦ï¼šç”±äºå­˜å‚¨è¿‡ç¨‹æ˜¯å…ˆç¼–è¯‘å†æ‰§è¡Œçš„ï¼ŒåŒæ—¶å¯ä»¥æ‰¹é‡æ‰§è¡Œè¯­å¥ï¼Œå› æ­¤å­˜å‚¨è¿‡ç¨‹èƒ½å¤Ÿå®ç°è¾ƒå¿«çš„æ‰§è¡Œé€Ÿåº¦å¹¶å‡å°‘ç½‘ç»œæ—¶é—´æ¶ˆè€— ç»Ÿä¸€æ¥å£ï¼ŒåŒæ—¶å°†ä¸šåŠ¡é€»è¾‘éšè—ï¼Œç¡®ä¿æ•°æ®çš„å®‰å…¨ ç¼ºç‚¹ å­˜å‚¨è¿‡ç¨‹ï¼Œå¾€å¾€å®šåˆ¶åŒ–äºç‰¹å®šçš„æ•°æ®åº“ä¸Šï¼Œå› ä¸ºæ”¯æŒçš„ç¼–ç¨‹è¯­è¨€ä¸åŒã€‚å½“åˆ‡æ¢åˆ°å…¶ä»–å‚å•†çš„æ•°æ®åº“ç³»ç»Ÿæ—¶ï¼Œéœ€è¦é‡å†™åŸæœ‰çš„å­˜å‚¨è¿‡ç¨‹ã€‚ å­˜å‚¨è¿‡ç¨‹çš„æ€§èƒ½è°ƒæ ¡ä¸æ’°å†™ï¼Œå—é™äºå„ç§æ•°æ®åº“ç³»ç»Ÿã€‚ åˆ›å»ºå­˜å‚¨è¿‡ç¨‹åˆ›å»ºå­˜å‚¨è¿‡ç¨‹çš„è¯­æ³•ä¸ºï¼š -- é€‚ç”¨äºSQL Server ä¸ Azure SQL Database CREATE [ OR ALTER ] { PROC | PROCEDURE } [schema_name.] procedure_name [ ; number ] [ { @parameter [ type_schema_name. ] data_type } [ VARYING ] [ = default ] [ OUT | OUTPUT | [READONLY] ] [ ,...n ] [ WITH &lt;procedure_option&gt; [ ,...n ] ] [ FOR REPLICATION ] AS { [ BEGIN ] sql_statement [;] [ ...n ] [ END ] } [;] &lt;procedure_option&gt; ::= [ ENCRYPTION ] [ RECOMPILE ] [ EXECUTE AS Clause ] æ³¨æ„ä¸åŒçš„æ•°æ®åº“çš„è¯­æ³•å¯èƒ½ä¼šæœ‰äº›è®¸ä¸åŒã€‚ çœ‹åˆ°è¿™ä¸ªè¯­æ³•æ˜¯ä¸æ˜¯å¾ˆå¤æ‚ï¼Œä½†æ˜¯ä¸ç”¨æ‹…å¿ƒï¼Œå¸¸ç”¨çš„å‚æ•°å…¶å®å¾ˆå°‘ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬ä¸ä¼šä»‹ç»æ‰€æœ‰å‚æ•°ï¼Œæ‰€ä»¥æƒ³è¦äº†è§£æ‰€æœ‰å‚æ•°å¯ä»¥æŸ¥çœ‹å®˜ç½‘æ–‡æ¡£ï¼šhttps://docs.microsoft.com/zh-cn/sql/t-sql/statements/create-procedure-transact-sql?view=sql-server-ver15 åˆ›å»ºä¸å¸¦å‚æ•°çš„å­˜å‚¨è¿‡ç¨‹è¯­æ³•ä¸ºï¼š create proc | procedure pro_name as SQL_statements å…¶ä¸­pro_nameä¸ºè‡ªå®šä¹‰çš„å­˜å‚¨è¿‡ç¨‹åç§°ï¼ŒSQL_statementsä¸ºSQLè¯­å¥ã€‚procå’Œprocedureé€‰æ‹©å…¶ä¸­ä¸€ä¸ªå‡å¯ä½¿ç”¨ï¼ˆprocæ˜¯procedureçš„ç¼©å†™ï¼‰ ä¾‹å¦‚åˆ›å»ºä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹ï¼Œå®ç°ä»studentè¡¨ä¸­é€‰å–æ‰€æœ‰çš„æ•°æ® create proc proc_get_student as select * from student; ä¹‹åä½¿ç”¨exec+å­˜å‚¨è¿‡ç¨‹åå³å¯è°ƒç”¨å­˜å‚¨è¿‡ç¨‹ exec proc_get_student åˆ›å»ºå¸¦å‚æ•°çš„å­˜å‚¨è¿‡ç¨‹åˆ›å»ºå¸¦å‚æ•°çš„å­˜å‚¨è¿‡ç¨‹é¦–å…ˆè¦åœ¨å­˜å‚¨è¿‡ç¨‹ä¸­å£°æ˜è¯¥å‚æ•°ï¼Œæ¯ä¸ªå­˜å‚¨è¿‡ç¨‹å‚æ•°éƒ½å¿…é¡»ç”¨å”¯ä¸€çš„åç§°è¿›è¡Œå®šä¹‰ã€‚ä¸T-SQLå˜é‡ç›¸åŒï¼Œå‚æ•°åå¿…é¡»ä»¥@ä¸ºå‰ç¼€ï¼Œå¹¶ä¸”éµä»æ ‡è¯†ç¬¦è§„åˆ™ã€‚å½“ç”¨æˆ·ä¸æä¾›è¯¥å‚æ•°çš„å€¼æ—¶å¯ä»¥ä½¿ç”¨ä¸€ä¸ªé»˜è®¤å€¼æ¥ä»£æ›¿ã€‚åˆ›å»ºå¸¦å‚æ•°çš„å­˜å‚¨è¿‡ç¨‹çš„åŸºæœ¬è¯­å¥ä¸ºï¼š create proc | procedure pro_name [{@å‚æ•°æ•°æ®ç±»å‹} [=é»˜è®¤å€¼] [output], {@å‚æ•°æ•°æ®ç±»å‹} [=é»˜è®¤å€¼] [output], .... ] as SQL_statements 1.ä¸å¸¦é»˜è®¤å€¼çš„å‚æ•°åˆ›å»ºä¸€ä¸ªå‚æ•°ä¸å¸¦é»˜è®¤å€¼çš„å­˜å‚¨è¿‡ç¨‹ï¼Œåœ¨è°ƒç”¨è¯¥å­˜å‚¨è¿‡ç¨‹æ—¶ï¼Œå¿…é¡»å¯¹å­˜å‚¨è¿‡ç¨‹ä¸­çš„æ‰€æœ‰å‚æ•°è¿›è¡Œèµ‹å€¼ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå‚æ•°æ²¡æœ‰èµ‹å€¼ï¼Œåˆ™æ— æ³•è°ƒç”¨è¯¥å­˜å‚¨è¿‡ç¨‹ã€‚ä¾‹å¦‚ï¼š use db_student --åˆ›å»ºå­˜å‚¨è¿‡ç¨‹ create procedure proc_group @è¯¾ç¨‹ç±»åˆ« varchar(20), --å®šä¹‰å‚æ•° @å­¦åˆ† int as select * from course where è¯¾ç¨‹ç±»åˆ«=@è¯¾ç¨‹ç±»åˆ« and å­¦åˆ†&gt;@å­¦åˆ† æ‰§è¡Œä¸å¸¦å‚æ•°çš„å­˜å‚¨è¿‡ç¨‹å°±æ˜¯ï¼š use db_student exec proc_group &#39;æ­Œæ›²&#39;,8 å¦‚æœä¸æŒ‰é¡ºåºèµ‹å€¼å¯ä»¥å†™æˆï¼š use db_student exec proc_group @å­¦åˆ†=8,@è¯¾ç¨‹ç±»åˆ«=â€˜ç¯®çƒè¯¾â€™ 2.å¸¦é»˜è®¤å€¼çš„å‚æ•°åœ¨SQLä¸­æˆ‘ä»¬å¯ä»¥å¯¹å­—æ®µè¿›è¡Œé»˜è®¤å€¼çš„çº¦æŸï¼Œåœ¨å­˜å‚¨è¿‡ç¨‹ä¸­ä¹Ÿå¯ä»¥å»ºç«‹ä½¿ç”¨é»˜è®¤å€¼çš„å‚æ•°ã€‚åªè¦åœ¨å‚æ•°çš„å®šä¹‰ä¹‹ååŠ ä¸Šç­‰å·ï¼Œå¹¶åœ¨ç­‰å·åé¢å†™å‡ºé»˜è®¤å€¼å³å¯ã€‚ --åˆ›å»ºå­˜å‚¨è¿‡ç¨‹ use db_student create procedure proc_group @è¯¾ç¨‹ç±»åˆ« varchar(20)=&#39;ä½“è‚²è¯¾&#39;, @å­¦åˆ† int=6 as select * from course where è¯¾ç¨‹ç±»åˆ«=@è¯¾ç¨‹ç±»åˆ« and å­¦åˆ†&gt;@å­¦åˆ† æ‰§è¡Œå‚æ•°å¸¦é»˜è®¤å€¼çš„å­˜å‚¨è¿‡ç¨‹ use db_student exec proc_group @å­¦åˆ†=8 å¸¦è¿”å›å‚æ•°çš„å­˜å‚¨è¿‡ç¨‹åˆ›å»ºå­˜å‚¨è¿‡ç¨‹æ—¶ï¼Œå¯ä»¥ç”¨output/outå‚æ•°æ¥åˆ›å»ºä¸€ä¸ªå¸¦è¿”å›å€¼çš„å­˜å‚¨è¿‡ç¨‹ï¼Œä¾‹å¦‚ï¼š@a int outputå¦‚æœåˆ›å»ºå¸¦è¿”å›å‚æ•°çš„å­˜å‚¨è¿‡ç¨‹proc_groupï¼Œé‚£ä¹ˆSQLè¯­å¥å¦‚ä¸‹ï¼š --åˆ›å»ºå¸¦è¿”å›å€¼çš„å­˜å‚¨è¿‡ç¨‹ create procedure proc_group @è¯¾ç¨‹ç±»åˆ« varchar(20), @å¹³å‡å­¦åˆ† int output --è®¾ç½®å¸¦è¿”å›å€¼çš„å‚æ•° as select @å¹³å‡å­¦åˆ†=avg(å­¦åˆ†) from course where è¯¾ç¨‹ç±»åˆ«=@è¯¾ç¨‹ç±»åˆ« æ‰§è¡Œå¸¦è¿”å›å€¼çš„å­˜å‚¨è¿‡ç¨‹ä¸æ™®é€šçš„æ‰§è¡Œè¿‡ç¨‹ä¼šæœ‰åŒºåˆ«ï¼š DECLARE @å¹³å‡å­¦åˆ† int; exec proc_group &#39;D&#39;, @å¹³å‡å­¦åˆ† output print (@å¹³å‡å­¦åˆ†) åˆ›å»ºå­˜å‚¨è¿‡ç¨‹çš„ä¼˜åŒ–å­˜å‚¨è¿‡ç¨‹æ˜¯ä¸å…è®¸é‡åçš„ï¼Œæ‰€ä»¥æœ‰æ—¶æˆ‘ä»¬ä¼šåœ¨åˆ›å»ºå­˜å‚¨è¿‡ç¨‹çš„è¯­å¥ä¸­åŠ ä¸€ä¸ªåˆ¤æ–­ï¼Œå¦‚æœå·²å­˜åœ¨åŒåçš„å­˜å‚¨è¿‡ç¨‹åˆ™åˆ é™¤ if (exists (select * from sys.objects where name = &#39;proc_get_student&#39;)) drop proc proc_get_student go create proc proc_get_student as select * from student; ä¿®æ”¹å­˜å‚¨è¿‡ç¨‹ä½¿ç”¨alterä¿®æ”¹å­˜å‚¨è¿‡ç¨‹ alter proc proc_get_student as select * from student; åˆ é™¤å­˜å‚¨è¿‡ç¨‹drop proc proc_get_student ç³»ç»Ÿå­˜å‚¨è¿‡ç¨‹ç³»ç»Ÿå­˜å‚¨è¿‡ç¨‹æ˜¯ç³»ç»Ÿåˆ›å»ºçš„å­˜å‚¨è¿‡ç¨‹ï¼Œç›®çš„åœ¨äºèƒ½å¤Ÿæ–¹ä¾¿çš„ä»ç³»ç»Ÿè¡¨ä¸­æŸ¥è¯¢ä¿¡æ¯æˆ–å®Œæˆä¸æ›´æ–°æ•°æ®åº“è¡¨ç›¸å…³çš„ç®¡ç†ä»»åŠ¡æˆ–å…¶ä»–çš„ç³»ç»Ÿç®¡ç†ä»»åŠ¡ã€‚ç³»ç»Ÿå­˜å‚¨è¿‡ç¨‹ä¸»è¦å­˜å‚¨åœ¨masteræ•°æ®åº“ä¸­ï¼Œä»¥â€œspâ€ä¸‹åˆ’çº¿å¼€å¤´çš„å­˜å‚¨è¿‡ç¨‹ã€‚å°½ç®¡è¿™äº›ç³»ç»Ÿå­˜å‚¨è¿‡ç¨‹åœ¨masteræ•°æ®åº“ä¸­ï¼Œä½†æˆ‘ä»¬åœ¨å…¶ä»–æ•°æ®åº“è¿˜æ˜¯å¯ä»¥è°ƒç”¨ç³»ç»Ÿå­˜å‚¨è¿‡ç¨‹ã€‚æœ‰ä¸€äº›ç³»ç»Ÿå­˜å‚¨è¿‡ç¨‹ä¼šåœ¨åˆ›å»ºæ–°çš„æ•°æ®åº“çš„æ—¶å€™è¢«è‡ªåŠ¨åˆ›å»ºåœ¨å½“å‰æ•°æ®åº“ä¸­ exec sp_databases; --æŸ¥çœ‹æ•°æ®åº“ exec sp_tables; --æŸ¥çœ‹è¡¨ exec sp_columns student;--æŸ¥çœ‹åˆ— exec sp_helpIndex student;--æŸ¥çœ‹ç´¢å¼• exec sp_helpConstraint student;--çº¦æŸ exec sp_stored_procedures;--æŸ¥çœ‹æ‰€æœ‰å­˜å‚¨è¿‡ç¨‹ä¿¡æ¯ exec sp_helptext &#39;sp_stored_procedures&#39;;--æŸ¥çœ‹å­˜å‚¨è¿‡ç¨‹åˆ›å»ºã€å®šä¹‰è¯­å¥ exec sp_rename student, stuInfo;--ä¿®æ”¹è¡¨ã€ç´¢å¼•ã€åˆ—çš„åç§° exec sp_renamedb myTempDB, myDB;--æ›´æ”¹æ•°æ®åº“åç§° exec sp_defaultdb &#39;master&#39;, &#39;myDB&#39;;--æ›´æ”¹ç™»å½•åçš„é»˜è®¤æ•°æ®åº“ exec sp_helpdb;--æ•°æ®åº“å¸®åŠ©ï¼ŒæŸ¥è¯¢æ•°æ®åº“ä¿¡æ¯","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"SQLè¯­å¥ä¼˜åŒ–","slug":"SQLè¯­å¥ä¼˜åŒ–","date":"2020-11-11T03:11:11.000Z","updated":"2020-11-15T15:36:19.266Z","comments":true,"path":"2020/11/11/SQLè¯­å¥ä¼˜åŒ–/","link":"","permalink":"http://smilecoc.vip/2020/11/11/SQLè¯­å¥ä¼˜åŒ–/","excerpt":"","text":"SQLæŸ¥è¯¢ä¸­ä¸ºäº†æé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šé‡‡å–ä¸€äº›æªæ–½å¯¹æŸ¥è¯¢è¯­å¥è¿›è¡Œsqlä¼˜åŒ–ï¼Œä¸‹é¢æ€»ç»“ä¸€äº›æ–¹æ³•ï¼Œä¾›å¤§å®¶å‚è€ƒã€‚ 01å¯¹æŸ¥è¯¢è¿›è¡Œä¼˜åŒ–ï¼Œåº”å°½é‡é¿å…å…¨è¡¨æ‰«æï¼Œé¦–å…ˆåº”è€ƒè™‘åœ¨ where åŠ order by æ¶‰åŠçš„åˆ—ä¸Šå»ºç«‹ç´¢å¼•ã€‚ 02åº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­ä½¿ç”¨!=æˆ–&lt;&gt;æ“ä½œç¬¦ï¼Œå¦åˆ™å°†å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æã€‚ 03åº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­å¯¹å­—æ®µè¿›è¡Œ null å€¼åˆ¤æ–­ï¼Œå¦åˆ™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æï¼Œå¦‚ï¼š select id from twhere num is null å¯ä»¥åœ¨numä¸Šè®¾ç½®é»˜è®¤å€¼0ï¼Œç¡®ä¿è¡¨ä¸­numåˆ—æ²¡æœ‰nullå€¼ï¼Œç„¶åè¿™æ ·æŸ¥è¯¢ï¼š select id from t where num=0 04åº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­ä½¿ç”¨ or æ¥è¿æ¥æ¡ä»¶ï¼Œå¦åˆ™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æï¼Œå¦‚ï¼š select id from t where num=10 or num=20 å¯ä»¥è¿™æ ·æŸ¥è¯¢ï¼š select id from t where num=10 union all select id from t where num=20 05 å°½é‡é¿å…åœ¨å­—æ®µå¼€å¤´æ¨¡ç³ŠæŸ¥è¯¢ï¼Œä¼šå¯¼è‡´æ•°æ®åº“å¼•æ“æ”¾å¼ƒç´¢å¼•è¿›è¡Œå…¨è¡¨æ‰«æã€‚å¦‚ä¸‹ï¼š select id from t where name like &#39;%li%&#39; ä¼˜åŒ–æ–¹å¼ï¼šå°½é‡åœ¨å­—æ®µåé¢ä½¿ç”¨æ¨¡ç³ŠæŸ¥è¯¢æˆ–è€…å…¨æ–‡æ£€ç´¢ã€‚å¦‚ä¸‹ï¼š SELECT * FROM t WHERE username LIKE &#39;li%&#39; 06 å°½é‡é¿å…ä½¿ç”¨in å’Œnot inï¼Œä¼šå¯¼è‡´æ•°æ®åº“å¼•æ“æ”¾å¼ƒç´¢å¼•è¿›è¡Œå…¨è¡¨æ‰«æã€‚å¦‚ä¸‹ï¼š SELECT * FROM t WHERE id IN (2,3) SELECT * FROM t1 WHERE username IN (SELECT username FROM t2) ä¼˜åŒ–æ–¹å¼ï¼šå¦‚æœæ˜¯è¿ç»­æ•°å€¼ï¼Œå¯ä»¥ç”¨betweenä»£æ›¿ã€‚å¦‚ä¸‹ï¼š SELECT * FROM t WHERE id BETWEEN 2 AND 3 å¦‚æœæ˜¯å­æŸ¥è¯¢ï¼Œå¯ä»¥ç”¨existsä»£æ›¿ã€‚å¦‚ä¸‹ï¼š SELECT * FROM t1 WHERE EXISTS (SELECT * FROM t2 WHERE t1.username = t2.username) 07 å¦‚æœåœ¨ where å­å¥ä¸­ä½¿ç”¨å‚æ•°ï¼Œä¹Ÿä¼šå¯¼è‡´å…¨è¡¨æ‰«æã€‚å› ä¸ºSQLåªæœ‰åœ¨è¿è¡Œæ—¶æ‰ä¼šè§£æå±€éƒ¨å˜é‡ï¼Œä½†ä¼˜åŒ–ç¨‹åºä¸èƒ½å°†è®¿é—®è®¡åˆ’çš„é€‰æ‹©æ¨è¿Ÿåˆ°è¿è¡Œæ—¶ï¼›å®ƒå¿…é¡»åœ¨ç¼–è¯‘æ—¶è¿›è¡Œé€‰æ‹©ã€‚ç„¶è€Œï¼Œå¦‚æœåœ¨ç¼–è¯‘æ—¶å»ºç«‹è®¿é—®è®¡åˆ’ï¼Œå˜é‡çš„å€¼è¿˜æ˜¯æœªçŸ¥çš„ï¼Œå› è€Œæ— æ³•ä½œä¸ºç´¢å¼•é€‰æ‹©çš„è¾“å…¥é¡¹ã€‚å¦‚ä¸‹é¢è¯­å¥å°†è¿›è¡Œå…¨è¡¨æ‰«æï¼š select id from t where num=@num å¯ä»¥æ”¹ä¸ºå¼ºåˆ¶æŸ¥è¯¢ä½¿ç”¨ç´¢å¼•ï¼š select id from t with(index(ç´¢å¼•å)) where num=@num 08åº”å°½é‡é¿å…åœ¨ where å­å¥ä¸­å¯¹å­—æ®µè¿›è¡Œè¡¨è¾¾å¼æ“ä½œï¼Œè¿™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æã€‚å¦‚ï¼š select id from t where num/2=100 åº”æ”¹ä¸º: select id from t where num=100*2 09åº”å°½é‡é¿å…åœ¨whereå­å¥ä¸­å¯¹å­—æ®µè¿›è¡Œå‡½æ•°æ“ä½œï¼Œè¿™å°†å¯¼è‡´å¼•æ“æ”¾å¼ƒä½¿ç”¨ç´¢å¼•è€Œè¿›è¡Œå…¨è¡¨æ‰«æã€‚å¦‚ï¼š select id from t where substring(name,1,3)=&#39;abc&#39;--nameä»¥abcå¼€å¤´çš„id select id from t where datediff(day,createdate,&#39;2005-11-30&#39;)=0--&#39;2005-11-30&#39;ç”Ÿæˆçš„id åº”æ”¹ä¸º: select id from t where name like &#39;abc%&#39; select id from t where createdate&gt;=&#39;2005-11-30&#39; and createdate&lt;&#39;2005-12-1&#39; 10 ä¸è¦åœ¨ where å­å¥ä¸­çš„â€œ=â€å·¦è¾¹è¿›è¡Œå‡½æ•°ã€ç®—æœ¯è¿ç®—æˆ–å…¶ä»–è¡¨è¾¾å¼è¿ç®—ï¼Œå¦åˆ™ç³»ç»Ÿå°†ä¸èƒ½æ­£ç¡®ä½¿ç”¨ç´¢å¼•ã€‚ 11åœ¨ä½¿ç”¨ç´¢å¼•å­—æ®µä½œä¸ºæ¡ä»¶æ—¶ï¼Œå¦‚æœè¯¥ç´¢å¼•æ˜¯å¤åˆç´¢å¼•ï¼Œé‚£ä¹ˆå¿…é¡»ä½¿ç”¨åˆ°è¯¥ç´¢å¼•ä¸­çš„ç¬¬ä¸€ä¸ªå­—æ®µä½œä¸ºæ¡ä»¶æ—¶æ‰èƒ½ä¿è¯ç³»ç»Ÿä½¿ç”¨è¯¥ç´¢å¼•ï¼Œå¦åˆ™è¯¥ç´¢å¼•å°†ä¸ä¼šè¢«ä½¿ç”¨ï¼Œå¹¶ä¸”åº”å°½å¯èƒ½çš„è®©å­—æ®µé¡ºåºä¸ç´¢å¼•é¡ºåºç›¸ä¸€è‡´ã€‚ 12 ä¸è¦å†™ä¸€äº›æ²¡æœ‰æ„ä¹‰çš„æŸ¥è¯¢ï¼Œå¦‚éœ€è¦ç”Ÿæˆä¸€ä¸ªç©ºè¡¨ç»“æ„ï¼š select col1,col2 into #t from t where 1=0 è¿™ç±»ä»£ç ä¸ä¼šè¿”å›ä»»ä½•ç»“æœé›†ï¼Œä½†æ˜¯ä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æºçš„ï¼Œåº”æ”¹æˆè¿™æ ·ï¼š create table #t(...) 13 å¹¶ä¸æ˜¯æ‰€æœ‰ç´¢å¼•å¯¹æŸ¥è¯¢éƒ½æœ‰æ•ˆï¼ŒSQLæ˜¯æ ¹æ®è¡¨ä¸­æ•°æ®æ¥è¿›è¡ŒæŸ¥è¯¢ä¼˜åŒ–çš„ï¼Œå½“ç´¢å¼•åˆ—æœ‰å¤§é‡æ•°æ®é‡å¤æ—¶ï¼ŒSQLæŸ¥è¯¢å¯èƒ½ä¸ä¼šå»åˆ©ç”¨ç´¢å¼•ï¼Œå¦‚ä¸€è¡¨ä¸­æœ‰å­—æ®µsexï¼Œmaleã€femaleå‡ ä¹å„ä¸€åŠï¼Œé‚£ä¹ˆå³ä½¿åœ¨sexä¸Šå»ºäº†ç´¢å¼•ä¹Ÿå¯¹æŸ¥è¯¢æ•ˆç‡èµ·ä¸äº†ä½œç”¨ã€‚ 14 ç´¢å¼•å¹¶ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œç´¢å¼•å›ºç„¶å¯ä»¥æé«˜ç›¸åº”çš„ select çš„æ•ˆç‡ï¼Œä½†åŒæ—¶ä¹Ÿé™ä½äº† insert åŠ update çš„æ•ˆç‡ï¼Œå› ä¸º insert æˆ– update æ—¶æœ‰å¯èƒ½ä¼šé‡å»ºç´¢å¼•ï¼Œæ‰€ä»¥æ€æ ·å»ºç´¢å¼•éœ€è¦æ…é‡è€ƒè™‘ï¼Œè§†å…·ä½“æƒ…å†µè€Œå®šã€‚ä¸€ä¸ªè¡¨çš„ç´¢å¼•æ•°æœ€å¥½ä¸è¦è¶…è¿‡6ä¸ªï¼Œè‹¥å¤ªå¤šåˆ™åº”è€ƒè™‘ä¸€äº›ä¸å¸¸ä½¿ç”¨åˆ°çš„åˆ—ä¸Šå»ºçš„ç´¢å¼•æ˜¯å¦æœ‰å¿…è¦ã€‚ 15 åº”å°½å¯èƒ½çš„é¿å…æ›´æ–° clustered ç´¢å¼•æ•°æ®åˆ—ï¼Œå› ä¸º clustered ç´¢å¼•æ•°æ®åˆ—çš„é¡ºåºå°±æ˜¯è¡¨è®°å½•çš„ç‰©ç†å­˜å‚¨é¡ºåºï¼Œä¸€æ—¦è¯¥åˆ—å€¼æ”¹å˜å°†å¯¼è‡´æ•´ä¸ªè¡¨è®°å½•çš„é¡ºåºçš„è°ƒæ•´ï¼Œä¼šè€—è´¹ç›¸å½“å¤§çš„èµ„æºã€‚è‹¥åº”ç”¨ç³»ç»Ÿéœ€è¦é¢‘ç¹æ›´æ–° clustered ç´¢å¼•æ•°æ®åˆ—ï¼Œé‚£ä¹ˆéœ€è¦è€ƒè™‘æ˜¯å¦åº”å°†è¯¥ç´¢å¼•å»ºä¸º clustered ç´¢å¼•ã€‚ 16 å°½é‡ä½¿ç”¨æ•°å­—å‹å­—æ®µï¼Œè‹¥åªå«æ•°å€¼ä¿¡æ¯çš„å­—æ®µå°½é‡ä¸è¦è®¾è®¡ä¸ºå­—ç¬¦å‹ï¼Œè¿™ä¼šé™ä½æŸ¥è¯¢å’Œè¿æ¥çš„æ€§èƒ½ï¼Œå¹¶ä¼šå¢åŠ å­˜å‚¨å¼€é”€ã€‚è¿™æ˜¯å› ä¸ºå¼•æ“åœ¨å¤„ç†æŸ¥è¯¢å’Œè¿æ¥æ—¶ä¼šé€ä¸ªæ¯”è¾ƒå­—ç¬¦ä¸²ä¸­æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œå¯¹äºæ•°å­—å‹è€Œè¨€åªéœ€è¦æ¯”è¾ƒä¸€æ¬¡å°±å¤Ÿäº†ã€‚ 17 å°½å¯èƒ½çš„ä½¿ç”¨ varchar/nvarchar ä»£æ›¿ char/nchar ï¼Œå› ä¸ºé¦–å…ˆå˜é•¿å­—æ®µå­˜å‚¨ç©ºé—´å°ï¼Œå¯ä»¥èŠ‚çœå­˜å‚¨ç©ºé—´ï¼Œå…¶æ¬¡å¯¹äºæŸ¥è¯¢æ¥è¯´ï¼Œåœ¨ä¸€ä¸ªç›¸å¯¹è¾ƒå°çš„å­—æ®µå†…æœç´¢æ•ˆç‡æ˜¾ç„¶è¦é«˜äº›ã€‚ 18 ä»»ä½•åœ°æ–¹éƒ½ä¸è¦ä½¿ç”¨ select * from t ï¼Œç”¨å…·ä½“çš„å­—æ®µåˆ—è¡¨ä»£æ›¿â€œ*â€ï¼Œä¸è¦è¿”å›ç”¨ä¸åˆ°çš„ä»»ä½•å­—æ®µã€‚ 19 å°½é‡ä½¿ç”¨è¡¨å˜é‡æ¥ä»£æ›¿ä¸´æ—¶è¡¨ã€‚å¦‚æœè¡¨å˜é‡åŒ…å«å¤§é‡æ•°æ®ï¼Œè¯·æ³¨æ„ç´¢å¼•éå¸¸æœ‰é™ï¼ˆåªæœ‰ä¸»é”®ç´¢å¼•ï¼‰ã€‚ 20 é¿å…é¢‘ç¹åˆ›å»ºå’Œåˆ é™¤ä¸´æ—¶è¡¨ï¼Œä»¥å‡å°‘ç³»ç»Ÿè¡¨èµ„æºçš„æ¶ˆè€—ã€‚ 21 ä¸´æ—¶è¡¨å¹¶ä¸æ˜¯ä¸å¯ä½¿ç”¨ï¼Œé€‚å½“åœ°ä½¿ç”¨å®ƒä»¬å¯ä»¥ä½¿æŸäº›ä¾‹ç¨‹æ›´æœ‰æ•ˆï¼Œä¾‹å¦‚ï¼Œå½“éœ€è¦é‡å¤å¼•ç”¨å¤§å‹è¡¨æˆ–å¸¸ç”¨è¡¨ä¸­çš„æŸä¸ªæ•°æ®é›†æ—¶ã€‚ä½†æ˜¯ï¼Œå¯¹äºä¸€æ¬¡æ€§äº‹ä»¶ï¼Œæœ€å¥½ä½¿ç”¨å¯¼å‡ºè¡¨ã€‚ 22 åœ¨æ–°å»ºä¸´æ—¶è¡¨æ—¶ï¼Œå¦‚æœä¸€æ¬¡æ€§æ’å…¥æ•°æ®é‡å¾ˆå¤§ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ select into ä»£æ›¿ create tableï¼Œé¿å…é€ æˆå¤§é‡ log ï¼Œä»¥æé«˜é€Ÿåº¦ï¼›å¦‚æœæ•°æ®é‡ä¸å¤§ï¼Œä¸ºäº†ç¼“å’Œç³»ç»Ÿè¡¨çš„èµ„æºï¼Œåº”å…ˆcreate tableï¼Œç„¶åinsertã€‚ 23 å¦‚æœä½¿ç”¨åˆ°äº†ä¸´æ—¶è¡¨ï¼Œåœ¨å­˜å‚¨è¿‡ç¨‹çš„æœ€ååŠ¡å¿…å°†æ‰€æœ‰çš„ä¸´æ—¶è¡¨æ˜¾å¼åˆ é™¤ï¼Œå…ˆ truncate table ï¼Œç„¶å drop table ï¼Œè¿™æ ·å¯ä»¥é¿å…ç³»ç»Ÿè¡¨çš„è¾ƒé•¿æ—¶é—´é”å®šã€‚ 24 å°½é‡é¿å…ä½¿ç”¨æ¸¸æ ‡ï¼Œå› ä¸ºæ¸¸æ ‡çš„æ•ˆç‡è¾ƒå·®ï¼Œå¦‚æœæ¸¸æ ‡æ“ä½œçš„æ•°æ®è¶…è¿‡1ä¸‡è¡Œï¼Œé‚£ä¹ˆå°±åº”è¯¥è€ƒè™‘æ”¹å†™ã€‚ 25 ä½¿ç”¨åŸºäºæ¸¸æ ‡çš„æ–¹æ³•æˆ–ä¸´æ—¶è¡¨æ–¹æ³•ä¹‹å‰ï¼Œåº”å…ˆå¯»æ‰¾åŸºäºé›†çš„è§£å†³æ–¹æ¡ˆæ¥è§£å†³é—®é¢˜ï¼ŒåŸºäºé›†çš„æ–¹æ³•é€šå¸¸æ›´æœ‰æ•ˆã€‚ 26 ä¸ä¸´æ—¶è¡¨ä¸€æ ·ï¼Œæ¸¸æ ‡å¹¶ä¸æ˜¯ä¸å¯ä½¿ç”¨ã€‚å¯¹å°å‹æ•°æ®é›†ä½¿ç”¨ FAST_FORWARD æ¸¸æ ‡é€šå¸¸è¦ä¼˜äºå…¶ä»–é€è¡Œå¤„ç†æ–¹æ³•ï¼Œå°¤å…¶æ˜¯åœ¨å¿…é¡»å¼•ç”¨å‡ ä¸ªè¡¨æ‰èƒ½è·å¾—æ‰€éœ€çš„æ•°æ®æ—¶ã€‚åœ¨ç»“æœé›†ä¸­åŒ…æ‹¬â€œåˆè®¡â€çš„ä¾‹ç¨‹é€šå¸¸è¦æ¯”ä½¿ç”¨æ¸¸æ ‡æ‰§è¡Œçš„é€Ÿåº¦å¿«ã€‚å¦‚æœå¼€å‘æ—¶é—´å…è®¸ï¼ŒåŸºäºæ¸¸æ ‡çš„æ–¹æ³•å’ŒåŸºäºé›†çš„æ–¹æ³•éƒ½å¯ä»¥å°è¯•ä¸€ä¸‹ï¼Œçœ‹å“ªä¸€ç§æ–¹æ³•çš„æ•ˆæœæ›´å¥½ã€‚ 27 åœ¨æ‰€æœ‰çš„å­˜å‚¨è¿‡ç¨‹å’Œè§¦å‘å™¨çš„å¼€å§‹å¤„è®¾ç½® SET NOCOUNT ON ï¼Œåœ¨ç»“æŸæ—¶è®¾ç½® SET NOCOUNT OFF ã€‚æ— éœ€åœ¨æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹å’Œè§¦å‘å™¨çš„æ¯ä¸ªè¯­å¥åå‘å®¢æˆ·ç«¯å‘é€ DONE_IN_PROC æ¶ˆæ¯ã€‚ 28 å°½é‡é¿å…å‘å®¢æˆ·ç«¯è¿”å›å¤§æ•°æ®é‡ï¼Œè‹¥æ•°æ®é‡è¿‡å¤§ï¼Œåº”è¯¥è€ƒè™‘ç›¸åº”éœ€æ±‚æ˜¯å¦åˆç†ã€‚ 29 å°½é‡é¿å…å¤§äº‹åŠ¡æ“ä½œï¼Œæé«˜ç³»ç»Ÿå¹¶å‘èƒ½åŠ›ã€‚","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://smilecoc.vip/categories/è½¬è½½/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"çˆ¬å–çŒ«çœ¼ç”µå½±--é™æ€ç½‘é¡µåçˆ¬ä¸å¤šçº¿ç¨‹/å¤šè¿›ç¨‹çˆ¬å–","slug":"çŒ«çœ¼top100çˆ¬è™«_å¤šè¿›ç¨‹å¤šçº¿ç¨‹","date":"2020-10-18T11:20:10.000Z","updated":"2020-10-18T10:21:49.865Z","comments":true,"path":"2020/10/18/çŒ«çœ¼top100çˆ¬è™«_å¤šè¿›ç¨‹å¤šçº¿ç¨‹/","link":"","permalink":"http://smilecoc.vip/2020/10/18/çŒ«çœ¼top100çˆ¬è™«_å¤šè¿›ç¨‹å¤šçº¿ç¨‹/","excerpt":"","text":"æœ¬ç¯‡çˆ¬è™«æˆ‘ä»¬å°†çˆ¬å–çŒ«çœ¼ç”µå½±çš„TOP100æ’è¡Œæ¦œå¹¶ä¼˜åŒ–ç¨‹åºï¼Œä½¿ç”¨å¤šçº¿ç¨‹/å¤šè¿›ç¨‹è¿›è¡Œæ•°æ®çˆ¬å–ã€‚å¦‚æœä½ æ˜¯å°ç™½å¯ä»¥å…ˆæŸ¥çœ‹è¾ƒä¸ºåŸºç¡€çš„é™æ€çˆ¬è™«æ–‡ç« ï¼šBilibiliæ¯æ—¥æ’è¡Œæ¦œçˆ¬è™«è¿™ç¯‡æ–‡ç« ä¸­åŒ…å«é™æ€ç½‘é¡µçš„çˆ¬å–ï¼Œåˆ©ç”¨æ­£åˆ™è¿›è¡Œçš„æ•°æ®æå–ï¼Œæ•°æ®çš„å†™å…¥ç­‰ï¼Œä½¿ç”¨çš„æ–¹æ³•ä¹Ÿä¸ºæ¯”è¾ƒåŸºç¡€ ç½‘é¡µè§£æé¦–å…ˆåˆ°çŒ«çœ¼Top100æ¦œå•é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°æ€»å…±æœ‰åé¡µæ•°æ®ï¼Œæ¯é¡µæ•°é‡ä¸º10éƒ¨ç”µå½±ã€‚ç‚¹å‡»ç¬¬äºŒé¡µï¼Œå¯ä»¥çœ‹åˆ°URLä¸ºhttps://maoyan.com/board/4?offset=20ï¼Œåç»­ç‚¹å‡»å…¶ä»–é¡µæ•°ä¹Ÿæœ‰ç›¸åŒçš„è§„å¾‹ï¼ŒåŸºæœ¬å¯ä»¥æ¨æ–­å‡ºoffsetå‚æ•°ä¸ºåç§»é‡ï¼Œåªéœ€è¦æ„é€ URLå¹¶æ”¹å˜åç§»é‡å³å¯ã€‚ ç¡®å®šURLåæˆ‘ä»¬å³é”®æŸ¥çœ‹ç½‘é¡µæºä»£ç ï¼Œå‘ç°æºä»£ç ä¸­å·²åŒ…å«æ‰€æœ‰æˆ‘ä»¬éœ€è¦çš„æ•°æ®ï¼ŒåŸºæœ¬å¯ä»¥ç¡®å®šè¿™æ˜¯ä¸€ä¸ªé™æ€ç½‘é¡µï¼Œå› æ­¤åªéœ€è¦è¯·æ±‚ç½‘é¡µå†…å®¹å¹¶è§£æå³å¯ã€‚ çˆ¬å–ä»£ç è¯·æ±‚ç½‘å€åˆ©ç”¨requestè·å–htmlä¿¡æ¯ï¼Œå¹¶è¿›è¡Œå¼‚å¸¸å¤„ç†. def get_html_text(url, header): try: response = requests.get(url, headers=header, timeout=30) response.encoding = &#39;utf-8&#39; if response.status_code == 200: print(&quot;è¯·æ±‚æˆåŠŸ&quot;) return response.text except requests.exceptions.RequestException: print(&quot;è¯·æ±‚å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæ¡ä»¶æˆ–é‡æ–°è¿è¡Œ&quot;) è§£æHTMLä¹‹åä½¿ç”¨æ­£åˆ™å°†ä¸Šä¸€æ­¥è¿”å›çš„htmlæ–‡æœ¬è¿›è¡Œè§£æå¹¶è¿”å›æå–çš„ç»“æœ def get_info_from_htmltext(html): #ä½¿ç”¨æ­£åˆ™æå–æ•°æ® pattern = re.compile(&#39;.*?board-index.*?&gt;(\\d+)&lt;/i&gt;&#39; + &#39;.*?&lt;p class=&quot;name&quot;&gt;&lt;.*?&gt;(.*?)&lt;/a&gt;&lt;/p&gt;&#39; + &#39;.*?&lt;p class=&quot;star&quot;&gt;(.*?)&lt;/p&gt;&#39; + &#39;.*?&lt;p class=&quot;releasetime&quot;&gt;(.*?)&lt;/p&gt;&#39; + &#39;.*?&lt;p class=&quot;score&quot;&gt;&lt;i class=&quot;integer&quot;&gt;(.*?)&lt;/i&gt;&lt;i class=&quot;fraction&quot;&gt;(.*?)&lt;/i&gt;&lt;/p&gt;&#39;, re.S) infomation = re.findall(pattern, html) for info in infomation: # æ„é€ ç”Ÿæˆå™¨å‡½æ•°,ç”Ÿæˆè¿­ä»£å¯¹è±¡ yield { &#39;æ’å&#39;: info[0], &#39;ç”µå½±åç§°&#39;: info[1], &#39;ä¸»æ¼”&#39;: info[2].strip()[3:],#å»é™¤ç©ºæ ¼ä¸æ¢è¡Œç¬¦ &#39;ä¸Šæ˜ æ—¶é—´&#39;: info[3].strip()[5:], &#39;è¯„åˆ†&#39;: info[4] + info[5] } è¿™ä¸€æ®µä¸­æˆ‘ä»¬ä½¿ç”¨ strip() æ–¹æ³•ç”¨äºç§»é™¤å­—ç¬¦ä¸²å¤´å°¾æŒ‡å®šçš„å­—ç¬¦ï¼ˆé»˜è®¤ä¸ºç©ºæ ¼æˆ–æ¢è¡Œç¬¦ï¼‰æˆ–å­—ç¬¦åºåˆ—ï¼ŒåŒæ—¶ä½¿ç”¨yieldå‡½æ•°åˆ›å»ºä¸€ä¸ªå¯è¿­ä»£çš„å­—å…¸å¯¹è±¡ã€‚å…³äºyieldå‡½æ•°çš„ä½¿ç”¨å¯ä»¥æŸ¥çœ‹è¿™ä¸€ç¯‡æ–‡ç« ï¼šhttp://smilecoc.vip/2020/10/10/python%E4%B8%ADyield%E7%9A%84%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3/ æ•°æ®ä¿å­˜è¿™ä¸€æ­¥éª¤ä¸­å°†ä¸Šä¸€æ­¥éª¤ä¸­çš„è¿”å›çš„æ•°æ®ä¿å­˜åˆ°csvä¸­ def save_data(data): with open(&#39;miaoyan_top_100_film.csv&#39;, &#39;a&#39;, newline=&#39;&#39;, encoding=&#39;utf-8-sig&#39;, errors=&#39;ignore&#39;) as f: csv_file = csv.writer(f) csv_file.writerow([data[&#39;æ’å&#39;], data[&#39;ç”µå½±åç§°&#39;], data[&#39;ä¸»æ¼”&#39;], data[&#39;ä¸Šæ˜ æ—¶é—´&#39;], data[&#39;è¯„åˆ†&#39;]]) ä¸»ç¨‹åºæœ€åå®Œæˆä¸»ç¨‹åºï¼š def main(page): url=&quot;https://maoyan.com/board/4?offset=&quot; + str(page * 10) header = { &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36&quot;, &quot;cookie&quot;: &quot;__mta=217946409.1602755224603.1602820125740.1602820410838.8; uuid_n_v=v1; uuid=37FEFDA00ECB11EBB74D8BF542AFB5B820214EE9447685C70B6F27096D57; _csrf=a69cdd1c13dad15868d1d821fac56d68691a1af9466e3534930fadceea199; Hm_lvt_703e94591e87be68cc8da0da7cbd0be2=1602755166; _lxsdk_cuid=17356de2c8-0c5a381c554641-4353760-100200-17356de2b62c8; _lxsdk=37FEFDA00ECB1EBB74D8BF51EFE42AFB5B820214EE9447685C70B6F27096D57; SL_GWPT_Show_Hide_tmp=1; SL_wptGlobTipTmp=1; Hm_lpvt_703e94591e87be68cc8da0da7cbd0be2=1602820411; _lxsdk_s=1752f852f16-684-f32-ead%7C%7C11&quot; } html=get_html_text(url,header) for one_page_data in get_info_from_htmltext(html): print(one_page_data) save_data(one_page_data) if __name__ == &#39;__main__&#39;: for i in range(10): main(i) è¿™é‡Œæœ‰ä¸€ä¸ªæ³¨æ„çš„åœ°æ–¹ï¼Œå¦‚æœåœ¨headeråªæœ‰User-Agentè¿è¡Œä»£ç ï¼Œè¿”å›äº†200ï¼Œçœ‹ä¼¼å¾ˆæˆåŠŸï¼Œä½†å³å°†å¼•æ¥ç¬¬äºŒä¸ªéšœç¢â€”â€”æˆ‘ä»¬å‘ç°å®ƒè™½ç„¶è¿”å›äº†htmlä¿¡æ¯ï¼Œä½†æ˜¯ä»”ç»†ä¸€çœ‹æœ‰ä¸€ä¸ªå¤§å¤§çš„éªŒè¯ä¸­å¿ƒï¼Œå¹¶ä¸æ˜¯æˆ‘ä»¬éœ€è¦çš„htmlé¡µé¢é’ˆå¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬åŠ ä¸Šè‡ªå·±çš„cookieså°±å¯ä»¥ç ´è§£åæ‰’äº†ã€‚ åŒæ—¶ä¸ºäº†å¢åŠ çˆ¬å–é€Ÿåº¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¤šçº¿ç¨‹æˆ–è€…å¤šè¿›ç¨‹çˆ¬å– å¤šçº¿ç¨‹ä¸å¤šè¿›ç¨‹å…³äºå¤šçº¿ç¨‹ä¸å¤šè¿›ç¨‹çš„æ¦‚å¿µè¯·å‚é˜…ï¼šhttp://smilecoc.vip/2020/10/10/%E5%A4%9A%E8%BF%9B%E7%A8%8B%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84%E6%A6%82%E5%BF%B5/ å¤šè¿›ç¨‹çˆ¬å–Pythonä¸­ä½¿ç”¨å¤šè¿›ç¨‹éœ€è¦multiprocessingï¼Œä»¥åŠæä¾›äº†processã€queueã€pipeã€lockã€poolç­‰ç»„ä»¶ï¼Œè¿™é‡Œä¸»è¦ä½¿ç”¨çš„æ˜¯poolï¼Œå¯ä»¥å«åšè¿›ç¨‹æ± ã€‚ ä½¿ç”¨poolå‰éœ€è¦å…ˆäº†è§£ï¼š pool = Pool(n)ï¼š å»ºç«‹è¿›ç¨‹æ± ï¼Œnå°±æ˜¯ä»£è¡¨äº†å»ºç«‹å‡ ä¸ªè¿›ç¨‹ï¼Œè¿™ä¸ªnçš„è®¾å®šä¸€èˆ¬ä¸cpuçš„æ ¸æ•°ä¸€æ · pool.map(def,list)ï¼šæŠŠåˆ—è¡¨listé‡Œé¢çš„æ¯ä¸€é¡¹æ˜ å°„åˆ°ä½ æ‰€å®šä¹‰çš„defå‡½æ•°å†…ï¼Œæœ‰ç‚¹é€šè¿‡è¿™å¥è¯åšlistå„é¡¹å¾ªç¯çš„æ„å‘³ pool.close()ï¼šå…³é—­è¿›ç¨‹æ± ï¼Œä¸å†æ¥å—æ–°çš„è¿›ç¨‹ pool.join()ï¼šä¸»è¿›ç¨‹é˜»å¡ç­‰å¾…å­è¿›ç¨‹å®‰å…¨é€€å‡ºï¼Œçˆ¶å­è¿›ç¨‹åŒæ­¥å¤šè¿›ç¨‹çˆ¬å–ä»£ç å¦‚ä¸‹ï¼šif __name__ == &#39;__main__&#39;: pool=Pool(4)#æ ¹æ®ç”µè„‘æƒ…å†µè®¾ç½® pool.map(main,(i for i in range(10))) å¤šçº¿ç¨‹çˆ¬å–åŒæ ·å¤šè¿›ç¨‹çˆ¬å–éœ€è¦ç”¨åˆ°threadingæ¨¡å—ã€‚å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹å°±æ˜¯æŠŠä¸€ä¸ªå‡½æ•°ä¼ å…¥å¹¶åˆ›å»ºThreadå®ä¾‹ï¼Œç„¶åè°ƒç”¨start()å¼€å§‹æ‰§è¡Œï¼ŒåŸºæœ¬è¯­æ³•ä¸ºï¼š *threading.Thread(target=ç¨‹åºå,args=(ä¼ å…¥å‚æ•°)): *åˆ›å»ºçº¿ç¨‹ *Thread.run(): * ç”¨ä»¥è¡¨ç¤ºçº¿ç¨‹æ´»åŠ¨çš„æ–¹æ³•ã€‚ *Thread.start(): *å¯åŠ¨çº¿ç¨‹æ´»åŠ¨ã€‚ *Thread.join([time]): * ç­‰å¾…è‡³çº¿ç¨‹ä¸­æ­¢ã€‚è¿™é˜»å¡è°ƒç”¨çº¿ç¨‹ç›´è‡³çº¿ç¨‹çš„join() æ–¹æ³•è¢«è°ƒç”¨ä¸­æ­¢-æ­£å¸¸é€€å‡ºæˆ–è€…æŠ›å‡ºæœªå¤„ç†çš„å¼‚å¸¸-æˆ–è€…æ˜¯å¯é€‰çš„è¶…æ—¶å‘ç”Ÿã€‚ æœ¬ä¾‹ä¸­å®ç°å¤šçº¿ç¨‹éœ€è¦å¯¹ä¸»å‡½æ•°è¿›è¡Œä¿®æ”¹ï¼Œä¸»è¦ä»£ç ä¸ºï¼š #å¤šçº¿ç¨‹ if __name__ == &#39;__main__&#39;: t1 = Thread(target=main, args=(0, 5)) t2 = Thread(target=main, args=(5, 10)) t1.start() t2.start() å¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹ç¼–ç¨‹ï¼Œæ¨¡å‹å¤æ‚ï¼Œå®¹æ˜“å‘ç”Ÿå†²çªã€‚ä¾‹å¦‚åœ¨æœ¬ä¾‹ä¸­ä½¿ç”¨å¤šçº¿ç¨‹ï¼Œå¤šè¿›ç¨‹å†™å…¥æ•°æ®çš„è¯ä¼šé€ æˆä¸€äº›ä¸å¯é¢„çŸ¥çš„é”™è¯¯ï¼Œæ‰€ä»¥å¿…é¡»ç”¨é”åŠ ä»¥éš”ç¦»ï¼ŒåŒæ—¶ï¼Œåˆè¦å°å¿ƒæ­»é”çš„å‘ç”Ÿï¼Œæˆ–è€…éœ€è¦å°†å„ä¸ªçº¿ç¨‹/è¿›ç¨‹çš„æ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­å†å†™å…¥æ‰å¯ä»¥é¿å…é”™è¯¯ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"pythonçˆ¬è™«","slug":"pythonçˆ¬è™«","permalink":"http://smilecoc.vip/tags/pythonçˆ¬è™«/"}],"author":"smilecoc"},{"title":"å¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹çš„æ¦‚å¿µè¯¦è§£","slug":"å¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹çš„æ¦‚å¿µ","date":"2020-10-10T09:38:48.000Z","updated":"2020-10-18T09:39:16.825Z","comments":true,"path":"2020/10/10/å¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹çš„æ¦‚å¿µ/","link":"","permalink":"http://smilecoc.vip/2020/10/10/å¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹çš„æ¦‚å¿µ/","excerpt":"","text":"ä¸€ã€å¤šçº¿ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿè¯´èµ·å¤šçº¿ç¨‹ï¼Œé‚£ä¹ˆå°±ä¸å¾—ä¸è¯´ä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Œè€Œè¯´èµ·çº¿ç¨‹ï¼Œåˆä¸å¾—ä¸è¯´ä»€ä¹ˆæ˜¯è¿›ç¨‹ã€‚ è¿›ç¨‹å¯ä»¥ç®€å•çš„ç†è§£ä¸ºä¸€ä¸ªå¯ä»¥ç‹¬ç«‹è¿è¡Œçš„ç¨‹åºå•ä½ï¼Œå®ƒæ˜¯çº¿ç¨‹çš„é›†åˆï¼Œè¿›ç¨‹å°±æ˜¯æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹æ„æˆçš„ã€‚è€Œçº¿ç¨‹æ˜¯è¿›ç¨‹ä¸­çš„å®é™…è¿è¡Œå•ä½ï¼Œæ˜¯æ“ä½œç³»ç»Ÿè¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•ä½ã€‚å¯ç†è§£ä¸ºçº¿ç¨‹æ˜¯è¿›ç¨‹ä¸­çš„ä¸€ä¸ªæœ€å°è¿è¡Œå•å…ƒã€‚ é‚£ä¹ˆå¤šçº¿ç¨‹å°±å¾ˆå®¹æ˜“ç†è§£ï¼šå¤šçº¿ç¨‹å°±æ˜¯æŒ‡ä¸€ä¸ªè¿›ç¨‹ä¸­åŒæ—¶æœ‰å¤šä¸ªçº¿ç¨‹æ­£åœ¨æ‰§è¡Œã€‚ ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¤šçº¿ç¨‹ï¼Ÿ åœ¨ä¸€ä¸ªç¨‹åºä¸­ï¼Œæœ‰å¾ˆå¤šçš„æ“ä½œæ˜¯éå¸¸è€—æ—¶çš„ï¼Œå¦‚æ•°æ®åº“è¯»å†™æ“ä½œï¼ŒIOæ“ä½œç­‰ï¼Œå¦‚æœä½¿ç”¨å•çº¿ç¨‹ï¼Œé‚£ä¹ˆç¨‹åºå°±å¿…é¡»ç­‰å¾…è¿™äº›æ“ä½œæ‰§è¡Œå®Œæˆä¹‹åæ‰èƒ½æ‰§è¡Œå…¶ä»–æ“ä½œã€‚ä½¿ç”¨å¤šçº¿ç¨‹ï¼Œå¯ä»¥åœ¨å°†è€—æ—¶ä»»åŠ¡æ”¾åœ¨åå°ç»§ç»­æ‰§è¡Œçš„åŒæ—¶ï¼ŒåŒæ—¶æ‰§è¡Œå…¶ä»–æ“ä½œã€‚å¯ä»¥æé«˜ç¨‹åºçš„æ•ˆç‡ã€‚åœ¨ä¸€äº›ç­‰å¾…çš„ä»»åŠ¡ä¸Šï¼Œå¦‚ç”¨æˆ·è¾“å…¥ï¼Œæ–‡ä»¶è¯»å–ç­‰ï¼Œå¤šçº¿ç¨‹å°±éå¸¸æœ‰ç”¨äº†ã€‚ å¤šçº¿ç¨‹çš„ç¼ºç‚¹ï¼š ä½¿ç”¨å¤ªå¤šçº¿ç¨‹ï¼Œæ˜¯å¾ˆè€—ç³»ç»Ÿèµ„æºï¼Œå› ä¸ºçº¿ç¨‹éœ€è¦å¼€è¾Ÿå†…å­˜ã€‚æ›´å¤šçº¿ç¨‹éœ€è¦æ›´å¤šå†…å­˜ã€‚å½±å“ç³»ç»Ÿæ€§èƒ½ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿéœ€è¦åœ¨çº¿ç¨‹ä¹‹é—´æ¥å›åˆ‡æ¢ã€‚éœ€è¦è€ƒè™‘çº¿ç¨‹æ“ä½œå¯¹ç¨‹åºçš„å½±å“ï¼Œå¦‚çº¿ç¨‹æŒ‚èµ·ï¼Œä¸­æ­¢ç­‰æ“ä½œå¯¹ç¨‹åºçš„å½±å“ã€‚çº¿ç¨‹ä½¿ç”¨ä¸å½“ä¼šå‘ç”Ÿå¾ˆå¤šé—®é¢˜ã€‚ æ€»ç»“ï¼šå¤šçº¿ç¨‹æ˜¯å¼‚æ­¥çš„ï¼Œä½†è¿™ä¸ä»£è¡¨å¤šçº¿ç¨‹çœŸçš„æ˜¯å‡ ä¸ªçº¿ç¨‹æ˜¯åœ¨åŒæ—¶è¿›è¡Œï¼Œå®é™…ä¸Šæ˜¯ç³»ç»Ÿä¸æ–­åœ°åœ¨å„ä¸ªçº¿ç¨‹ä¹‹é—´æ¥å›çš„åˆ‡æ¢ï¼ˆå› ä¸ºç³»ç»Ÿåˆ‡æ¢çš„é€Ÿåº¦éå¸¸çš„å¿«ï¼Œæ‰€ä»¥ç»™æˆ‘ä»¬åœ¨åŒæ—¶è¿è¡Œçš„é”™è§‰ï¼‰ã€‚ äºŒã€å¤šè¿›ç¨‹æ˜¯ä»€ä¹ˆï¼Ÿè¿›ç¨‹æ˜¯ç¨‹åºåœ¨è®¡ç®—æœºä¸Šçš„ä¸€æ¬¡æ‰§è¡Œæ´»åŠ¨ã€‚å½“ä½ è¿è¡Œä¸€ä¸ªç¨‹åºï¼Œä½ å°±å¯åŠ¨äº†ä¸€ä¸ªè¿›ç¨‹ã€‚å‡¡æ˜¯ç”¨äºå®Œæˆæ“ä½œç³»ç»Ÿçš„å„ç§åŠŸèƒ½çš„è¿›ç¨‹å°±æ˜¯ç³»ç»Ÿè¿›ç¨‹ï¼Œè€Œæ‰€æœ‰ç”±ä½ å¯åŠ¨çš„è¿›ç¨‹éƒ½æ˜¯ç”¨æˆ·è¿›ç¨‹ã€‚åŒç†ï¼Œå¤šè¿›ç¨‹å°±æ˜¯æŒ‡è®¡ç®—æœºåŒæ—¶æ‰§è¡Œå¤šä¸ªè¿›ç¨‹ï¼Œä¸€èˆ¬æ˜¯åŒæ—¶è¿è¡Œå¤šä¸ªè½¯ä»¶ã€‚ ä¸‰ã€å¤šçº¿ç¨‹ä¸å¤šè¿›ç¨‹ï¼Œé€‰æ‹©è°ï¼Ÿä¸‹é¢æ˜¯æœ¬äººä»çŸ¥ä¹-panszä¸Šè½¬è½½çš„ä¸€ä¸ªç­”æ¡ˆï¼Œéå¸¸é€šä¿—åœ°å›ç­”äº†è¿™ä¸ªé—®é¢˜ã€‚ å•è¿›ç¨‹å•çº¿ç¨‹ï¼šä¸€ä¸ªäººåœ¨ä¸€ä¸ªæ¡Œå­ä¸Šåƒèœã€‚å•è¿›ç¨‹å¤šçº¿ç¨‹ï¼šå¤šä¸ªäººåœ¨åŒä¸€ä¸ªæ¡Œå­ä¸Šä¸€èµ·åƒèœã€‚å¤šè¿›ç¨‹å•çº¿ç¨‹ï¼šå¤šä¸ªäººæ¯ä¸ªäººåœ¨è‡ªå·±çš„æ¡Œå­ä¸Šåƒèœã€‚ å¤šçº¿ç¨‹çš„é—®é¢˜æ˜¯å¤šä¸ªäººåŒæ—¶åƒä¸€é“èœçš„æ—¶å€™å®¹æ˜“å‘ç”Ÿäº‰æŠ¢ï¼Œä¾‹å¦‚ä¸¤ä¸ªäººåŒæ—¶å¤¹ä¸€ä¸ªèœï¼Œä¸€ä¸ªäººåˆšä¼¸å‡ºç­·å­ï¼Œç»“æœä¼¸åˆ°çš„æ—¶å€™å·²ç»è¢«å¤¹èµ°èœäº†ã€‚ã€‚ã€‚æ­¤æ—¶å°±å¿…é¡»ç­‰ä¸€ä¸ªäººå¤¹ä¸€å£ä¹‹åï¼Œåœ¨è¿˜ç»™å¦å¤–ä¸€ä¸ªäººå¤¹èœï¼Œä¹Ÿå°±æ˜¯è¯´èµ„æºå…±äº«å°±ä¼šå‘ç”Ÿå†²çªäº‰æŠ¢ã€‚ 1.å¯¹äº Windows ç³»ç»Ÿæ¥è¯´ï¼Œã€å¼€æ¡Œå­ã€‘çš„å¼€é”€å¾ˆå¤§ï¼Œå› æ­¤ Windows é¼“åŠ±å¤§å®¶åœ¨ä¸€ä¸ªæ¡Œå­ä¸Šåƒèœã€‚å› æ­¤ Windows å¤šçº¿ç¨‹å­¦ä¹ é‡ç‚¹æ˜¯è¦å¤§é‡é¢å¯¹èµ„æºäº‰æŠ¢ä¸åŒæ­¥æ–¹é¢çš„é—®é¢˜ã€‚ 2.å¯¹äº Linux ç³»ç»Ÿæ¥è¯´ï¼Œã€å¼€æ¡Œå­ã€‘çš„å¼€é”€å¾ˆå°ï¼Œå› æ­¤ Linux é¼“åŠ±å¤§å®¶å°½é‡æ¯ä¸ªäººéƒ½å¼€è‡ªå·±çš„æ¡Œå­åƒèœã€‚è¿™å¸¦æ¥æ–°çš„é—®é¢˜æ˜¯ï¼šååœ¨ä¸¤å¼ ä¸åŒçš„æ¡Œå­ä¸Šï¼Œè¯´è¯ä¸æ–¹ä¾¿ã€‚å› æ­¤ï¼ŒLinux ä¸‹çš„å­¦ä¹ é‡ç‚¹å¤§å®¶è¦å­¦ä¹ è¿›ç¨‹é—´é€šè®¯çš„æ–¹æ³•ã€‚ å¼€æ¡Œå­çš„æ„æ€æ˜¯æŒ‡åˆ›å»ºè¿›ç¨‹ã€‚å¼€é”€è¿™é‡Œä¸»è¦æŒ‡çš„æ˜¯æ—¶é—´å¼€é”€ã€‚ å¯ä»¥åšä¸ªå®éªŒï¼šåˆ›å»ºä¸€ä¸ªè¿›ç¨‹ï¼Œåœ¨è¿›ç¨‹ä¸­å¾€å†…å­˜å†™è‹¥å¹²æ•°æ®ï¼Œç„¶åè¯»å‡ºè¯¥æ•°æ®ï¼Œç„¶åé€€å‡ºã€‚æ­¤è¿‡ç¨‹é‡å¤ 1000 æ¬¡ï¼Œç›¸å½“äºåˆ›å»º/é”€æ¯è¿›ç¨‹ 1000 æ¬¡ã€‚åœ¨æˆ‘æœºå™¨ä¸Šçš„æµ‹è¯•ç»“æœæ˜¯ï¼šUbuntuLinuxï¼šè€—æ—¶ 0.8 ç§’ Windows7ï¼šè€—æ—¶ 79.8 ç§’ ä¸¤è€…å¼€é”€å¤§çº¦ç›¸å·®ä¸€ç™¾å€ã€‚è¿™æ„å‘³ç€ï¼Œåœ¨ Windows ä¸­ï¼Œè¿›ç¨‹åˆ›å»ºçš„å¼€é”€ä¸å®¹å¿½è§†ã€‚æ¢å¥è¯è¯´å°±æ˜¯ï¼ŒWindows ç¼–ç¨‹ä¸­ä¸å»ºè®®ä½ åˆ›å»ºè¿›ç¨‹ï¼Œå¦‚æœä½ çš„ç¨‹åºæ¶æ„éœ€è¦å¤§é‡åˆ›å»ºè¿›ç¨‹ï¼Œé‚£ä¹ˆæœ€å¥½æ˜¯åˆ‡æ¢åˆ° Linux ç³»ç»Ÿã€‚ å¤§é‡åˆ›å»ºè¿›ç¨‹çš„å…¸å‹ä¾‹å­æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯ gnu autotools å·¥å…·é“¾ï¼Œç”¨äºç¼–è¯‘å¾ˆå¤šå¼€æºä»£ç çš„ï¼Œä»–ä»¬åœ¨ Windows ä¸‹ç¼–è¯‘é€Ÿåº¦ä¼šå¾ˆæ…¢ï¼Œå› æ­¤è½¯ä»¶å¼€å‘äººå‘˜æœ€å¥½æ˜¯é¿å…ä½¿ç”¨ Windowsã€‚å¦ä¸€ä¸ªæ˜¯æœåŠ¡å™¨ï¼ŒæŸäº›æœåŠ¡å™¨æ¡†æ¶ä¾é å¤§é‡åˆ›å»ºè¿›ç¨‹æ¥å¹²æ´»ï¼Œç”šè‡³æ˜¯å¯¹æ¯ä¸ªç”¨æˆ·è¯·æ±‚å°±åˆ›å»ºä¸€ä¸ªè¿›ç¨‹ï¼Œè¿™äº›æœåŠ¡å™¨åœ¨ Windows ä¸‹è¿è¡Œçš„æ•ˆç‡å°±ä¼šå¾ˆå·®ã€‚è¿™â€å¯èƒ½â€ä¹Ÿæ˜¯æ”¾çœ¼å…¨ä¸–ç•ŒèŒƒå›´ï¼ŒLinux æœåŠ¡å™¨è¿œè¿œå¤šäº Windows æœåŠ¡å™¨çš„åŸå› ã€‚ å†æ¬¡è¡¥å……ï¼šå¦‚æœä½ æ˜¯å†™æœåŠ¡å™¨ç«¯åº”ç”¨çš„ï¼Œå…¶å®åœ¨ç°åœ¨çš„ç½‘ç»œæœåŠ¡æ¨¡å‹ä¸‹ï¼Œå¼€æ¡Œå­çš„å¼€é”€æ˜¯å¯ä»¥å¿½ç•¥ä¸è®¡çš„ï¼Œå› ä¸ºç°åœ¨ä¸€èˆ¬æµè¡Œçš„æ˜¯æŒ‰ç…§ CPU æ ¸å¿ƒæ•°é‡å¼€è¿›ç¨‹æˆ–è€…çº¿ç¨‹ï¼Œå¼€å®Œä¹‹ååœ¨æ•°é‡ä¸Šä¸€ç›´ä¿æŒï¼Œè¿›ç¨‹ä¸çº¿ç¨‹å†…éƒ¨ä½¿ç”¨åç¨‹æˆ–è€…å¼‚æ­¥é€šä¿¡æ¥å¤„ç†å¤šä¸ªå¹¶å‘è¿æ¥ï¼Œå› è€Œå¼€è¿›ç¨‹ä¸å¼€çº¿ç¨‹çš„å¼€é”€å¯ä»¥å¿½ç•¥äº†ã€‚ å¦å¤–ä¸€ç§æ–°çš„å¼€é”€è¢«æä¸Šæ—¥ç¨‹ï¼šæ ¸å¿ƒåˆ‡æ¢å¼€é”€ã€‚ ç°ä»£çš„ä½“ç³»ï¼Œä¸€èˆ¬ CPU ä¼šæœ‰å¤šä¸ªæ ¸å¿ƒï¼Œè€Œå¤šä¸ªæ ¸å¿ƒå¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªä¸åŒçš„çº¿ç¨‹æˆ–è€…è¿›ç¨‹ã€‚å½“æ¯ä¸ª CPU æ ¸å¿ƒè¿è¡Œä¸€ä¸ªè¿›ç¨‹çš„æ—¶å€™ï¼Œç”±äºæ¯ä¸ªè¿›ç¨‹çš„èµ„æºéƒ½ç‹¬ç«‹ï¼Œæ‰€ä»¥ CPU æ ¸å¿ƒä¹‹é—´åˆ‡æ¢çš„æ—¶å€™æ— éœ€è€ƒè™‘ä¸Šä¸‹æ–‡ã€‚ å½“æ¯ä¸ª CPU æ ¸å¿ƒè¿è¡Œä¸€ä¸ªçº¿ç¨‹çš„æ—¶å€™ï¼Œç”±äºæ¯ä¸ªçº¿ç¨‹éœ€è¦å…±äº«èµ„æºï¼Œæ‰€ä»¥è¿™äº›èµ„æºå¿…é¡»ä» CPU çš„ä¸€ä¸ªæ ¸å¿ƒè¢«å¤åˆ¶åˆ°å¦å¤–ä¸€ä¸ªæ ¸å¿ƒï¼Œæ‰èƒ½ç»§ç»­è¿ç®—ï¼Œè¿™å ç”¨äº†é¢å¤–çš„å¼€é”€ã€‚æ¢å¥è¯è¯´ï¼Œåœ¨ CPU ä¸ºå¤šæ ¸çš„æƒ…å†µä¸‹ï¼Œå¤šçº¿ç¨‹åœ¨æ€§èƒ½ä¸Šä¸å¦‚å¤šè¿›ç¨‹ã€‚å› è€Œï¼Œå½“å‰é¢å‘å¤šæ ¸çš„æœåŠ¡å™¨ç«¯ç¼–ç¨‹ä¸­ï¼Œéœ€è¦ä¹ æƒ¯å¤šè¿›ç¨‹è€Œéå¤šçº¿ç¨‹ã€‚ å››ã€å¹¶è¡Œã€å¹¶å‘ã€é«˜å¹¶å‘ç­‰æ¦‚å¿µå¹¶è¡Œï¼šå¤šä¸ªCPUå®ä¾‹æˆ–å¤šå°æœºå™¨åŒæ—¶æ‰§è¡Œä¸€æ®µå¤„ç†é€»è¾‘ï¼Œæ˜¯çœŸæ­£çš„åŒæ—¶ã€‚ å¹¶å‘ï¼šé€šè¿‡CPUè°ƒåº¦ç®—æ³•ï¼Œè®©ç”¨æˆ·çœ‹ä¸Šå»åŒæ—¶æ‰§è¡Œï¼Œå®é™…ä¸ŠCPUæ“ä½œå±‚é¢ä¸æ˜¯çœŸæ­£çš„åŒæ—¶ã€‚ å¹¶å‘æ—¶å¦‚æœæ“ä½œäº†å…¬ç”¨èµ„æºï¼Œå¯èƒ½äº§ç”Ÿçº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚ çº¿ç¨‹å®‰å…¨ï¼šå¤šä¸ªçº¿ç¨‹æ“ä½œå…¬ç”¨èµ„æºï¼Œæœ‰å¯èƒ½äº§ç”Ÿå®‰å…¨é—®é¢˜ã€‚ é«˜å¹¶å‘ï¼šé«˜å¹¶å‘æŒ‡çš„æ˜¯æ˜¯ä¸€ç§ç³»ç»Ÿè¿è¡Œè¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€ç§â€œçŸ­æ—¶é—´å†…é‡åˆ°å¤§é‡æ“ä½œè¯·æ±‚â€çš„æƒ…å†µï¼Œä¸»è¦å‘ç”Ÿåœ¨webç³»ç»Ÿé›†ä¸­å¤§é‡è®¿é—®æˆ–è€…socketç«¯å£é›†ä¸­æ€§æ”¶åˆ°å¤§é‡è¯·æ±‚ï¼ˆä¾‹å¦‚ï¼š12306çš„æŠ¢ç¥¨æƒ…å†µï¼›å¤©çŒ«åŒåä¸€æ´»åŠ¨ï¼‰ã€‚è¯¥æƒ…å†µçš„å‘ç”Ÿä¼šå¯¼è‡´ç³»ç»Ÿåœ¨è¿™æ®µæ—¶é—´å†…æ‰§è¡Œå¤§é‡æ“ä½œï¼Œä¾‹å¦‚å¯¹èµ„æºçš„è¯·æ±‚ï¼Œæ•°æ®åº“çš„æ“ä½œç­‰ã€‚å¦‚æœé«˜å¹¶å‘å¤„ç†ä¸å¥½ï¼Œä¸ä»…ä»…é™ä½äº†ç”¨æˆ·çš„ä½“éªŒåº¦ï¼ˆè¯·æ±‚å“åº”æ—¶é—´è¿‡é•¿ï¼‰ï¼ŒåŒæ—¶å¯èƒ½å¯¼è‡´ç³»ç»Ÿå®•æœºï¼Œä¸¥é‡çš„ç”šè‡³å¯¼è‡´OOMå¼‚å¸¸ï¼Œç³»ç»Ÿåœæ­¢å·¥ä½œç­‰ã€‚å¦‚æœè¦æƒ³ç³»ç»Ÿèƒ½å¤Ÿé€‚åº”é«˜å¹¶å‘çŠ¶æ€ï¼Œåˆ™éœ€è¦ä»å„ä¸ªæ–¹é¢è¿›è¡Œç³»ç»Ÿä¼˜åŒ–ï¼ŒåŒ…æ‹¬ï¼Œç¡¬ä»¶ã€ç½‘ç»œã€ç³»ç»Ÿæ¶æ„ã€å¼€å‘è¯­è¨€çš„é€‰å–ã€æ•°æ®ç»“æ„çš„è¿ç”¨ã€ç®—æ³•ä¼˜åŒ–ã€æ•°æ®åº“ä¼˜åŒ–â€¦â€¦ã€‚ å¤šçº¿ç¨‹ä¸é«˜å¹¶å‘çš„è”ç³» å¤šçº¿ç¨‹åªæ˜¯åœ¨åŒ/å¼‚æ­¥è§’åº¦ä¸Šè§£å†³é«˜å¹¶å‘é—®é¢˜çš„å…¶ä¸­çš„ä¸€ä¸ªæ–¹æ³•æ‰‹æ®µï¼Œæ˜¯åœ¨åŒä¸€æ—¶åˆ»åˆ©ç”¨è®¡ç®—æœºé—²ç½®èµ„æºçš„ä¸€ç§æ–¹å¼ã€‚ å¤šçº¿ç¨‹åœ¨é«˜å¹¶å‘é—®é¢˜ä¸­çš„ä½œç”¨å°±æ˜¯å……åˆ†åˆ©ç”¨è®¡ç®—æœºèµ„æºï¼Œä½¿è®¡ç®—æœºçš„èµ„æºåœ¨æ¯ä¸€æ—¶åˆ»éƒ½èƒ½è¾¾åˆ°æœ€å¤§çš„åˆ©ç”¨ç‡ï¼Œä¸è‡³äºæµªè´¹è®¡ç®—æœºèµ„æºä½¿å…¶é—²ç½®ã€‚","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://smilecoc.vip/categories/è½¬è½½/"}],"tags":[{"name":"pythonå…¶ä»–","slug":"pythonå…¶ä»–","permalink":"http://smilecoc.vip/tags/pythonå…¶ä»–/"}],"author":"smilecoc"},{"title":"pythonä¸­yieldçš„ç”¨æ³•è¯¦è§£","slug":"pythonä¸­yieldçš„ç”¨æ³•è¯¦è§£","date":"2020-10-10T09:28:33.000Z","updated":"2020-10-18T09:28:48.804Z","comments":true,"path":"2020/10/10/pythonä¸­yieldçš„ç”¨æ³•è¯¦è§£/","link":"","permalink":"http://smilecoc.vip/2020/10/10/pythonä¸­yieldçš„ç”¨æ³•è¯¦è§£/","excerpt":"","text":"1.yieldçš„åˆæ­¥è®¤è¯†é¦–å…ˆï¼Œå¦‚æœä½ è¿˜æ²¡æœ‰å¯¹yieldæœ‰ä¸ªåˆæ­¥åˆ†è®¤è¯†ï¼Œé‚£ä¹ˆä½ å…ˆæŠŠyieldçœ‹åšreturnï¼Œè¿™ä¸ªæ˜¯ç›´è§‚çš„ï¼Œå®ƒé¦–å…ˆæ˜¯ä¸ªreturnï¼Œæ™®é€šçš„returnæ˜¯ä»€ä¹ˆæ„æ€ï¼Œå°±æ˜¯åœ¨ç¨‹åºä¸­è¿”å›æŸä¸ªå€¼ï¼Œè¿”å›ä¹‹åç¨‹åºå°±ä¸å†å¾€ä¸‹è¿è¡Œäº†ã€‚è€Œyieldä¹Ÿä¼šåœ¨ç¨‹åºä¸­è¿”å›ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ 2.ä»€ä¹ˆæ˜¯å¯è¿­ä»£å¯¹è±¡å‘¢ï¼Ÿé€šå¸¸çš„forâ€¦inâ€¦å¾ªç¯ä¸­ï¼Œinåé¢æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„å°±æ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œç±»ä¼¼çš„è¿˜æœ‰é“¾è¡¨ï¼Œå­—ç¬¦ä¸²ï¼Œæ–‡ä»¶ã€‚ åŒæ—¶yield å‡½æ•°è¿­ä»£ä¸€æ¬¡é‡åˆ°yieldæ—¶å°±è¿”å›yieldåé¢(å³è¾¹)çš„å€¼ã€‚é‡ç‚¹æ˜¯ï¼šä¸‹ä¸€æ¬¡è¿­ä»£æ—¶ï¼Œä»ä¸Šä¸€æ¬¡è¿­ä»£é‡åˆ°çš„yieldåé¢çš„ä»£ç (ä¸‹ä¸€è¡Œ)å¼€å§‹æ‰§è¡Œã€‚ç®€è¦ç†è§£å°±æ˜¯ï¼šyieldå°±æ˜¯ return è¿”å›ä¸€ä¸ªå€¼ï¼Œå¹¶ä¸”è®°ä½è¿™ä¸ªè¿”å›çš„ä½ç½®ï¼Œä¸‹æ¬¡è¿­ä»£å°±ä»è¿™ä¸ªä½ç½®å(ä¸‹ä¸€è¡Œ)å¼€å§‹ã€‚è€Œæ— éœ€æˆ‘ä»¬å†å†™forâ€¦inâ€¦è¿™ç§å¾ªç¯ 3.é‚£ä½¿ç”¨yieldæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿä¾‹å¦‚æˆ‘ä»¬åœ¨ä½¿ç”¨for x in [1, 2, 3] è¿™ç§å¾ªç¯æˆ–è€…mylist = [x*x for x in range(3)]ã€‚å®ƒçš„ç¼ºé™·æ˜¯æ‰€æœ‰æ•°æ®éƒ½åœ¨å†…å­˜ä¸­ï¼Œå¦‚æœæœ‰æµ·é‡æ•°æ®çš„è¯å°†ä¼šéå¸¸è€—å†…å­˜ã€‚è€Œyieldæ˜¯ä½¿ç”¨æ—¶æ‰ä¼šå°†è¿™ä¸€æ¬¡è¿­ä»£çš„æ•°æ®æ”¾å…¥å†…å­˜ä¸­ï¼Œæé«˜æ•ˆç‡å¹¶å‡å°‘å¯¹è®¾å¤‡çš„è¦æ±‚ åŒæ—¶æŠŠä¸€ä¸ªå‡½æ•°æ”¹å†™ä¸ºä¸€ä¸ª generator å°±è·å¾—äº†è¿­ä»£èƒ½åŠ›ï¼Œæ¯”èµ·ç”¨ç±»çš„å®ä¾‹ä¿å­˜çŠ¶æ€æ¥è®¡ç®—ä¸‹ä¸€ä¸ª next() çš„å€¼ï¼Œä¸ä»…ä»£ç ç®€æ´ï¼Œè€Œä¸”æ‰§è¡Œæµç¨‹å¼‚å¸¸æ¸…æ™°ã€‚ å¸¦æœ‰yieldçš„å‡½æ•°ä¸ä»…ä»…åªç”¨äºforå¾ªç¯ä¸­ï¼Œè€Œä¸”å¯ç”¨äºæŸä¸ªå‡½æ•°çš„å‚æ•°ï¼Œåªè¦è¿™ä¸ªå‡½æ•°çš„å‚æ•°å…è®¸è¿­ä»£å‚æ•°ã€‚æ¯”å¦‚array.extendå‡½æ•°ï¼Œå®ƒçš„åŸå‹æ˜¯array.extend(iterable)ã€‚ ç„¶åç›´æ¥çœ‹ä¸‹é¢çš„ç¨‹åºï¼ˆç¨‹åºéƒ¨åˆ†åŸæ–‡ç« ï¼šhttps://blog.csdn.net/mieleizhi0522/article/details/82142856ï¼‰ï¼Œä½ å°±ä¼šæ˜ç™½yieldçš„å…¨éƒ¨æ„æ€äº†ï¼šåŒæ—¶ä½ ä¹Ÿå¯ä»¥å‚è€ƒè¿™ä¸€ä¸ªä¾‹å­ï¼šhttps://www.liaoxuefeng.com/article/895920356978720ä»¥åŠ æ·±ç†è§£ def foo(): print(&quot;starting...&quot;) while True: res = yield 4 print(&quot;res:&quot;,res) g = foo() print(next(g)) print(&quot;*&quot;*20) print(next(g)) å°±è¿™ä¹ˆç®€å•çš„å‡ è¡Œä»£ç å°±è®©ä½ æ˜ç™½ä»€ä¹ˆæ˜¯yieldï¼Œä»£ç çš„è¾“å‡ºè¿™ä¸ªï¼š starting... 4 ******************** res: None 4æˆ‘ç›´æ¥è§£é‡Šä»£ç è¿è¡Œé¡ºåºï¼Œç›¸å½“äºä»£ç å•æ­¥è°ƒè¯•ï¼š 1.ç¨‹åºå¼€å§‹æ‰§è¡Œä»¥åï¼Œå› ä¸ºfooå‡½æ•°ä¸­æœ‰yieldå…³é”®å­—ï¼Œæ‰€ä»¥fooå‡½æ•°å¹¶ä¸ä¼šçœŸçš„æ‰§è¡Œï¼Œè€Œæ˜¯å…ˆå¾—åˆ°ä¸€ä¸ªç”Ÿæˆå™¨g(ç›¸å½“äºä¸€ä¸ªå¯¹è±¡) 2.ç›´åˆ°è°ƒç”¨nextæ–¹æ³•ï¼Œfooå‡½æ•°æ­£å¼å¼€å§‹æ‰§è¡Œï¼Œå…ˆæ‰§è¡Œfooå‡½æ•°ä¸­çš„printæ–¹æ³•ï¼Œç„¶åè¿›å…¥whileå¾ªç¯ 3.ç¨‹åºé‡åˆ°yieldå…³é”®å­—ï¼Œç„¶åæŠŠyieldæƒ³æƒ³æˆreturn,returnäº†ä¸€ä¸ª4ä¹‹åï¼Œç¨‹åºåœæ­¢ï¼Œå¹¶æ²¡æœ‰æ‰§è¡Œèµ‹å€¼ç»™resæ“ä½œï¼Œæ­¤æ—¶next(g)è¯­å¥æ‰§è¡Œå®Œæˆï¼Œæ‰€ä»¥è¾“å‡ºçš„å‰ä¸¤è¡Œï¼ˆç¬¬ä¸€ä¸ªæ˜¯whileä¸Šé¢çš„printçš„ç»“æœ,ç¬¬äºŒä¸ªæ˜¯returnå‡ºçš„ç»“æœï¼‰æ˜¯æ‰§è¡Œprint(next(g))çš„ç»“æœï¼Œ 4.ç¨‹åºæ‰§è¡Œprint(â€œâ€œ20)ï¼Œè¾“å‡º20ä¸ª* 5.åˆå¼€å§‹æ‰§è¡Œä¸‹é¢çš„print(next(g)),è¿™ä¸ªæ—¶å€™å’Œä¸Šé¢é‚£ä¸ªå·®ä¸å¤šï¼Œä¸è¿‡ä¸åŒçš„æ˜¯ï¼Œè¿™ä¸ªæ—¶å€™æ˜¯ä»åˆšæ‰é‚£ä¸ªnextç¨‹åºåœæ­¢çš„åœ°æ–¹å¼€å§‹æ‰§è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯è¦æ‰§è¡Œresçš„èµ‹å€¼æ“ä½œï¼Œè¿™æ—¶å€™è¦æ³¨æ„ï¼Œè¿™ä¸ªæ—¶å€™èµ‹å€¼æ“ä½œçš„å³è¾¹æ˜¯æ²¡æœ‰å€¼çš„ï¼ˆå› ä¸ºåˆšæ‰é‚£ä¸ªæ˜¯returnå‡ºå»äº†ï¼Œå¹¶æ²¡æœ‰ç»™èµ‹å€¼æ“ä½œçš„å·¦è¾¹ä¼ å‚æ•°ï¼‰ï¼Œæ‰€ä»¥è¿™ä¸ªæ—¶å€™resèµ‹å€¼æ˜¯None,æ‰€ä»¥æ¥ç€ä¸‹é¢çš„è¾“å‡ºå°±æ˜¯res:None, 6.ç¨‹åºä¼šç»§ç»­åœ¨whileé‡Œæ‰§è¡Œï¼Œåˆä¸€æ¬¡ç¢°åˆ°yield,è¿™ä¸ªæ—¶å€™åŒæ ·return å‡º4ï¼Œç„¶åç¨‹åºåœæ­¢ï¼Œprintå‡½æ•°è¾“å‡ºçš„4å°±æ˜¯è¿™æ¬¡returnå‡ºçš„4. åˆ°è¿™é‡Œä½ å¯èƒ½å°±æ˜ç™½yieldå’Œreturnçš„å…³ç³»å’ŒåŒºåˆ«äº†ï¼Œå¸¦yieldçš„å‡½æ•°æ˜¯ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå‡½æ•°äº†ï¼Œè¿™ä¸ªç”Ÿæˆå™¨æœ‰ä¸€ä¸ªå‡½æ•°å°±æ˜¯nextå‡½æ•°ï¼Œnextå°±ç›¸å½“äºâ€œä¸‹ä¸€æ­¥â€ç”Ÿæˆå“ªä¸ªæ•°ï¼Œè¿™ä¸€æ¬¡çš„nextå¼€å§‹çš„åœ°æ–¹æ˜¯æ¥ç€ä¸Šä¸€æ¬¡çš„nextåœæ­¢çš„åœ°æ–¹æ‰§è¡Œçš„ï¼Œæ‰€ä»¥è°ƒç”¨nextçš„æ—¶å€™ï¼Œç”Ÿæˆå™¨å¹¶ä¸ä¼šä»fooå‡½æ•°çš„å¼€å§‹æ‰§è¡Œï¼Œåªæ˜¯æ¥ç€ä¸Šä¸€æ­¥åœæ­¢çš„åœ°æ–¹å¼€å§‹ï¼Œç„¶åé‡åˆ°yieldåï¼Œreturnå‡ºè¦ç”Ÿæˆçš„æ•°ï¼Œæ­¤æ­¥å°±ç»“æŸã€‚ å†çœ‹ä¸€ä¸ªè¿™ä¸ªç”Ÿæˆå™¨çš„sendå‡½æ•°çš„ä¾‹å­ï¼Œè¿™ä¸ªä¾‹å­å°±æŠŠä¸Šé¢é‚£ä¸ªä¾‹å­çš„æœ€åä¸€è¡Œæ¢æ‰äº†ï¼Œè¾“å‡ºç»“æœï¼š def foo(): print(&quot;starting...&quot;) while True: res = yield 4 print(&quot;res:&quot;,res) g = foo() print(next(g)) print(&quot;*&quot;*20) print(g.send(7)) starting... 4 ******************** res: 7 4å…ˆå¤§è‡´è¯´ä¸€ä¸‹sendå‡½æ•°çš„æ¦‚å¿µï¼šæ­¤æ—¶ä½ åº”è¯¥æ³¨æ„åˆ°ä¸Šé¢é‚£ä¸ªçš„ç´«è‰²çš„å­—ï¼Œè¿˜æœ‰ä¸Šé¢é‚£ä¸ªresçš„å€¼ä¸ºä»€ä¹ˆæ˜¯Noneï¼Œè¿™ä¸ªå˜æˆäº†7ï¼Œåˆ°åº•ä¸ºä»€ä¹ˆï¼Œè¿™æ˜¯å› ä¸ºï¼Œsendæ˜¯å‘é€ä¸€ä¸ªå‚æ•°ç»™resçš„ï¼Œå› ä¸ºä¸Šé¢è®²åˆ°ï¼Œreturnçš„æ—¶å€™ï¼Œå¹¶æ²¡æœ‰æŠŠ4èµ‹å€¼ç»™resï¼Œä¸‹æ¬¡æ‰§è¡Œçš„æ—¶å€™åªå¥½ç»§ç»­æ‰§è¡Œèµ‹å€¼æ“ä½œï¼Œåªå¥½èµ‹å€¼ä¸ºNoneäº†ï¼Œè€Œå¦‚æœç”¨sendçš„è¯ï¼Œå¼€å§‹æ‰§è¡Œçš„æ—¶å€™ï¼Œå…ˆæ¥ç€ä¸Šä¸€æ¬¡ï¼ˆreturn 4ä¹‹åï¼‰æ‰§è¡Œï¼Œå…ˆæŠŠ7èµ‹å€¼ç»™äº†res,ç„¶åæ‰§è¡Œnextçš„ä½œç”¨ï¼Œé‡è§ä¸‹ä¸€å›çš„yieldï¼Œreturnå‡ºç»“æœåç»“æŸã€‚ 5.ç¨‹åºæ‰§è¡Œg.send(7)ï¼Œç¨‹åºä¼šä»yieldå…³é”®å­—é‚£ä¸€è¡Œç»§ç»­å‘ä¸‹è¿è¡Œï¼Œsendä¼šæŠŠ7è¿™ä¸ªå€¼èµ‹å€¼ç»™reså˜é‡ 6.ç”±äºsendæ–¹æ³•ä¸­åŒ…å«next()æ–¹æ³•ï¼Œæ‰€ä»¥ç¨‹åºä¼šç»§ç»­å‘ä¸‹è¿è¡Œæ‰§è¡Œprintæ–¹æ³•ï¼Œç„¶åå†æ¬¡è¿›å…¥whileå¾ªç¯ 7.ç¨‹åºæ‰§è¡Œå†æ¬¡é‡åˆ°yieldå…³é”®å­—ï¼Œyieldä¼šè¿”å›åé¢çš„å€¼åï¼Œç¨‹åºå†æ¬¡æš‚åœï¼Œç›´åˆ°å†æ¬¡è°ƒç”¨nextæ–¹æ³•æˆ–sendæ–¹æ³•ã€‚","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://smilecoc.vip/categories/è½¬è½½/"}],"tags":[{"name":"pythonå…¶ä»–","slug":"pythonå…¶ä»–","permalink":"http://smilecoc.vip/tags/pythonå…¶ä»–/"}],"author":"smilecoc"},{"title":"Pythonæ£€éªŒæ•°æ®æ˜¯å¦æ­£æ€åˆ†å¸ƒ","slug":"åˆ©ç”¨Pythonæ£€æµ‹æ­£æ€åˆ†å¸ƒ","date":"2020-10-01T08:25:43.000Z","updated":"2020-10-07T09:05:59.522Z","comments":true,"path":"2020/10/01/åˆ©ç”¨Pythonæ£€æµ‹æ­£æ€åˆ†å¸ƒ/","link":"","permalink":"http://smilecoc.vip/2020/10/01/åˆ©ç”¨Pythonæ£€æµ‹æ­£æ€åˆ†å¸ƒ/","excerpt":"","text":"åˆ¤æ–­æ•°æ®æ˜¯å¦ç¬¦åˆæ­£æ€åˆ†å¸ƒï¼Œæ¯”å¦‚ä½¿ç”¨3-sigmaåˆ¤æ–­æ•°æ®å¼‚å¸¸å‰ï¼Œé¦–å…ˆéœ€è¦ç¡®å®šçš„æ˜¯æ•°æ®æ˜¯å¦ç¬¦åˆæ­£æ€åˆ†å¸ƒã€‚ä»Šå¤©ä¸€èµ·æ¢³ç†ä¸‹æ£€æµ‹æ­£æ€åˆ†å¸ƒçš„æ–¹æ³•ã€‚ Shapiro-Wilk testShapiro-Wilk testæ˜¯ä¸€ç§åœ¨é¢‘ç‡ä¸Šç»Ÿè®¡æ£€éªŒä¸­æ£€éªŒæ­£æ€æ€§çš„æ–¹æ³•ã€‚è¯¥æ£€éªŒçš„é›¶æ£€éªŒæ˜¯æ ·æœ¬$x_1,\\cdots ,x_n$æ¥è‡ªäºä¸€ä¸ªæ­£æ€åˆ†å¸ƒçš„æ¯ä½“ã€‚è¿™ä¸ªæ£€éªŒçš„ç»Ÿè®¡é‡æ˜¯ï¼š$W = \\frac{(\\sum_{i=1}^{n}a_{i}x_{(i)})^2}{\\sum_{i=1}^{n}(x_i-\\bar{x})^2}$å…¶ä¸­ï¼š $x_{(i)}$ç”¨æ‹¬å·åŒ…å«ä¸‹æ ‡ç´¢å¼•içš„ï¼›ä¸ä¸xæ··æ·†,å®ƒæ˜¯ç¬¬ié˜¶ç»Ÿè®¡é‡ï¼Œå³æ ·æœ¬ä¸­çš„ç¬¬iä¸ªæœ€å°æ•° $\\overline {x}=(x_{1}+\\cdots +x_{n})/n$æ˜¯æ ·æœ¬çš„å¹³å‡å€¼ã€‚ å¸¸é‡aié€šè¿‡å…¬å¼$(a_1,\\dots ,a_n)=\\frac{m^{T}V^{-1}}{\\sqrt{(m^{T}V^{-1}V^{-1}m)}}, m=(m_1,\\dots ,m_n)^T$ï¼Œå…¶ä¸­$m_1,\\dots ,m_n$æ˜¯ä»ä¸€ä¸ªæ ‡å‡†çš„æ­£æ€åˆ†å¸ƒéšæœºå˜é‡ä¸Šé‡‡æ ·çš„æœ‰åºç‹¬ç«‹åŒåˆ†å¸ƒçš„ç»Ÿè®¡é‡çš„æœŸæœ›å€¼ã€‚Væ˜¯è¿™äº›æœ‰åºç»Ÿè®¡é‡çš„åæ–¹å·®ã€‚ è¿™ä¸ªç»Ÿè®¡æ£€éªŒçš„å‡è®¾æ˜¯æ ·æœ¬æ¥è‡ªäºä¸€ä¸ªæ­£æ€æ¯ä½“ï¼Œå› æ­¤ï¼Œä¸€æ–¹é¢ï¼Œå¦‚æœpå€¼å°äºé€‰æ‹©çš„æ˜¾è‘—åº¦æ°´å¹³ï¼ˆé€šå¸¸0.05ï¼‰ï¼Œé‚£ä¹ˆåœ¨æ›´å¤§æ¦‚ç‡ä¸‹æˆ‘ä»¬åº”è¯¥æ‹’ç»é›¶å‡è®¾ï¼Œæ•°æ®çš„è¯æ®æ˜¾ç¤ºæˆ‘ä»¬çš„æ ·æœ¬ä¸æ˜¯æ¥è‡ªä¸€ä¸ªæ­£æ€åˆ†å¸ƒæ¯ä½“ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœpå€¼æ¯”é€‰æ‹©çš„æ˜¾è‘—åº¦æ°´å¹³å¤§ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ²¡æœ‰è¯æ®æ‹’ç»é›¶å‡è®¾ï¼Œæ•°æ®æ¥è‡ªäºä¸€ä¸ªæ­£æ€åˆ†å¸ƒã€‚ Pythonä»£ç ï¼š import numpy as np from scipy import stats np.random.seed(0) x = np.random.randn(1, 1000) print(stats.shapiro(x[0])) # (0.9985557794570923, 0.5914123058319092) # è¾“å‡ºï¼ˆç»Ÿè®¡é‡Wçš„å€¼,På€¼ï¼‰ # Wçš„å€¼è¶Šæ¥è¿‘1å°±è¶Šè¡¨æ˜æ•°æ®å’Œæ­£æ€åˆ†å¸ƒæ‹Ÿåˆå¾—è¶Šå¥½ï¼ŒPå€¼&gt;æŒ‡å®šæ°´å¹³, ä¸æ‹’ç»åŸå‡è®¾ï¼Œå¯ä»¥è®¤ä¸ºæ ·æœ¬æ•°æ®æœä»æ­£æ€åˆ†å¸ƒ # ä¸é€‚åˆæ ·æœ¬&gt;5000çš„æƒ…å†µ å‚è€ƒé“¾æ¥ï¼šhttps://en.wikipedia.org/wiki/Shapiro%E2%80%93Wilk_testhttps://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.shapiro.html Kolmogorov-Smirnov testKolmogorov-Smirnovæ˜¯æ¯”è¾ƒä¸€ä¸ªé¢‘ç‡åˆ†å¸ƒf(x)ä¸ç†è®ºåˆ†å¸ƒg(x)æˆ–è€…ä¸¤ä¸ªè§‚æµ‹å€¼åˆ†å¸ƒçš„æ£€éªŒæ–¹æ³•ã€‚å…¶åŸå‡è®¾H0:ä¸¤ä¸ªæ•°æ®åˆ†å¸ƒä¸€è‡´æˆ–è€…æ•°æ®ç¬¦åˆç†è®ºåˆ†å¸ƒã€‚D=max|f(x)- g(x)|ï¼Œå½“å®é™…è§‚æµ‹å€¼D&gt;D(n,Î±)åˆ™æ‹’ç»H0ï¼Œå¦åˆ™æ¥å—H0å‡è®¾ã€‚ KSæ£€éªŒä¸t-æ£€éªŒä¹‹ç±»çš„å…¶ä»–æ–¹æ³•ä¸åŒæ˜¯KSæ£€éªŒä¸éœ€è¦çŸ¥é“æ•°æ®çš„åˆ†å¸ƒæƒ…å†µï¼Œå¯ä»¥ç®—æ˜¯ä¸€ç§éå‚æ•°æ£€éªŒæ–¹æ³•ã€‚å½“ç„¶è¿™æ ·æ–¹ä¾¿çš„ä»£ä»·å°±æ˜¯å½“æ£€éªŒçš„æ•°æ®åˆ†å¸ƒç¬¦åˆç‰¹å®šçš„åˆ†å¸ƒæ—¶ï¼ŒKSæ£€éªŒçš„çµæ•åº¦æ²¡æœ‰ç›¸åº”çš„æ£€éªŒæ¥çš„é«˜ã€‚åœ¨æ ·æœ¬é‡æ¯”è¾ƒå°çš„æ—¶å€™ï¼ŒKSæ£€éªŒæœ€ä¸ºéå‚æ•°æ£€éªŒåœ¨åˆ†æä¸¤ç»„æ•°æ®ä¹‹é—´æ˜¯å¦ä¸åŒæ—¶ç›¸å½“å¸¸ç”¨ã€‚ Kolmogorovæ£€éªŒæ‰¾å‡ºåœ¨æ¯ä¸€ä¸ªæ•°æ®ç‚¹ä¸Šç»éªŒç´¯ç§¯æ¦‚ç‡ä¸ç›®æ ‡åˆ†å¸ƒçš„ç´¯ç§¯æ¦‚ç‡ä¹‹å·®çš„ä¸Šç•Œï¼Œåˆ—å‡ºå…¬å¼æ˜¯è¿™æ ·çš„ï¼š $D_n = \\underset{x}{sup}|F_n(x)-F(x)|$ å…¶ä¸­supå‡½æ•°è¡¨ç¤ºä¸€ç»„è·ç¦»ä¸­çš„ä¸Šç¡®ç•Œï¼Œè¿™æ˜¯ä¸ªæ•°å­¦æ¦‚å¿µï¼Œè¡¨ç¤ºåœ¨åŸå‡è®¾$F_n(x)=F(x)$çš„æ¡ä»¶ä¸‹ï¼Œ$F_n(x)=F(x)$çš„ç»å¯¹å€¼çš„æœ€å°ä¸Šç•Œã€‚$F_n(x),F(x)$åˆ†åˆ«ä»£è¡¨ç»éªŒçš„å’Œç†è®ºçš„ç´¯ç§¯æ¦‚ç‡ã€‚å…¶æ„å›¾åœ¨äºå¦‚æœåŸå‡è®¾æˆç«‹ï¼Œåˆ™$D_n$åº”è¯¥å¾ˆå°ï¼Œå¦‚æœå¾ˆå¤§ï¼Œåˆ™åŸå‡è®¾ä¸æˆç«‹ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªä¸Šç¡®ç•Œæ€ä¹ˆæ±‚å‡ºæ¥å‘¢ï¼Ÿè¯·çœ‹ä¸‹é¢çš„å…¬å¼ï¼š $D_n = \\underset{x}{sup}|F_n(x)-F(x)|=\\underset{1\\leq k\\leq n}{max}{|F_n(x_k)-F_0(x_k)|,|F_0(x_{k+1}-F_n(x_k)|}$ å…¶ä¸­kä¸ºæ ·æœ¬ä»å°åˆ°å¤§æ’åˆ—åçš„åºæ•°ã€‚ä»å…¬å¼ä¸­çœ‹å‡ºDnæ˜¯ç»éªŒå’Œç›®æ ‡ç´¯ç§¯æ¦‚ç‡ä¹‹å·®å’Œé”™ä¸€ä½åå†æ±‚å‡ºçš„å·®ä¸­æœ€å¤§çš„ä¸€ä¸ªã€‚Kolmogorovè¿˜ç»™å‡ºäº†è¿™ä¸ªè·ç¦»çš„åˆ†å¸ƒå‡½æ•°ï¼Œå¹¶ç»™å‡ºäº†åˆ¤æ–­çš„ä¸´ç•Œå€¼ã€‚å½“ç„¶ç°åœ¨çš„ç»Ÿè®¡è½¯ä»¶éƒ½ç›´æ¥è®¡ç®—på€¼ï¼Œå¾ˆå°‘æœ‰äººæŸ¥è¡¨äº†ã€‚ Kolmogorov-Smirnovæ£€éªŒï¼ˆK-Sæ£€éªŒï¼‰åŸºäºç´¯ç§¯åˆ†å¸ƒå‡½æ•°ï¼Œç”¨ä»¥æ£€éªŒä¸€ä¸ªç»éªŒåˆ†å¸ƒæ˜¯å¦ç¬¦åˆæŸç§ç†è®ºåˆ†å¸ƒæˆ–æ¯”è¾ƒä¸¤ä¸ªç»éªŒåˆ†å¸ƒæ˜¯å¦æœ‰æ˜¾è‘—æ€§å·®å¼‚ã€‚ ä¸¤æ ·æœ¬K-Sæ£€éªŒç”±äºå¯¹ä¸¤æ ·æœ¬çš„ç»éªŒåˆ†å¸ƒå‡½æ•°çš„ä½ç½®å’Œå½¢çŠ¶å‚æ•°çš„å·®å¼‚éƒ½æ•æ„Ÿè€Œæˆä¸ºæ¯”è¾ƒä¸¤æ ·æœ¬çš„æœ€æœ‰ç”¨ä¸”å¸¸è§„çš„éå‚æ•°æ–¹æ³•ä¹‹ä¸€ã€‚ ä¼˜ç‚¹ï¼šè¯¥æ£€éªŒä¸ä¾èµ–äºè¦æµ‹è¯•çš„ç´¯ç§¯åˆ†å¸ƒå‡½æ•°ï¼Œç›¸æ¯”äºå¡æ–¹æ‹Ÿåˆæ£€éªŒï¼ˆå¡æ–¹æ£€éªŒéœ€è¦50ä¸ªä»¥ä¸Šçš„æ ·æœ¬ï¼‰ï¼Œä¸éœ€è¦å¤§é‡çš„æ ·æœ¬ã€‚ ç¼ºç‚¹ï¼šåªé€‚ç”¨äºè¿ç»­åˆ†å¸ƒï¼›åœ¨åˆ†å¸ƒä¸­é—´æ•æ„Ÿï¼Œåœ¨ä¸¤ç«¯ä¸å¤Ÿæ•æ„Ÿï¼›æœ€å¤§çš„å±€é™åœ¨äºæ•´ä¸ªåˆ†å¸ƒéœ€è¦å®Œå…¨ç¡®å®šï¼Œå¦‚æœä½ç½®ï¼Œå½¢çŠ¶ç­‰å‚æ•°éƒ½æ˜¯ä»æ•°æ®ä¸­ä¼°è®¡çš„ï¼Œåˆ¤å®šåŒºé—´ä¸å†æœ‰æ•ˆï¼Œå› æ­¤è¿™äº›å‚æ•°ä¸€èˆ¬åªèƒ½é€šè¿‡æ¨¡æ‹Ÿå¾—åˆ°ã€‚ scipy.stats.kstestæ˜¯ä¸€ä¸ªå¾ˆå¼ºå¤§çš„æ£€éªŒæ¨¡å—ï¼Œé™¤äº†æ­£æ€æ€§æ£€éªŒï¼Œè¿˜èƒ½æ£€éªŒ scipy.stats ä¸­çš„å…¶ä»–æ•°æ®åˆ†å¸ƒç±»å‹ã€‚scipy.stats.kstest(rvs, cdf, args=(), N=20, alternative=â€™two-sidedâ€™, mode=â€™approxâ€™) å…¶ä¸­å„å‚æ•°çš„å«ä¹‰ä¸ºï¼š rvsï¼šå¾…æ£€éªŒçš„æ•°æ® cdfï¼šæ£€éªŒæ–¹æ³•ï¼Œè¿™é‡Œæˆ‘ä»¬è®¾ç½®ä¸ºâ€˜normâ€™ï¼Œå³æ­£æ€æ€§æ£€éªŒ argsï¼šåˆ†å¸ƒå‚æ•°ï¼Œå¯é€‰ Nï¼šæ ·æœ¬æ•°é‡ alternativeï¼šé»˜è®¤ä¸ºåŒå°¾æ£€éªŒï¼Œå¯ä»¥è®¾ç½®ä¸ºâ€˜lessâ€™æˆ–â€˜greaterâ€™ä½œå•å°¾æ£€éªŒ modeï¼šå®šä¹‰è®¡ç®—p-valueçš„æ–¹å¼ä½¿ç”¨ç¤ºä¾‹ï¼š import numpy as np from scipy import stats np.random.seed(0) x = np.random.randn(1, 100) print(stats.kstest(x[0], &#39;norm&#39;)) # KstestResult(statistic=0.0582486387238324, pvalue=0.8865884365301941) è¾“å‡ºç»“æœä¸­ç¬¬ä¸€ä¸ªä¸ºç»Ÿè®¡é‡ï¼Œç¬¬äºŒä¸ªä¸ºPå€¼ï¼ˆæ³¨ï¼šç»Ÿè®¡é‡è¶Šæ¥è¿‘0å°±è¶Šè¡¨æ˜æ•°æ®å’Œæ ‡å‡†æ­£æ€åˆ†å¸ƒæ‹Ÿåˆçš„è¶Šå¥½ï¼Œå¦‚æœPå€¼å¤§äºæ˜¾è‘—æ€§æ°´å¹³ï¼Œé€šå¸¸æ˜¯0.05ï¼Œæ¥å—åŸå‡è®¾ï¼Œåˆ™åˆ¤æ–­æ ·æœ¬çš„æ€»ä½“æœä»æ­£æ€åˆ†å¸ƒï¼‰ å‚è€ƒé“¾æ¥ï¼š https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.kstest.htmlhttps://qinqianshan.com/math/significance_test/kolmogorovsmirnov/https://blog.csdn.net/qq_41679006/article/details/80977113 Anderson-Darling testè¿™ä¸ªæ–¹æ³•æ˜¯ç”±T. W. Andersonå’ŒD. A. Darlingäº1954å¹´æå‡ºçš„ï¼Œä¸K-Sæ£€éªŒç›¸æ¯”ï¼ŒADæ£€éªŒåº¦é‡ç»éªŒç´¯ç§¯æ¦‚ç‡å’Œç†è®ºç´¯ç§¯æ¦‚ç‡ä¹‹å·®çš„æ–¹æ³•æ˜¾å¾—æ›´åŠ è‡ªç„¶ã€‚ä¸‹é¢çš„å…¬å¼å°±æ˜¯å…¶æ–¹æ³•ï¼š $Z = n\\int_{-\\infty}^{\\infty}[F_n(x)-F(x)]^{2}w(x)f(x)dx$ æ˜¯ä¸æ˜¯æ„Ÿè§‰åƒæ˜¯è®¡ç®—æ–¹å·®çš„å…¬å¼ï¼Œæˆ‘çš„ç›´è§‚æ„Ÿè§‰ï¼Œå°±æ˜¯æŠŠæ¯ä¸ªæ•°æ®ç‚¹çš„å·®æ±‚å¹³æ–¹ä»¥åç›¸åŠ ï¼Œå¾—åˆ°æ€»çš„åˆ†å¸ƒåå·®ï¼Œè¿™æ ·å°±è€ƒè™‘äº†æ‰€æœ‰çš„å·®å¼‚ç‚¹ï¼Œè€Œä¸æ˜¯åƒK-Sæ£€éªŒé‚£æ ·åªè€ƒè™‘ä¸€ä¸ªæœ€å¤§çš„ã€‚ å…¬å¼ä¸­f(x)æ˜¯ç†è®ºåˆ†å¸ƒå¯†åº¦å‡½æ•°ï¼Œw(x)æ˜¯æŸä¸ªæƒé‡å‡½æ•°ã€‚è‹¥w(x)â‰¡1ï¼Œåˆ™ä¸ºCramÃ©r-Von Misesç»Ÿè®¡é‡W2ã€‚ ç”¨ä¸Šé¢çš„ç§¯åˆ†å…¬å¼è®¡ç®—ç»Ÿè®¡é‡æ¯”è¾ƒéº»çƒ¦ï¼Œå› æ­¤ä¸¤ä½ç»Ÿè®¡å­¦å®¶åˆæ¨å¯¼å‡ºäº†ç®€å•çš„è®¡ç®—æ–¹æ³•ï¼Œè§ä¸‹é¢çš„å…¬å¼ï¼š $A^2=-n-\\sum_{i}^{n}\\frac{2i-1}{n}[\\ln F(Y_i)+\\ln (1-F(Y_{n+1-i})]$ å…¶ä¸­$Y_i=\\frac{X_i-\\hat{\\mu}}{\\hat{\\sigma}}$æ³¨æ„è¿™ä¸ªå…¬å¼è®¡ç®—æ‰€é‡‡ç”¨çš„æ•°æ®é¡ºåºæ˜¯ä»å°åˆ°å¤§æ’åˆ—çš„ï¼Œä¸æ˜¯åŸæ¥çš„æ•°æ®æ’åˆ—é¡ºåºã€‚ scipy.stats.andersonæ˜¯ç”± scipy.stats.kstest æ”¹è¿›è€Œæ¥çš„ï¼Œå¯ä»¥åšæ­£æ€åˆ†å¸ƒã€æŒ‡æ•°åˆ†å¸ƒã€Logistic åˆ†å¸ƒã€Gumbel åˆ†å¸ƒç­‰å¤šç§åˆ†å¸ƒæ£€éªŒã€‚é»˜è®¤å‚æ•°ä¸º normï¼Œå³æ­£æ€æ€§æ£€éªŒã€‚ è¿”å›ï¼šstatistic â€“ ç»Ÿè®¡æ•°ï¼›critical_values â€“ è¯„åˆ¤å€¼ï¼›significance_level â€“ æ˜¾è‘—æ€§æ°´å¹³ import numpy as np from scipy import stats np.random.seed(0) x = np.random.randn(1, 100) print(stats.anderson(x[0], &#39;norm&#39;)) # AndersonResult(statistic=0.18097695613924714, critical_values=array([0.555, 0.632, 0.759, 0.885, 1.053]), significance_level=array([15. , 10. , 5. , 2.5, 1. ])) # å¦‚æœè¾“å‡ºçš„ç»Ÿè®¡é‡å€¼statistic &lt; critical_valuesï¼Œåˆ™è¡¨ç¤ºåœ¨ç›¸åº”çš„significance_levelä¸‹ï¼Œæ¥å—åŸå‡è®¾ï¼Œè®¤ä¸ºæ ·æœ¬æ•°æ®æ¥è‡ªç»™å®šçš„æ­£æ€åˆ†å¸ƒã€‚ å‚è€ƒé“¾æ¥ï¼š https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.anderson.htmlhttps://zhuanlan.zhihu.com/p/26477641 scipy.stats.normaltestscipy.stats.normaltestè¿ç”¨äº†Dâ€™Agostinoâ€“Pearsonç»¼åˆæµ‹è¯•æ³•ï¼Œè¿”å›ï¼ˆå¾—åˆ†å€¼ï¼Œpå€¼ï¼‰ï¼Œå¾—åˆ†å€¼=åæ€å¹³æ–¹+å³°æ€å¹³æ–¹ scipy.stats.normaltest(a, axis=0, nan_policy=&#39;propagate&#39;) è¿™é‡Œçš„ä¸‰ä¸ªå‚æ•°éƒ½æœ‰å¿…è¦çœ‹ä¸€ä¸‹ï¼š aï¼šå¾…æ£€éªŒçš„æ•°æ® axisï¼šé»˜è®¤ä¸º0ï¼Œè¡¨ç¤ºåœ¨0è½´ä¸Šæ£€éªŒï¼Œå³å¯¹æ•°æ®çš„æ¯ä¸€è¡Œåšæ­£æ€æ€§æ£€éªŒï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸ºaxis=Noneæ¥å¯¹æ•´ä¸ªæ•°æ®åšæ£€éªŒ nan_policyï¼šå½“è¾“å…¥çš„æ•°æ®ä¸­æœ‰ç©ºå€¼æ—¶çš„å¤„ç†åŠæ³•ã€‚é»˜è®¤ä¸º propagateï¼Œè¿”å›ç©ºå€¼ï¼›è®¾ç½®ä¸ºraiseæ—¶ï¼ŒæŠ›å‡ºé”™è¯¯ï¼›è®¾ç½®ä¸ºomitæ—¶ï¼Œåœ¨è®¡ç®—ä¸­å¿½ç•¥ç©ºå€¼ã€‚ä»£ç ç¤ºä¾‹ï¼š import numpy as np from scipy import stats np.random.seed(0) x = np.random.randn(1, 100) print(stats.normaltest(x[0])) # NormaltestResult(statistic=0.45430460563864783, pvalue=0.7967994182504964) å¦‚æœpvalueæ˜¯&gt;0.05ï¼Œåˆ™ä»£è¡¨æ˜¯æ­£æ€åˆ†å¸ƒã€‚ å‚è€ƒé“¾æ¥ï¼š https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.normaltest.html Lilliefors-testæ£€éªŒæ ·æœ¬æ•°æ®æ˜¯å¦æ¥è‡ªæ­£æ€æ€»ä½“ã€‚é‡‡ç”¨æ–¹æ³•æ˜¯ï¼šå½“æ€»ä½“å‡å€¼å’Œæ–¹å·®æœªçŸ¥æ—¶ï¼Œç”¨æ ·æœ¬çš„å‡å€¼å’Œæ–¹å·®ä»£æ›¿å å†ç”¨K-Sæ£€éªŒæ³•ã€‚æ®è¯´æ•ˆæœä¸å¦‚Anderson-Darling testã€‚åŸå‡è®¾ H0ï¼šæ ·æœ¬æœä»æ­£æ€åˆ†å¸ƒï¼› å¤‡æ‹©å‡è®¾ H1ï¼šæ ·æœ¬ä¸æœä»æ­£æ€åˆ†å¸ƒ import numpy as np from statsmodels.stats.diagnostic import lilliefors np.random.seed(0) x = np.random.randn(1, 100) print(lilliefors(x[0])) # è¾“å‡º(ç»Ÿè®¡é‡çš„å€¼,På€¼)=(0.06433451870420759, 0.40018452551214856)ï¼ŒPå€¼&gt;æŒ‡å®šæ°´å¹³0.05ï¼Œæ¥å—åŸå‡è®¾ï¼Œå¯ä»¥è®¤ä¸ºæ ·æœ¬æ•°æ®æœä»æ­£æ€åˆ†å¸ƒ å‚è€ƒé“¾æ¥ï¼š https://www.statsmodels.org/stable/generated/statsmodels.stats.diagnostic.lilliefors.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"Pythonæ•°æ®åˆ†æ","slug":"Pythonæ•°æ®åˆ†æ","permalink":"http://smilecoc.vip/tags/Pythonæ•°æ®åˆ†æ/"}],"author":"smilecoc"},{"title":"é¥¿äº†ä¹ˆçˆ¬è™«-FiddleræŠ“åŒ…çˆ¬å–","slug":"é¥¿äº†ä¹ˆçˆ¬è™«fiddleræ–¹æ³•","date":"2020-09-26T05:00:01.000Z","updated":"2020-09-26T09:41:36.405Z","comments":true,"path":"2020/09/26/é¥¿äº†ä¹ˆçˆ¬è™«fiddleræ–¹æ³•/","link":"","permalink":"http://smilecoc.vip/2020/09/26/é¥¿äº†ä¹ˆçˆ¬è™«fiddleræ–¹æ³•/","excerpt":"","text":"ä¹‹å‰æˆ‘ä»¬é€šè¿‡ä¿å­˜ç½‘é¡µHTMLä»£ç çš„æ–¹æ³•å¯¹é¥¿äº†ä¹ˆå•†å“è¿›è¡Œçˆ¬è™«ã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦ä¿å­˜éå¸¸å¤šçš„htmlæ–‡ä»¶ã€‚å…·ä½“æ–‡ç« å¯ä»¥å‚é˜…ï¼š è¿™ä¸€æ¬¡æˆ‘ä»¬ä½¿ç”¨Fiddlerrè¿›è¡ŒæŠ“åŒ…çˆ¬å–å•†å“æ•°æ®ã€‚ç›¸å…³ä»£ç ï¼Œæ–‡ä»¶è¯·å…³æ³¨å…¬ä¼—å·ï¼šRomiçš„æ‚è´§é“ºå›å¤é¥¿äº†ä¹ˆFiddlerçˆ¬è™«è·å– Fiddlerç®€ä»‹Fiddleræ˜¯ä½äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä¹‹é—´çš„ä»£ç†ï¼Œä¹Ÿæ˜¯ç›®å‰æœ€å¸¸ç”¨çš„æŠ“åŒ…å·¥å…·ä¹‹ä¸€ ã€‚å®ƒèƒ½å¤Ÿè®°å½•å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„æ‰€æœ‰è¯·æ±‚ï¼Œå¯ä»¥é’ˆå¯¹ç‰¹å®šçš„è¯·æ±‚ï¼Œåˆ†æè¯·æ±‚æ•°æ®ã€è®¾ç½®æ–­ç‚¹ã€è°ƒè¯•webåº”ç”¨ã€ä¿®æ”¹è¯·æ±‚çš„æ•°æ®ï¼Œç”šè‡³å¯ä»¥ä¿®æ”¹æœåŠ¡å™¨è¿”å›çš„æ•°æ®ï¼ŒåŠŸèƒ½éå¸¸å¼ºå¤§ Fiddlerçš„å·¥ä½œåŸç†å¯ä»¥ç”¨ä¸‹å›¾æ¥è§£é‡Šï¼šå› æ­¤æˆ‘ä»¬é€šè¿‡fiddleræŠ“å–æœåŠ¡å™¨è¿”å›çš„æ•°æ®å¹¶ä¿å­˜åˆ°æœ¬åœ°å³å¯ FiddleræŠ“åŒ…åœ¨è¿›è¡Œåç»­æ­¥éª¤å‰ï¼Œè¯·åœ¨ç”µè„‘ä¸Šå®‰è£…Fiddlerã€‚ ä»æˆ‘ä»¬ä¹‹å‰çš„æ–‡ç« ä¸­å¯ä»¥ç¡®å®šé¥¿äº†ä¹ˆçš„å•†å“ä¿¡æ¯æ˜¯é€šè¿‡jsonæ–‡ä»¶è¿›è¡Œä¼ è¾“çš„ï¼ŒJsonæ–‡ä»¶åéƒ½æ˜¯?jsvå¼€å§‹ã€‚ä½†æ˜¯ç”±äºè¿™äº›jsonæ–‡ä»¶æ˜¯åŠ¨æ€åŠ è½½çš„åŒæ—¶request URLä¹Ÿæ˜¯æ²¡æœ‰ç‰¹å®šè§„èŒƒçš„ï¼Œå› æ­¤æ— æ³•é€šè¿‡è¯·æ±‚URLè·å–Jsonæ•°æ®ã€‚ å¦‚æœä½ æƒ³äº†è§£è¿™äº›ä¿¡æ¯çš„å…·ä½“ç¡®è®¤æ­¥éª¤ï¼Œè¯·æŸ¥çœ‹è¿™ç¯‡æ–‡ç« ï¼šhttps://blog.csdn.net/qq_42692386/article/details/105825085 åŸºäºä»¥ä¸Šåˆ†æï¼Œæˆ‘ä»¬ä½¿ç”¨FiddleræŠ“å–Jsonæ–‡ä»¶å¹¶æ‰¹é‡ä¿å­˜ï¼Œè¿™æ ·å°±å¯ä»¥è·å–æ‰€æœ‰çš„Jsonæ•°æ®å¹¶è§£æäº†ã€‚ å…·ä½“æ­¥éª¤ä¸ºï¼š1ï¼‰é¦–å…ˆæŸ¥çœ‹å•†å“ä¿¡æ¯å¯¹åº”çš„jsonæ–‡ä»¶æ‰¾åˆ°å…·ä½“çš„è¯·æ±‚URLï¼šæŸ¥çœ‹æ‰€æœ‰çš„Jsonæ–‡ä»¶å¯ä»¥å‘ç°æ‰€æœ‰çš„æ•°æ®jsonæ–‡ä»¶è¯·æ±‚ URLéƒ½åŒ…å«/h5/mtop.venus.shopcategoryservice.getcategorydetail/1.1/?jsv=3.0.02ï¼‰ä¿®æ”¹fiddlerè„šæœ¬å¹¶ä¿å­˜ï¼Œä½¿fiddlerè‡ªåŠ¨ä¿å­˜ç‰¹å®šçš„æ•°æ®ã€‚å…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š if (oSession.fullUrl.Contains(&quot;/h5/mtop.venus.shopcategoryservice.getcategorydetail/1.1/?jsv=3.0.0&quot;)) { oSession.utilDecodeResponse(); //æ¶ˆé™¤ä¿å­˜çš„è¯·æ±‚å¯èƒ½å­˜åœ¨ä¹±ç çš„æƒ…å†µ var fso; var file; fso = new ActiveXObject(&quot;Scripting.FileSystemObject&quot;); //æ–‡ä»¶ä¿å­˜è·¯å¾„ï¼Œå¯è‡ªå®šä¹‰ file = fso.OpenTextFile(&quot;C:/Users/Smile/Downloads/elm_Response.txt&quot;,8 ,true, true); file.writeLine(&quot;Response code: &quot; + oSession.responseCode); file.writeLine(&quot;Response body: &quot; + oSession.GetResponseBodyAsString()); file.writeLine(&quot;\\n&quot;); file.close(); }3ï¼‰ä¹‹åé‡æ–°åˆ·æ–°é¡µé¢å¹¶ä¸‹æ‹‰ï¼Œç‚¹å‡»æ‰€æœ‰çš„å•†å“é¡¹ç›®åˆ†ç±»ï¼Œç¡®ä¿åŠ è½½æ‰€æœ‰çš„jsonæ–‡ä»¶å¹¶è¢«filddleræŠ“åŒ…ã€‚ 4ï¼‰ä¹‹åå°±å¯ä»¥åœ¨æˆ‘ä»¬ä¹‹å‰fiddlerè„šæœ¬ä¸­è®¾å®šçš„ä¿å­˜ä½ç½®æ‰¾åˆ°æˆ‘ä»¬çš„æ‰€æœ‰æ•°æ®ä¿¡æ¯äº†ï¼ æ•°æ®è§£æè¿™ä¸€æ­¥æˆ‘ä»¬å¯¹ä¸Šä¸€æ­¥è·å–çš„jsonæ•°æ®è¿›è¡Œè§£æã€‚é¦–å…ˆæŸ¥çœ‹æ–‡ä»¶ç¼–ç ï¼š #æŸ¥çœ‹æ–‡ä»¶ç¼–ç  import chardet path = r&quot;C:\\Users\\Smile\\Downloads\\elm_Response.txt&quot; f = open(path,&#39;rb&#39;) data = f.read() print(chardet.detect(data)) å¾—åˆ°ç¼–ç æ ¼å¼ä¸ºUTF-16ã€‚ä¹‹åé€šè¿‡pythonè§£æä¸‹è½½ä¸‹æ¥çš„æ–‡ä»¶ã€‚ç”±äºä¸‹è½½çš„æ–‡ä»¶æ ¼å¼ä¸­åŒ…å«è¯·æ±‚ä¿¡æ¯ï¼Œæ‰€ä»¥éœ€è¦åœ¨è§£æè¿‡ç¨‹ä¹‹ä¸­å¯¹æ–‡ä»¶è¿›è¡Œæ¸…ç†ã€‚å…·ä½“ä»£ç ä¸ºï¼š for jsondata in jsonlines: if jsondata not in [&#39;\\n&#39;,&#39;Response code: 200\\n&#39;]: jsondata=jsondata.replace(&#39;Response body: &#39;,&#39;&#39;) data = json.loads(jsondata) foods_list=data[&#39;data&#39;][&#39;data&#39;][0][&#39;foods&#39;] for detail_info in foods_list: name=detail_info[&#39;name&#39;] currentprice=detail_info[&#39;currentPrice&#39;] saleunit=detail_info[&#39;defaultSaleUnit&#39;] org_price=detail_info[&#39;originalPrice&#39;] goods_name.append(name) goods_currentprice.append(currentprice) goods_orginalprice.append(org_price) goods_salesunit.append(saleunit) total={} total[&#39;å•†å“&#39;]=goods_name;total[&#39;ç°ä»·&#39;]=goods_currentprice;total[&#39;åŸä»·&#39;]=goods_orginalprice;total[&#39;å”®å–å•ä½&#39;]=goods_salesunit data_final=pd.DataFrame(total) print(data_final) ä¹‹åå°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ‰€éœ€è¦çš„ä¿¡æ¯äº† å•†å“ ç°ä»· åŸä»· å”®å–å•ä½ 0 ç»´å°”ç¾çº¤çº¯.é»„ç³»åˆ—çº¸é¢å·¾110æŠ½*12åŒ…/æ 39.8 ä»½ 1 æ´äº‘ç»’è§¦æ„ŸæŠ½å–å¼çº¸é¢å·¾8åŒ…/æ 24.9 ä»½ 2 æ´äº‘ç»’è§¦æ„ŸæŠ½å–å¼çº¸é¢å·¾100æŠ½*(10+2)åŒ…/æ 39.9 ä»½ 3 ç»´è¾¾è¶…éŸ§é¢å’Œå›­ç³»åˆ—æŠ½å–å¼çº¸é¢å·¾100æŠ½*10åŒ…/æ 52.9 ä»½ 4 ç»´è¾¾æ£‰éŸ§ç³»åˆ—ä¸‰å±‚æŠ½å–å¼çº¸é¢å·¾100æŠ½*18åŒ…/æ 43.9 ä»½ .. ... ... ... ... 135 é˜¿å¥‡ä¾¬é“è§‚éŸ³èŒ¶å‘³å¥¶ç›–çç é›ªç³• 360å…‹/ç›’ 23 46 ä»½ 136 é˜¿å¥‡ä¾¬çç å¥¶èŒ¶å‘³é›ªç³• 340å…‹ï¼ˆ85å…‹*4ï¼‰/ç›’ 23 46 ä»½ 137 è¿·ä½ å¯çˆ±å¤šèŠ’æœé…¸å¥¶æ··åˆå£å‘³å†°æ·‡æ·‹200g10æ”¯è£… 15.9 ä»½ 138 å“ˆæ ¹è¾¾æ–¯è‰è“å†°æ·‡æ·‹ 81å…‹/æ¯ 28.8 34 ä»½ 139 å“ˆæ ¹è¾¾æ–¯é¦™è‰å†°æ·‡æ·‹ 392å…‹/æ¯ 69 85.7 åŒç†ï¼Œå¦‚æœä½ éœ€è¦å…¶ä»–çš„å•†å“ä¿¡æ¯ï¼Œä¾‹å¦‚å›¾ç‰‡ï¼Œç¼–ç ç­‰ä¹Ÿå¯ä»¥é€šè¿‡è§£æJsonæ–‡ä»¶å¾—åˆ°ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"pythonçˆ¬è™«","slug":"pythonçˆ¬è™«","permalink":"http://smilecoc.vip/tags/pythonçˆ¬è™«/"}],"author":"smilecoc"},{"title":"é¥¿äº†ä¹ˆçˆ¬è™«-ä¿å­˜HTMLçˆ¬å–æ•°æ®","slug":"é¥¿äº†ä¹ˆçˆ¬è™«htmlæ–¹æ³•","date":"2020-09-26T01:06:15.000Z","updated":"2020-09-26T09:42:12.274Z","comments":true,"path":"2020/09/26/é¥¿äº†ä¹ˆçˆ¬è™«htmlæ–¹æ³•/","link":"","permalink":"http://smilecoc.vip/2020/09/26/é¥¿äº†ä¹ˆçˆ¬è™«htmlæ–¹æ³•/","excerpt":"","text":"åœ¨æŠ“å–åŠ¨æ€é¡µé¢çš„æ—¶å€™ä¼šå‡ºç°ä¸€äº›ç‰¹æ®Šçš„æƒ…å†µå¯¼è‡´è·å–jsonå–å¾—æ•°æ®æ¯”è¾ƒå›°éš¾ï¼Œè¿™ä¸ªæ—¶å€™åªèƒ½ä½¿ç”¨å…¶ä»–çš„çˆ¬å–è‡ªåŠ¨åŒ–çˆ¬å–æ–¹å¼ï¼Œä½†æ˜¯ç›¸å¯¹é—¨æ§›æ¯”è¾ƒé«˜æ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥å¯¹äºä¸€äº›ç‰¹æ®Šçš„æƒ…å†µå¯ä»¥é‡‡å–ä¸€ä¸‹åŠè‡ªåŠ¨åŒ–çš„æ‰‹æ®µâ€‹â€“ä¿å­˜htmlåè¿›è¡Œçˆ¬è™«ã€‚ ä¾‹å¦‚ç°åœ¨æˆ‘æƒ³çˆ¬å–ä¸€ä¸ªé¥¿äº†ä¹ˆçš„åº—é“ºé‡Œçš„å•†å“ä¿¡æ¯å’Œå•†å“çš„ä»·æ ¼ 1.é¦–å…ˆç™»é™†é¥¿äº†ä¹ˆçš„ç½‘é¡µç«¯https://h5.ele.me/ 2.ç™»é™†ä¹‹åæˆ‘ä»¬å¯ä»¥å¾ˆæ˜æ˜¾çœ‹åˆ°æ˜¯æ‰‹æœºç«¯çš„é¡µé¢ï¼ŒæŒ‰F12è¿›å…¥å¼€å‘è€…æ¨¡å¼(ä½¿ç”¨çš„æ˜¯Chromeæµè§ˆå™¨)ï¼Œç‚¹å‡»ä¸‹å›¾çº¢æ¡†éƒ¨åˆ†å¯ä»¥åˆ‡æ¢ç½‘é¡µå’Œæ‰‹æœºè§†å›¾æµè§ˆ 3.ä¹‹åé€‰æ‹©ä¸€å®¶åº—è¿›å…¥ã€‚éœ€è¦æ³¨æ„çš„æ˜¯é¥¿äº†ä¹ˆåº—é“ºä¹‹é—´çš„å·®è·å…¶å®è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œéœ€è¦æ‰¾ä¸€ä¸ªå•†å“æ•°é‡è¾ƒå¤šï¼Œåˆ†çº§å±‚æ•°ä¹Ÿæ¯”è¾ƒå¤šçš„åº—é“ºæ¥åšæµ‹è¯• 4.ä¹‹ååŒæ ·å³é”®æŸ¥çœ‹æºç ï¼Œç›´æ¥æ‰¾ç¬¬ä¸€ä¸ªå•†å“çš„åç§°ï¼Œå‘ç°æºç ä¸­æ²¡æœ‰å¯¹åº”çš„å•†å“åç§°ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥ç¡®å®šæ˜¯åŠ¨æ€åŠ è½½çš„é¡µé¢ 5.æŒ‰F12è¿›å…¥å¼€å‘è€…ç•Œé¢ï¼Œé€‰æ‹©XHRå¹¶åˆ·æ–°ç•Œé¢ï¼ŒæŒ‰Ctrl+FæŸ¥æ‰¾å•†å“åç§°ï¼Œæ ¹æ®è¿”å›çš„ç»“æœå¹¶æŸ¥çœ‹å¯¹åº”çš„æ–‡ä»¶ä¸­çš„å†…å®¹å¯ä»¥å®šä½æ–‡ä»¶ å¤šå±‚ä¸‹æ‹‰åå¯ä»¥æ‰¾åˆ°å¯¹åº”çš„æ•°æ®ä½ç½® 6.ç›®å‰çœ‹èµ·æ¥ä¼¼ä¹è¿˜å¥½ï¼Œé¡µé¢ä¸­åŠ è½½äº†æ‰€æœ‰çš„éœ€è¦çš„æ•°æ®ï¼Œä½†æ˜¯å½“æ¥ç€å‘ä¸‹çœ‹å°±ä¼šæœ‰é—®é¢˜å‡ºç°ã€‚ä¾‹å¦‚è¿™é‡Œé€‰æ‹©å„¿ç§‘ç”¨è¯ï¼šä¼šå‘ç°ä¸€ä¸ªé¡µé¢ä¸­å¯¹åº”çš„æœ‰å¤šä¸ªåŠ¨æ€åŠ è½½æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨ä¸‹æ‹‰çš„è¿‡ç¨‹ä¸­åŠ¨æ€åŠ è½½çš„ã€‚ 7.è¿™æ ·æ²¡æœ‰åŠæ³•ï¼Œå»æ‰¾ä¸€ä¸‹è¯·æ±‚URLæœ‰æ²¡æœ‰è§„å¾‹å§ã€‚é€šè¿‡æ¯”è¾ƒå‘ç°URLä¸­å‰åå·®åˆ«è¾ƒå¤§è€Œä¸”æ— æ³•æ‰¾åˆ°å›ºå®šçš„è§„å¾‹ åœ¨çº¿æ–‡æœ¬æ¯”å¯¹å·¥å…·ï¼šhttps://text-compare.com/ æ‰€ä»¥å¯¹äºè¿™æ ·çš„ç½‘ç«™æ— æ³•ä¸€ä¸ªä¸€ä¸ªè¯·æ±‚URLè·å–æ•°æ®ï¼Œå°±å¯ä»¥å…ˆä¿å­˜HTMLæ–‡ä»¶åˆ°æœ¬åœ°ä¹‹åå†è§£æ1.é¦–å…ˆå°†ç½‘é¡µä¸‹æ‹‰åˆ°æœ€åï¼Œå³é”®ä¿å­˜ç½‘é¡µ 2.æ‰“å¼€ä¸‹è½½çš„htmlæ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„æ•°æ®å·²ä¿ç•™ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥åƒæ™®é€šçš„é™æ€ç½‘é¡µä¸€æ ·è§£æå³å¯ã€‚å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯ä¸æ˜¯å†ç”¨requestå»è¯·æ±‚ç½‘é¡µè§£æï¼Œè€Œæ˜¯ç›´æ¥è§£ææœ¬åœ°çš„htmlæ–‡ä»¶ è¿™ç§æ–¹æ³•ç®—æ˜¯æ— æ³•çˆ¬å–é¡µé¢çš„ä¸€ä¸ªè§£å†³åŠæ³•ï¼Œç®—æ˜¯ä¸€ä¸ªåŠè‡ªåŠ¨åŒ–çš„æ–¹æ³•ã€‚ä¹‹åæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è§£æHTMLçš„æ–¹æ³•è¿›è¡Œå•†å“æ•°æ®çš„æŠ“å–äº†ã€‚ import re import pandas as pd #è¯»å–æœ¬åœ°çš„htmlæ–‡ä»¶ path=r&quot;C:\\Users\\Desktop\\test.html&quot; fp = open(path,&#39;rb&#39;) html = fp.read().decode(&#39;utf-8&#39;) #å¯¹htmlè¿›è¡Œè§£æ #([\\s\\S]*ä½¿ç”¨æ­£åˆ™æå–æ‰€æœ‰çš„å­—ç¬¦ä¸²ï¼Œï¼Ÿè¡¨ç¤ºä½¿ç”¨ä½¿ç”¨éè´ªå©ªæ¨¡å¼ goodslist=re.findall(r&#39;&lt;div class=&quot;name&quot; data-s-2fa74f50fceca7d0683c7058722358a8=&quot;&quot;&gt;([\\s\\S]*?)&lt;/div&gt;&#39;,html) #-?\\d+\\.?\\d*e?-?\\d*ï¼Ÿæå–æ‰€æœ‰çš„æ•°å­—ï¼ŒåŒ…æ‹¬å°æ•° currentpricelist=re.findall(r&#39;ï¿¥&lt;/span&gt;(-?\\d+\\.?\\d*e?-?\\d*?)&lt;/div&gt;&#39;,html) #å°†listè½¬ä¸ºdatafarme goods=pd.DataFrame(goodslist) currentprice=pd.DataFrame(currentpricelist) #æ¨ªå‘æ‹¼æ¥ result=pd.concat([goods,currentprice],axis=1) #æ›´æ”¹dataframeåˆ—åç§° result.columns=[&#39;å•†å“å&#39;,&#39;ç°ä»·&#39;] #ä¿å­˜æ–‡ä»¶ result.to_excel(r&quot;C:\\Users\\Desktop\\result.xlsx&quot;,index=None)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"pythonçˆ¬è™«","slug":"pythonçˆ¬è™«","permalink":"http://smilecoc.vip/tags/pythonçˆ¬è™«/"}],"author":"smilecoc"},{"title":"SQLæŸ¥è¯¢ä¼—æ•°ä¸ä¸­ä½æ•°","slug":"SQLæŸ¥è¯¢ä¼—æ•°ä¸ä¸­ä½æ•°","date":"2020-09-20T11:36:18.000Z","updated":"2020-09-26T09:41:23.278Z","comments":true,"path":"2020/09/20/SQLæŸ¥è¯¢ä¼—æ•°ä¸ä¸­ä½æ•°/","link":"","permalink":"http://smilecoc.vip/2020/09/20/SQLæŸ¥è¯¢ä¼—æ•°ä¸ä¸­ä½æ•°/","excerpt":"","text":"æ³¨æ„ï¼šæœ¬æ–‡å‡ä¸ºSQL Serverä»£ç ï¼Œå…¶ä»–æ•°æ®åº“å¯èƒ½éœ€è¦æ ¹æ®å¯¹åº”è¯­æ³•è¿›è¡Œä¿®æ”¹ åˆ›å»ºæµ‹è¯•ç”¨è¡¨ï¼š# åˆ›å»ºå­¦ç”Ÿæˆç»©è¡¨ï¼š create table #grade( id int, name varchar(10), score int ) # å‘æˆç»©è¡¨ä¸­æ’å…¥æ•°æ®ï¼š insert into #grade values (1,&#39;Kevin&#39;,85), (2,&#39;Mary&#39;,59), (3,&#39;Andy&#39;,60), (4,&#39;Tony&#39;,79), (5,&#39;Lucky&#39;,90), (6,&#39;Bob&#39;,60), (7,&#39;Tom&#39;,100), (8,&#39;Lucy&#39;,90), (9,&#39;Cherry&#39;,92), (10,&#39;Ada&#39;,99), (11,&#39;Alice&#39;,83), (12,&#39;Amy&#39;,82); æŸ¥è¯¢ä¸€ç»„æ•°æ®çš„ä¼—æ•°æ–¹æ³•1ï¼š1ï¼‰é¦–å…ˆå¯¹æ•°æ®æŒ‰ç…§å€¼çš„ä¸åŒè¿›è¡Œåˆ†ç»„ï¼Œå¹¶å¯¹æ¯ç»„ä¸­çš„æ•°æ®è¿›è¡Œè®¡æ•°ï¼Œå†æ ¹æ®è®¡æ•°çš„å¤§å°è¿›è¡Œé™åºæ’åºï¼› 2ï¼‰ä¸Šè¿°1ï¼‰ä¸­ç»“æœé›†çš„ç¬¬ä¸€è¡Œå³è¦æ±‚å–çš„ä¼—æ•°æ‰€åœ¨çš„è¡Œã€‚å¦‚æœæ˜¯å¤šä¸ªä¼—æ•°åˆ™éœ€è¦è¾“å‡ºæ‰€æœ‰æ’åè®¡æ•°ç›¸ç­‰çš„åˆ— æ–¹æ³•ä¸€çš„ä»£ç ä¸ºï¼š select top(1) WITH TIES score, count(score) as sc_count from #grade group by score order by sc_count desc --åªæœ‰ä¸€ä¸ªä¼—æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼š select top(1) score,count(score) as sc_count from #grade group byscore order by sc_count desc top(1) WITH TIESä¼šè¿”å›æ‰€æœ‰æœ€é«˜æ¬¡æ•°çš„è®°å½•ã€‚è€Œtop(1)åªä¼šè¿”å›ä¸€è¡Œè®°å½•ï¼Œå¦‚æœåç»­è¡Œæ•°çš„æ•°å­—æœ‰ç›¸åŒçš„æ•°å€¼ä¹Ÿä¸ä¼šè¿”å›ï¼Œæ•…åªé€‚ç”¨äºä¸€ä¸ªä¼—æ•°çš„æƒ…å†µã€‚ åŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨çª—å£å‡½æ•°è¿›è¡Œæ’åºå¹¶ç­›é€‰ select score from ( select score, dense_rank() over(order by number desc) as rnk from ( select score, count(score) as number from #grade group by score ) x ) y where rnk = 1 æ–¹æ³•2ï¼š1ï¼‰é¦–å…ˆå¯¹æ•°æ®æŒ‰ç…§å€¼çš„ä¸åŒè¿›è¡Œåˆ†ç»„ï¼Œå¹¶å¯¹æ¯ç»„ä¸­çš„æ•°æ®è¿›è¡Œè®¡æ•°ï¼›2ï¼‰ä½¿ç”¨maxå‡½æ•°æ‰¾å‡ºç»Ÿè®¡ä¸ªæ•°çš„æœ€å¤§å€¼åŠå…¶å¯¹åº”çš„è¢«ç»Ÿè®¡å€¼ï¼Œæ­¤è¢«ç»Ÿè®¡å€¼å°±æ˜¯è¦æ±‚çš„ä¼—æ•°ã€‚ å…·ä½“ä»£ç ä¸ºï¼š with pro_group as (select score,count(score) as number from #grade group by score) select score,number from pro_group where number=(select max(number) from pro_group) æˆ–è€…ä½¿ç”¨å­æŸ¥è¯¢çš„æ–¹æ³•ï¼š select score,number from (select score,count(score) as number from #grade group by score)b where number=(select max(number) from (select score,count(score) as number from #grade group by score)d ) æŸ¥è¯¢ä¸€ç»„æ•°æ®çš„ä¸­ä½æ•°æ–¹æ³•ä¸€ï¼šæ ¸å¿ƒæ€æƒ³æ˜¯å¯¹äºä¸€ç»„è¦æ±‚å…¶ä¸­ä½æ•°çš„æ•°æ®ï¼Œæ— è®ºæ•°æ®çš„æ€»è¡Œæ•°æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°ï¼Œéƒ½å–è¿™ç»„æ•°æ®æ’åºåæœ€ä¸­é—´çš„ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼ä½œä¸ºä¸­ä½æ•°ã€‚å½“æ•°æ®çš„æ€»è¡Œæ•°æ˜¯å¥‡æ•°æ—¶ï¼Œæ•°æ®ç»æ’åºåæœ€ä¸­é—´çš„æ•°å–ä¸¤æ¬¡ä»¥è®¡ç®—å¹³å‡å€¼ã€‚ select avg(score) from ( select score, count(*) over() total, row_number() over(order by score) rn from #grade ) g where g.rn in ( floor(cast((total+1) as decimal)/2),ceiling(cast((total+1) as decimal)/2) ) è¿™é‡Œä½¿ç”¨åˆ°ä¸¤ä¸ªå››èˆäº”å…¥çš„å‡½æ•°ï¼šCEILING() - è¿”å›æœ€å°çš„æ•´æ•°ï¼Œä½¿è¿™ä¸ªæ•´æ•°å¤§äºæˆ–ç­‰äºæŒ‡å®šæ•°çš„æ•°å€¼è¿ç®—ã€‚å³å‘ä¸Šå–æ•´FLOOR() - è¿”å›æœ€å¤§æ•´æ•°ï¼Œä½¿è¿™ä¸ªæ•´æ•°å°äºæˆ–ç­‰äºæŒ‡å®šæ•°çš„æ•°å€¼è¿ç®—ã€‚å³å‘ä¸‹å–æ•´ æ–¹æ³•äºŒï¼šå¯¹å¥‡æ•°ä¸å¶æ•°çš„ä¸ªæ•°åˆ†æƒ…å†µå¤„ç†ï¼š select avg(score) from ( select score, count(*) over() total, cast(count(*) over() as decimal)/2 mid, ceiling(cast(count(*)over() as decimal)/2) next, row_number() over(order by score) rn from #grade ) x where ( total%2 = 0 and rn in ( mid, mid+1 )) or ( total%2 = 1 and rn = next) å¯¹äºå…¶ä»–çš„æ•°æ®åº“çš„å†™æ³•ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹è¿™ä¸ªé“¾æ¥ï¼šhttps://geek-docs.com/sql/sql-examples/sql-to-calculate-the-median.html","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"SQL Serveræ—¥æœŸå‡½æ•°è¯¦è§£ä¸å®æˆ˜","slug":"SQL Serveræ—¥æœŸå‡½æ•°è¯¦è§£ä¸å®æˆ˜","date":"2020-09-20T09:22:11.000Z","updated":"2020-09-26T09:42:29.191Z","comments":true,"path":"2020/09/20/SQL Serveræ—¥æœŸå‡½æ•°è¯¦è§£ä¸å®æˆ˜/","link":"","permalink":"http://smilecoc.vip/2020/09/20/SQL Serveræ—¥æœŸå‡½æ•°è¯¦è§£ä¸å®æˆ˜/","excerpt":"","text":"ç¼–å†™SQLä¸­ç»å¸¸å¯ä»¥é‡åˆ°æ—¥æœŸçš„æ ¼å¼åŒ–ä¸æ—¥æœŸç›¸å…³å‡½æ•°ï¼Œè¿™ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬å°†æ•´ç†ä¸€ä¸‹ç›¸å…³å‡½æ•°å¹¶ç»™å‡ºä¸€äº›å®ä¾‹ä¾›å‚è€ƒ è·å–æ—¶é—´å‡½æ•°getdate()å‡½æ•°getdate()å‡½æ•°è·å–å½“å‰çš„æ—¥æœŸä¸æ—¶é—´ã€‚è¿”å›çš„ä¸ºdatetimeç±»å‹ select GETDATE() è¿”å›2020-09-21 10:07:38.170 SYSDATETIME()å‡½æ•°SYSDATETIME()å‡½æ•°è·å–å½“å‰çš„æ—¥æœŸä¸æ—¶é—´ï¼Œä½†æ˜¯è¿”å›çš„æ•°æ®ç±»å‹æ˜¯DATETIME2ï¼Œä¼šæ›´åŠ ç²¾å‡†ï¼Œä½¿ç”¨é¢‘ç‡è¾ƒå°‘ SELECT SYSDATETIME() æ ¼å¼åŒ–å‡½æ•°CONVERT()å‡½æ•°CONVERT() å‡½æ•°æ˜¯ä¸€ä¸ªæ•°æ®ç±»å‹è½¬åŒ–çš„é€šç”¨å‡½æ•°ï¼Œä¾‹å¦‚å°†æ•°å­—ç±»å‹è½¬åŒ–ä¸ºæ–‡æœ¬ç­‰ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ­¤å‡½æ•°æŠŠæ—¥æœŸè½¬æ¢ä¸ºæ–°æ•°æ®ç±»å‹è¯­æ³•ä¸ºï¼š CONVERT(data_type(length),expression,style) å…¶ä¸­data_type(length) è§„å®šç›®æ ‡æ•°æ®ç±»å‹ï¼ˆå¸¦æœ‰å¯é€‰çš„é•¿åº¦ï¼‰ã€‚expressionæŒ‡éœ€è¦è½¬æ¢çš„å€¼ã€‚style è§„å®šæ—¥æœŸ/æ—¶é—´çš„è¾“å‡ºæ ¼å¼ã€‚ å…¶ä¸­å¸¸ç”¨çš„styleä»£ç åŠæ˜¾ç¤ºæ ¼å¼å¦‚ä¸‹ï¼š 101ï¼š mm/dd/yyyy 110ï¼š mm-dd-yyyy 111ï¼š yyyy/mm/dd 112ï¼š yyyymmdd 120ï¼š yyyy-mm-dd hh:mm:ss 121ï¼š yyyy-mm-dd hh:mm:ssssssså…¨éƒ¨çš„styleä»£ç å¯ä»¥å‚è€ƒ:https://www.cnblogs.com/rainman/p/6558261.html ä¾‹å¦‚; SELECT CONVERT(varchar(100), GETDATE(), 111) é€šè¿‡æŸ¥çœ‹è½¬åŒ–åçš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥çœ‹åˆ°æ–°çš„æ•°æ®ç±»å‹å·²å˜æˆvarchar(100)ç±»å‹ã€‚ --æŸ¥çœ‹æ•°æ®ç±»å‹ DECLARE @query nvarchar(max) = &#39;SELECT CONVERT(varchar(100), GETDATE(), 111) AS [Column1]&#39;; EXEC sp_describe_first_result_set @query, null, 0; FORMAT()å‡½æ•°Formatå‡½æ•°ç”¨äºæŒ‡å®šæ˜¾ç¤ºçš„æ ¼å¼ã€‚è¯­æ³•ï¼š FORMAT(value,format[,culture])å‚æ•°formatç”¨äºæŒ‡å®šæ˜¾ç¤ºçš„æ ¼å¼ï¼Œç»™äºˆç”¨æˆ·å¯¹æ ¼å¼æ›´è‡ªç”±åœ°æ§åˆ¶ï¼Œcultureå‚æ•°æ˜¯å¯é€‰çš„ï¼Œç”¨äºæŒ‡å®šæ˜¾ç¤ºçš„è¯­è¨€ï¼Œè¯¥å‡½æ•°è¿”å›å€¼çš„æ•°æ®ç±»å‹æ˜¯NVARCHARï¼Œå¦‚æœæ ¼å¼è½¬æ¢å¤±è´¥ï¼Œè¯¥å‡½æ•°è¿”å›NULL å‚æ•°formatä½¿ç”¨#è¡¨ç¤ºä¸€ä¸ªæ•°å€¼ï¼Œå‚æ•° format ä½¿ç”¨ä»¥ä¸‹å ä½ç¬¦æ¥è¡¨ç¤ºæ—¥æœŸ/æ—¶é—´çš„æ ¼å¼ï¼š 1. yyyyã€MMã€ddï¼šè¡¨ç¤ºå¹´ã€æœˆã€æ—¥ 2. hh:mm:ss fffffffï¼šè¡¨ç¤ºæ—¶ã€åˆ†ã€ç§’ã€æ¯«ç§’ 3. ä½¿ç”¨â€œ/â€ï¼Œâ€œ-â€ç­‰ä½œä¸ºè¿æ¥å„ä¸ªéƒ¨åˆ†ï¼ˆpartï¼‰çš„åˆ†å‰²ç¬¦å·ä¾‹å¦‚è¦å°†å½“å‰æ—¥æœŸè½¬åŒ–ä¸º20200921ï¼Œåˆ™SQLè¯­å¥ä¸ºï¼š SELECT Format(GETDATE(), &#39;yyyyMMdd&#39;) åŒæ—¶format()å‡½æ•°è¿˜å¯ä»¥è½¬å˜æ•°å€¼ç±»å‹ï¼Œä½¿ç”¨ç‰¹å®šçš„æ ¼å¼å±•ç¤ºç­‰ select FORMAT(123456789,&#39;###-##-####&#39;) AS &#39;Custom Number Result&#39; å¯¹åº”è¿”å›ç»“æœä¸º123-45-6789 æ—¥æœŸçš„æ‹†åˆ†YEAR(date),MONTH(date),DAY(date)YEAR(date),MONTH(date),DAY(date)ç­‰å‡½æ•°è¿”å›ç»™å®šdateçš„å¹´ï¼Œæœˆï¼Œæ—¥å®ä¾‹ï¼š select year(&#39;2020-9-21&#39;),month(&#39;2020-9-21&#39;),day(&#39;2020-9-21&#39;) DATEPART() å‡½æ•°DATEPART() å‡½æ•°ç”¨äºè¿”å›æ—¥æœŸ/æ—¶é—´çš„å•ç‹¬éƒ¨åˆ†ï¼Œæ¯”å¦‚å¹´ã€æœˆã€æ—¥ã€å°æ—¶ã€åˆ†é’Ÿç­‰ç­‰ è¯­æ³•ï¼š DATEPART(datepart,date)å…¶ä¸­date å‚æ•°æ˜¯åˆæ³•çš„æ—¥æœŸè¡¨è¾¾å¼ã€‚datepartä¸ºéœ€è¦å–å‡ºçš„æ•°æ®ç¼©å†™ä»£ç ã€‚å¸¸ç”¨çš„datepartå‚æ•°å¯ä»¥æ˜¯ä¸‹åˆ—çš„å€¼ï¼š quarterï¼šå­£åº¦ï¼Œå–å€¼èŒƒå›´æ˜¯ 1ã€2ã€3ã€4 weekï¼šå‘¨åœ¨å¹´ä¸­çš„åºæ•°ï¼Œå–å€¼èŒƒå›´æ˜¯ 1 - 53 dayofyearï¼šå¤©åœ¨å¹´ä¸­çš„åºæ•°ï¼Œå–å€¼èŒƒå›´æ˜¯ 1 - 366 weekdayï¼šå¤©åœ¨ä¸€å‘¨ä¸­çš„åºæ•°ï¼Œå–å€¼èŒƒå›´æ˜¯ 1 - 7å…¨éƒ¨å‚æ•°å¯å‚é˜…ï¼šhttps://www.w3school.com.cn/sql/func_datepart.asp å…·ä½“å®ä¾‹ä»£ç ï¼š --è¿”å›å¹´ï¼Œæœˆä»½ï¼Œå­£åº¦ï¼Œå½“å‰å¤©æ•°ç»Ÿè®¡ SELECT DATEPART(yyyy,GETDATE()) AS Year, DATEPART(m,GETDATE()) AS Month, DATEPART(quarter,GETDATE()) AS Quarter, DATEPART(dayofyear,GETDATE()) AS daynumber DATENAME()å‡½æ•°ï¼Œä¸DATEPARTä¸åŒçš„åœ°æ–¹åœ¨äºè¿”å›å­—ç¬¦ç±»å‹,æ¯”å¦‚Jan,ä¸€æœˆç­‰è¯­æ³•ï¼š DATENAME(datepart,date) å®ä¾‹ï¼š SELECT DATENAME(month, getdate()) AS &#39;Month&#39; å¯¹äºä¸­è‹±æ–‡åˆ‡æ¢ï¼Œä½¿ç”¨å¦‚ä¸‹è¯­å¥ï¼š set LANGUAGE &#39;Simplified Chinese&#39; select DATENAME(WEEKDAY,getutcdate()) set LANGUAGE &#39;us_english&#39; select DATENAME(WEEKDAY,getutcdate()) æ—¥æœŸè®¡ç®—å‡½æ•°EOMonth()å‡½æ•°EOMonth()å‡½æ•°å¯ä»¥è¿”å›æœˆä»½çš„æœ€åä¸€å¤©ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªå‡½æ•°æ±‚æŸä¸ªæœˆçš„æœ€åä¸€å¤©ä¸ç¬¬ä¸€å¤©ã€‚è¯­æ³•ï¼š EOMONTH(start_date [,month_to_add])å…¶ä¸­start_dateï¼š æœ‰ä¸¤ç§è¾“å…¥æ–¹å¼ï¼Œèƒ½å¤Ÿè½¬æ¢ä¸ºDateçš„å­—ç¬¦ä¸²ç±»å‹ å’Œ date æ•°æ®ç±»å‹ month_to_addï¼š æ˜¯int ç±»å‹ï¼Œèƒ½å¤Ÿä¸ºæ­£æ•´æ•°ï¼Œè´Ÿæ•´æ•°å’Œ0ï¼Œé»˜è®¤å€¼æ˜¯0ï¼Œå¦‚æœçœç•¥ï¼Œé‚£ä¹ˆä½¿ç”¨é»˜è®¤å€¼0,è¡¨ç¤ºæœˆä»½çš„åç§»é‡ã€‚ --æŸ¥çœ‹å½“å‰æœˆçš„æœ€åä¸€å¤©ã€ä¸‹ä¸€ä¸ªæœˆçš„æœ€åä¸€å¤©ã€ä¸Šä¸€ä¸ªæœˆçš„æœ€åä¸€å¤© declare @date date set @date=getdate() select EOMONTH(@date) as CurrentMonth_EndDay, EOMONTH(@date,1) as NextMonth_EndDay, EOMONTH(@date,-1) as LastMonth_EndDay dateadd()å‡½æ•°DATEADD() å‡½æ•°åœ¨æ—¥æœŸä¸­æ·»åŠ æˆ–å‡å»æŒ‡å®šçš„æ—¶é—´é—´éš”ã€‚è¯­æ³•ï¼š DATEADD(datepart,number,date)å…¶ä¸­datepartæ˜¯å–®ä½(å¹´ï¼Œæœˆï¼Œå¤©ç­‰)ï¼Œnumberæ˜¯æŒ‡å®šçš„æ•¸å€¼ï¼Œdateæ˜¯åŸå§‹æ—¥æœŸå¦‚ä¸‹ä¾‹çš„çµæœæ˜¯å½“å‰æ—¶é—´çš„ä¸¤ä¸ªæœˆåçš„æ—¥æœŸï¼Œç±»å‹ä¸ºdatetimeç±»å‹ SELECT DATEADD(MONTH,2,getdate()) æ ¹æ®ä¸Šè¿°ä¸¤ä¸ªå‡½æ•°æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ä¸Šä¸ªæœˆçš„æœ€åä¸€å¤©+1æ¥è·å–æ¯ä¸ªæœˆç¬¬ä¸€å¤© select dateadd(day,1,EOMONTH(getdate(),-1)) as CurrentMonth_startDay åŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡å‰é¢æ‰€è¯´çš„æ—¥æœŸæ‹¼æ¥å‡½æ•°ä¸formatå‡½æ•°å®ç° declare @date date set @date=getdate() select DATEFROMPARTS(year(@date),month(@date),1) --or select FORMAT(GETDATE(),&#39;yyyy-MM-01&#39;) DATEDIFF()å‡½æ•°DATEDIFF()å‡½æ•°è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¹‹é—´çš„é—´éš”ï¼Œä¼ å›å¸¦æ­£è´Ÿç¬¦å·çš„æ•´æ•° è¯­æ³•ï¼š DATEDIFF(datepart,startdate,enddate)datepartä¸ºé—´éš”çš„å•ä½ï¼Œå¯ä»¥é€‰æ‹©å¤©ï¼Œå‘¨ï¼Œæœˆç­‰ã€‚startdateè·Ÿenddateä¸ºèµ·å§‹æ—¶é—´ å®ä¾‹ï¼š SELECT DATEDIFF(DAY, &#39;2010-10-03&#39;,&#39;2010-10-04&#39; ) ç»“æœè¿”å›1 æ„é€ æ—¥æœŸçš„å‡½æ•°æ„é€ æ—¥æœŸçš„å‡½æ•°æœ‰ä»¥ä¸‹å‡ ä¸ªï¼šè¯­æ³•ï¼š DATEFROMPARTS ( year, month, day ) DATETIME2FROMPARTS ( year, month, day, hour, minute, seconds, fractions, precision ) DATETIMEOFFSETFROMPARTS ( year, month, day, hour, minute, seconds, fractions, hour_offset, minute_offset, precision ) TIMEFROMPARTS ( hour, minute, seconds, fractions, precision ) ä¼ å…¥å¯¹åº”å‚æ•°åå³å¯å…¶ä¸­å‚æ•°precision æ˜¯æŒ‡å°æ•°ç§’çš„ç²¾åº¦ï¼ŒæŒ‡çš„æ˜¯DateTime2(n)ã€DateTimeOffset(n),Time(n)ä¸­çš„nå€¼ï¼Œè¡¨ç¤ºä»¥å¤šå°‘ä½å°æ•°è¡¨ç¤º1sï¼Œä¸€èˆ¬æ¯”è¾ƒå°‘ä½¿ç”¨ select DATEFROMPARTS ( 2020, 1, 2 ) ç»ƒä¹ å®ä¾‹ç°æœ‰ä¸€åˆ—æ—¥æœŸï¼Œè¯·æ ¹æ®æ—¥æœŸè¾“å‡ºå¯¹åº”çš„æ¯å‘¨å¼€å§‹ä¸æ¯å‘¨ç»“æŸæ—¥æœŸå¹¶æ ¼å¼åŒ–ã€‚ä¾‹å¦‚åŸå§‹æ•°æ®time_testè¡¨ï¼š | date | |-----------| | 2020-8-4 | | 2020-8-5 | | 2020-8-6 | | 2020-8-12 | | 2020-8-8 | | 2020-8-12 | | 2020-9-15 |æœŸæœ›çš„è¾“å‡ºç»“æœï¼š | date | period | |-----------|---------| | 2020-8-4 |0803-0809| | 2020-8-5 |0803-0809| | 2020-8-6 |0803-0809| | 2020-8-12 |0810-0816| | 2020-8-8 |0803-0809| | 2020-8-12 |0803-0809| | 2020-9-15 |0810-0816|å…¶ä¸­periodçš„å¼€å§‹ä¸ºæ¯å‘¨å‘¨ä¸€ï¼Œç»“æŸæ—¥æœŸä¸ºæ¯å‘¨å‘¨æ—¥ è§£ç­”ï¼šå…ˆç»™å‡ºä»£ç  select [date], format(DATEADD(wk, DATEDIFF(wk,0,DATEADD(dd,-1,[date])), 0),&#39;MMdd&#39;)+&#39;-&#39;+format(DATEADD(dd,-1,DATEADD(wk, DATEDIFF(wk,0,DATEADD(dd,6,[date])), 0)),&#39;MMdd&#39;) as period from time_test ä»å†…åˆ°å¤–è§£æè¿™ä¸€æ®µä»£ç ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ©ç”¨datediif(wk,0,date)è®¡ç®—ä»1900-01-01 åˆ°æŒ‡å®šæ—¥æœŸçš„å‘¨æ•°ï¼ˆ0ä»£è¡¨æ—¥æœŸå¯¹åº”çš„æ•°å­—å½¢å¼ï¼Œå³1900-01-01ï¼‰ã€‚ä¹‹ååˆ©ç”¨DateAddå‡½æ•°åœ¨1900-01-01 çš„åŸºç¡€ä¸ŠåŠ ä¸Šåˆšåˆšæˆ‘ä»¬è®¡ç®—å‡ºçš„å‘¨æ•°ï¼Œä»è€Œå¾—åˆ°æ¯å‘¨çš„å¼€å§‹æ—¶é—´ã€‚æœ€åé€šè¿‡formaå‡½æ•°å¯¹æ—¥æœŸæ ¼å¼åŒ–å³å¯å¾—å‡ºç»“æœã€‚ å…¶ä¸­åœ¨æœ€å†…å±‚æœ‰ä¸€ä¸ªDATEADD(dd,-1,[date])ï¼Œè¿™ä¸ªæ˜¯ç”±äºæˆ‘ä½¿ç”¨çš„æ˜¯è‹±æ–‡ç‰ˆçš„SQL server,æ‰€ä»¥æ¯å‘¨æ˜¯å‘¨æ—¥å¼€å§‹ä¸å‘¨å…­ç»“æŸï¼Œå¦‚æœä½¿ç”¨ä¸­æ–‡ç‰ˆSQL server,åº”è¯¥å°±å¯ä»¥ç›´æ¥ä½¿[date]åˆ—","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"SQL Server å…¬ç”¨è¡¨è¡¨è¾¾å¼(CTE)","slug":"SQL  Server å…¬ç”¨è¡¨è¡¨è¾¾å¼(CTE)","date":"2020-09-20T02:25:18.000Z","updated":"2020-09-24T15:38:32.820Z","comments":true,"path":"2020/09/20/SQL  Server å…¬ç”¨è¡¨è¡¨è¾¾å¼(CTE)/","link":"","permalink":"http://smilecoc.vip/2020/09/20/SQL  Server å…¬ç”¨è¡¨è¡¨è¾¾å¼(CTE)/","excerpt":"","text":"ç®€ä»‹åœ¨ä¹¦å†™SQLçš„è¿‡ç¨‹ä¸­ç»å¸¸ä¼šéœ€è¦ç”¨åˆ°ä¸­é—´è¿‡ç¨‹è¡¨æˆ–è€…ç»“æœé›†ï¼Œä¸€èˆ¬æˆ‘ä»¬å®ç°ä¸­é—´è¡¨ä¾›åç»­æŸ¥è¯¢çš„æ–¹æ³•æœ‰ï¼šä½¿ç”¨å­æŸ¥è¯¢ æˆ–è€… åˆ›å»ºè§†å›¾è¿›è¡Œå­˜å‚¨ã€‚ä½†æ˜¯ä½¿ç”¨å­æŸ¥è¯¢ä¼šä½¿è¯­å¥å˜å¾—ä¸æ˜“äºé˜…è¯»ï¼Œä¸åˆ©äºSQLä»£ç æ›´åŠ ç®€æ´å’Œå¯è¯»ï¼Œè€Œè§†å›¾æ˜¯ä½œä¸ºç³»ç»Ÿå¯¹è±¡å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œé‚£å¯¹äºç»“æœé›†ä»…ä»…éœ€è¦åœ¨å­˜å‚¨è¿‡ç¨‹æˆ–æ˜¯ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ä¸­ä½¿ç”¨ä¸€æ¬¡çš„æ—¶å€™ï¼Œä½¿ç”¨è§†å›¾å°±æ˜¾å¾—æœ‰äº›å¥¢ä¾ˆäº†. å…¬ç”¨è¡¨è¡¨è¾¾å¼ï¼ˆCommon Table Expression)æ˜¯SQL SERVER 2005ç‰ˆæœ¬ä¹‹åå¼•å…¥çš„ä¸€ä¸ªç‰¹æ€§.CTEå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªä¸´æ—¶çš„ç»“æœé›†ï¼Œå¯ä»¥åœ¨æ¥ä¸‹æ¥çš„ä¸€ä¸ªSELECT,INSERT,UPDATE,DELETE,MERGEè¯­å¥ä¸­è¢«å¤šæ¬¡å¼•ç”¨ã€‚ä½¿ç”¨å…¬ç”¨è¡¨è¾¾å¼å¯ä»¥è®©è¯­å¥æ›´åŠ æ¸…æ™°ç®€ç»ƒ. é™¤æ­¤ä¹‹å¤–ï¼Œæ ¹æ®å¾®è½¯å¯¹CTEå¥½å¤„çš„æè¿°ï¼Œå¯ä»¥å½’ç»“ä¸ºå››ç‚¹: å¯ä»¥å®šä¹‰é€’å½’å…¬ç”¨è¡¨è¡¨è¾¾å¼(CTE) å½“ä¸éœ€è¦å°†ç»“æœé›†ä½œä¸ºè§†å›¾è¢«å¤šä¸ªåœ°æ–¹å¼•ç”¨æ—¶ï¼ŒCTEå¯ä»¥ä½¿å…¶æ›´åŠ ç®€æ´ GROUP BYè¯­å¥å¯ä»¥ç›´æ¥ä½œç”¨äºå­æŸ¥è¯¢æ‰€å¾—çš„æ ‡é‡åˆ— å¯ä»¥åœ¨ä¸€ä¸ªè¯­å¥ä¸­å¤šæ¬¡å¼•ç”¨å…¬ç”¨è¡¨è¡¨è¾¾å¼(CTE) å…¬ç”¨è¡¨è¡¨è¾¾å¼(CTE)çš„å®šä¹‰å…¬ç”¨è¡¨è¾¾å¼çš„å®šä¹‰éå¸¸ç®€å•ï¼ŒåªåŒ…å«ä¸‰éƒ¨åˆ†ï¼š WITH Expression_Name [ ( ColumnName [1,...n] ) ] AS ( CTE query definition )Expression_Nameä¸ºå…¬ç”¨è¡¨è¡¨è¾¾å¼çš„åå­—ï¼ˆåœ¨WITHä¹‹åï¼‰ï¼ŒColumnNameæ‰€æ¶‰åŠçš„åˆ—åï¼ˆå¯é€‰ï¼‰CTE ï¼Œquery definition ä¸ºSQLè¯­å¥(ç´§è·ŸASä¹‹å) æŒ‰ç…§æ˜¯å¦é€’å½’ï¼Œå¯ä»¥å°†å…¬ç”¨è¡¨ï¼ˆCTEï¼‰è¡¨è¾¾å¼åˆ†ä¸ºé€’å½’å…¬ç”¨è¡¨è¡¨è¾¾å¼å’Œéé€’å½’å…¬ç”¨è¡¨è¡¨è¾¾å¼. éé€’å½’å…¬ç”¨è¡¨è¡¨è¾¾å¼(CTE)éé€’å½’å…¬ç”¨è¡¨è¡¨è¾¾å¼ï¼ˆCTEï¼‰æ˜¯æŸ¥è¯¢ç»“æœä»…ä»…ä¸€æ¬¡æ€§è¿”å›ä¸€ä¸ªç»“æœé›†ç”¨äºå¤–éƒ¨æŸ¥è¯¢è°ƒç”¨ã€‚å¹¶ä¸åœ¨å…¶å®šä¹‰çš„è¯­å¥ä¸­è°ƒç”¨å…¶è‡ªèº«çš„CTE éé€’å½’å…¬ç”¨è¡¨è¡¨è¾¾å¼ï¼ˆCTEï¼‰çš„ä½¿ç”¨æ–¹å¼å’Œè§†å›¾ä»¥åŠå­æŸ¥è¯¢ä¸€è‡´ æ¯”å¦‚ä¸€ä¸ªç®€å•çš„éé€’å½’å…¬ç”¨è¡¨è¡¨è¾¾å¼: WITH CTE_Test AS ( SELECT * FROM Student ) SELECT * FROM CTE_Test å½“ç„¶ï¼Œå…¬ç”¨è¡¨è¡¨è¾¾å¼çš„å¥½å¤„ä¹‹ä¸€æ˜¯å¯ä»¥åœ¨æ¥ä¸‹æ¥ä¸€æ¡è¯­å¥ä¸­å¤šæ¬¡å¼•ç”¨: WITH CTE_Test AS ( SELECT * FROM Student ) SELECT * FROM CTE_Test a inner join CTE_Test b on a.ID=b.ID group by a.ID å‰é¢ä¸€ç›´å¼ºè°ƒâ€œåœ¨æ¥ä¸‹æ¥çš„ä¸€æ¡è¯­å¥ä¸­â€ï¼Œæ„å‘³ç€åªèƒ½æ¥ä¸‹æ¥ä¸€æ¡ä½¿ç”¨: WITH CTE_Test AS ( SELECT * FROM Student ) --è¯­å¥1ï¼Œæ­£å¸¸è¿è¡Œ SELECT * FROM CTE_Test --è¯­å¥2ï¼Œè¿è¡ŒæŠ¥é”™CTE_Testæ— æ•ˆ SELECT * FROM CTE_Test ç”±äºCTEåªèƒ½åœ¨æ¥ä¸‹æ¥ä¸€æ¡è¯­å¥ä¸­ä½¿ç”¨ï¼Œå› æ­¤ï¼Œå½“éœ€è¦æ¥ä¸‹æ¥çš„ä¸€æ¡è¯­å¥ä¸­å¼•ç”¨å¤šä¸ªCTEæ—¶ï¼Œå¯ä»¥å®šä¹‰å¤šä¸ªï¼Œä¸­é—´ç”¨é€—å·åˆ†éš”ï¼š WITH CTE_Test AS ( SELECT * FROM Student ) CTE_Test2 AS ( SELECT * FROM School ) SELECT * FROM CTE_Test SELECT * FROM CTE_Test2 é€’å½’å…¬ç”¨è¡¨è¡¨è¾¾å¼(CTE)é€’å½’æ˜¯æŒ‡ä¸€ä¸ªå‡½æ•°æˆ–æ˜¯è¿‡ç¨‹ç›´æ¥æˆ–è€…é—´æ¥çš„è°ƒç”¨å…¶è‡ªèº«.é€’å½’å…¬ç”¨è¡¨è¡¨è¾¾å¼å¾ˆåƒæ´¾ç”Ÿè¡¨ï¼ˆDerived Tables ï¼‰ï¼ŒæŒ‡çš„æ˜¯åœ¨CTEå†…çš„è¯­å¥ä¸­è°ƒç”¨å…¶è‡ªèº«çš„CTE.ä¸æ´¾ç”Ÿè¡¨ä¸åŒçš„æ˜¯ï¼ŒCTEå¯ä»¥åœ¨ä¸€æ¬¡å®šä¹‰å¤šæ¬¡è¿›è¡Œæ´¾ç”Ÿé€’å½’. å¯¹äºé€’å½’å…¬ç”¨è¡¨è¾¾å¼æ¥è¯´ï¼Œéœ€è¦åœ¨è¯­å¥ä¸­å®šä¹‰ï¼šåŸºæœ¬è¯­å¥ï¼Œé€’å½’è¯­å¥ï¼Œä»¥åŠé€’å½’ç»ˆæ­¢æ¡ä»¶ã€‚ ä¸‹é¢æˆ‘ä»¬é€šè¿‡å®ä¾‹æ¥è¯´æ˜é€’å½’CTEçš„ä½¿ç”¨ å…¬å¸å±‚æ¬¡ç»“æ„æ¡ˆä¾‹é¦–å…ˆå»ºç«‹æµ‹è¯•è¡¨ create table #dt_user ( UserID int, ManagerID int, Name Nvarchar(10) ) insert into #dt_user select 1,-1,N&#39;Boss&#39; union all select 11,1,N&#39;A1&#39; union all select 12,1,N&#39;A2&#39; union all select 13,1,N&#39;A3&#39; union all select 111,11,N&#39;B1&#39; union all select 112,11,N&#39;B2&#39; union all select 121,12,N&#39;C1&#39; æµ‹è¯•è¡¨æ•°æ®ï¼š +â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€+ | UserID | ManagerID | Name | +â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€+ | 1 | -1 | Boss | | 11 | 1 | A1 | | 12 | 1 | A2 | | 13 | 1 | A3 | | 111 | 11 | B1 | | 112 | 11 | B2 | | 121 | 12 | C1 | +â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€+ç°åœ¨æˆ‘ä»¬é€šè¿‡CTEæ‰¾å‡ºæ‰€æœ‰å‘˜å·¥çš„ä¸Šçº§å§“å with cte as ( select UserID,ManagerID,name,name as ManagerName from #dt_user where ManagerID=-1 union all select c.UserID,c.ManagerID,c.Name,p.name as ManagerName from cte P inner join #dt_user c on p.UserID=c.ManagerID ) select UserID,ManagerID,Name,ManagerName from cte order by UserID ç»“æœä¸ºï¼š +â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+ | UserID | ManagerID | Name | ManagerName | +â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+ | 1 | -1 | Boss | Boss | | 11 | 1 | A1 | Boss | | 12 | 1 | A2 | Boss | | 13 | 1 | A3 | Boss | | 111 | 11 | B1 | A1 | | 112 | 11 | B2 | A1 | | 121 | 12 | C1 | A2 | +â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+ è¿™æ ·æˆ‘ä»¬é€šè¿‡é€’å½’ä»æœ€é«˜çº§åˆ«å¼€å§‹ï¼Œä¸€æ­¥æ­¥æ‰¾å‡ºä¸‹ä¸€çº§ä¸­ManageIDç­‰äºUserIDçš„ä¿¡æ¯å¹¶è¿”å›ã€‚å…·ä½“æ­¥éª¤ï¼šstep1ï¼šå…ˆæŸ¥è¯¢ManagerID=-1ï¼Œä½œä¸ºroot nodeï¼Œè¿™æ˜¯é€’å½’æŸ¥è¯¢çš„èµ·å§‹ç‚¹ã€‚step2ï¼šè¿­ä»£å…¬å¼æ˜¯ union all ä¸‹é¢çš„æŸ¥è¯¢è¯­å¥ã€‚åœ¨æŸ¥è¯¢è¯­å¥ä¸­è°ƒç”¨ä¸­cteï¼Œè€ŒæŸ¥è¯¢è¯­å¥å°±æ˜¯cteçš„ç»„æˆéƒ¨åˆ†ï¼Œå³ â€œè‡ªå·±è°ƒç”¨è‡ªå·±â€ï¼Œè¿™å°±æ˜¯é€’å½’çš„çœŸè°›æ‰€åœ¨ã€‚æ‰€è°“è¿­ä»£ï¼Œæ˜¯æŒ‡æ¯ä¸€æ¬¡é€’å½’éƒ½è¦è°ƒç”¨ä¸Šä¸€æ¬¡æŸ¥è¯¢çš„ç»“æœé›†ï¼ŒUnion ALLæ˜¯æŒ‡æ¯æ¬¡éƒ½æŠŠç»“æœé›†å¹¶åœ¨ä¸€èµ·ã€‚step3-Nï¼šè¿­ä»£å…¬å¼åˆ©ç”¨ä¸Šä¸€æ¬¡æŸ¥è¯¢è¿”å›çš„ç»“æœé›†æ‰§è¡Œç‰¹å®šçš„æŸ¥è¯¢ï¼Œç›´åˆ°CTEè¿”å›null æˆ–è¾¾åˆ°æœ€å¤§çš„è¿­ä»£æ¬¡æ•°ï¼Œé»˜è®¤å€¼æ˜¯32ã€‚æœ€ç»ˆçš„ç»“æœé›†æ˜¯è¿­ä»£å…¬å¼è¿”å›çš„å„ä¸ªç»“æœé›†çš„å¹¶é›†ï¼Œæ±‚å¹¶é›†æ˜¯ç”±Union All å­å¥å®šä¹‰çš„ï¼Œå¹¶ä¸”åªèƒ½ä½¿ç”¨Union ALLã€‚ é€šè¿‡é€’å½’CTEä½¿æŸ¥è¯¢å˜å¾—ä¼˜é›…å’Œç®€æ´.è¿™ä¹Ÿæ˜¯CTEæœ€å¼ºå¤§çš„åœ°æ–¹. åœ°ç†ä½ç½®å±‚æ¬¡æ¡ˆä¾‹é¦–å…ˆå»ºç«‹æ•°æ®æºè¡¨ï¼š create table #hierarchy ( ID int not null primary key, ParentID int not null, name nvarchar(100) not null ) insert into #hierarchy values(1,0,N&#39;æ²³å—çœ&#39;) ,(2,1,N&#39;ä¿¡é˜³å¸‚&#39;),(3,2,N&#39;æ·®æ»¨å¿&#39;),(4,3,N&#39;èŠ¦é›†ä¹¡&#39;),(12,3,N&#39;é‚“æ¹¾ä¹¡&#39;),(13,3,N&#39;å°å¤´ä¹¡&#39;),(14,3,N&#39;è°·å †ä¹¡&#39;) ,(8,2,N&#39;å›ºå§‹å¿&#39;),(9,8,N&#39;æåº—ä¹¡&#39;) ,(10,2,N&#39;æ¯å¿&#39;),(11,10,N&#39;å…³åº—ä¹¡&#39;) ,(5,1,N&#39;å®‰é˜³å¸‚&#39;),(6,5,N&#39;æ»‘å¿&#39;),(7,6,N&#39;è€åº™ä¹¡&#39;) ,(15,1,N&#39;å—é˜³å¸‚&#39;),(16,15,N&#39;æ–¹åŸå¿&#39;) ,(17,1,N&#39;é©»é©¬åº—å¸‚&#39;),(18,17,N&#39;æ­£é˜³å¿&#39;) è¡¨ç»“æ„ä¸ºï¼š | ID | ParentID | name | |----|----------|------| | 1 | 0 | æ²³å—çœ | | 19 | 0 | åŒ—äº¬å¸‚ | | 20 | 0 | æ±Ÿè‹çœ | | 21 | 1 | å—äº¬å¸‚ | | 2 | 1 | ä¿¡é˜³å¸‚ | | 5 | 1 | å®‰é˜³å¸‚ | | 15 | 1 | å—é˜³å¸‚ | | 17 | 1 | é©»é©¬åº—å¸‚| | 10 | 2 | æ¯å¿ | | 8 | 2 | å›ºå§‹å¿ | | 3 | 2 | æ·®æ»¨å¿ | | 22 | 2 | æ­£é˜³å¿ | | 4 | 3 | èŠ¦é›†ä¹¡ | | 12 | 3 | é‚“æ¹¾ä¹¡ | | 13 | 3 | å°å¤´ä¹¡ | | 14 | 3 | è°·å †ä¹¡ | | 6 | 5 | æ»‘å¿ | | 7 | 6 | è€åº™ä¹¡ | | 9 | 8 | æåº—ä¹¡ | | 11 | 10 | å…³åº—ä¹¡ | | 16 | 15 | æ–¹åŸå¿ | | 18 | 17 | æ­£é˜³å¿ | ä¸‹é¢æˆ‘ä»¬é€šè¿‡CTEç­›é€‰å‡ºæ‰€æœ‰æ²³å—çœä¸‹è¾–çš„æ‰€æœ‰è¡Œæ”¿åŒºåŸŸã€‚ select * from #hierarchy order by ParentID with cte(Id,ParentID,Name) as ( select * from #hierarchy where id=1 union all select h.* from #hierarchy h inner join cte c on h.ParentID=c.id ) select * from cte order by ParentID å¦‚æœæƒ³çŸ¥é“å…·ä½“çš„è¡Œæ”¿åŒºåˆ’çº§åˆ«ï¼š with cte(Id,ParentID,Name,Level) as ( select ID,ParentID,Name,0 as Level from #hierarchy where id=1 union all select h.ID,h.ParentID,h.Name,c.Level+1 as Level from #hierarchy h inner join cte c on h.ParentID=c.id --where c.id!=h.ID ) select * from cte order by ParentID ç»“æœä¸ºï¼š | Id | ParentID | Name | Level | |----|----------|------|-------| | 1 | 0 | æ²³å—çœ | 0 | | 2 | 1 | ä¿¡é˜³å¸‚ | 1 | | 5 | 1 | å®‰é˜³å¸‚ | 1 | | 15 | 1 | å—é˜³å¸‚ | 1 | | 17 | 1 | é©»é©¬åº—å¸‚ | 1 | | 21 | 1 | å—äº¬å¸‚ | 1 | | 3 | 2 | æ·®æ»¨å¿ | 2 | | 8 | 2 | å›ºå§‹å¿ | 2 | | 10 | 2 | æ¯å¿ | 2 | | 22 | 2 | æ­£é˜³å¿ | 2 | | 4 | 3 | èŠ¦é›†ä¹¡ | 3 | | 12 | 3 | é‚“æ¹¾ä¹¡ | 3 | | 13 | 3 | å°å¤´ä¹¡ | 3 | | 14 | 3 | è°·å †ä¹¡ | 3 | | 6 | 5 | æ»‘å¿ | 2 | | 7 | 6 | è€åº™ä¹¡ | 3 | | 9 | 8 | æåº—ä¹¡ | 3 | | 11 | 10 | å…³åº—ä¹¡ | 3 | | 16 | 15 | æ–¹åŸå¿ | 2 | | 18 | 17 | æ­£é˜³å¿ | 2 |å¦‚æœæƒ³ä»ä¸‹çº§å¾€ä¸Šçº§æŸ¥æ‰¾ï¼Œä¾‹å¦‚ï¼šæŸ¥æ‰¾èŠ¦é›†ä¹¡æ‰€å±çœï¼Œå¸‚ï¼Œå¿ with cte as ( select ID,ParentID,name from #hierarchy where id=4 --èŠ¦é›†ä¹¡çš„ID union all select h.ID,h.ParentID,h.name from #hierarchy h inner join cte c on h.id=c.ParentID ) select ID,ParentID,name from cte order by ParentID ç»“æœï¼š | ID | ParentID | name | |----|----------|------| | 1 | 0 | æ²³å—çœ | | 2 | 1 | ä¿¡é˜³å¸‚ | | 3 | 2 | æ·®æ»¨å¿ | | 4 | 3 | èŠ¦é›†ä¹¡ |CTEçš„é€’å½’ç»ˆæ­¢æ¡ä»¶é€’å½’æŸ¥è¯¢æ²¡æœ‰æ˜¾å¼çš„é€’å½’ç»ˆæ­¢æ¡ä»¶ï¼Œåªæœ‰å½“é€’å½’å­æŸ¥è¯¢è¿”å›ç©ºç»“æœé›†ï¼ˆæ²¡æœ‰æ•°æ®è¡Œè¿”å›ï¼‰æˆ–æ˜¯è¶…å‡ºäº†é€’å½’æ¬¡æ•°çš„æœ€å¤§é™åˆ¶æ—¶ï¼Œæ‰åœæ­¢é€’å½’ã€‚ é»˜è®¤çš„é€’å½’æŸ¥è¯¢æ¬¡æ•°æ˜¯100ï¼Œå¯ä»¥ä½¿ç”¨æŸ¥è¯¢æç¤ºoption(MAXRECURSIONï¼‰æ§åˆ¶é€’å½’çš„æœ€å¤§æ¬¡æ•°ï¼šOPTION( MAXRECURSION 16)ï¼›å¦‚æœå…è®¸æ— é™åˆ¶çš„é€’å½’æ¬¡æ•°ï¼Œä½¿ç”¨æŸ¥è¯¢æç¤ºï¼šoption(maxrecursion 0)ï¼›å½“é€’å½’æŸ¥è¯¢è¾¾åˆ°æŒ‡å®šæˆ–é»˜è®¤çš„ MAXRECURSION æ•°é‡é™åˆ¶æ—¶ï¼ŒSQL Serverå°†ç»“æŸæŸ¥è¯¢å¹¶è¿”å›é”™è¯¯ï¼Œå¦‚ä¸‹ï¼š The statement terminated. The maximum recursion 10 has been exhausted before statement completion.äº‹åŠ¡æ‰§è¡Œå¤±è´¥ï¼Œè¯¥äº‹åŠ¡åŒ…å«çš„æ‰€æœ‰æ“ä½œéƒ½è¢«å›æ»šã€‚åœ¨äº§å“ç¯å¢ƒä¸­ï¼Œæ…ç”¨maxrecursion æŸ¥è¯¢æç¤ºï¼Œæ¨èé€šè¿‡ where æ¡ä»¶é™åˆ¶é€’å½’çš„æ¬¡æ•°ã€‚ æ€»ç»“CTEæ˜¯ä¸€ç§ååˆ†ä¼˜é›…çš„å­˜åœ¨ã€‚CTEæ‰€å¸¦æ¥æœ€å¤§çš„å¥½å¤„æ˜¯ä»£ç å¯è¯»æ€§çš„æå‡,è¿™æ˜¯è‰¯å¥½ä»£ç çš„å¿…é¡»å“è´¨ä¹‹ä¸€ã€‚ä½¿ç”¨é€’å½’CTEå¯ä»¥æ›´åŠ è½»æ¾æ„‰å¿«çš„ç”¨ä¼˜é›…ç®€æ´çš„æ–¹å¼å®ç°å¤æ‚çš„æŸ¥è¯¢ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"åˆ©ç”¨Pythonå¯¹è‹±é›„è”ç›Ÿèƒœåˆ©æ¡ä»¶è¿›è¡Œåˆ†æ","slug":"è‹±é›„è”ç›Ÿèƒœåˆ©å› ç´ åˆ†æ","date":"2020-09-06T05:15:11.000Z","updated":"2020-09-06T06:00:35.189Z","comments":true,"path":"2020/09/06/è‹±é›„è”ç›Ÿèƒœåˆ©å› ç´ åˆ†æ/","link":"","permalink":"http://smilecoc.vip/2020/09/06/è‹±é›„è”ç›Ÿèƒœåˆ©å› ç´ åˆ†æ/","excerpt":"","text":"åœ¨ã€Šè‹±é›„è”ç›Ÿã€‹çš„æ¯”èµ›ä¸­è¿‡ç¨‹ä¸­ä¼šæœ‰å¾ˆå¤šå› ç´ ä¼šå½±å“æ¸¸æˆæ˜¯å¦èƒœåˆ©ï¼Œä¾‹å¦‚ä¸€è¡€ï¼Œæ˜¯å¦æ‹¿åˆ°å°é¾™å’Œç”·çˆµï¼Œæ˜¯å¦ç‡å…ˆæ¨æ‰æ°´æ™¶ç­‰ï¼Œä¸€èˆ¬è¿™äº›èµ„æºä¼šå¯¹æ¯”èµ›èƒœåˆ©äº§ç”Ÿå½±å“ã€‚é€šè¿‡è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘æƒ³æ›´å¥½çš„äº†è§£è¿™äº›ç›®æ ‡ä¸­å“ªä¸€ä¸ªæ˜¯èµ¢å¾—è‹±é›„è”ç›Ÿæ¸¸æˆæœ€é‡è¦çš„ã€‚å°±æ­¤æå‡ºçš„é—®é¢˜å¦‚ä¸‹:â€‹ 1.è‹±é›„è”ç›Ÿæœ€é‡è¦çš„è·èƒœæ¡ä»¶æ˜¯ä»€ä¹ˆ? 2.å½“æŸäº›å› ç´ å‘ç”Ÿåå¦‚ä½•è®©å»é¢„æµ‹è¿™åœºæ¯”èµ›æ˜¯å¦ä¼šèƒœåˆ© æ•°æ®è·å–ä¸æ¢ç´¢æ€§æ•°æ®åˆ†æï¼ˆEDAï¼‰åŸå§‹æ•°æ®ä¸æºç å¯ä»¥å¾®ä¿¡åå°å›å¤è‹±é›„è”ç›Ÿèƒœåˆ©å› ç´ åˆ†æè·å– åŸå§‹æ•°æ®ä¸­ç»™å‡ºäº†åŒ…æ‹¬æ¯”èµ›IDï¼Œæ˜¯å¦èƒœåˆ©ï¼Œä»¥ç›¸å…³èµ„æºçš„è·å–æ•°é‡ï¼ŒåŒ…æ‹¬å¡”ï¼Œé¾™ï¼Œæ°´æ™¶çš„ç­‰å› ç´ ã€‚é¦–å…ˆçš„æ¢ç´¢æ€§æ•°æ®åˆ†æéƒ¨åˆ†æˆ‘ä»¬ä¾æ—§æ˜¯å…ˆæŸ¥çœ‹æ•°æ®çš„æ•°æ®ç±»å‹,æ•°æ®åˆ†å¸ƒä¸æ˜¯å¦å­˜åœ¨ç¼ºå¤±å€¼ match_df=pd.read_csv(r&quot;matches.csv&quot;) match_df.describe() match_df.info() #ä½¿ç”¨seabornå¯è§†åŒ–æ˜¯å¦å­˜åœ¨ç¼ºå¤±å€¼ sns.set_style(&#39;darkgrid&#39;) plt.figure(figsize = (12,8)) cmap = sns.diverging_palette(220, 20, l = 40, s = 99, sep = 20, center = &#39;light&#39;, as_cmap = True) sns.heatmap(match_df.isna(), cmap = cmap, yticklabels = False)#åˆ©ç”¨df.isna()æ¥è·å–æ˜¯å¦å­˜åœ¨nanå¹¶ç”¨çƒ­åŠ›å›¾å¯è§†åŒ– åœ¨ç¡®è®¤æ•°æ®æ— ç¼ºå¤±å€¼åæ¥çœ‹ä¸€ä¸‹å„ä¸ªå˜é‡é—´çš„ç›¸å…³ç³»æ•°ï¼š #è®¾å®šå›¾åƒæ ·å¼ plt.figure(figsize = (12,8)) cmap = sns.diverging_palette(220, 20, l = 40, s = 99, sep = 20, center = &#39;light&#39;, as_cmap = True) #dropå‡½æ•°é»˜è®¤åˆ é™¤è¡Œï¼Œåˆ—éœ€è¦åŠ axis = 1 #æŸ¥çœ‹å„ä¸ªå˜é‡ä¹‹é—´çš„ç›¸å…³ç³»æ•° sns.heatmap(match_df.drop([&#39;region&#39;], axis = 1).corr(), vmin = 0, vmax = 1, annot = True, cmap = cmap, lw = .5, linecolor = &#39;white&#39;) å¯ä»¥çœ‹å‡ºæ‹¿åˆ°ç¬¬ä¸€åº§æ°´æ™¶ï¼Œæ¨å¡”æ•°é‡ä¸æ‘§æ¯æ°´æ™¶æ•°é‡å¯¹äºèƒœåˆ©çš„å½±å“æœ‰è¾ƒå¼ºçš„ç›¸å…³æ€§ ä¸»æˆåˆ†åˆ†æéƒ¨åˆ†ï¼ˆPCAï¼‰åœ¨è¿™äº›åŸå§‹æ•°æ®æä¾›çš„ç»´åº¦ä¸­ï¼Œæœ‰å“ªäº›ç»´åº¦æ˜¯æ¯”è¾ƒé‡è¦çš„ç»´åº¦ï¼Œå¯ä»¥è®©æˆ‘ä»¬åœ¨è¾ƒå°‘çš„ç»´åº¦ä¸‹å»è¿›è¡Œæ•°æ®åˆ†æå‘¢ï¼Ÿé’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä½¿ç”¨sklearnä¸­çš„PCAæ¨¡å—å¯¹æ•°æ®è¿›è¡Œé™ç»´ã€‚ #æ•°æ®æ ‡å‡†åŒ– / å½’ä¸€åŒ– scaler = StandardScaler() scaler.fit(match_df.drop([&#39;win&#39;, &#39;region&#39;], axis = 1)) scaled_data = scaler.transform(match_df.drop([&#39;win&#39;, &#39;region&#39;], axis=1)) #ç•™ä¸‹ç»´åº¦æ•°é‡çš„é€‰æ‹© exp_var_ratio = [] for n in range(0,8): pca = PCA(n_components = n) pca.fit(scaled_data) pca.transform(scaled_data) exp_var_ratio.append(sum(pca.explained_variance_ratio_)) #å¯è§†åŒ– fig = plt.figure(figsize = (12, 8)) ax = fig.add_subplot(111) plt.plot(range(1,9), exp_var_ratio, marker = &#39;o&#39;, markerfacecolor = &#39;orange&#39;, markersize = 6) #åˆ©ç”¨zipè¿”å›ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ for i,j in zip(range(1,9),exp_var_ratio): ax.annotate(&#39;{:.2f}&#39;.format(j),xy=(i-.2,j+.03)) plt.xlabel(&#39;Number of Componenets&#39;, size = 15) plt.ylabel(&#39;Ratio of Variance Explained&#39;, size = 15) åœ¨ä½¿ç”¨PCAä¹‹å‰å¿…é¡»æ ‡å‡†åŒ–æ•°æ®çš„åŸå› æ˜¯PCAæ–¹æ³•å¯¹åˆå§‹å˜é‡çš„æ–¹å·®éå¸¸æ•æ„Ÿã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåˆå§‹å˜é‡çš„èŒƒå›´ä¹‹é—´å­˜åœ¨è¾ƒå¤§å·®å¼‚ï¼Œé‚£ä¹ˆèŒƒå›´è¾ƒå¤§çš„å˜é‡å çš„æ¯”é‡è¾ƒå¤§ï¼Œå’Œè¾ƒå°çš„å˜é‡ç›¸æ¯”ï¼ˆä¾‹å¦‚ï¼ŒèŒƒå›´ä»‹äº0å’Œ100ä¹‹é—´çš„å˜é‡è¾ƒ0åˆ°1ä¹‹é—´çš„å˜é‡ä¼šå è¾ƒå¤§æ¯”é‡ï¼‰ï¼Œè¿™å°†å¯¼è‡´ä¸»æˆåˆ†çš„åå·®ã€‚é€šè¿‡å°†æ•°æ®è½¬æ¢ä¸ºåŒæ ·çš„æ¯”ä¾‹å¯ä»¥é˜²æ­¢è¿™ä¸ªé—®é¢˜ã€‚è¾“å‡ºç»“æœï¼šä»è¾“å‡ºç»“æœæ¥çœ‹ï¼Œè¶…è¿‡80%çš„æ–¹å·®å¯ä»¥ç”¨6ä¸ªç‰¹å¾æ¥è§£é‡Šã€‚ä¸ºäº†äº†è§£å“ªä¸ªç»´åº¦æ›´é‡è¦ï¼Œæˆ‘ä»¬å¯¹å„æˆåˆ†çš„æ–¹å·®å€¼ä¸æ–¹å·®å æ¯”è¿›è¡Œè®¡ç®—å¹¶ä½¿ç”¨çƒ­åŠ›å›¾å¯è§†åŒ– #å°†PCAç‰¹å¾çš„ä¸ªæ•°é€‰å®šåœ¨6ä¸ª pca = PCA(n_components = 6) pca.fit(scaled_data) data_pca = pca.transform(scaled_data) pca_corr = pd.DataFrame(pca.components_, columns = match_df.drop([&#39;win&#39;, &#39;region&#39;], axis = 1).columns)#pca.components_:è¿”å›å…·æœ‰æœ€å¤§æ–¹å·®çš„æˆåˆ† plt.figure(figsize = (12,8)) sns.heatmap(pca_corr, cmap = cmap, vmin = -1, vmax = 1, annot = True, lw = .5, linecolor = &#39;white&#39;) #æŸ¥çœ‹å„ä¸»æˆåˆ†çš„æ–¹å·®è§£é‡Šåº¦å æ¯” pca.explained_variance_ratio_ ä»çƒ­åŠ›å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œæ‘§æ¯ç¬¬ä¸€åº§æ°´æ™¶ï¼Œæ¨å¡”æ•°å’Œæ‘§æ¯æ°´æ™¶æ•°å æ®æ¯”èµ›èƒœåˆ©çš„é‡è¦å› ç´ ï¼Œè¿™ä¹Ÿä¸æˆ‘ä»¬çš„è®¤çŸ¥ç›¸ç¬¦ã€‚ é€»è¾‘å›å½’å»ºæ¨¡éƒ¨åˆ†æœ€åé€šè¿‡é€»è¾‘å›å½’æ¨¡å‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸åŒçš„åœ°åŒºèƒœåˆ©ä¸è¿™äº›å½±å“å› ç´ ä¹‹é—´çš„å…³ç³» ä»è¿™ä¸ªæ¨¡å‹ä¸­å¯ä»¥çœ‹å‡ºå„ä¸ªåœ°åŒºä¹‹é—´çš„æ¸¸æˆé£æ ¼å­˜åœ¨çš„å·®å¼‚ï¼Œå¹¶å¯ä»¥å»é¢„æµ‹ç»™å®šå› ç´ ä¸‹æ˜¯å¦ä¼šèƒœåˆ© åŸå§‹æ•°æ®ä¸æºç å¯ä»¥å¾®ä¿¡åå°å›å¤è‹±é›„è”ç›Ÿèƒœåˆ©å› ç´ åˆ†æè·å–è‹±æ–‡åŸä½œè€…ä»£ç ä¸æ•°æ®æ¸…æ´—:https://github.com/ankushbharadwaj/league-of-legends-win-conditions","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"Pythonæ•°æ®åˆ†æ","slug":"Pythonæ•°æ®åˆ†æ","permalink":"http://smilecoc.vip/tags/Pythonæ•°æ®åˆ†æ/"}],"author":"smilecoc"},{"title":"sklearnä¸‰ç§æ•°æ®æ ‡å‡†åŒ–æ–¹æ³•çš„å¯¹æ¯”ï¼šStandardScalerã€MinMaxScalerã€RobustScaler","slug":"sklearnä¸‰ç§æ•°æ®æ ‡å‡†åŒ–æ–¹æ³•çš„å¯¹æ¯”ï¼šStandardScalerã€MinMaxScalerã€RobustScaler","date":"2020-09-03T02:08:24.000Z","updated":"2020-09-06T06:53:39.922Z","comments":true,"path":"2020/09/03/sklearnä¸‰ç§æ•°æ®æ ‡å‡†åŒ–æ–¹æ³•çš„å¯¹æ¯”ï¼šStandardScalerã€MinMaxScalerã€RobustScaler/","link":"","permalink":"http://smilecoc.vip/2020/09/03/sklearnä¸‰ç§æ•°æ®æ ‡å‡†åŒ–æ–¹æ³•çš„å¯¹æ¯”ï¼šStandardScalerã€MinMaxScalerã€RobustScaler/","excerpt":"","text":"ä¸€ã€æ•°æ®æ ‡å‡†åŒ– / å½’ä¸€åŒ–çš„ä½œç”¨ æå‡æ¨¡å‹ç²¾åº¦ï¼šæ ‡å‡†åŒ– / å½’ä¸€åŒ–ä½¿ä¸åŒç»´åº¦çš„ç‰¹å¾åœ¨æ•°å€¼ä¸Šæ›´å…·æ¯”è¾ƒæ€§ï¼Œæé«˜åˆ†ç±»å™¨çš„å‡†ç¡®æ€§ã€‚ æå‡æ”¶æ•›é€Ÿåº¦ï¼šå¯¹äºçº¿æ€§æ¨¡å‹ï¼Œæ•°æ®å½’ä¸€åŒ–ä½¿æ¢¯åº¦ä¸‹é™è¿‡ç¨‹æ›´åŠ å¹³ç¼“ï¼Œæ›´æ˜“æ­£ç¡®çš„æ”¶æ•›åˆ°æœ€ä¼˜è§£ã€‚ äºŒã€æ ‡å‡†å·®æ ‡å‡†åŒ– StandardScalerfrom sklearn.preprocessing import StandardScaler ä½¿ç”¨å‡å€¼ä¸æ–¹å·®ï¼Œå¯¹æœä»æ­£æ€åˆ†å¸ƒçš„æ•°æ®å¤„ç†ï¼Œå¾—åˆ°ç¬¦åˆæ ‡å‡†æ­£æ€åˆ†å¸ƒçš„æ•°æ®* å¤„ç†æ–¹æ³•ï¼šæ ‡å‡†åŒ–æ•°æ®å‡å»å‡å€¼ï¼Œç„¶åé™¤ä»¥æ ‡å‡†å·®ï¼Œç»è¿‡å¤„ç†åæ•°æ®ç¬¦åˆæ ‡å‡†æ­£æ€åˆ†å¸ƒï¼Œå³å‡å€¼ä¸º0ï¼Œæ ‡å‡†å·®ä¸º1ï¼› è½¬åŒ–å‡½æ•°ï¼šx = (x-mean) / std,stdè¡¨ç¤ºæ ‡å‡†å·®ï¼› é€‚ç”¨æ€§ï¼šé€‚ç”¨äºæœ¬èº«æœä»æ­£æ€åˆ†å¸ƒçš„æ•°æ®ï¼› Outlier çš„å½±å“ï¼šåŸºæœ¬å¯ç”¨äºæœ‰outlierçš„æƒ…å†µï¼Œä½†åœ¨è®¡ç®—æ–¹å·®å’Œå‡å€¼æ—¶outliersä»ç„¶ä¼šå½±å“è®¡ç®—ã€‚ å‚æ•°åŒ…æ‹¬ï¼šwith_mean, with_std, copy* with_meanï¼šå¸ƒå°”å‹ï¼Œé»˜è®¤ä¸º Trueï¼Œè¡¨ç¤ºåœ¨ç¼©æ”¾å‰å°†æ•°æ®å±…ä¸­ï¼Œå½“å°è¯•åœ¨ç¨€ç–çŸ©é˜µä¸Šæ—¶ï¼Œè¿™ä¸èµ·ä½œç”¨(å¹¶ä¸”ä¼šå¼•å‘å¼‚å¸¸)ï¼Œå› ä¸ºå°†å®ƒä»¬å±…ä¸­éœ€è¦æ„å»ºä¸€ä¸ªå¯†é›†çŸ©é˜µï¼Œåœ¨å¸¸è§çš„ç”¨ä¾‹ä¸­ï¼Œè¯¥çŸ©é˜µå¯èƒ½å¤ªå¤§è€Œæ— æ³•å®¹çº³åœ¨å†…å­˜ä¸­ï¼› with_stdï¼šå¸ƒå°”å‹ï¼Œé»˜è®¤ä¸ºTrueï¼Œè¡¨ç¤ºå°†æ•°æ®æ¢ç®—æˆå•ä½æ–¹å·®(æˆ–ç­‰æ•ˆçš„å•ä½æ ‡å‡†å·®)ï¼› copy : å¸ƒå°”å€¼ï¼Œé»˜è®¤ä¸ºTrueï¼Œå¯é€‰å‚æ•°ï¼Œè¡¨ç¤ºæ‹·è´ä¸€ä»½æ•°æ®ä»¥é¿å…åœ¨åŸæ•°æ®ä¸Šè¿›è¡Œæ“ä½œï¼Œè‹¥è®¾ç½®ä¸º False æ‰§è¡Œæ’å…¥è¡Œè§„èŒƒåŒ–å¹¶é¿å…å¤åˆ¶ã€‚ å±æ€§åŒ…æ‹¬ï¼šmean_, scale_, var_, n_samples_seen_ mean_ï¼šè®­ç»ƒé›†ä¸­æ¯ä¸ªç‰¹å¾çš„å¹³å‡å€¼ï¼Œå½“_mean=Falseæ—¶ï¼Œä¸ºNoneï¼› scale_ï¼šæ¯ä¸ªç‰¹å¾æ•°æ®çš„ç›¸å¯¹ç¼©æ”¾ï¼› var_ï¼šè®­ç»ƒé›†ä¸­æ¯ä¸ªç‰¹å¾çš„æ–¹å·®ï¼Œç”¨äºè®¡ç®—æ¯”ä¾‹ï¼Œå½“_ std =Falseæ—¶ï¼Œä¸ºNoneï¼› n_samples_seen_ï¼šæ¯ä¸ªç‰¹å¾å¤„ç†çš„æ ·æœ¬æ•°ã€‚å¦‚æ²¡æœ‰ä¸¢å¤±çš„æ ·æœ¬ï¼Œn_samples_seen_æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œå¦åˆ™æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¹¶å°†è¢«é‡ç½®æˆ–é€’å¢ã€‚ ä¸‰ã€æå·®æ ‡å‡†åŒ– / å½’ä¸€åŒ– MinMaxScalerfrom sklearn.preprocessing import MinMaxScaler åŒºé—´ç¼©æ”¾ï¼ŒåŸºäºæœ€å¤§æœ€å°å€¼ï¼Œå°†æ•°æ®è½¬æ¢åˆ°0,1åŒºé—´ä¸Šçš„ å¤„ç†æ–¹æ³•ï¼šå°†ç‰¹å¾ç¼©æ”¾åˆ°ç»™å®šçš„æœ€å°å€¼å’Œæœ€å¤§å€¼ä¹‹é—´ï¼Œä¹Ÿå¯ä»¥å°†æ¯ä¸ªç‰¹å¾çš„æœ€å¤§ç»å¯¹å€¼è½¬æ¢è‡³å•ä½å¤§å°ã€‚è¿™ç§æ–¹æ³•æ˜¯å¯¹åŸå§‹æ•°æ®çš„çº¿æ€§å˜æ¢ï¼Œå°†æ•°æ®å½’ä¸€åˆ°[0,1]ä¸­é—´ï¼› è½¬æ¢å‡½æ•°ï¼šx = (x-min) / (max-min)ï¼› é€‚ç”¨æ€§ï¼šé€‚ç”¨äºåˆ†å¸ƒèŒƒå›´è¾ƒç¨³å®šçš„æ•°æ®ï¼Œå½“æ–°æ•°æ®çš„åŠ å…¥å¯¼è‡´max/minå˜åŒ–ï¼Œåˆ™éœ€é‡æ–°å®šä¹‰ï¼› Outlier çš„å½±å“ï¼šå› ä¸ºoutlierä¼šå½±å“æœ€å¤§å€¼æˆ–æœ€å°å€¼ï¼Œå› æ­¤å¯¹outlieréå¸¸æ•æ„Ÿã€‚ å‚æ•°åŒ…æ‹¬ï¼šmin, max, copy minï¼šé»˜è®¤ä¸º0ï¼ŒæŒ‡å®šåŒºé—´çš„ä¸‹é™ï¼› maxï¼šé»˜è®¤ä¸º1ï¼ŒæŒ‡å®šåŒºé—´çš„ä¸Šé™ï¼› copy : å¸ƒå°”å€¼ï¼Œé»˜è®¤ä¸ºTrueï¼Œå¯é€‰å‚æ•°ï¼Œè¡¨ç¤ºæ‹·è´ä¸€ä»½æ•°æ®ä»¥é¿å…åœ¨åŸæ•°æ®ä¸Šè¿›è¡Œæ“ä½œï¼Œè‹¥è®¾ç½®ä¸º False æ‰§è¡Œæ’å…¥è¡Œè§„èŒƒåŒ–å¹¶é¿å…å¤åˆ¶ã€‚ å±æ€§åŒ…æ‹¬ï¼šmin_, scale_, data_min_, data_max_ min_ï¼šæ¯ä¸ªåŠŸèƒ½è°ƒæ•´ä¸ºæœ€å°ï¼› scale_ï¼šæ¯ä¸ªç‰¹å¾æ•°æ®çš„ç›¸å¯¹ç¼©æ”¾ï¼› data_min_ï¼šæ¯ä¸ªç‰¹å¾åœ¨æ•°æ®ä¸­å‡ºç°çš„æœ€å°å€¼ï¼› data_max_ï¼šæ¯ä¸ªç‰¹å¾åœ¨æ•°æ®ä¸­å¿ƒå‡ºç°çš„æœ€å¤§å€¼ã€‚ å››ã€ç¨³å¥æ ‡å‡†åŒ– RobustScalerfrom sklearn.preprocessing import RobustScaler ä½¿ç”¨å…·æœ‰é²æ£’æ€§çš„ç»Ÿè®¡é‡ç¼©æ”¾å¸¦æœ‰å¼‚å¸¸å€¼ï¼ˆç¦»ç¾¤å€¼ï¼‰çš„æ•°æ® å¤„ç†æ–¹æ³•ï¼šè¯¥ç¼©æ”¾å™¨åˆ é™¤ä¸­ä½æ•°ï¼Œå¹¶æ ¹æ®ç™¾åˆ†ä½æ•°èŒƒå›´ï¼ˆé»˜è®¤å€¼ä¸ºIQRï¼šå››åˆ†ä½é—´è·ï¼‰ç¼©æ”¾æ•°æ®ï¼› IQRï¼šæ˜¯ç¬¬1ä¸ªå››åˆ†ä½æ•°ï¼ˆ25%ï¼‰å’Œç¬¬3ä¸ªå››åˆ†ä½æ•°ï¼ˆ75%ï¼‰ä¹‹é—´çš„èŒƒå›´ï¼› é€‚ç”¨æ€§ï¼šé€‚ç”¨äºåŒ…å«è®¸å¤šå¼‚å¸¸å€¼çš„æ•°æ®ï¼› Outlier çš„å½±å“ï¼šRobustScaler åˆ©ç”¨IQRè¿›è¡Œç¼©æ”¾æ¥å¼±åŒ– outlier çš„å½±å“ã€‚ å‚æ•°åŒ…æ‹¬ï¼šwith_centering, with_scaling, quantile_range, copy with_centeringï¼šå¸ƒå°”å€¼ï¼Œé»˜è®¤ä¸º Trueï¼Œè¡¨ç¤ºåœ¨ç¼©æ”¾ä¹‹å‰å°†æ•°æ®å±…ä¸­ã€‚è‹¥ä½¿ç”¨ç¨€ç–çŸ©é˜µæ—¶ï¼Œè¿™å°†å¯¼è‡´è½¬æ¢å¼•å‘å¼‚å¸¸ï¼Œå› ä¸ºå°†å®ƒä»¬å±…ä¸­éœ€è¦å»ºç«‹ä¸€ä¸ªå¯†é›†çš„çŸ©é˜µï¼Œåœ¨é€šå¸¸çš„ä½¿ç”¨æƒ…å†µä¸‹ï¼Œè¯¥çŸ©é˜µå¯èƒ½å¤ªå¤§è€Œæ— æ³•å®¹çº³åœ¨å†…å­˜ä¸­ï¼› with_scaling : å¸ƒå°”å€¼ï¼Œé»˜è®¤ä¸ºTrueï¼Œè¡¨ç¤ºå°†æ•°æ®ç¼©æ”¾åˆ°å››åˆ†ä½æ•°èŒƒå›´ï¼› quantile_range : å…ƒç»„ï¼Œé»˜è®¤å€¼ä¸ºï¼ˆ25.0, 75.0ï¼‰å³ IQRï¼Œè¡¨ç¤ºç”¨äºè®¡ç®— scale_çš„åˆ†ä½æ•°èŒƒå›´ï¼› copy : å¸ƒå°”å€¼ï¼Œé»˜è®¤ä¸ºTrueï¼Œå¯é€‰å‚æ•°ï¼Œè¡¨ç¤ºæ‹·è´ä¸€ä»½æ•°æ®ä»¥é¿å…åœ¨åŸæ•°æ®ä¸Šè¿›è¡Œæ“ä½œï¼Œè‹¥è®¾ç½®ä¸º False æ‰§è¡Œæ’å…¥è¡Œè§„èŒƒåŒ–å¹¶é¿å…å¤åˆ¶ã€‚ å±æ€§åŒ…æ‹¬ï¼šcenter_, scale_ center_ ï¼šè®­ç»ƒé›†ä¸­æ¯ä¸ªå±æ€§çš„ä¸­ä½æ•°ï¼› scale_ ï¼šè®­ç»ƒé›†ä¸­æ¯ä¸ªå±æ€§çš„å››åˆ†ä½é—´è·ã€‚ äº”ã€æ€»ç»“ åœ¨åˆ†ç±»ã€èšç±»ç®—æ³•ä¸­ï¼Œéœ€è¦ä½¿ç”¨è·ç¦»æ¥åº¦é‡ç›¸ä¼¼æ€§çš„æ—¶å€™ã€æˆ–è€…ä½¿ç”¨PCAæŠ€æœ¯è¿›è¡Œé™ç»´çš„æ—¶å€™ï¼ŒStandardScalerè¡¨ç°æ›´å¥½ï¼ˆé¿å…ä¸åŒé‡çº²å¯¹æ–¹å·®ã€åæ–¹å·®è®¡ç®—çš„å½±å“ï¼‰ï¼› åœ¨ä¸æ¶‰åŠè·ç¦»åº¦é‡ã€åæ–¹å·®ã€æ•°æ®ä¸ç¬¦åˆæ­£æ€åˆ†å¸ƒã€å¼‚å¸¸å€¼è¾ƒå°‘çš„æ—¶å€™ï¼Œå¯ä½¿ç”¨MinMaxScalerã€‚ï¼ˆegï¼šå›¾åƒå¤„ç†ä¸­ï¼Œå°†RGBå›¾åƒè½¬æ¢ä¸ºç°åº¦å›¾åƒåå°†å…¶å€¼é™å®šåœ¨ [0, 255] çš„èŒƒå›´ï¼‰ï¼› åœ¨å¸¦æœ‰çš„ç¦»ç¾¤å€¼è¾ƒå¤šçš„æ•°æ®æ—¶ï¼Œæ¨èä½¿ç”¨Ro bustScalerã€‚","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://smilecoc.vip/categories/è½¬è½½/"}],"tags":[{"name":"æœºå™¨å­¦ä¹ ","slug":"æœºå™¨å­¦ä¹ ","permalink":"http://smilecoc.vip/tags/æœºå™¨å­¦ä¹ /"}],"author":"smilecoc"},{"title":"sklearn.model_selection.train_test_splitç”¨æ³•-åˆ’åˆ†è®­ç»ƒé›†ä¸æµ‹è¯•é›†","slug":"sklearn.model_selection.train_test_splitç”¨æ³•-åˆ’åˆ†è®­ç»ƒé›†ä¸æµ‹è¯•é›†","date":"2020-09-01T04:22:24.000Z","updated":"2020-09-06T06:28:16.841Z","comments":true,"path":"2020/09/01/sklearn.model_selection.train_test_splitç”¨æ³•-åˆ’åˆ†è®­ç»ƒé›†ä¸æµ‹è¯•é›†/","link":"","permalink":"http://smilecoc.vip/2020/09/01/sklearn.model_selection.train_test_splitç”¨æ³•-åˆ’åˆ†è®­ç»ƒé›†ä¸æµ‹è¯•é›†/","excerpt":"","text":"åœ¨ä½¿ç”¨pythonåšæœºå™¨å­¦ä¹ æ—¶å€™ï¼Œä¸ºäº†åˆ¶ä½œè®­ç»ƒæ•°æ®ï¼ˆtraining samplesï¼‰å’Œæµ‹è¯•æ•°æ®ï¼ˆtesting samplesï¼‰ï¼Œå¸¸ä½¿ç”¨sklearné‡Œé¢çš„sklearn.model_selection.train_test_splitæ¨¡å—ã€‚ train_test_splitçš„ä½¿ç”¨æ–¹æ³•ï¼šè¯­æ³•ï¼šsklearn.model_selection.train_test_split(arrays, *options) train_test_splité‡Œé¢å¸¸ç”¨çš„å› æ•°ï¼ˆargumentsï¼‰ä»‹ç»ï¼š arraysï¼šåˆ†å‰²å¯¹è±¡åŒæ ·é•¿åº¦çš„åˆ—è¡¨æˆ–è€…numpy arraysï¼ŒçŸ©é˜µã€‚ test_sizeï¼šä¸¤ç§æŒ‡å®šæ–¹æ³•ã€‚1ï¼šæŒ‡å®šå°æ•°ã€‚å°æ•°èŒƒå›´åœ¨0.0~0.1ä¹‹é—´ï¼Œå®ƒä»£è¡¨testé›†å æ®çš„æ¯”ä¾‹ã€‚2ï¼šæŒ‡å®šæ•´æ•°ã€‚æ•´æ•°çš„å¤§å°å¿…é¡»åœ¨è¿™ä¸ªæ•°æ®é›†ä¸ªæ•°èŒƒå›´å†…ï¼Œæ€»ä¸èƒ½æŒ‡å®šä¸€ä¸ªæ•°è¶…å‡ºäº†æ•°æ®é›†çš„ä¸ªæ•°èŒƒå›´å§ã€‚è¦æ˜¯test_sizeåœ¨æ²¡æœ‰æŒ‡å®šçš„åœºåˆï¼Œå¯ä»¥é€šè¿‡train_sizeæ¥æŒ‡å®šã€‚ï¼ˆä¸¤ä¸ªæ˜¯å¯¹åº”å…³ç³»ï¼‰ã€‚å¦‚æœtrain_sizeä¹Ÿæ²¡æœ‰æŒ‡å®šï¼Œé‚£ä¹ˆé»˜è®¤å€¼æ˜¯0.25. train_sizeï¼šå’Œtest_sizeç›¸ä¼¼ã€‚ random_state:è¿™æ˜¯å°†åˆ†å‰²çš„trainingå’Œtestingé›†åˆæ‰“ä¹±çš„ä¸ªæ•°è®¾å®šã€‚å¦‚æœä¸æŒ‡å®šçš„è¯ï¼Œä¹Ÿå¯ä»¥é€šè¿‡numpy.randomæ¥è®¾å®šéšæœºæ•°ã€‚ shuffleå’Œstraifyä¸å¸¸ç”¨ã€‚straifyå°±æ˜¯å°†æ•°æ®åˆ†å±‚ã€‚ train_test_split ç”¨æ³•ä¸¾ä¾‹ï¼š &gt;&gt;&gt; import pandas as pd &gt;&gt;&gt; from sklearn.model_selection import train_test_split &gt;&gt;&gt; &gt;&gt;&gt; namelist = pd.DataFrame({ ... &quot;name&quot; : [&quot;Suzuki&quot;, &quot;Tanaka&quot;, &quot;Yamada&quot;, &quot;Watanabe&quot;, &quot;Yamamoto&quot;, ... &quot;Okada&quot;, &quot;Ueda&quot;, &quot;Inoue&quot;, &quot;Hayashi&quot;, &quot;Sato&quot;, ... &quot;Hirayama&quot;, &quot;Shimada&quot;], ... &quot;age&quot;: [30, 40, 55, 29, 41, 28, 42, 24, 33, 39, 49, 53], ... &quot;department&quot;: [&quot;HR&quot;, &quot;Legal&quot;, &quot;IT&quot;, &quot;HR&quot;, &quot;HR&quot;, &quot;IT&quot;, ... &quot;Legal&quot;, &quot;Legal&quot;, &quot;IT&quot;, &quot;HR&quot;, &quot;Legal&quot;, &quot;Legal&quot;], ... &quot;attendance&quot;: [1, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 1] ... }) &gt;&gt;&gt; print(namelist) age attendance department name 0 30 1 HR Suzuki 1 40 1 Legal Tanaka 2 55 1 IT Yamada 3 29 0 HR Watanabe 4 41 1 HR Yamamoto 5 28 1 IT Okada 6 42 1 Legal Ueda 7 24 0 Legal Inoue 8 33 0 IT Hayashi 9 39 1 HR Sato 10 49 1 Legal Hirayama 11 53 1 Legal Shimada å°†testingæ•°æ®æŒ‡å®šä¸º0.3ï¼ˆtest_size=0.3ï¼‰ï¼Œä»è€Œå°†testingå’Œtraining é›†åˆåˆ†å¼€ã€‚ &gt;&gt;&gt; namelist_train, namelist_test = train_test_split(namelist, test_size=0.3) &gt;&gt;&gt; print(namelist_train) age attendance department name 10 49 1 Legal Hirayama 1 40 1 Legal Tanaka 7 24 0 Legal Inoue 2 55 1 IT Yamada 4 41 1 HR Yamamoto 3 29 0 HR Watanabe 9 39 1 HR Sato 6 42 1 Legal Ueda &gt;&gt;&gt; print(namelist_test) age attendance department name 0 30 1 HR Suzuki 8 33 0 IT Hayashi 11 53 1 Legal Shimada 5 28 1 IT Okada æ¥ä¸‹æ¥æ˜¯å°†testingæ•°æ®æŒ‡å®šä¸ºå…·ä½“æ•°ç›®ã€‚test_size=5ã€‚ &gt;&gt;&gt; namelist_train, namelist_test = train_test_split(namelist, test_size=5) &gt;&gt;&gt; print(namelist_train) age attendance department name 3 29 0 HR Watanabe 4 41 1 HR Yamamoto 6 42 1 Legal Ueda 1 40 1 Legal Tanaka 9 39 1 HR Sato 8 33 0 IT Hayashi 7 24 0 Legal Inoue &gt;&gt;&gt; print(namelist_test) age attendance department name 2 55 1 IT Yamada 10 49 1 Legal Hirayama 5 28 1 IT Okada 11 53 1 Legal Shimada 0 30 1 HR Suzuki æ¥ä¸‹æ¥å°†training data æŒ‡å®šä¸º0.5ï¼ˆtraining_size=0.5ï¼‰ &gt;&gt;&gt; namelist_train, namelist_test = train_test_split(namelist, test_size=None, train_size=0.5) &gt;&gt;&gt; print(namelist_train) age attendance department name 5 28 1 IT Okada 2 55 1 IT Yamada 3 29 0 HR Watanabe 4 41 1 HR Yamamoto 10 49 1 Legal Hirayama 0 30 1 HR Suzuki &gt;&gt;&gt; print(namelist_test) age attendance department name 6 42 1 Legal Ueda 7 24 0 Legal Inoue 9 39 1 HR Sato 11 53 1 Legal Shimada 8 33 0 IT Hayashi 1 40 1 Legal Tanaka æ¥ä¸‹æ¥æ˜¯æ˜¯shuffleå’ŒstraifyåŠŸèƒ½ã€‚ &gt;&gt;&gt; namelist_train, namelist_test = train_test_split(namelist, shuffle=False) &gt;&gt;&gt; print(namelist_train) age attendance department name 0 30 1 HR Suzuki 1 40 1 Legal Tanaka 2 55 1 IT Yamada 3 29 0 HR Watanabe 4 41 1 HR Yamamoto 5 28 1 IT Okada 6 42 1 Legal Ueda 7 24 0 Legal Inoue 8 33 0 IT Hayashi &gt;&gt;&gt; print(namelist_test) age attendance department name 9 39 1 HR Sato 10 49 1 Legal Hirayama 11 53 1 Legal Shimada summary train_test_splitï¼ˆarraysï¼Œoptionsï¼‰ arraysç¡®å®šéœ€è¦åˆ†å‰²çš„å¯¹è±¡ï¼Œæ•°æ®é›†ã€‚ train_test_splitï¼ˆarraysï¼Œoptionsï¼‰ optionsç¡®å®šéœ€è¦åˆ†å‰²çš„æ–¹æ³•ã€‚ä¾‹å¦‚æ¯”ä¾‹ï¼Œéšæœºæ€§ï¼Œåˆ†å±‚ç­‰ã€‚","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://smilecoc.vip/categories/è½¬è½½/"}],"tags":[{"name":"Pythonæ•°æ®åˆ†æ","slug":"Pythonæ•°æ®åˆ†æ","permalink":"http://smilecoc.vip/tags/Pythonæ•°æ®åˆ†æ/"}],"author":"smilecoc"},{"title":"left join on and ä¸ left join on whereçš„åŒºåˆ«","slug":"left join on and ä¸ left join on whereçš„åŒºåˆ«","date":"2020-08-17T15:56:29.000Z","updated":"2020-11-15T13:15:35.455Z","comments":true,"path":"2020/08/17/left join on and ä¸ left join on whereçš„åŒºåˆ«/","link":"","permalink":"http://smilecoc.vip/2020/08/17/left join on and ä¸ left join on whereçš„åŒºåˆ«/","excerpt":"","text":"æ•°æ®åº“åœ¨é€šè¿‡è¿æ¥ä¸¤å¼ æˆ–å¤šå¼ è¡¨æ¥è¿”å›è®°å½•æ—¶ï¼Œéƒ½ä¼šç”Ÿæˆä¸€å¼ ä¸­é—´çš„ä¸´æ—¶è¡¨ï¼Œç„¶åå†å°†è¿™å¼ ä¸´æ—¶è¡¨è¿”å›ç»™ç”¨æˆ·ã€‚ åœ¨ä½¿ç”¨left jionæ—¶ï¼Œonå’Œwhereæ¡ä»¶çš„åŒºåˆ«å¦‚ä¸‹ï¼š 1ã€ onæ¡ä»¶æ˜¯åœ¨ç”Ÿæˆä¸´æ—¶è¡¨æ—¶ä½¿ç”¨çš„æ¡ä»¶ï¼Œå®ƒä¸ç®¡onä¸­çš„æ¡ä»¶æ˜¯å¦ä¸ºçœŸï¼Œéƒ½ä¼šè¿”å›å·¦è¾¹è¡¨ä¸­çš„è®°å½•ã€‚ 2ã€whereæ¡ä»¶æ˜¯åœ¨ä¸´æ—¶è¡¨ç”Ÿæˆå¥½åï¼Œå†å¯¹ä¸´æ—¶è¡¨è¿›è¡Œè¿‡æ»¤çš„æ¡ä»¶ã€‚ä¸´æ—¶è¡¨ä¸­æ•°æ®æ¡ä»¶ä¸ä¸ºçœŸçš„å°±å…¨éƒ¨è¿‡æ»¤æ‰ã€‚ä¹‹åå†è¿”å›å¯¹ä¸´æ—¶è¡¨ä¸­è¿‡æ»¤åçš„ç»“æœ å‡è®¾ç°åœ¨æœ‰ä¸¤å¼ è¡¨ï¼šè¡¨1 tab1ï¼š | id | size | |----|------| | 1 | 10 | | 2 | 20 | | 3 | 30 |è¡¨2 tab2ï¼š | size | name | |------|------| | 10 | AAA | | 20 | BBB | | 20 | CCC |ç”¨å¦‚ä¸‹ä¸¤æ¡SQLè¯­å¥è¿›è¡ŒæŸ¥è¯¢: --1ã€left join on where select * from tab1 left join tab2 on (tab1.size = tab2.size) where tab2.name=â€™AAAâ€™ --2ã€left join on and select * from tab1 left join tab2 on (tab1.size = tab2.size and tab2.name=â€™AAAâ€™) ç¬¬ä¸€æ¡SQLè¯­å¥left join on whereçš„æ‰§è¡Œè¿‡ç¨‹ä¸ºï¼š1ã€left join onæ ¹æ®onæ¡ä»¶: tab1.size = tab2.sizeå¾—åˆ°ä¸´æ—¶è¡¨ | tab1.id | tab1.size | tab2.size | tab2.name | |----------|------------|------------|------------| | 1 | 10 | 10 | AAA | | 2 | 20 | 20 | BBB | | 2 | 20 | 20 | CCC | | 3 | 30 | NULL | NULL |2ã€å†é€šè¿‡where æ¡ä»¶ï¼štab2.name=â€™AAAâ€™å¯¹ä¸­é—´è¡¨è¿‡æ»¤ | tab1.id | tab1.size | tab2.size | tab2.name | |----------|------------|------------|------------| | 1 | 10 | 10 | AAA |ç¬¬äºŒæ¡SQLè¯­å¥left join on andçš„æ‰§è¡Œè¿‡ç¨‹ä¸ºï¼šï¼š 1ã€left join onæ ¹æ®onæ¡ä»¶:tab1.size = tab2.size and tab2.name=â€™AAAâ€™å¾—åˆ°ä¸´æ—¶è¡¨ | tab1.id | tab1.size | tab2.size | tab2.name | |----------|------------|------------|------------| | 1 | 10 | 10 | AAA | | 2 | 20 | NULL | NULL | | 3 | 30 | NULL | NULL |2.ç»“æœä¸­è¿”å›ä¸Šä¸€æ­¥å¾—åˆ°çš„ä¸´æ—¶è¡¨ å…¶å®ä»¥ä¸Šç»“æœçš„å…³é”®åŸå› å°±æ˜¯left join,right join,full joinçš„ç‰¹æ®Šæ€§ï¼Œä¸ç®¡onä¸Šçš„æ¡ä»¶æ˜¯å¦ä¸ºçœŸéƒ½ä¼šè¿”å›leftæˆ–rightè¡¨ä¸­çš„è®°å½•ï¼Œfullåˆ™å…·æœ‰leftå’Œrightçš„ç‰¹æ€§çš„å¹¶é›†ã€‚è€Œinner jionæ²¡è¿™ä¸ªç‰¹æ®Šæ€§ï¼Œåˆ™æ¡ä»¶æ”¾åœ¨onä¸­å’Œwhereä¸­ï¼Œè¿”å›çš„ç»“æœé›†æ˜¯ç›¸åŒçš„ã€‚æ‰€ä»¥å®é™…çš„è¿‡ç¨‹ä¸­ä¸€å®šè¦æ³¨æ„left join on andæ˜¯æ— æ³•è·å–åªå«æœ‰ç¬¦åˆæ¡ä»¶çš„ç»“æœé›†çš„ã€‚æˆ‘ä»¬å¯ä»¥çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š æœ‰å¦‚ä¸‹ä¸¤å¼ è¡¨ï¼Œæ‰§è¡Œè¯­å¥ï¼šselect count(s_id) from students left join information on s_id=id and province in (&#39;å±±ä¸œ&#39;,&#39;æ¹–å—&#39;)çš„ç»“æœé›†çš„è¡Œæ•°ä¸ºï¼Ÿstudentsè¡¨ï¼š | s_id | name | |--------| ------ | | 123585 | å¼ å°é£ | | 123586 | ç¨‹å°è‹± | | 123587 | å´å¤© | | 123588 | å¼ ä»™ | | 123589 | åˆ˜æˆ | | 123590 | ä½•æ¢… | | 123591 | ç‹ç¨‹æ° | | 123592 | ææˆæµ© | | 123593 | æé™ | | 123594 | åˆ˜æ•æ• |informationè¡¨ï¼š | id | name | çœä»½ | å¹´é¾„ | æ€§åˆ« | |--------|------|----|----|----| | 123585 | å¼ å°é£ | æ¹–å— | 22 | ç”· | | 123586 | ç¨‹å°è‹± | æ²³åŒ— | 20 | å¥³ | | 123587 | å´å¤© | æ²³å— | 22 | ç”· | | 123589 | åˆ˜æˆ | æ²³å— | 21 | ç”· | | 123590 | ä½•æ¢… | æ²³å— | 22 | å¥³ | | 123591 | ç‹ç¨‹æ° | è‹å· | 20 | ç”· | | 123593 | æé™ | æ¹–å— | 23 | å¥³ | | 123594 | åˆ˜æ•æ• | æ¹–å— | 20 | å¥³ | | 123595 | ç‹å¿—å³° | å±±ä¸œ | 21 | ç”· | | 123596 | èµµç½—ç”Ÿ | æ±Ÿè¥¿ | 21 | ç”· | | 123597 | æé™ | å±±ä¸œ | 20 | å¥³ | | 123598 | ç¨‹ä¸½ | æ¹–å— | 21 | å¥³ |æ ¹æ®ä¸Šé¢çš„åŸç†è®²è§£ï¼Œ left join åçš„è¡¨ä¼šå’Œå·¦è¡¨çš„ä¸ªæ•°ä¸€è‡´ï¼Œè¯­å¥æ‰§è¡Œçš„ç»“æœä¸º10.å¦‚æœæ‰§è¡Œï¼šselect count(s_id) from students left join information on s_id=id where province in (&#39;å±±ä¸œ&#39;,&#39;æ¹–å—&#39;),åˆ™è¯­å¥æ‰§è¡Œçš„ç»“æœä¸º3.","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://smilecoc.vip/categories/ç¬”è®°/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(å…­)ï¼šæ•°æ®åº“å»ºè¡¨/SQL/ç´¢å¼•è§„èŒƒ","slug":"å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(å…­)æ•°æ®åº“å»ºè¡¨SQLç´¢å¼•è§„èŒƒ","date":"2020-08-12T12:24:53.000Z","updated":"2021-02-03T13:58:02.064Z","comments":true,"path":"2020/08/12/å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(å…­)æ•°æ®åº“å»ºè¡¨SQLç´¢å¼•è§„èŒƒ/","link":"","permalink":"http://smilecoc.vip/2020/08/12/å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(å…­)æ•°æ®åº“å»ºè¡¨SQLç´¢å¼•è§„èŒƒ/","excerpt":"","text":"æœ¬ç¯‡æ–‡ç« ä½œä¸ºä»0å¼€å§‹å»ºç«‹æ•°æ®åº“ç³»åˆ—çš„è¡¥å……ï¼Œè¯¦ç»†è¯´æ˜äº†ä¸€äº›æ•°æ®åº“å»ºè¡¨/SQLè¯­å¥/ç´¢å¼•è§„èŒƒ ä¸€ã€å»ºè¡¨è§„çº¦ã€å¼ºåˆ¶ã€‘ï¼ˆ1ï¼‰ å­˜å‚¨å¼•æ“å¿…é¡»ä½¿ç”¨InnoDBè§£è¯»ï¼š InnoDBæ”¯æŒäº‹ç‰©ã€è¡Œçº§é”ã€å¹¶å‘æ€§èƒ½æ›´å¥½ï¼ŒCPUåŠå†…å­˜ç¼“å­˜é¡µä¼˜åŒ–ä½¿å¾—èµ„æºåˆ©ç”¨ç‡æ›´é«˜ã€‚ ã€å¼ºåˆ¶ã€‘ï¼ˆ2ï¼‰æ¯å¼ è¡¨å¿…é¡»è®¾ç½®ä¸€ä¸ªä¸»é”®IDï¼Œä¸”è¿™ä¸ªä¸»é”®IDä½¿ç”¨è‡ªå¢ä¸»é”®ï¼ˆåœ¨æ»¡è¶³éœ€è¦çš„æƒ…å†µä¸‹å°½é‡çŸ­ï¼‰ï¼Œé™¤éåœ¨åˆ†åº“åˆ†è¡¨ç¯å¢ƒä¸‹ã€‚è§£è¯»ï¼š ç”±äºInnoDBç»„ç»‡æ•°æ®çš„æ–¹å¼å†³å®šäº†éœ€è¦æœ‰ä¸€ä¸ªä¸»é”®ï¼Œè€Œä¸”è‹¥æ˜¯è¿™ä¸ªä¸»é”®IDæ˜¯å•è°ƒé€’å¢çš„å¯ä»¥æœ‰æ•ˆæé«˜æ’å…¥çš„æ€§èƒ½ï¼Œé¿å…è¿‡å¤šçš„é¡µåˆ†è£‚ã€å‡å°‘è¡¨ç¢ç‰‡æé«˜ç©ºé—´çš„ä½¿ç”¨ç‡ã€‚è€Œåœ¨åˆ†åº“åˆ†è¡¨ç¯å¢ƒä¸‹ï¼Œåˆ™éœ€è¦ç»Ÿä¸€æ¥åˆ†é…å„ä¸ªè¡¨ä¸­çš„ä¸»é”®å€¼ï¼Œä»è€Œé¿å…æ•´ä¸ªé€»è¾‘è¡¨ä¸­ä¸»é”®é‡å¤ã€‚ ã€å¼ºåˆ¶ã€‘ï¼ˆ3ï¼‰å¿…é¡»ä½¿ç”¨utf8mb4å­—ç¬¦é›†è§£è¯»ï¼š åœ¨Mysqlä¸­çš„UTF-8å¹¶éâ€œçœŸæ­£çš„UTF-8â€ï¼Œè€Œutf8mb4â€æ‰æ˜¯çœŸæ­£çš„â€œUTF-8â€ã€‚ ã€å¼ºåˆ¶ã€‘ï¼ˆ4ï¼‰ æ•°æ®åº“è¡¨ã€è¡¨å­—æ®µå¿…é¡»åŠ å…¥ä¸­æ–‡æ³¨é‡Šè§£è¯»ï¼š å¤§å®¶éƒ½åˆ«æ‡’ ã€å¼ºåˆ¶ã€‘ï¼ˆ5ï¼‰ åº“åã€è¡¨åã€å­—æ®µåå‡å°å†™ï¼Œä¸‹åˆ’çº¿é£æ ¼ï¼Œä¸è¶…è¿‡32ä¸ªå­—ç¬¦ï¼Œå¿…é¡»è§åçŸ¥æ„ï¼Œç¦æ­¢æ‹¼éŸ³è‹±æ–‡æ··ç”¨ã€‚è§£è¯»ï¼š çº¦å®š ã€å¼ºåˆ¶ã€‘ï¼ˆ6ï¼‰å•è¡¨åˆ—æ•°ç›®å¿…é¡»å°äº30ï¼Œè‹¥è¶…è¿‡åˆ™åº”è¯¥è€ƒè™‘å°†è¡¨æ‹†åˆ†è§£è¯»ï¼š å•è¡¨åˆ—æ•°å¤ªå¤šä½¿å¾—MysqlæœåŠ¡å™¨å¤„ç†InnoDBè¿”å›æ•°æ®ä¹‹é—´çš„æ˜ å°„æˆæœ¬å¤ªé«˜ ã€å¼ºåˆ¶ã€‘ï¼ˆ7ï¼‰ç¦æ­¢ä½¿ç”¨å¤–é”®ï¼Œå¦‚æœæœ‰å¤–é”®å®Œæ•´æ€§çº¦æŸï¼Œéœ€è¦åº”ç”¨ç¨‹åºæ§åˆ¶è§£è¯»ï¼š å¤–é”®ä¼šå¯¼è‡´è¡¨ä¸è¡¨ä¹‹é—´è€¦åˆï¼ŒUPDATEä¸DELETEæ“ä½œéƒ½ä¼šæ¶‰åŠç›¸å…³è”çš„è¡¨ï¼Œååˆ†å½±å“SQLçš„æ€§èƒ½ï¼Œç”šè‡³ä¼šé€ æˆæ­»é”ã€‚ ã€å¼ºåˆ¶ã€‘ï¼ˆ8ï¼‰å¿…é¡»æŠŠå­—æ®µå®šä¹‰ä¸ºNOT NULLå¹¶ä¸”æä¾›é»˜è®¤å€¼è§£è¯»ï¼š aã€NULLçš„åˆ—ä½¿ç´¢å¼•/ç´¢å¼•ç»Ÿè®¡/å€¼æ¯”è¾ƒéƒ½æ›´åŠ å¤æ‚ï¼Œå¯¹MySQLæ¥è¯´æ›´éš¾ä¼˜åŒ– bã€NULLè¿™ç§ç±»å‹Msqlå†…éƒ¨éœ€è¦è¿›è¡Œç‰¹æ®Šå¤„ç†ï¼Œå¢åŠ æ•°æ®åº“å¤„ç†è®°å½•çš„å¤æ‚æ€§ï¼›åŒç­‰æ¡ä»¶ä¸‹ï¼Œè¡¨ä¸­æœ‰è¾ƒå¤šç©ºå­—æ®µçš„æ—¶å€™ï¼Œæ•°æ®åº“çš„å¤„ç†æ€§èƒ½ä¼šé™ä½å¾ˆå¤š cã€NULLå€¼éœ€è¦æ›´å¤šçš„å­˜å‚¨ç©ºï¼Œæ— è®ºæ˜¯è¡¨è¿˜æ˜¯ç´¢å¼•ä¸­æ¯è¡Œä¸­çš„NULLçš„åˆ—éƒ½éœ€è¦é¢å¤–çš„ç©ºé—´æ¥æ ‡è¯† ã€å¼ºåˆ¶ã€‘ï¼ˆ9ï¼‰ç¦ç”¨ä¿ç•™å­—ï¼Œå¦‚DESCã€RANGEã€MARCHç­‰ï¼Œè¯·å‚è€ƒMysqlå®˜æ–¹ä¿ç•™å­—ã€‚ ã€å¼ºåˆ¶ã€‘ï¼ˆ 10ï¼‰å¦‚æœå­˜å‚¨çš„å­—ç¬¦ä¸²é•¿åº¦å‡ ä¹ç›¸ç­‰ï¼Œä½¿ç”¨CHARå®šé•¿å­—ç¬¦ä¸²ç±»å‹ã€‚è§£è¯»ï¼š èƒ½å¤Ÿå‡å°‘ç©ºé—´ç¢ç‰‡ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´ã€‚ ã€å»ºè®®ã€‘ï¼ˆ11ï¼‰åœ¨ä¸€äº›åœºæ™¯ä¸‹ï¼Œè€ƒè™‘ä½¿ç”¨TIMESTAMPä»£æ›¿DATETIMEã€‚è§£è¯»ï¼š aã€è¿™ä¸¤ç§ç±»å‹çš„éƒ½èƒ½è¡¨è¾¾â€yyyy-MM-dd HH:mm:ssâ€æ ¼å¼çš„æ—¶é—´ï¼ŒTIMESTAMPåªéœ€è¦å ç”¨4ä¸ªå­—èŠ‚çš„é•¿åº¦ï¼Œå¯ä»¥å­˜å‚¨çš„èŒƒå›´ä¸º(1970-2038)å¹´ï¼Œåœ¨å„ä¸ªæ—¶åŒºï¼Œæ‰€å±•ç¤ºçš„æ—¶é—´æ˜¯ä¸ä¸€æ ·çš„ï¼›bã€è€ŒDATETIMEç±»å‹å ç”¨8ä¸ªå­—èŠ‚ï¼Œå¯¹æ—¶åŒºä¸æ•æ„Ÿï¼Œå¯ä»¥å­˜å‚¨çš„èŒƒå›´ä¸º(1001-9999)å¹´ã€‚ ã€å»ºè®®ã€‘ï¼ˆ12ï¼‰å½“å¿ƒè‡ªåŠ¨ç”Ÿæˆçš„Schemaï¼Œå»ºè®®æ‰€æœ‰çš„Schemaæ‰‹åŠ¨ç¼–å†™ã€‚è§£è¯»ï¼š å¯¹äºä¸€äº›æ•°æ®åº“å®¢æˆ·ç«¯ä¸è¦å¤ªè¿‡ä¿¡ä»»ã€‚ äºŒã€SQLè§„çº¦ã€å»ºè®®ã€‘ (1) ä¸ºäº†å……åˆ†åˆ©ç”¨ç¼“å­˜ï¼Œä¸å…è®¸ä½¿ç”¨è‡ªå®šä¹‰å‡½æ•°ã€å­˜å‚¨å‡½æ•°ã€ç”¨æˆ·å˜é‡ã€‚è§£è¯»ï¼š å¦‚æœæŸ¥è¯¢ä¸­åŒ…å«ä»»ä½•ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ã€å­˜å‚¨å‡½æ•°ã€ç”¨æˆ·å˜é‡ã€ä¸´æ—¶è¡¨ã€Mysqlåº“ä¸­çš„ç³»ç»Ÿè¡¨ï¼Œå…¶æŸ¥è¯¢ç»“æœéƒ½ä¸ä¼šè¢«ç¼“å­˜ã€‚æ¯”å¦‚å‡½æ•°NOW()æˆ–è€…CURRENT_DATE()ä¼šå› ä¸ºä¸åŒçš„æŸ¥è¯¢æ—¶é—´ï¼Œè¿”å›ä¸åŒçš„æŸ¥è¯¢ç»“æœã€‚ ã€å¼ºåˆ¶ã€‘ï¼ˆ2ï¼‰åœ¨æŸ¥è¯¢ä¸­æŒ‡å®šæ‰€éœ€çš„åˆ—ï¼Œè€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨â€œ â€è¿”å›æ‰€æœ‰çš„åˆ—*è§£è¯»ï¼š aï¼‰è¯»å–ä¸éœ€è¦çš„åˆ—ä¼šå¢åŠ CPUã€IOã€NETæ¶ˆè€— bï¼‰ä¸èƒ½æœ‰æ•ˆçš„åˆ©ç”¨è¦†ç›–ç´¢å¼• ã€å¼ºåˆ¶ã€‘ï¼ˆ3ï¼‰ä¸å…è®¸ä½¿ç”¨å±æ€§éšå¼è½¬æ¢è§£è¯»ï¼š å‡è®¾æˆ‘ä»¬åœ¨æ‰‹æœºå·åˆ—ä¸Šæ·»åŠ äº†ç´¢å¼•ï¼Œç„¶åæ‰§è¡Œä¸‹é¢çš„SQLä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿexplain SELECT user_name FROM parent WHERE phone=13812345678;å¾ˆæ˜æ˜¾å°±æ˜¯ç´¢å¼•ä¸ç”Ÿæ•ˆï¼Œä¼šå…¨è¡¨æ‰«æã€‚ ã€å»ºè®®ã€‘ï¼ˆ4ï¼‰åœ¨WHEREæ¡ä»¶çš„å±æ€§ä¸Šä½¿ç”¨å‡½æ•°æˆ–è€…è¡¨è¾¾å¼è§£è¯»ï¼š Mysqlæ— æ³•è‡ªåŠ¨è§£æè¿™ç§è¡¨è¾¾å¼ï¼Œæ— æ³•ä½¿ç”¨åˆ°ç´¢å¼•ã€‚ ã€å¼ºåˆ¶ã€‘ï¼ˆ5ï¼‰ç¦æ­¢ä½¿ç”¨å¤–é”®ä¸çº§è”ï¼Œä¸€åˆ‡å¤–é”®æ¦‚å¿µå¿…é¡»åœ¨åº”ç”¨å±‚è§£å†³ã€‚è§£è¯»ï¼š å¤–é”®ä¸çº§è”æ›´æ–°é€‚ç”¨äºå•æœºä½å¹¶å‘ï¼Œä¸é€‚åˆåˆ†å¸ƒå¼ã€é«˜å¹¶å‘é›†ç¾¤;çº§è”æ›´æ–°æ˜¯å¼ºé˜»å¡ï¼Œå­˜åœ¨æ•°æ®åº“æ›´æ–°é£æš´çš„é£é™©ï¼›å¤–é”®å½±å“æ•°æ®åº“çš„æ’å…¥é€Ÿåº¦ã€‚ ã€å»ºè®®ã€‘ï¼ˆ6ï¼‰åº”å°½é‡é¿å…åœ¨WHEREå­å¥ä¸­ä½¿ç”¨orä½œä¸ºè¿æ¥æ¡ä»¶è§£è¯»ï¼š æ ¹æ®æƒ…å†µå¯ä»¥é€‰æ‹©ä½¿ç”¨UNION ALLæ¥ä»£æ›¿OR ã€å¼ºåˆ¶ã€‘ï¼ˆ7ï¼‰ä¸å…è®¸ä½¿ç”¨%å¼€å¤´çš„æ¨¡ç³ŠæŸ¥è¯¢è§£è¯»ï¼š æ ¹æ®ç´¢å¼•çš„æœ€å·¦å‰ç¼€åŸç†ï¼Œ%å¼€å¤´çš„æ¨¡ç³ŠæŸ¥è¯¢æ— æ³•ä½¿ç”¨ç´¢å¼•ï¼Œå¯ä»¥ä½¿ç”¨ESæ¥åšæ£€ç´¢ã€‚ ä¸‰ã€ç´¢å¼•è§„çº¦ã€å»ºè®®ã€‘ï¼ˆ1ï¼‰é¿å…åœ¨æ›´æ–°æ¯”è¾ƒé¢‘ç¹ã€åŒºåˆ†åº¦ä¸é«˜çš„åˆ—ä¸Šå•ç‹¬å»ºç«‹ç´¢å¼•è§£è¯»ï¼š åŒºåˆ†åº¦ä¸é«˜çš„åˆ—å•ç‹¬åˆ›å»ºç´¢å¼•çš„ä¼˜åŒ–æ•ˆæœå¾ˆå°ï¼Œä½†æ˜¯è¾ƒä¸ºé¢‘ç¹çš„æ›´æ–°åˆ™ä¼šè®©ç´¢å¼•çš„ç»´æŠ¤æˆæœ¬æ›´é«˜ ã€å¼ºåˆ¶ã€‘ï¼ˆ2ï¼‰ JOINçš„è¡¨ä¸å…è®¸è¶…è¿‡äº”ä¸ªã€‚éœ€è¦JOINçš„å­—æ®µï¼Œæ•°æ®ç±»å‹å¿…é¡»ç»å¯¹ä¸€è‡´; å¤šè¡¨å…³è”æŸ¥è¯¢æ—¶ï¼Œä¿è¯è¢«å…³è”çš„å­—æ®µéœ€è¦æœ‰ç´¢å¼•ã€‚è§£è¯»ï¼š å¤ªå¤šè¡¨çš„JOINä¼šè®©Mysqlçš„ä¼˜åŒ–å™¨æ›´éš¾æƒè¡¡å‡ºä¸€ä¸ªâ€œæœ€ä½³â€çš„æ‰§è¡Œè®¡åˆ’ï¼ˆå¯èƒ½æ€§ä¸ºè¡¨æ•°é‡çš„é˜¶ä¹˜ï¼‰ï¼ŒåŒæ—¶è¦æ³¨æ„å…³è”å­—æ®µçš„ç±»å‹ã€é•¿åº¦ã€å­—ç¬¦ç¼–ç ç­‰ç­‰æ˜¯å¦ä¸€è‡´ã€‚ ã€å¼ºåˆ¶ã€‘ï¼ˆ3ï¼‰åœ¨ä¸€ä¸ªè”åˆç´¢å¼•ä¸­ï¼Œè‹¥ç¬¬ä¸€åˆ—ç´¢å¼•åŒºåˆ†åº¦ç­‰äº1ï¼Œé‚£ä¹ˆåˆ™ä¸éœ€è¦å»ºç«‹è”åˆç´¢å¼•ã€‚è§£è¯»ï¼š ç´¢å¼•é€šè¿‡ç¬¬ä¸€åˆ—å°±èƒ½å¤Ÿå®Œå…¨å®šä½çš„æ•°æ®ï¼Œæ‰€ä»¥è”åˆç´¢å¼•çš„åè¾¹éƒ¨åˆ†æ˜¯ä¸éœ€è¦çš„ã€‚ ã€å¼ºåˆ¶ã€‘ï¼ˆ4ï¼‰å»ºç«‹è”åˆç´¢å¼•æ—¶ï¼Œå¿…é¡»å°†åŒºåˆ†åº¦æ›´é«˜çš„å­—æ®µæ”¾åœ¨å·¦è¾¹è§£è¯»ï¼š åŒºåˆ†åº¦æ›´é«˜çš„åˆ—æ”¾åœ¨å·¦è¾¹ï¼Œèƒ½å¤Ÿåœ¨ä¸€å¼€å§‹å°±æœ‰æ•ˆçš„è¿‡æ»¤æ‰æ— ç”¨æ•°æ®ã€‚æé«˜ç´¢å¼•çš„æ•ˆç‡ï¼Œç›¸åº”æˆ‘ä»¬åœ¨Mapperä¸­ç¼–å†™SQLçš„WHEREæ¡ä»¶ä¸­æœ‰å¤šä¸ªæ¡ä»¶æ—¶ï¼Œéœ€è¦å…ˆçœ‹çœ‹å½“å‰è¡¨æ˜¯å¦æœ‰ç°æˆçš„è”åˆç´¢å¼•ç›´æ¥ä½¿ç”¨ï¼Œæ³¨æ„å„ä¸ªæ¡ä»¶çš„é¡ºåºå°½é‡å’Œç´¢å¼•çš„é¡ºåºä¸€è‡´ã€‚ ã€å»ºè®®ã€‘ï¼ˆ5ï¼‰åˆ©ç”¨è¦†ç›–ç´¢å¼•æ¥è¿›è¡ŒæŸ¥è¯¢æ“ä½œï¼Œé¿å…å›è¡¨è§£è¯»ï¼š è¦†ç›–æŸ¥è¯¢å³æ˜¯æŸ¥è¯¢åªéœ€è¦é€šè¿‡ç´¢å¼•å³å¯æ‹¿åˆ°æ‰€éœ€DATAï¼Œè€Œä¸å†éœ€è¦å†æ¬¡å›è¡¨æŸ¥è¯¢ï¼Œæ‰€ä»¥æ•ˆç‡ç›¸å¯¹å¾ˆé«˜ã€‚æˆ‘ä»¬åœ¨ä½¿ç”¨EXPLAINçš„ç»“æœï¼Œextraåˆ—ä¼šå‡ºç°ï¼šâ€using indexâ€ã€‚è¿™é‡Œä¹Ÿè¦å¼ºè°ƒä¸€ä¸‹ä¸è¦ä½¿ç”¨â€œSELECT * â€ï¼Œå¦åˆ™å‡ ä¹ä¸å¯èƒ½ä½¿ç”¨åˆ°è¦†ç›–ç´¢å¼•ã€‚ ã€å»ºè®®ã€‘ï¼ˆ6ï¼‰åœ¨è¾ƒé•¿VARCHARå­—æ®µ,ä¾‹å¦‚VARCHAR(100)ä¸Šå»ºç«‹ç´¢å¼•æ—¶ï¼Œåº”æŒ‡å®šç´¢å¼•é•¿åº¦ï¼Œæ²¡å¿…è¦å¯¹å…¨å­—æ®µå»ºç«‹ç´¢å¼•ï¼Œæ ¹æ®å®é™…æ–‡æœ¬åŒºåˆ†åº¦å†³å®šç´¢å¼•é•¿åº¦å³å¯ã€‚è§£è¯»ï¼š ç´¢å¼•çš„é•¿åº¦ä¸åŒºåˆ†åº¦æ˜¯ä¸€å¯¹çŸ›ç›¾ä½“ï¼Œä¸€èˆ¬å¯¹å­—ç¬¦ä¸²ç±»å‹æ•°æ®ï¼Œè‹¥é•¿åº¦ä¸º20çš„ç´¢å¼•ï¼ŒåŒºåˆ†åº¦ä¼šé«˜è¾¾90%ä»¥ä¸Šï¼Œåˆ™å¯ä»¥è€ƒè™‘åˆ›å»ºé•¿åº¦ä¾‹ä¸º20çš„ç´¢å¼•ï¼Œè€Œéå…¨å­—æ®µç´¢å¼•ã€‚ä¾‹å¦‚å¯ä»¥ä½¿ç”¨SELECT COUNT(DISTINCT LEFT(lesson_code, 20)) / COUNT(*) FROM lesson;æ¥ç¡®å®šlesson_codeå­—æ®µå­—ç¬¦é•¿åº¦ä¸º20æ—¶æ–‡æœ¬åŒºåˆ†åº¦ã€‚ ã€å»ºè®®ã€‘ï¼ˆ7ï¼‰å¦‚æœæœ‰ORDER BYçš„åœºæ™¯ï¼Œè¯·æ³¨æ„åˆ©ç”¨ç´¢å¼•çš„æœ‰åºæ€§ã€‚ORDER BYæœ€åçš„å­—æ®µæ˜¯è”åˆç´¢å¼•çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶ä¸”æ”¾åœ¨ç´¢å¼•ç»„åˆé¡ºåºçš„æœ€åï¼Œé¿å…å‡ºç°file_sortçš„æƒ…å†µï¼Œå½±å“æŸ¥è¯¢æ€§èƒ½ã€‚è§£è¯»ï¼š 1ã€å‡è®¾æœ‰æŸ¥è¯¢æ¡ä»¶ä¸ºWHERE a=? and b=? ORDER BY cï¼› å­˜åœ¨ç´¢å¼•ï¼ša_b_cï¼Œåˆ™æ­¤æ—¶å¯ä»¥åˆ©ç”¨ç´¢å¼•æ’åºã€‚2ã€åä¾‹ï¼šåœ¨æŸ¥è¯¢æ¡ä»¶ä¸­åŒ…å«äº†èŒƒå›´æŸ¥è¯¢ï¼Œé‚£ä¹ˆç´¢å¼•æœ‰åºæ€§æ— æ³•åˆ©ç”¨ï¼Œå¦‚:WHERE a&gt;10 ORDER BY b; ç´¢å¼•a_bæ— æ³•æ’åºã€‚ ã€å»ºè®®ã€‘ï¼ˆ8ï¼‰åœ¨whereä¸­ç´¢å¼•çš„åˆ—ä¸èƒ½æŸä¸ªè¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿä¸èƒ½æ˜¯å‡½æ•°çš„å‚æ•°ã€‚è§£è¯»ï¼š å³æ˜¯æŸåˆ—ä¸Šå·²ç»æ·»åŠ äº†ç´¢å¼•ï¼Œä½†æ˜¯è‹¥æ­¤åˆ—æˆä¸ºè¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†ã€æˆ–è€…æ˜¯å‡½æ•°çš„å‚æ•°ï¼ŒMysqlæ— æ³•å°†æ­¤åˆ—å•ç‹¬è§£æå‡ºæ¥ï¼Œç´¢å¼•ä¹Ÿä¸ä¼šç”Ÿæ•ˆã€‚ ã€å»ºè®®ã€‘ ï¼ˆ9ï¼‰æˆ‘ä»¬åœ¨whereæ¡ä»¶ä¸­ä½¿ç”¨èŒƒå›´æŸ¥è¯¢æ—¶ï¼Œç´¢å¼•æœ€å¤šç”¨äºä¸€ä¸ªèŒƒå›´æ¡ä»¶ï¼Œè¶…è¿‡ä¸€ä¸ªåˆ™åè¾¹çš„ä¸èµ°ç´¢å¼•ã€‚è§£è¯»ï¼š Mysqlèƒ½å¤Ÿä½¿ç”¨å¤šä¸ªèŒƒå›´æ¡ä»¶é‡Œè¾¹çš„æœ€å·¦è¾¹çš„ç¬¬ä¸€ä¸ªèŒƒå›´æŸ¥è¯¢ï¼Œä½†æ˜¯åè¾¹çš„èŒƒå›´æŸ¥è¯¢åˆ™æ— æ³•ä½¿ç”¨ã€‚ ã€å»ºè®®ã€‘ ï¼ˆ10ï¼‰åœ¨å¤šä¸ªè¡¨è¿›è¡Œå¤–è¿æ¥æ—¶ï¼Œè¡¨ä¹‹é—´çš„å…³è”å­—æ®µç±»å‹å¿…é¡»å®Œå…¨ä¸€è‡´è§£è¯»ï¼š å½“ä¸¤ä¸ªè¡¨è¿›è¡ŒJoinæ—¶ï¼Œå­—æ®µç±»å‹è‹¥æ²¡æœ‰å®Œå…¨ä¸€è‡´ï¼Œåˆ™åŠ ç´¢å¼•ä¹Ÿä¸ä¼šç”Ÿæ•ˆï¼Œè¿™é‡Œçš„å®Œå…¨ä¸€è‡´åŒ…æ‹¬ä½†ä¸é™äºå­—æ®µç±»å‹ã€å­—æ®µé•¿åº¦ã€å­—ç¬¦é›†ã€collectionç­‰ç­‰ å‚è€ƒã€ŠHigh.Performance.MySQL.3rd.Editionã€‹ã€Šé˜¿é‡Œå·´å·´javaå¼€å‘æ‰‹å†Œã€‹","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://smilecoc.vip/categories/è½¬è½½/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(äº”)ï¼šæ•°æ®åº“ç³»ç»Ÿçš„å®ç°","slug":"å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(äº”)ï¼šæ•°æ®åº“ç³»ç»Ÿçš„å®ç°","date":"2020-08-11T12:24:53.000Z","updated":"2020-08-17T15:26:17.941Z","comments":true,"path":"2020/08/11/å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(äº”)ï¼šæ•°æ®åº“ç³»ç»Ÿçš„å®ç°/","link":"","permalink":"http://smilecoc.vip/2020/08/11/å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(äº”)ï¼šæ•°æ®åº“ç³»ç»Ÿçš„å®ç°/","excerpt":"","text":"æœ¬æ–‡è½¬è½½äºhttps://www.cnblogs.com/muchen/p/5291325.htmlï¼Œä»…åšå­¦ä¹ å‚è€ƒä½¿ç”¨ï¼Œä¾µåˆ  å‰è¨€å‰é¢çš„æ–‡ç« ä¸­ï¼Œä¸»è¦éƒ½æ˜¯åœ¨å›´ç»•å…³ç³»æ•°æ®åº“ç†è®ºè¿›è¡Œç ”ç©¶ï¼Œæ²¡æœ‰æ¶‰åŠåˆ°æ•°æ®åº“ç³»ç»Ÿçš„å…·ä½“å®ç°ã€‚ è™½è¯´æ•°æ®åº“ç³»ç»Ÿçš„å…·ä½“å®ç°å› ä¸šåŠ¡ç¯å¢ƒï¼ŒRDBMSç­‰å› ç´ è€Œå¼‚ï¼Œä½†æ€»ä½“å¼€å‘æµç¨‹ï¼Œä»¥åŠå¼€å‘è¿‡ç¨‹ä¸­æ‰€æ¶‰åŠåˆ°çš„ä¸€äº›é—®é¢˜ï¼Œä¹Ÿå…·æœ‰ä¸å°‘ç»Ÿä¸€çš„å¥—è·¯ã€æ ‡å‡†ã€‚ æœ¬æ–‡ä¸»è¦è®¨è®ºæ•°æ®åº“ç³»ç»Ÿå®ç°è¿‡ç¨‹ä¸­çš„é‡ç‚¹ç¯èŠ‚ã€åŸºæœ¬å¼€å‘æµç¨‹ã€æ•°æ®åº“ç®¡ç†ä»¥åŠæ•°æ®è´¨é‡å·¥ç¨‹ç­‰è¯é¢˜ã€‚ å‚ç…§å®Œæ•´æ€§çº¦æŸå¯¹æ›´æ–°åˆ é™¤æ“ä½œçš„å½±å“åœ¨ç¬¬ä¸‰ç¯‡ä¸­ï¼Œæˆ‘ä»¬å·²ç»è®¨è®ºè¿‡ï¼Œå…³ç³»è®¾è®¡çš„ç›®çš„å°±æ˜¯ä¸ºäº†å‡å°‘å†—ä½™æ¶ˆé™¤æ›´æ–°å¼‚å¸¸ã€‚ä½†å½“æ—¶ä¹Ÿç•™ä¸‹ä¸€ä¸ªé—®é¢˜ï¼šå¤–ç æœ¬èº«æ˜¯å†—ä½™çš„ï¼Œé‚£ä¹ˆæ¶‰åŠåˆ°å¤–ç çš„æ›´æ–°æ—¶æ€ä¹ˆåŠå‘¢ï¼Ÿ å…³ç³»æ•°æ®åº“ç†è®ºå°†è¿™ä¸ªé—®é¢˜äº¤ç»™äº†RDBMSï¼Œè®©å®ƒæ¥è§£å†³æ¶‰åŠå¤–ç çš„æ›´æ–°å¼‚å¸¸ã€‚ä¸‹é¢å…ˆæ¥çœ‹ä¸€ä¸‹ï¼Œæ¶‰åŠå¤–ç çš„æ›´æ–°å¼‚å¸¸åˆ°åº•é•¿ä»€ä¹ˆæ ·å­ã€‚ åœ¨ä¸‹é¢çš„è¿™ä¸ªå…³ç³»ä¸­ï¼š å…³ç³»EMPLOYEEä¸­çš„Deptå±æ€§æ˜¯ä¸€ä¸ªå¤–ç ï¼Œå®ƒå¯¹åº”DEPARTMENTå…³ç³»çš„ä¸»ç ã€‚å¦‚æœå¯¹è¯¥å±æ€§è¿›è¡Œæ›´æ–°æˆ–è€…åˆ é™¤ï¼Œé‚£ä¹ˆè¿™ä¸ªå¤–ç å°±æ‰¾ä¸åˆ°å®ƒå¯¹åº”çš„ä¸»ç ï¼Œä¸¤ä¸ªå…³ç³»çš„è”ç³»å°±è¢«ç ´åäº†ã€‚é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼ŒRDBMSçš„è§£å†³æ–¹æ¡ˆæœ‰å››ä¸ªï¼Œä¸‹é¢ä»¥åˆ é™¤å¼‚å¸¸ä¸ºä¾‹è¿›è¡Œè¯´æ˜ï¼š é™åˆ¶åˆ é™¤é™åˆ¶åˆ é™¤æ˜¯æŒ‡å¦‚æœæŸè®°å½•ä¸»ç è¢«å¦ä¸€ä¸ªè®°å½•å¤–ç å¯¹åº”ï¼Œåˆ™è¯¥è®°å½•ä¸å…è®¸è¢«åˆ é™¤ã€‚å¦‚ä¸Šé¢ç¤ºä¾‹DEPARTMENTå…³ç³»ä¸­çš„è®°å½•åœ¨åˆ é™¤çš„æ—¶å€™æœ‰å¯èƒ½è¢«RDBMSç¦æ­¢ã€‚ çº§è”åˆ é™¤ çº§è”åˆ é™¤æ˜¯æŒ‡å¦‚æœæŸä¸ªè®°å½•çš„ä¸»ç è¢«å¦ä¸€ä¸ªè®°å½•çš„å¤–ç å¯¹åº”ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªè®°å½•å°†ä¸€èµ·è¢«åˆ é™¤ã€‚ è®¾ç½®ä¸ºç©º æ˜¯æŒ‡å¦‚æœæŸä¸ªè®°å½•çš„ä¸»ç è¢«å¦ä¸€ä¸ªè®°å½•çš„å¤–ç å¯¹åº”ï¼Œé‚£ä¹ˆåœ¨åˆ é™¤è¿™ä¸ªè®°å½•åï¼Œå¦å¤–é‚£ä¸ªè®°å½•çš„å¤–ç å­—æ®µç½®ä¸ºç©ºã€‚ è®¾ç½®é»˜è®¤å€¼ åŒ3ï¼Œä¸è¿‡æ˜¯å°†ç½®ä¸ºç©ºæ”¹ä¸ºè®¾ç½®æˆä¸€ä¸ªé»˜è®¤å€¼ã€‚ æ›´æ–°æƒ…å†µå’Œåˆ é™¤ä¸€æ ·ï¼Œè¦æ³¨æ„çš„æ˜¯æ‰€æœ‰å¤„ç†éƒ½å‘ç”Ÿåœ¨å¯¹å¤–ç æ˜ å°„ä¸­çš„éå¤–ç å…³ç³»è¿›è¡Œæ“ä½œæ—¶å‘ç”Ÿã€‚è¿™äº›å¤„ç†ä¸»è¦æ˜¯å¯¹å¤–ç å…³ç³»è¿›è¡Œé™„åŠ æ“ä½œï¼Œå¦‚çº§è”åˆ é™¤ï¼Œç½®ç©ºï¼Œç½®é»˜è®¤å€¼ï¼Œæˆ–è€…æŠ¥é”™ã€‚ ç´¢å¼•æœºåˆ¶ç´¢å¼•(index)æœºåˆ¶çš„æœ¬è´¨æ˜¯ä¸€ç§æ£€ç´¢åŠ é€Ÿæœºåˆ¶ï¼Œæœ¬æ–‡å°†ä»ç´¢å¼•çš„é€»è¾‘æ„ä¹‰ä¸Šå¯¹å®ƒè¿›è¡Œè§£æï¼Œè‡³äºå…¶åœ¨å„RDBMSé‡Œçš„ç‰©ç†å®ç°ç»†èŠ‚åˆ™ä¸åšä»‹ç»ã€‚äº‹å®ä¸Šè‹¥éæ•°æ®åº“ç»´æŠ¤ç®¡ç†äººå‘˜ï¼Œä¹Ÿæ²¡å¿…è¦çŸ¥é“ã€‚åœ¨ä¸‹é¢è¿™å¼ å®¢æˆ·å…³ç³»è¡¨ä¸­ï¼š idæ˜¯æŒ‰é¡ºåºæ’åˆ—çš„ï¼Œå› æ­¤å¦‚æœè¦æ£€ç´¢æŸidå¯¹åº”è®°å½•ï¼Œåˆ™ç”±äºè®°å½•å·²æŒ‰idæ’å¥½åºï¼Œå¯ä½¿ç”¨å¤šç§æŸ¥æ‰¾ç®—æ³•æé«˜æ£€ç´¢æ•ˆç‡ï¼Œå¦‚äºŒåˆ†æŸ¥æ‰¾ç­‰ã€‚ä½†å…³ç³»ä¸­æŸä¸€åˆ—æ’å¥½åºä»¥åï¼Œå…¶ä»–åˆ—å¿…ç„¶æ˜¯ä¹±åºçš„ï¼Œé‚£æ€ä¹ˆåŠï¼Ÿåœ¨RDBMSä¸­ï¼Œè¿™ç§æƒ…å†µå¯ä»¥é€šè¿‡æ–°å»ºä¸€ä¸ªåªåŒ…å«ä¸¤åˆ—çš„é™„åŠ è¡¨æ¥å®ç°ï¼š ç´¢å¼•è¡¨ä¸­å…¶ä¸­ä¸€åˆ—ä¸ºç´¢å¼•å­—æ®µï¼Œå¦ä¸€åˆ—åˆ™åŒ…å«ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘åŸçºªå½•ã€‚è¿™æ ·åœ¨å¯¹ç´¢å¼•åˆ—è¿›è¡ŒæŸ¥è¯¢çš„æ—¶å€™ï¼ŒRDBMSä¼šå…ˆå¯¹ç´¢å¼•è¡¨è¿›è¡Œæ“ä½œï¼Œå®Œäº†å†æ˜ å°„åˆ°åŸè¡¨å¹¶è¿”å›ç»“æœã€‚ ä»æœ¬è´¨ä¸Šæ¥è¯´ï¼Œè¿™æ˜¯ä¸€ç§ç‰ºç‰²ç©ºé—´æ¢å–æ—¶é—´çš„åŠæ³•ï¼Œç´¢å¼•å»ºç«‹ä¸å•è€—è´¹å­˜å‚¨èµ„æºï¼Œè€Œä¸”ä¼šé™ä½æ›´æ–°ã€åˆ é™¤ç­‰æ“ä½œçš„æ•ˆç‡ã€‚å› æ­¤ä¸æ˜¯è¯´å»ºçš„ç´¢å¼•è¶Šå¤šå°±è¶Šå¥½ï¼Œå…·ä½“å»ºç«‹ä½•ç§ç´¢å¼•ï¼Œå»ºç«‹å¤šå°‘ç´¢å¼•ï¼Œåˆ™è¦å–å†³äºè®¡ç®—èµ„æºï¼ŒRDBMSï¼Œä¸šåŠ¡åœºæ™¯ç­‰å› ç´ ã€‚ è§¦å‘å™¨æœºåˆ¶è§¦å‘å™¨æ˜¯ä¸€ç§è§„åˆ™ï¼Œå½“å…³ç³»ä¸­åˆ é™¤ã€æ’å…¥ã€ä¿®æ”¹ä¸€æ¡è®°å½•çš„æ—¶å€™æ‰§è¡Œã€‚å®ƒçš„åº”ç”¨åœºæ™¯å¾ˆå¤šï¼Œæ•…å‡ ä¹æ‰€æœ‰RDBMSéƒ½æä¾›äº†è¯¥åŠŸèƒ½ã€‚å¦‚ä¸‹ä»£ç æ˜¯åœ¨MYSQLä¸­ç¼–å†™çš„è§¦å‘å™¨ï¼Œå®ƒæ–½åŠ äºstudentå…³ç³»çš„insertæ“ä½œä¸Šï¼šæ¯æ¬¡insertä¸€æ¡å­¦ç”Ÿè®°å½•åï¼Œéƒ½ä¼šæ›´æ–°å…³ç³»ä¸­çš„è®°å½•æ•°ï¼Œå¦‚æœè®°å½•æ•°è¶…è¿‡10ï¼Œåˆ™ä¸ä¸ºæ–°çš„å­¦ç”Ÿåˆ†é…å¯¼å¸ˆï¼š CREATE TRIGER studentinserttrigger BEFORE INSERT ON student FOR EACH ROW BEGIN DECLARE totaladvised INT DEFAULT 0; SELECT COUNT(*) INTO totaladvised FROM student WHERE advisorid = NEW.advisorid; IF (totaladvised &gt;= 10) THEN SET NEW.advisorid = NULL; END IF END; æ³¨æ„è¿™æ®µä»£ç ä¸æ˜¯æ ‡å‡†SQLä»£ç ï¼Œä¸å¿…ç»†ç©¶ã€‚è§¦å‘å™¨å®ç°ä»£ç çš„è¯­æ³•è§„åˆ™å–å†³äºRDBMSï¼Œéœ€è¦æ—¶å†æœ‰é’ˆå¯¹æ€§çš„å‚è€ƒæ‰‹å†Œå³å¯ã€‚ æ•°æ®åº“ç³»ç»Ÿå¼€å‘æµç¨‹æ‰€è°“æ•°æ®åº“ç³»ç»Ÿ(database system)ï¼Œå°±æ˜¯æŒ‡è®©ç”¨æˆ·å’Œæ•°æ®åº“ä¿¡æ¯ä¹‹é—´è¿›è¡Œæœ‰æ•ˆäº¤äº’çš„è®¡ç®—æœºç³»ç»Ÿã€‚å…¶å…¸å‹çš„æ¡†æ¶å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å¯è§ï¼Œ æ•°æ®åº“ç³»ç»Ÿçš„ä¸‰å¤§ä¸»è¦æˆåˆ†åˆ†åˆ«æ˜¯ï¼šæ•°æ®åº“ï¼Œæ•°æ®åº“ç®¡ç†è½¯ä»¶RDBMSï¼Œè¿˜æœ‰å‰ç«¯åº”ç”¨ç¨‹åº(ç½‘ç«™ï¼ŒAPPç­‰)ã€‚æ•°æ®åº“æ˜¯æ•°æ®åº“ç³»ç»Ÿçš„æ ¸å¿ƒï¼Œè´Ÿè´£å­˜æ”¾æ‰€æœ‰æ•°æ®ã€‚è€Œæ•°æ®åº“å¯¹å¤–çš„æ‰€æœ‰äº¤äº’ï¼Œå‡é€šè¿‡RDBMSæ¥è¿›è¡Œã€‚ä¸€èˆ¬ç”¨æˆ·é€šè¿‡å‰ç«¯åº”ç”¨ç¨‹åºä½¿ç”¨RDBMSï¼Œè€Œæ¯”è¾ƒä¸“ä¸šçš„ç”¨æˆ·ä¹Ÿå¯ç›´æ¥ä½¿ç”¨RDBMSæ“çºµæ•°æ®åº“ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼ŒæŸäººé€šè¿‡APPè®¢è´­å•†å“ï¼Œé‚£ä¹ˆè¿™ä¸ªAPPå°±æ˜¯å‰ç«¯åº”ç”¨ç¨‹åºã€‚è€Œå½“ä»–æœ‰ä¸€ä¸ªå…·ä½“è¡Œä¸ºï¼Œæ¯”å¦‚ä»˜æ¬¾çš„æ—¶å€™ï¼Œå‰æ®µåº”ç”¨ç¨‹åºå°±ä¼šå’ŒRDBMSé€šä¿¡ï¼Œè®©RDBMSå®Œæˆæ‰£æ¬¾å¹¶è¿”å›æ“ä½œæ‰§è¡Œç»“æœã€‚ æ•°æ®åº“ç³»ç»Ÿçš„æ€»ä½“å¼€å‘æµç¨‹ï¼Œå¯ä»¥æ€»ä½“åˆ’åˆ†ä¸ºä»¥ä¸‹æ­¥éª¤ï¼š æ•°æ®åº“éœ€æ±‚ éœ€æ±‚æœé›†æ˜¯æ‰€æœ‰ç¯èŠ‚ä¸­æœ€é‡è¦çš„ä¸€æ­¥ï¼Œåƒé€äº†ç”¨æˆ·éœ€æ±‚ï¼Œå¾€å¾€å°±æˆåŠŸäº†å¤§åŠã€‚è¿™äº›éœ€æ±‚å°†æŒ‡å¯¼åé¢å¦‚éœ€æ±‚å»ºæ¨¡ã€å®ç°ã€ä»¥åŠå‰ç«¯åº”ç”¨ç¨‹åºå¼€å‘ç­‰ã€‚é€šå¸¸æ¥è¯´ï¼Œéœ€æ±‚éƒ½ä¼šé€šè¿‡ERå›¾æ¥è¡¨ç¤º(å‚è€ƒæœ¬ç³»åˆ—ç¬¬ä¸€ç¯‡)ï¼Œå¹¶å’Œå„ä¸šåŠ¡æ–¹è®¨è®ºæœé›†å¾—åˆ°ï¼Œæœ€ç»ˆæ•´ç†æˆæ–‡æ¡£ã€‚ è¦ç‰¹åˆ«å¼ºè°ƒçš„ä¸€ç‚¹æ˜¯æ•°æ®åº“ç³»ç»Ÿå¼€å‘éœ€æ±‚é˜¶æ®µè¿‡ç¨‹æ˜¯å¾ªç¯è¿­ä»£å¼çš„ï¼Œä¸€å¼€å§‹çš„éœ€æ±‚é›†å¹¶ä¸å¤§ï¼Œä½†éšç€é¡¹ç›®çš„è¿›å±•ï¼Œéœ€æ±‚ä¼šè¶Šæ¥è¶Šå¤šã€‚è€Œä¸”ä¸è®ºæ˜¯ä»¥ä¸Šå“ªä¸ªé˜¶æ®µå‘ç”Ÿäº†éœ€æ±‚å˜åŠ¨ï¼Œæ•´ä¸ªæµç¨‹éƒ½éœ€è¦é‡æ–°èµ°ä¸€éï¼Œå†³ä¸å…è®¸éšå¼å˜æ›´éœ€æ±‚ã€‚ æ•°æ®åº“å»ºæ¨¡ ä¹Ÿå°±æ˜¯é€»è¾‘æ¨¡å‹å»ºæ¨¡ï¼Œåœ¨æœ¬ç³»åˆ—ç¬¬äºŒç¯‡æœ‰è¿‡è¯¦ç»†è®²è§£ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚ æ•°æ®åº“å®ç° è¿™ä¸€æ­¥çš„æœ¬è´¨å°±æ˜¯åœ¨ç©ºçš„RDBMSé‡Œå®ç°2ä¸­åˆ›å»ºçš„å…³ç³»æ¨¡å‹ï¼Œä¸€èˆ¬é€šè¿‡ä½¿ç”¨SQLæˆ–è€…RDBMSæä¾›çš„å‰ç«¯å·¥å…·å®ç°ã€‚ å¼€å‘å‰ç«¯åº”ç”¨ç¨‹åº å‰ç«¯åº”ç”¨å¼€å‘åœ¨éœ€æ±‚æœé›†å¥½äº†ä¹‹åå°±å¼€å§‹è¿›è¡Œï¼Œä¸»è¦æœ‰ç½‘ç«™ã€APPç­‰å‰ç«¯å½¢å¼ã€‚å¦å¤–å‰ç«¯ç¨‹åºçš„å®é™…å®ç°æ¶‰åŠåˆ°å’Œæ•°æ®åº“ä¹‹é—´äº¤äº’ï¼Œå› æ­¤è¿™ä¸€æ­¥çš„æœ€ç»ˆå®Œæˆåœ¨æ•°æ®åº“å»ºæ¨¡ä¹‹åã€‚ æ•°æ®åº“éƒ¨ç½² é¡¾åæ€ä¹‰ï¼Œè¿™ä¸€æ­¥å°±æ˜¯éƒ¨ç½²æ•°æ®åº“ç³»ç»Ÿçš„è½¯ç¡¬ä»¶ç¯å¢ƒã€‚ç¬”è€…è¿™é‡Œæ’ä¸€ä¸ªæ•…äº‹ï¼Œä»¥å‰åœ¨Aå…¬å¸å·¥ä½œæ—¶ï¼Œä¸€å“¥ä»¬è‡ªå‘Šå¥‹å‹‡åˆ°æŸæ”¿åºœç§˜å¯†éƒ¨é—¨éƒ¨ç½²ç§æœ‰äº‘ç¯å¢ƒã€‚é‚£åœ°æ–¹å¾ˆååƒ»ï¼Œä¸å…è®¸å¤–ç½‘ï¼ŒUç›˜éƒ½ä¸èƒ½ç”¨ï¼Œåªèƒ½å…‰ç›˜å®‰è£…ã€‚è€ŒAå…¬å¸çš„äº‘å¹³å°éƒ¨ç½²æ˜¯ä¸€ä»¶éå¸¸å¤æ‚çš„æ´»ï¼Œäºæ˜¯é‚£å“¥ä»¬å°±åœ¨é‚£é‡Œå‘†äº†ä¸€ä¸ªå¤šæœˆï¼Œå›æ¥åæ®è¯´æ˜¯ç˜¦äº†7æ–¤...... å›åˆ°æ­£é¢˜ï¼Œæ•°æ®åº“éƒ¨ç½²å¾€å¾€è¿˜åŒ…å«å°†åˆå§‹æ•°æ®å¡«å…¥æ•°æ®åº“ä¸­çš„æ„æ€ã€‚å¯¹äºäº‘æ•°æ®ä»“åº“ï¼Œè¿™ä¸€æ­¥å°±å«&quot;æ•°æ®ä¸Šäº‘&quot;ã€‚ æ•°æ®åº“ä½¿ç”¨ è¿™ä¸€æ­¥æ²¡å•¥å¤šè®²çš„ï¼Œå°±å†è®²ä¸€ä¸ªæœ‰å…³çš„æ•…äº‹å§ã€‚åŒæ ·æ˜¯åœ¨Aå…¬å¸ï¼Œæœ‰ä¸€æ¬¡æŸæ”¿ä¼ç§æœ‰äº‘é¡¹ç›®å®Œæˆåï¼Œæˆ‘ä»¬æœ‰äººè¢«æ´¾å»ç»™ä»–ä»¬åŸ¹è®­å¦‚ä½•ä½¿ç”¨ã€‚ç»“æœå»çš„äººå›æ¥åè¯´æ”¿ä¼æ„è§å¾ˆå¤§ï¼Œè®¤ä¸ºè®©ä»–ä»¬å­¦ä¹ SQLä»¥å¤–çš„ä¸œè¥¿éƒ½ä¸è¡Œã€‚æ‹’ç»ç”¨Pythonå†™UDFï¼Œæ›´æ‹’ç»MRç¼–ç¨‹æ¥å£ï¼Œåªè¦SQLå’Œå›¾å½¢ç•Œé¢æ“ä½œæ–¹å¼ã€‚ä¸€å¼€å§‹æˆ‘å¯¹æ”¿ä¼çš„è¿™ç§è¡Œä¸ºæœ‰ç‚¹çœ‹ä¸èµ·ï¼Œä½†åæ¥æˆ‘æƒ³ï¼Œå°±æ˜¯å› ä¸ºæœ‰è¿™ç¾¤æŒ‘å‰”çš„ç”¨æˆ·ï¼Œæ‰ä½¿å¾—Aå…¬å¸äº‘äº§å“çš„æ˜“ç”¨æ€§å¦‚æ­¤å¼ºå¤§ï¼Œä»è€Œå é¢†å›½å†…äº‘è®¡ç®—çš„å¤§éƒ¨åˆ†å¸‚åœºã€‚ç”¨æˆ·çš„éœ€æ±‚æ‰æ˜¯æŠ€æœ¯çš„å”¯ä¸€è¯•é‡‘çŸ³ã€‚ æ•°æ®åº“ç®¡ç†å’Œç»´æŠ¤ ä¸¥æ ¼æ¥è®²ï¼Œè¿™éƒ¨åˆ†ä¸ç®—å¼€å‘æµç¨‹ï¼Œå±äºæ•°æ®åº“ç³»ç»Ÿå¼€å‘å®Œæˆåçš„å·¥ä½œã€‚æ¥ä¸‹æ¥æœ¬æ–‡å°†å›´ç»•è¿™ä¸ªè¯é¢˜è¿›è¡Œè®²è§£ã€‚ æ•°æ®åº“ç³»ç»Ÿç®¡ç† æ•°æ®åº“ç³»ç»Ÿå‘è¡Œåï¼Œæ§åˆ¶æƒä¾¿ä»æ•°æ®åº“è®¾è®¡ã€å®ç°ã€éƒ¨ç½²çš„å›¢é˜Ÿç§»äº¤ç»™äº†æ•°æ®åº“ç®¡ç†å‘˜(database administrator, DBA)ï¼Œå¹¶ç”±ä»–ä»¬æ¥å¯¹ç³»ç»Ÿè¿›è¡Œç®¡ç†ã€‚ æ•°æ®åº“ç®¡ç†æ¶µç›–äº†ç¡®ä¿ä¸€ä¸ªå·²ç»éƒ¨ç½²çš„æ•°æ®åº“ç³»ç»Ÿæ­£ç¡®è¿è¡Œçš„å„ç§è¡Œä¸ºã€‚ä¸ºäº†å®ç°è¿™ä¸€ç›®æ ‡ï¼Œæ•°æ®åº“ç®¡ç†å…·ä½“åŒ…å«ä»¥ä¸‹èŒƒç•´ï¼šè¿™éƒ¨åˆ†å·¥ä½œçš„æ¶‰åŠé¢ç›¸å½“å¹¿è€Œæ·±ï¼Œåº”ç”±ä¸“ä¸šçš„DBAå›¢é˜Ÿå»å®Œæˆã€‚æœ¬æ–‡ä¸»è¦é’ˆå¯¹äººç¾¤æ˜¯æ•°æ®ç§‘å­¦å®¶ï¼Œå› æ­¤ä»…å¯¹è¿™äº›å·¥ä½œåšä¸€ä¸ªç®€æ˜çš„ä»‹ç»ã€‚ æ•°æ®åº“ç³»ç»Ÿç›‘æµ‹ä¸ç»´æŠ¤ ç›‘æµ‹å·¥ä½œå¯ä»¥è®©DBAæŒæ¡æ•°æ®åº“ç³»ç»Ÿçš„è¿è¡Œæƒ…å†µï¼Œå¹¶é’ˆå¯¹å‘ç°çš„é—®é¢˜è¿›è¡Œç»´æŠ¤ã€‚æ¯”å¦‚å‘ç°å­˜å‚¨èµ„æºä¸å¤Ÿç”¨äº†ï¼Œåˆ™è¦åˆ†é…ç»™æ•°æ®åº“ç³»ç»Ÿæ›´å¤šå­˜å‚¨ç©ºé—´ç­‰ã€‚ åŒæ—¶ï¼Œç›‘æµ‹å·¥ä½œä¹Ÿå¯ä»¥è®©DBAçŸ¥é“å…³ç³»æ•°æ®åº“ä¸­å„å…³ç³»çš„å…·ä½“ä½¿ç”¨æƒ…å†µï¼Œä»è€Œè¿›è¡Œä¼˜åŒ–ã€‚æ¯”å¦‚æŸä¸¤ä¸ªè¡¨è¢«å¤§ç¾¤ç”¨æˆ·é¢‘ç¹ä½¿ç”¨ï¼Œå¹¶åªç”¨æ¥é‡å¤åˆ›å»ºç›¸åŒçš„æŠ¥è¡¨ã€‚è¿™æ—¶å€™DBAå°±å¯ä»¥è€ƒè™‘å»ºè®®æ•°æ®åº“å¼€å‘å›¢é˜Ÿåè§„èŒƒåŒ–è®¾è®¡çš„å°†è¿™ä¸¤ä¸ªè¡¨åˆå¹¶åˆ°ä¸€èµ·ã€‚ ç»´æŠ¤å·¥ä½œæ˜¯æŒ‡DBAåœ¨ç›‘æµ‹åˆ°äº†é—®é¢˜åï¼Œé‡‡å–çš„ä¿®å¤è¡Œä¸ºã€‚æ¯”å¦‚ä¸Šé¢æåˆ°çš„åˆ†é…æ›´å¤šå­˜å‚¨ç©ºé—´ï¼Œå‘æ•°æ®ç³»ç»ŸåŠ å…¥æ–°çš„å…³ç³»(æ³¨: æ•°æ®åº“å¼€å‘è®¾è®¡äººå‘˜å†³å®šæ˜¯å¦åŠ å…¥å…³ç³»ï¼ŒDBAè´Ÿè´£å»ºè®®åŠ å…¥å’Œå…·ä½“æ‰§è¡Œ)ï¼Œéƒ½å±äºç»´æŠ¤èŒƒç•´ã€‚ æ•°æ®åº“å®‰å…¨ä¿éšœ æ•°æ®åº“å®‰å…¨ä¿éšœå·¥ä½œå¯ä»¥è¯´æ˜¯æ•°æ®åº“ç³»ç»Ÿç®¡ç†å·¥ä½œä¸­çš„é¦–è¦ä»»åŠ¡ï¼Œè¯¥ä»»åŠ¡éœ€è¦DBAå¯¹æ•°æ®çš„å­˜å–è¿‡ç¨‹ä¸¥åŠ æ§åˆ¶ã€‚ å…·ä½“ç‚¹æ¥è¯´ï¼Œå°±æ˜¯è¦æ±‚DBAåšå¥½æ•°æ®åº“è®¿é—®äººå‘˜çš„è®¤è¯å·¥ä½œï¼Œå¹¶å¯¹æ‰€æœ‰ç”¨æˆ·è¿›è¡Œæƒé™åˆ’åˆ†ã€‚ æ­¤å¤–ï¼Œå¯¹äºç‰¹åˆ«æ•æ„Ÿçš„æ•°æ®ï¼Œè¿˜åº”è¿›è¡ŒåŠ å¯†å¤„ç†ã€‚è¿™éƒ¨åˆ†åŠŸèƒ½ä¸€äº›å•†ä¸šæ•°æ®åº“åšå¾—å¾ˆå¥½ï¼Œæ¯”å¦‚Oracleã€‚ æ•°æ®åº“å¤‡ä»½ä¸æ¢å¤ è¿™é‡Œç®€è¦è¯´æ˜ä¸€ä¸‹æ•°æ®åº“å¤‡ä»½ä¸æ¢å¤çš„åŸç†ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œæ•°æ®åº“çš„æ•°æ®ï¼Œæ˜¯å­˜æ”¾åˆ°ç£ç›˜é‡Œçš„ã€‚è€Œè®¡ç®—æœºå¯¹æ•°æ®çš„å¤„ç†è¿‡ç¨‹ï¼Œéƒ½æ˜¯å…ˆæŠŠæ•°æ®ä»ç¡¬ç›˜è½¬ç§»åˆ°å†…å­˜ï¼Œå¤„ç†å®Œåå†æ”¾å›å»ã€‚ è€Œå¦‚æœæ•°æ®åœ¨å†…å­˜ä¸­è¿›è¡Œå¤„ç†ï¼Œè¿˜æ²¡æœ‰å°†æ•°æ®è½¬ç§»å›ç£ç›˜çš„æ—¶å€™ï¼Œæ•°æ®åº“æŒ‚äº†çš„è¯å°±å°†å¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚å› æ­¤RDBMSé‡‡ç”¨æ¢å¤æ—¥å¿—(recovery log)æœºåˆ¶ï¼Œå…ˆè®°å½•æ›´æ–°æ“ä½œè¦åšçš„äº‹æƒ…ï¼Œæ¯”å¦‚é‚£ä¸ªæ•°æ®è¢«æ›´æ–°ï¼Œæ›´æ–°å‰åçš„å€¼ï¼Œæ›´æ–°è¯·æ±‚çš„ç”¨æˆ·ç­‰ï¼Œç„¶åå†åšå…·ä½“çš„æ›´æ–°æ“ä½œã€‚åœ¨æ›´æ–°æ—¥å¿—ä¸­å¯ä»¥è®¾ç½®&quot;æ£€æŸ¥ç‚¹&quot;ï¼Œä¹‹åDBAå¯ä½¿ç”¨å®ƒè¿›è¡Œå‘¨æœŸæ€§å‰¯æœ¬å¤‡ä»½ã€‚å¤±æ•ˆäº‹ä»¶å‘ç”Ÿä¹‹åï¼ŒDBAå¯ä»¥åˆ©ç”¨&quot;æ£€æŸ¥ç‚¹&quot;è¿›è¡Œç³»ç»Ÿæ¢å¤ï¼šå›æ»š(Roll Back)è‡³æŒ‡å®šæ£€æŸ¥ç‚¹çŠ¶æ€ã€‚ å¯¹äºé‚£ç§å½»åº•æ€§æ¯åçš„æƒ…å†µï¼Œæ¯”å¦‚å‘ç”Ÿç«ç¾ã€åœ°éœ‡ç­‰ï¼Œå¯åœ¨å¤šä¸ªä¸åŒç‰©ç†ç«™ç‚¹ä¸Šä¿ç•™å®Œå…¨é•œåƒå¤‡ä»½(complete mirrored backup)ã€‚è¿™äº›å‰¯æœ¬éœ€æŒç»­æ›´æ–°ä¿è¯ä¸æ•°æ®åº“ç³»ç»Ÿä¸€è‡´ã€‚ æ•°æ®åº“æ€§èƒ½ä¼˜åŒ– æ€§èƒ½ä¼˜åŒ–å·¥ä½œåŒ…æ‹¬è®¾ç½®ç´¢å¼•ï¼Œé€†è§„èŒƒåŒ–ï¼ŒSQLä¼˜åŒ–ç­‰ç­‰ã€‚é€šå¸¸æœ‰QPS(query per second)ç­‰æŒ‡æ ‡æ¥è¡¡é‡æ•°æ®åº“ç³»ç»Ÿçš„ä¼˜åŒ–æ•ˆæœã€‚ è¿™éƒ¨åˆ†å·¥ä½œå†…å®¹å¾ˆå¤šä¹Ÿæ¯”è¾ƒæ‚ï¼Œä¸»è¦é€šè¿‡DBAç®¡ç†RDBMSçš„æŸ¥è¯¢ä¼˜åŒ–å™¨å®Œæˆã€‚ä½†å¯¹äºæ•°æ®åº“çš„å¼€å‘å‘˜å’Œä½¿ç”¨è€…æ¥è¯´ï¼Œä¹Ÿå¤šå¤šå°‘å°‘è¦çŸ¥é“ä¸€ç‚¹ï¼Œæ¯”å¦‚å†™Hiveè¯­å¥çš„æ—¶å€™éœ€è¦çµæ´»è®¾ç½®åˆ†åŒºï¼Œé¿å…æ•°æ®å€¾æ–œç­‰ã€‚è¿™äº›å…·ä½“ç¯å¢ƒçš„ä¼˜åŒ–æ–¹æ¡ˆï¼Œæœ¬æ–‡ç¯‡å¹…æœ‰é™å°±ä¸ä¸€ä¸€è®²è§£äº†ã€‚ æ•°æ®åº“æ ‡å‡†åˆ¶å®š è¿™éƒ¨åˆ†å·¥ä½œåŒ…æ‹¬æ•°æ®åº“ä¸­å­—æ®µå‘½åè§„èŒƒï¼ŒSQLç¼–ç è§„èŒƒçš„åˆ¶å®šç­‰ã€‚é™¤äº†è¿™äº›å¼€å‘æ ‡å‡†ï¼Œè¿˜æœ‰ä½¿ç”¨æ ‡å‡†ï¼Œæ¯”å¦‚ä½¿ç”¨æ•°æ®åº“çš„äººéœ€è¦éµå®ˆå“ªäº›æœ‰ç›Šäºæ•°æ®åº“ç³»ç»Ÿå¥åº·çš„è¡Œä¸ºè§„èŒƒã€‚ æ•°æ®è´¨é‡ä½“ç³» æ•°æ®åº“ç³»ç»Ÿï¼Œä»¥åŠæ¥ä¸‹ä¸€ä¸ªç³»åˆ—è¦è®²çš„æ•°æ®ä»“åº“ç³»ç»Ÿï¼Œéƒ½éœ€è¦å§‹ç»ˆé‡è§†æ•°æ®è´¨é‡é—®é¢˜ã€‚ç”¨ä¸€å¥è¯æ¦‚æ‹¬ï¼Œæ•°æ®è´¨é‡å°±æ˜¯è¡¡é‡æ•°æ®èƒ½å¦çœŸå®ã€åŠæ—¶åæ˜ å®¢è§‚ä¸–ç•Œçš„æŒ‡æ ‡ã€‚ å…·ä½“æ¥è¯´ï¼Œæ•°æ®è´¨é‡åŒ…å«ä»¥ä¸‹å‡ å¤§æŒ‡æ ‡ï¼š å‡†ç¡®æ€§ å‡†ç¡®æ€§è¦æ±‚æ•°æ®èƒ½å¤Ÿæ­£ç¡®æè¿°å®¢è§‚ä¸–ç•Œã€‚æ¯”å¦‚æŸç”¨æˆ·å§“åæ‹¼éŸ³mu chené”™è¯¯çš„å½•å…¥æˆäº†muc henï¼Œå°±åº”è¯¥å¼¹å‡ºè­¦å‘Šè¯­ï¼› å”¯ä¸€æ€§ å”¯ä¸€æ€§è¦æ±‚æ•°æ®ä¸èƒ½è¢«é‡å¤å½•å…¥ï¼Œæˆ–è€…ä¸èƒ½æœ‰ä¸¤ä¸ªå‡ ä¹ç›¸åŒçš„å…³ç³»ã€‚æ¯”å¦‚å¼ ä¸‰æå››åœ¨ä¸åŒä¸šåŠ¡ç¯å¢ƒä¸‹åˆ†åˆ«å»ºç«‹äº†è¿‘ä¹ç›¸åŒçš„å…³ç³»ï¼Œè¿™æ—¶åº”å°†è¿™ä¸¤ä¸ªå…³ç³»åˆå¹¶ï¼› å®Œæ•´æ€§ å®Œæ•´æ€§è¦æ±‚è¿›è¡Œæ•°æ®æœé›†æ—¶ï¼Œéœ€æ±‚æ•°æ®çš„è¢«æè¿°ç¨‹åº¦è¦é«˜ã€‚æ¯”å¦‚ä¸€ä¸ªç”¨æˆ·çš„è´­ä¹°è®°å½•ä¸­ï¼Œå¿…ç„¶è¦æœ‰æ”¯ä»˜é‡‘é¢è¿™ä¸ªå±æ€§ï¼› ä¸€è‡´æ€§ ä¸€è‡´æ€§è¦æ±‚ä¸åŒå…³ç³»ã€æˆ–è€…åŒä¸€å…³ç³»ä¸åŒå­—æ®µçš„æ•°æ®æ„ä¹‰ä¸å‘ç”Ÿå†²çªã€‚æ¯”å¦‚æŸå…³ç³»ä¸­æ˜¨å¤©å­˜è´§é‡å­—æ®µ+å½“å¤©è¿›è´§é‡å­—æ®µ-å½“å¤©é”€å”®é‡å­—æ®µä¸ç­‰äºå½“å¤©å­˜æ´»é‡ï¼Œå¦åˆ™å°±å¯èƒ½æ˜¯æ•°æ®è´¨é‡æœ‰é—®é¢˜ï¼› åŠæ—¶æ€§ åŠæ—¶æ€§è¦æ±‚æ•°æ®åº“ç³»ç»Ÿä¸­çš„æ•°æ®&quot;ä¿é²œ&quot;ã€‚æ¯”å¦‚å½“å¤©çš„è´­ä¹°è®°å½•å½“å¤©å°±è¦å…¥åº“ï¼› ç»Ÿä¸€æ€§ ç»Ÿä¸€æ€§è¦æ±‚æ•°æ®æ ¼å¼ç»Ÿä¸€ã€‚æ¯”å¦‚nikeè¿™ä¸ªå“ç‰Œï¼Œä¸èƒ½æœ‰çš„å­—æ®µæè¿°ä¸º&quot;è€å…‹&quot;ï¼Œè€Œæœ‰çš„å­—æ®µåˆæ˜¯&quot;å¥ˆå…‹&quot;ï¼› æ•°æ®è´¨é‡å’Œæ•°æ®å…·ä½“æ„ä¹‰æœ‰å¾ˆå¤§ç›¸å…³æ€§ï¼Œå› æ­¤æ— æ³•å•å‡­æ•°æ®åº“ç†è®ºæ¥ä¿è¯ã€‚ä¸”ç”±äºå…·ä½“ä¸šåŠ¡åŠçœŸå®ä¸–ç•Œçš„å¤æ‚æ€§ï¼Œæ•°æ®è´¨é‡é—®é¢˜å¿…ç„¶ä¼šå­˜åœ¨ï¼Œä¸å¯èƒ½å®Œå…¨é¢„é˜²å¾—äº†ã€‚å› æ­¤å¾ˆå¤šRDBMSæˆ–ç¬¬ä¸‰æ–¹å…¬å¸éƒ½æä¾›äº†æ•°æ®è´¨é‡å·¥ç¨‹æœåŠ¡/è½¯ä»¶ï¼Œç”¨æ¥è¯†åˆ«å’Œæ ¡æ­£æ•°æ®åº“ç³»ç»Ÿä¸­çš„å„ç§æ•°æ®è´¨é‡é—®é¢˜ã€‚ å°ç»“æœ¬ç¯‡ä½œä¸ºæ•°æ®åº“ç³»åˆ—çš„ç»ˆç¯‡ï¼Œä¸»è¦å›´ç»•æ•°æ®åº“ç³»ç»Ÿå®ç°æ‰€æ¶‰åŠåˆ°çš„æ–¹æ–¹é¢é¢è¿›è¡Œè®²è§£ã€‚æƒ³å¿…è¯»è€…çœ‹å®Œæœ¬æ–‡åä¼šå’Œæˆ‘ä¸€æ ·ï¼Œæ„Ÿå—åˆ°ä¸€ä¸ªå®Œæ•´è€Œä¼˜ç§€çš„æ•°æ®åº“ç³»ç»Ÿå®ç°å¹¶ä¸ç®€å•ï¼Œç”šè‡³å¯ä»¥è¯´æ˜¯æ¯”è¾ƒç¹çã€‚è™½è¯´å®é™…é¡¹ç›®ä¸­æ¯ä¸ªäººåªéœ€è¦ä¸“é—¨è´Ÿè´£å…¶ä¸­ä¸€ä¸ªæˆ–è€…å‡ ä¸ªæ¨¡å—ï¼Œä¸è¿‡ç¬”è€…è®¤ä¸ºä½œä¸ºä¸€åä¼˜ç§€çš„æ•°æ®åº“å¼€å‘äººå‘˜ï¼Œä¹Ÿå¿…é¡»å¯¹å…¨å±€æœ‰ä¸€å®šçš„è®¤è¯†ï¼Œè¿™ä¹Ÿæ˜¯æœ¬æ–‡æ„ä¹‰æ‰€åœ¨ã€‚ æœ€åè°ˆç‚¹é¢˜å¤–è¯å§ã€‚ç¬”è€…æœ¬äººæ˜¯ä¸€åæ•°æ®æŒ–æ˜å·¥ç¨‹å¸ˆï¼Œçœ‹åˆ°å¾ˆå¤šæœ‹å‹æŠŠç²¾åŠ›å®Œå…¨æŠ•åˆ°ç ”ç©¶æ•°æ®æŒ–æ˜ç®—æ³•å’Œå®ç°ä¸Šï¼Œç§ä»¥ä¸ºè¿™æ ·åšæ˜¯å¾ˆä¸ç§‘å­¦çš„ã€‚å› ä¸ºä¸€ä¸ªä¼˜ç§€çš„æ•°æ®æŒ–æ˜å¼•æ“ï¼Œå¿…ç„¶æ¶æ„åœ¨ä¸€ä¸ªä¼˜ç§€çš„æ•°æ®åº“/æ•°æ®ä»“åº“ç³»ç»Ÿä¹‹ä¸Šã€‚è€Œä¸€ä¸ªæ•°æ®æŒ–æ˜å·¥ç¨‹å¸ˆ80%çš„å·¥ä½œéƒ½æ˜¯åœ¨åˆ©ç”¨è¿™äº›ç³»ç»Ÿè¿›è¡Œæ•°æ®æ¸…æ´—ã€ç‰¹å¾æå–ç­‰ï¼Œæ·±å…¥æ€è€ƒç®—æ³•æ¨¡å‹çš„æ—¶é—´å¹¶ä¸å¤š(é™¤éæ‚¨æ˜¯åœ¨ç‰¹åˆ«ç‰›çš„å¹³å°æ€§ç®—æ³•å›¢é˜Ÿå·¥ä½œ)ã€‚å› æ­¤åœ¨æ·±å…¥å­¦ä¹ æ•°æ®æŒ–æ˜ç®—æ³•ä¹‹å‰ï¼Œä¸€å®šè¦æœ‰è‰¯å¥½çš„æ•°æ®åŸºç¡€çŸ¥è¯†ï¼Œä¸èƒ½å¥½é«˜éª›è¿œã€‚","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://smilecoc.vip/categories/è½¬è½½/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(å››)ï¼šSQL","slug":"å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(å››)ï¼šSQL","date":"2020-08-11T11:01:11.000Z","updated":"2020-08-17T15:15:53.380Z","comments":true,"path":"2020/08/11/å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(å››)ï¼šSQL/","link":"","permalink":"http://smilecoc.vip/2020/08/11/å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(å››)ï¼šSQL/","excerpt":"","text":"æœ¬æ–‡è½¬è½½äºhttps://www.cnblogs.com/muchen/p/5286769.htmlï¼Œä»…åšå­¦ä¹ å‚è€ƒä½¿ç”¨ï¼Œä¾µåˆ  å‰è¨€ç¡®å®ï¼Œå…³äºSQLçš„å­¦ä¹ èµ„æ–™ï¼Œå„ç±»æ–‡æ¡£åœ¨ç½‘ä¸Šåˆ°å¤„éƒ½æ˜¯ã€‚ä½†å®ƒä»¬ç»å¤§å¤šæ•°çš„å‡ºå‘ç‚¹éƒ½å±€é™åœ¨æ—§æœ‰å…³ç³»æ•°æ®åº“é‡Œï¼Œå†…å®¹è¿‘ä¹åƒç¯‡ä¸€å¾‹ã€‚è€Œåœ¨å½“ä»Šå¤§æ•°æ®çš„æµªæ½®ä¸‹ï¼ŒSQLæ—©å°±è¢«èµ‹äºˆäº†æ–°çš„è´£ä»»å’Œæ„ä¹‰ã€‚ æœ¬ç¯‡ä¸­ï¼Œç¬”è€…å°†ç»“åˆè¿‡å»åœ¨Aå…¬å¸å’ŒTå…¬å¸å¤§æ•°æ®éƒ¨é—¨çš„å­¦ä¹ å·¥ä½œç»å†ï¼Œå¯¹ä¼ ç»ŸSQLè¯­æ³•è¿›è¡Œä¸€æ¬¡å›é¡¾æ€§å­¦ä¹ ã€‚åŒæ—¶ï¼Œæ€è€ƒè¿™é—¨è¯­è¨€åœ¨å¤§æ•°æ®æ—¶ä»£çš„é‡è¦æ„ä¹‰ã€‚ å¤§æ•°æ®æŠ€æœ¯ä¸­SQLçš„ä½œç”¨SQLçš„å…¨ç§°ä¸ºStructured Query Languageï¼Œä¹Ÿå³ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ã€‚å…³ç³»æ•°æ®åº“ä¸­ï¼ŒSQLæ˜¯ç”¨æˆ·ä½¿ç”¨æ•°æ®åº“çš„åŸºæœ¬æ‰‹æ®µï¼Œå®ƒèƒ½ç”¨äºåˆ›å»ºæ•°æ®åº“æˆ–è€…å…³ç³»ï¼Œèƒ½å¯¹æ•°æ®åº“ä¸­å„å…³ç³»è¿›è¡Œå¢åˆ æ”¹æŸ¥ï¼Œè¿˜èƒ½å¯¹æ•°æ®åº“è¿›è¡Œç»´æŠ¤å’Œç®¡ç†ç­‰ç­‰ã€‚è€Œéšç€åˆ†å¸ƒå¼è®¡ç®—å¹³å°å¦‚Hadoopï¼ŒSparkçš„å…´èµ·ï¼ŒSQLçš„åº”ç”¨èŒƒå›´å‘ç”Ÿäº†è¾ƒå¤§å˜åŒ–ï¼Œä½†å®ƒä½œä¸ºæ•°æ®åˆ†ææ ¸å¿ƒçš„åœ°ä½ï¼Œå§‹ç»ˆæ²¡æœ‰åŠ¨æ‘‡ã€‚åœ¨æ–°çš„èƒŒæ™¯ä¸‹ï¼ŒSQLè¯­è¨€å…·æœ‰ä»¥ä¸‹æ–°çš„æ„ä¹‰ï¼š 1. ç®¡ç†å¤§å‹åˆ†å¸ƒå¼æ•°æ®ä»“å‚¨ç³»ç»Ÿä¸­çš„â€å…ƒä»“â€æ‰€è°“â€å…ƒä»“â€ï¼Œå¯ä»¥ç†è§£ä¸ºå­˜æ”¾å…ƒæ•°æ®çš„æ•°æ®åº“ã€‚å…³ç³»æ•°æ®åº“ä¸­å«æ•°æ®å­—å…¸(data dictionary)ï¼Œè€ŒHadoopå¹³å°çš„æ•°æ®ä»“åº“å·¥å…·Hiveæˆ–Sparkå¹³å°çš„Spark SQLåˆ™å°†å…¶ç§°ä¸ºmetastoreã€‚åœ¨è¿™ç±»åˆ†å¸ƒå¼çš„ä»“å‚¨ç³»ç»Ÿé‡Œï¼Œæ•°æ®è®¡ç®—éƒ½æ˜¯åœ¨åˆ†å¸ƒå¼å¹³å°ä¸Šè¿›è¡Œï¼Œä½†å…¶metastoreå‡ ä¹éƒ½æ˜¯å»ºç«‹åœ¨ä¼ ç»Ÿçš„å…³ç³»æ•°æ®åº“(å¦‚MySQL)ä¸Šã€‚ é‚£ä¹ˆå…ƒæ•°æ®åˆæ˜¯ä»€ä¹ˆï¼Ÿå¯¹å¤§æ•°æ®è®¡ç®—åˆ†æå¹³å°é‡è¦å—ï¼Ÿ ä¸¾ä¸ªä¾‹å­ï¼Œç¬”è€…ä¹‹å‰æ‰€åœ¨çš„Aå…¬å¸å…¶äº‘è®¡ç®—ç³»ç»Ÿå¯ä»¥è¯´æ˜¯å›½å†…ä¸šç•Œæœ€å¼ºã€‚åœ¨è¯¥å…¬å¸çš„æŸä¸ªå·¨å‹å¤§æ•°æ®ç¦»çº¿è®¡ç®—å¹³å°çš„å…ƒä»“é‡Œï¼Œä¸»è¦å­˜æ”¾çš„å…ƒæ•°æ®æœ‰å„å…³ç³»çš„åŸºæœ¬ä¿¡æ¯(è¡¨ååˆ—åç­‰)ï¼Œæ•°æ®è¡€ç¼˜åŠè°ƒåº¦ä¾èµ–å…³ç³»ï¼Œæ•°æ®æƒé™å…³ç³»ï¼Œæ•°æ®èµ„äº§å…³ç³» ï¼Œæ•°æ®ç›‘æ§å…³ç³»ç­‰ç­‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è€ŒåŸºäºå…ƒä»“ï¼Œè¿˜å¯ä»¥å¼€å‘å‡ºç±»ä¼¼æ•°æ®åœ°å›¾ç³»ç»Ÿï¼Œæ•°æ®èµ„äº§ç®¡ç†ç³»ç»Ÿï¼Œæ•°æ®è´¨é‡å·¥ç¨‹ç³»ç»Ÿç­‰é«˜çº§æ•°æ®ç®¡ç†å·¥å…·ä¾›å…¬å¸å„ç±»å¼€å‘äººå‘˜ä½¿ç”¨ã€‚å…³äºè¿™äº›æ•°æ®åœ¨åˆ†å¸ƒå¼å¹³å°çš„é‡‡é›†ã€ç®¡ç†å±äºä¸€ä¸ªéå¸¸æœ‰è¶£è€Œæœ‰æŒ‘æˆ˜çš„è¯é¢˜ï¼Œç”šè‡³å¯èƒ½æ˜¯å°†æ¥äº‘è®¡ç®—å‘å±•çš„ä¸€ä¸ªé‡è¦è¶‹åŠ¿æ‰€åœ¨ã€‚ä½†ç”±äºè¿™éƒ¨åˆ†æ¯”è¾ƒå¤šçš„æ¶‰åŠåˆ°å•†ä¸šæœºå¯†ï¼Œæœ¬æ–‡ç‚¹åˆ°ä¸ºæ­¢äº†ã€‚ å›åˆ°ä¸»é¢˜ï¼Œè¯»è€…æƒ³å¿…å¯¹å…ƒä»“çš„é‡è¦æ€§æœ‰äº†æ„Ÿæ‚Ÿã€‚è€Œå…ƒä»“åˆæ˜¯å­˜æ”¾åœ¨å…³ç³»æ•°æ®åº“é‡Œï¼Œå› æ­¤è¦æƒ³ç®¡ç†å¥½å…ƒä»“ï¼Œä½ éœ€è¦ç†Ÿç»ƒæŒæ¡SQLã€‚ 2. æ“ä½œå¤§æ•°æ®å¹³å°å®Œæˆæ•°æ®åˆ†æä»»åŠ¡äº†è§£å¤§æ•°æ®æŠ€æœ¯çš„ç«¥é‹æƒ³å¿…æ¸…æ¥šï¼ŒHadoopå¹³å°æ²¡æœ‰å®ç°æ•°æ®åº“ï¼Œå…¶æ ¸å¿ƒåªåœ¨äºMapReduceç¼–ç¨‹æ¡†æ¶å’ŒHdfsæ–‡ä»¶ç³»ç»Ÿã€‚ä½†å¦‚æœæ¯ä¸ªè®¡ç®—ä»»åŠ¡éƒ½è¦å†™MRä»£ç ï¼Œé‚£æ˜¯å¾ˆè®©äººæŠ“ç‹‚çš„ã€‚è¿™ç‚¹å¾ˆå¿«å°±è¢«Apacheå…¬å¸æ³¨æ„åˆ°ï¼Œå¹¶é’ˆå¯¹è¯¥é—®é¢˜å‘å¸ƒäº†Hiveæ•°æ®ä»“åº“å·¥å…·ã€‚è¿™ä¸ªå·¥å…·æä¾›ä¸€ç§ç±»SQLçš„è¯­è¨€ï¼Œç”¨æˆ·èƒ½ç›´æ¥ä½¿ç”¨å®ƒè¿›è¡Œæ•°æ®åˆ†æï¼Œè€Œå®ƒåˆ™è´Ÿè´£å°†ç±»SQLè¯­è¨€è½¬åŒ–ä¸ºMRä»£ç ï¼Œæäº¤Hadoopå¹³å°æ‰§è¡Œã€‚Hiveåœ¨Hadoopç”Ÿæ€åœˆä¸­çš„æ„ä¹‰ææ€•ä¸æ˜¯æœ€å¤§ä¹Ÿæ˜¯æœ€å¤§ä¹‹ä¸€ï¼Œå¾ˆå¤šå…¬å¸ç”šè‡³å°±å•çº¯ä¸ºäº†ä½¿ç”¨Hiveè€Œæ­å»ºçš„Hadoopç¯å¢ƒã€‚æ‰€ä»¥ä¸ºäº†ä¸çº ç»“äºåˆ†å¸ƒå¼ä»£ç ç¼©å‡å¼€å‘æˆæœ¬ï¼Œä½ éœ€è¦ç†Ÿç»ƒæŒæ¡SQLã€‚ 3. åœ¨çº¿æŠ¥è¡¨å±•ç¤ºå†ä¸¾ä¸ªä¾‹å­ï¼Œç¬”è€…åœ¨Tå…¬å¸å·¥ä½œæ—¶ï¼Œåœ¨åˆ©ç”¨å¤§æ•°æ®åˆ†æå¹³å°è¿›è¡Œæ•°æ®åˆ†æåï¼Œæœ€ç»ˆç»“æœéœ€è¦æäº¤åˆ°åœ¨çº¿æŠ¥è¡¨ç³»ç»Ÿä»¥è¿›è¡Œå¯è§†åŒ–å±•ç¤ºã€‚ä½†ç”±äºæ•°æ®åˆ†æç»“æœçš„é‡å¹¶ä¸å¤§ï¼ŒåŒæ—¶ä¸ºäº†åˆ©ç”¨å…³ç³»æ•°æ®åº“å¼ºä¸€è‡´æ€§ç­‰ä¼˜åŠ¿ï¼Œæ•°æ®åˆ†æçš„ç»“æœéƒ½è¦å…ˆä»å¤§æ•°æ®å¹³å°è½¬å…¥å…³ç³»æ•°æ®åº“ï¼Œç„¶åè®©æŠ¥è¡¨ç³»ç»Ÿä»å…³ç³»æ•°æ®åº“ä¸­å–æ•°ã€‚æ‰€ä»¥ä¸ºäº†é¡ºåˆ©é«˜æ•ˆçš„åœ¨çº¿å‘å¸ƒæ•°æ®åˆ†æç»“æœï¼Œä½ éœ€è¦ç†Ÿç»ƒæŒæ¡SQLã€‚ 4. å…¶ä»–ä»¥ä¸Šéƒ¨åˆ†ä»…ä»…æ˜¯SQLåº”ç”¨çš„å†°å±±ä¸€è§’ã€‚å¯¹äºä»äº‹æ•°æ®ç ”å‘çš„äººæ¥è¯´ï¼Œæ— è®ºåœ¨ä»€ä¹ˆç¯å¢ƒæ¡†æ¶ä¸‹ï¼Œéƒ½å¯èƒ½ç”¨åˆ°è¿™é—¨è¯­è¨€ã€‚ä»¥è‡´äºæœ‰äº›åŒäº‹å°†ä¹‹æˆç§°ä¸ºâ€è¥¿é˜”å¿ƒç»â€ï¼šï¼‰ã€‚ SQLå‘½ä»¤ç»¼è¿°SQLè™½ç„¶åŸºç¡€é‡è¦åº”ç”¨å¹¿æ³›ï¼Œä½†å­¦èµ·æ¥å´æ¯”è¾ƒå®¹æ˜“ã€‚è®°å¾—ä»¥å‰æŸäººè·Ÿæˆ‘è¯´çš„ï¼Œæƒ³æˆä¸ºä¸€ä¸ªç‰¹çº§å¨å¸ˆï¼ŒåŸºæœ¬åˆ€åŠŸè‚¯å®šä¸èƒ½å·®ã€‚é‚£ä¹ˆåœ¨æ¥ä¸‹æ¥å­¦ä¹ æ•°æ®ä»“åº“ï¼Œæ•°æ®æŒ–æ˜ï¼Œæ·±åº¦å­¦ä¹ ç­‰â€é«˜å¤§ä¸Šâ€æŠ€æœ¯ä¹‹å‰ï¼Œè¿˜æ˜¯å…ˆå¥½å¥½å·©å›ºä¸€ä¸‹â€è¥¿é˜”å¿ƒç»â€å§ã€‚ æ€»çš„æ¥è¯´ï¼ŒSQLè¯­æ³•å¯ä»¥åˆ’åˆ†ä¸ºå‡ å¤§å—ï¼š æ•°æ®å®šä¹‰è¯­è¨€DDLï¼šç”¨äºå…·ä½“å®ç°å…³ç³»ï¼Œä»¥åŠå…³ç³»é™„å¸¦çš„ä¸€äº›ç»“æ„ï¼Œå¦‚ç´¢å¼•ç­‰ï¼› æ•°æ®æŸ¥è¯¢è¯­è¨€DMLï¼šç”¨äºæ“ä½œæ•°æ®åº“ï¼ŒåŒ…æ‹¬å¢åˆ æ”¹æŸ¥ï¼› æ•°æ®æ§åˆ¶è¯­è¨€DCLï¼šç”¨æ¥å¸®åŠ©å®ç°æ•°æ®åº“çš„å­˜å–æ§åˆ¶ï¼› äº‹åŠ¡æ§åˆ¶è¯­è¨€TCLï¼šç”¨äºæ•°æ®åº“ä¸­çš„äº‹åŠ¡ç®¡ç†ï¼› æ¥ä¸‹æ¥æœ¬æ–‡å°†å¯¹å‡ å¤§ç±»çš„SQLè¿›è¡Œè®²è§£ï¼Œé‡‡ç”¨å›é¡¾æ€»ç»“å‹çš„è®²è§£æ–¹å¼ï¼Œä¸ä¼šæ¶‰åŠè¿‡å¤šç»†èŠ‚ã€‚ DDL æ•°æ®å®šä¹‰è¯­è¨€DDL(Data Definition Language)çš„ç»„æˆéƒ¨åˆ†å¹¶ä¸å¤šï¼Œä¸»è¦æ¶‰åŠåˆ°çš„å…³é”®å­—æœ‰ï¼šCREATE, ALTER, DROPè¿™ä¸‰ä¸ªã€‚ CREATE:ç”¨äºåˆ›å»ºæ•°æ®åº“ï¼Œåˆ›å»ºå…³ç³»è¡¨ï¼Œåˆ›å»ºè§†å›¾ç­‰ã€‚éœ€è¦æ³¨æ„çš„æ˜¯åœ¨å»ºè¡¨çš„æ—¶å€™é™¤äº†è¡¨æœ¬èº«ï¼Œè¿˜è¦å®šä¹‰ä¸»å¤–é”®çº¦æŸï¼Œä»¥åŠä¸€äº›é™„å¸¦ç»“æ„ï¼Œå¦‚ç´¢å¼•ç­‰ã€‚ ALTER:ç”¨äºè°ƒæ•´æ•°æ®åº“/è¡¨/è§†å›¾çš„ç»“æ„ä¿¡æ¯ã€‚ DROP:ç”¨äºåˆ é™¤æ•°æ®åº“/è¡¨/è§†å›¾ã€‚è¦æ³¨æ„åˆ é™¤çš„æ—¶å€™å¿…é¡»å…ˆåˆ é™¤å¤–ç æ‰€åœ¨å…³ç³»ï¼Œç„¶åå†åˆ é™¤è¢«å¤–ç å‚ç…§çš„ä¸»ç çš„å…³ç³»ã€‚ DMLæ•°æ®æŸ¥è¯¢è¯­è¨€DML(Data Manipulation Language)æ˜¯SQLçš„ä¸»ä½“æˆåˆ†ï¼ŒSQLçš„ç¼–å†™å·¥ä½œç»å¤§éƒ¨åˆ†éƒ½æ˜¯åœ¨è¿™ä¸€å—ã€‚è¯¥éƒ¨åˆ†çŸ¥è¯†æ¯”è¾ƒæ‚è€Œå¤šï¼Œæ•…æœ¬æ–‡é€‰æ‹©ä»æ•´ä½“è§’åº¦ï¼Œä»¥ç»éªŒæ€»ç»“çš„å½¢å¼è¿›è¡Œè®²è§£ï¼Œç›¸å…³è¯­æ³•ç»†èŠ‚è¯·è¯»è€…æŸ¥è¯¢æœ‰å…³å‡½æ•°æ‰‹å†Œã€‚ æ€»çš„æ¥è¯´ï¼ŒDMLæœ‰ä»¥ä¸‹åŠŸèƒ½(åº•å±‚é¡¹ä¸ºåŠŸèƒ½æ‰€æ¶‰åŠå…³é”®å­—)ï¼š 1. åŸºæœ¬æ£€ç´¢SELECT+WHERE+GROUP BY(èšé›†å‡½æ•°)+HAVING+ORDER BYæ˜¯æœ€å¸¸ç”¨çš„æŸ¥è¯¢ç»„åˆï¼Œè¦æ³¨æ„çš„æ˜¯å¦‚æœSELECTæ­é…äº†GROUP BYï¼Œé‚£ä¹ˆGROUP BYååˆ—ä¹Ÿè¦æ˜¯SELECTçš„ä¸€éƒ¨åˆ†ï¼Œè¿™æ ·æŸ¥è¯¢ç»“æœæ‰èƒ½æ¸…æ¥šå±•ç¤ºæ•°æ®æ˜¯æŒ‰ä»€ä¹ˆåˆ†ç»„çš„ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä½¿ç”¨äº†GROUP BYï¼Œé‚£ä¹ˆå‡ºç°åœ¨SELECTåä¸ä½¿ç”¨èšé›†å‡½æ•°çš„åˆ—å¿…é¡»ä¹Ÿå‡ºç°åœ¨GROUP BYé‡Œå¦åˆ™ç³»ç»Ÿæç¤ºå¼‚å¸¸ã€‚æ–°æ‰‹å¸¸ä¼šçŠ¯è¿™ä¸ªé”™è¯¯ï¼Œå¦‚ä»¥ä¸‹ä»£ç ï¼š SELECT id, name, count(*) GROUP BY id nameåˆ—æ²¡æœ‰ä½¿ç”¨èšé›†å‡½æ•°ï¼Œä¸”æ²¡æœ‰å‡ºç°åœ¨GROUP BYåï¼Œå› æ­¤ç³»ç»Ÿå¿…ç„¶æç¤ºå‡ºé”™ã€‚ å› æ­¤è¯·æ„è¯†åˆ°GROUP BYåé¢è·Ÿäº†ä»€ä¹ˆåˆ—ï¼ŒSELECTåé¢å°±å•å†™ä»€ä¹ˆåˆ—(ä¸ä½¿ç”¨èšåˆå‡½æ•°)ï¼Œå‡ºç°çš„å…¶ä»–åˆ—åˆ™å¿…é¡»ä½¿ç”¨èšåˆå‡½æ•°ã€‚ æ­¤å¤–ï¼ŒHAVINGåé¢è·Ÿç€çš„çº¦æŸå¯¹è±¡å¿…é¡»æ˜¯èšåˆå‡½æ•°åˆ—ã€‚è™½ç„¶æ„Ÿè§‰æ˜¯æœ‰ç‚¹é‡å¤(èšåˆå‡½æ•°åˆ—å†™äº†ä¸¤æ¬¡)ï¼Œè€Œä¸”WHEREå­å¥å’ŒHAVINGå­å¥ä¸­éƒ½ä¸å…è®¸ä½¿ç”¨åˆ—åˆ«åâ€¦ä½†è‹¥ä¸æ»¡è¶³è¿™äº›çº¦æŸï¼ŒæŸ¥è¯¢ç»“æœä¼šæ··ä¹±ã€‚ 2. é«˜çº§æ£€ç´¢ a) åµŒå¥—æŸ¥è¯¢ï¼šåµŒå¥—æŸ¥è¯¢çš„å±‚æ•°å°½é‡ä¸è¦å¤ªé«˜ï¼Œå¦åˆ™ä¼šå½±å“æŸ¥è¯¢æ•ˆç‡ï¼› b) è¿æ¥æŸ¥è¯¢ï¼šæ³¨æ„åŒºåˆ†å‡ ç§JOINçš„ä¸åŒå«ä¹‰ï¼› c) é›†åˆè¿ç®—ï¼šé›†åˆè¿ç®—çš„æœ¬è´¨åœ¨äºåˆå¹¶å¤šæ¡èƒ½â€ç›¸èâ€çš„SQLè¯­å¥ï¼› 3. æ’å…¥è¯­å¥æ’å…¥è¯­å¥çš„æ ‡å‡†å½¢å¼æ˜¯INSERT INTO è¡¨å VALUES(è¡¨å†…å®¹)ï¼Œæ²¡æœ‰å¤–ç çš„å…³ç³»è¦ä¼˜å…ˆæ‰§è¡Œæ’å…¥ã€‚ 4. æ›´æ–°è¯­å¥æ›´æ–°è¯­å¥çš„æ ‡å‡†å½¢å¼æ˜¯UPDATE è¡¨å SET åˆ—å€¼=â€™XXâ€™ WHERE æ¡ä»¶ã€‚ 5. åˆ é™¤è¯­å¥åˆ é™¤è¯­å¥çš„æ ‡å‡†å½¢å¼DELETE FROM è¡¨å WHERE æ¡ä»¶ã€‚æ³¨æ„ä¸è¦å’Œåˆ é™¤è¡¨çš„å‘½ä»¤DROPææ··ã€‚ 6. å…¶ä»–å…³é”®å­—æ²¡å•¥å¥½è¯´çš„ã€‚ DCL &amp; TCLæ•°æ®æ§åˆ¶è¯­è¨€DCL(Data Control Language)ä¸»è¦æ˜¯ç®¡ç†æ•°æ®åº“æƒé™ï¼Œè´Ÿè´£æ•°æ®çš„å®‰å…¨ã€‚æœ€å¸¸ç”¨çš„æ˜¯GRANTå’ŒROVOKEå‘½ä»¤ã€‚ äº‹åŠ¡æ§åˆ¶è¯­è¨€TCL(Transaction Control Language)åˆ™ä¸»è¦é¢å‘æ•°æ®åº“çš„å¤‡ä»½å’Œæ¢å¤ä¸¤å¤§ä¸»é¢˜ï¼Œå¸¸ç”¨å‘½ä»¤ä¸ºCOMMITå’ŒROLLBACKã€‚ å°ç»“ SQLçš„å­¦ä¹ å¹¶ä¸éš¾ï¼Œä½†æ˜¯å¦‚æœè¦åœ¨å…·ä½“ç¯å¢ƒä¸‹å†™å‡ºé«˜è´¨é‡çš„SQLï¼Œåˆ™æœªå¿…æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹æƒ…ã€‚ä¸è®ºæ˜¯å¯¹äºä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“ï¼Œè¿˜æ˜¯åˆ†å¸ƒå¼ä»“å‚¨ç³»ç»Ÿå¦‚Hiveã€Spark SQLï¼ŒSQLçš„ä¼˜åŒ–éƒ½å¯ä»¥å†å•ç‹¬å†™ä¸€æœ¬ä¹¦äº†ã€‚æœ€å¥½åœ¨æ˜ç¡®äº†è¦é•¿æœŸä½¿ç”¨çš„æ•°æ®åˆ†æå¹³å°åï¼Œå†æ·±å…¥é’ˆå¯¹æ€§åœ°å­¦ä¹ ä¸“æœ‰SQLã€‚æ¯”å¦‚é€‰å®šäº†ç”¨Hiveï¼Œé‚£ä¹ˆå°±è¦ç‹ ä¸‹åŠŸå¤«ç ”ç©¶æ€ä¹ˆå†™SQLæ‰èƒ½é¿å…â€æ•°æ®å€¾æ–œâ€é—®é¢˜ã€‚ æœ€åï¼Œä¸€ä¸ªä¼˜ç§€çš„å¨å¸ˆï¼ŒåŸºæœ¬åˆ€åŠŸä¸ä¼šå·®ï¼›ä¸€ä¸ªå“è¶Šçš„æ•°æ®åˆ†æå¸ˆï¼ŒSQLåŠŸåº•ä¹Ÿä¸ä¼šå«ç³Šã€‚","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://smilecoc.vip/categories/è½¬è½½/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(ä¸‰)ï¼šæ›´æ–°å¼‚å¸¸ä¸è§„èŒƒåŒ–è®¾è®¡","slug":"å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(ä¸‰)ï¼šæ›´æ–°å¼‚å¸¸ä¸è§„èŒƒåŒ–è®¾è®¡","date":"2020-08-11T10:55:18.000Z","updated":"2020-08-17T16:13:09.793Z","comments":true,"path":"2020/08/11/å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(ä¸‰)ï¼šæ›´æ–°å¼‚å¸¸ä¸è§„èŒƒåŒ–è®¾è®¡/","link":"","permalink":"http://smilecoc.vip/2020/08/11/å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(ä¸‰)ï¼šæ›´æ–°å¼‚å¸¸ä¸è§„èŒƒåŒ–è®¾è®¡/","excerpt":"","text":"æœ¬æ–‡è½¬è½½äºhttps://www.cnblogs.com/muchen/p/5272620.htmlï¼Œä»…åšå­¦ä¹ å‚è€ƒä½¿ç”¨ï¼Œä¾µåˆ  æ›´æ–°å¼‚å¸¸ä¸è§„èŒƒåŒ–è®¾è®¡å‰è¨€åœ¨å‰ä¸¤ç¯‡ä¸­ï¼Œä¸»è¦è®²äº†ERå»ºæ¨¡å’Œå…³ç³»å»ºæ¨¡ã€‚åœ¨å…·ä½“åˆ†æå¦‚ä½•ç”¨æ•°æ®åº“ç®¡ç†è½¯ä»¶RDBMS(Relational Database Management System)å®ç°è¿™äº›å…³ç³»å‰ï¼Œæˆ‘æƒ³æœ‰å¿…è¦æ€è€ƒä¸‹é¢è¿™ä¸ªé—®é¢˜ï¼š ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆéº»çƒ¦ï¼Ÿä¸ºä»€ä¹ˆåˆæ˜¯ERå»ºæ¨¡åˆæ˜¯å…³ç³»å»ºæ¨¡çš„ï¼Ÿ æœ¬ç¯‡çš„å‡ºå‘ç‚¹å°±æ˜¯å›ç­”è¿™ä¸ªé—®é¢˜ã€‚ç„¶è€ŒæŸç§ç¨‹åº¦ä¸Šï¼Œä¹Ÿæ˜¯å›ç­”å¦ä¸€ä¸ªæœ¬è´¨æ€§çš„é—®é¢˜ï¼šä¸ºä»€ä¹ˆè¦æœ‰æ•°æ®åº“ï¼Ÿ æ›´æ–°å¼‚å¸¸æ•°æ®åº“çš„å››å¤§æ“ä½œï¼šå¢ï¼Œåˆ ï¼Œæ”¹ï¼ŒæŸ¥ä¸­ï¼Œé™¤äº†æŸ¥ï¼Œå…¶ä»–ä¸‰ä¸ªéƒ½å¯å½’ä¸ºæ›´æ–°æ“ä½œã€‚è€Œæ€»çš„æ¥è¯´ï¼ŒERå»ºæ¨¡å’Œå…³ç³»å»ºæ¨¡çš„ç›®çš„ï¼Œå°±æ˜¯ä¸ºäº†é¿å…å› å¤§é‡å†—ä½™æ•°æ®å¯¼è‡´çš„æ•°æ®åº“æ›´æ–°å¼‚å¸¸ã€‚ æ¥ä¸‹æ¥æœ¬æ–‡å°†ä½¿ç”¨ä¸€å¼ æ—…æ¸¸å…¬å¸çš„æ•°æ®è¡¨ï¼Œæ¥å…·ä½“åˆ†ææ²¡æœ‰ERå»ºæ¨¡å’Œå…³ç³»å»ºæ¨¡å°†å¯¼è‡´çš„é—®é¢˜ã€‚ è¯¥æ•°æ®è¡¨å°†ç”±ä»¥ä¸‹è¿™äº›åˆ—ç»„æˆï¼š ä¸‹é¢æ˜¯è¯¥è¡¨å†…çš„ä¸€éƒ¨åˆ†æ•°æ®ï¼š çœ‹åˆ°è¿™å¼ è¡¨çš„ç¬¬ä¸€çœ¼ï¼Œå°±èƒ½å‘ç°æœ‰å¾ˆå¤šå†—ä½™æ•°æ®å­˜åœ¨ï¼Œæ¯”å¦‚çº¢æ¡†ä¸­çš„éƒ¨åˆ†ï¼š ä¸ºä»€ä¹ˆä¿¡æ¯å†—ä½™ä¼šå¯¼è‡´æ›´æ–°å¼‚å¸¸å‘¢ï¼Ÿä¸‹é¢å°†å¯¹ä¸‰ç§æ›´æ–°æ“ä½œï¼šæ’å…¥ï¼Œåˆ é™¤ï¼Œä¿®æ”¹å¯èƒ½å‡ºç°çš„å¼‚å¸¸åˆ†åˆ«è¿›è¡Œåˆ†æã€‚ 1.æ’å…¥å¼‚å¸¸(insertion anomaly)è¿™ç§å¼‚å¸¸æ˜¯æŒ‡å½“ç”¨æˆ·æƒ³è¦æ’å…¥æŸä¸€çœŸå®ä¸–ç•Œçš„å®ä½“æ•°æ®æ—¶ï¼Œè¿˜å¿…é¡»è¾“å…¥å¦ä¸€ä¸ªçœŸå®ä¸–ç•Œä¸­å®ä½“çš„æ•°æ®ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œå…¬å¸ä¸šåŠ¡å‘å±•ï¼Œæ–°å»ºäº†ä¸€ä¸ªâ€œå®¶åº­ä¸»å¦‡å›¢â€çš„æ¨¡å¼ã€‚ä½†æˆ‘è¦æƒ³å¾€è¡¨é‡Œå½•å…¥ä¸€ä¸ªæ–°çš„æ¨¡å¼ï¼Œè¿˜å¿…é¡»ç»‘å®šåœ°å½•å…¥ä¸€ä¸ªæ–°çš„æ´»åŠ¨ã€‚ 2.åˆ é™¤å¼‚å¸¸(deletion anomaly)è¿™ç§å¼‚å¸¸æ˜¯æŒ‡å½“ç”¨æˆ·è¦åˆ é™¤æŸä¸€çœŸå®ä¸–ç•Œçš„å®ä½“æ•°æ®æ—¶ï¼Œè¿˜å¿…é¡»åˆ é™¤å¦ä¸€ä¸ªçœŸå®ä¸–ç•Œä¸­å®ä½“çš„æ•°æ®ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œå‡å¦‚åˆ é™¤ä¸‹å›¾çº¢æ¡†ä¸­çš„è®°å½•ï¼š å°±ä¼šå¯¼è‡´æŠŠâ€œè€å¹´äººå›¢â€è¿™ç§æ¨¡å¼çš„ç›¸å…³æ•°æ®ä¹Ÿç»™æ¸…é™¤æ‰äº†ã€‚ 3.ä¿®æ”¹å¼‚å¸¸(modification anomaly)è¿™ç§å¼‚å¸¸æ˜¯æŒ‡å½“ç”¨æˆ·è¦ä¿®æ”¹æŸä¸ªå€¼çš„æ—¶å€™ï¼ŒåŒæ ·çš„ä¿®æ”¹æ“ä½œéœ€è¦é‡å¤å¤šæ¬¡ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œå‡å¦‚å…¬å¸ä¸ºäº†å¸å¼•å®¢æˆ·ï¼Œå†³å®šå¤šé€ä¸€å¤©ï¼Œå› è€Œéœ€è¦å°†â€äº‘å—ä¸ƒæ—¥æ¸¸â€œçš„æŒç»­æ—¶é—´æ”¹ä¸º8å¤©ã€‚è¿™æ—¶éœ€è¦æ”¹åŠ¨çš„åœ°æ–¹å°±æœ‰ä¸‰å¤„äº†ï¼Œå¦‚ä¸‹å›¾çº¢æ¡†ä¸­æ‰€ç¤ºï¼š å‡½æ•°ä¾èµ–ä¸Šè¿°çš„è¿™äº›æ›´æ–°å¼‚å¸¸ï¼Œéƒ½å¯é€šè¿‡è§„èŒƒåŒ–è®¾è®¡çš„æ–¹å¼é¿å…ã€‚åœ¨è¯¦ç»†ä»‹ç»è§„èŒƒåŒ–è®¾è®¡ä¹‹å‰ï¼Œé¦–å…ˆæ¥è®¨è®ºä¸€ä¸ªé‡è¦çš„æ¦‚å¿µï¼šå‡½æ•°ä¾èµ–(functional dependency)ã€‚ å‡½æ•°ä¾èµ–ï¼Œæ˜¯æŒ‡å…³ç³»ä¸­æ¯è¡Œè®°å½•çš„æŸä¸€åˆ—(æˆ–å‡ åˆ—)çš„å€¼å”¯ä¸€å†³å®šè¯¥æ¡è®°å½•å¦ä¸€åˆ—çš„å€¼ã€‚æ€»çš„æ¥è¯´ï¼Œæœ‰ä»¥ä¸‹å‡ ç§å‡½æ•°ä¾èµ–ï¼š 1. å¹³å‡¡å‡½æ•°ä¾èµ–(trivial functional dependency) æ˜¯æŒ‡ä¸€ä¸ªæˆ–å¤šä¸ªå±æ€§ç¡®å®šå®ƒè‡ªå·±ï¼Œæˆ–è€…å®ƒçš„å­é›†ã€‚å¦‚æœ¬æ–‡æ ·ä¾‹æ•°æ®é›†ä¸­ TravelCampaignID,TravelCampaignName -&gt; TravelCampaignIDå°±æ˜¯ä¸€ä¸ªå¹³å‡¡å‡½æ•°ä¾èµ–ã€‚ æ³¨ï¼šè¿™ç§ä¾èµ–åœ¨è§„èŒƒåŒ–ä¸­ä¸ä¼šè¢«ç”¨åˆ°ã€‚ 2. å¢å¹¿å‡½æ•°ä¾èµ–(augmented functional dependency)æ˜¯æŒ‡æŸä¸ªä¾èµ–å¼ä¸ºçœŸï¼Œåˆ™ä¾èµ–å¼å·¦ä¾§ï¼Œæˆ–è€…ä¸¤ä¾§åŒæ—¶å¢åŠ æŸè¯­å¥å½¢æˆçš„ä¸€ç§ä¾èµ–å…³ç³»ã€‚å¦‚æœ¬æ–‡æ ·ä¾‹æ•°æ®é›†ä¸­ TravelCampaignID,ModleID -&gt; TravelCampaignNameã€‚å› ä¸ºåªéœ€è¦TravelCampaignIDå°±èƒ½å¤Ÿç¡®å®šTravelCampaignNameäº†ã€‚ æ³¨ï¼šè¿™ç§ä¾èµ–åœ¨è§„èŒƒåŒ–ä¸­ä¸ä¼šè¢«ç”¨åˆ°ã€‚ 3. ç­‰ä»·å‡½æ•°ä¾èµ–(equivalent functional dependency) è¿™ç§ä¾èµ–å…³ç³»æ˜¯ä¸€å¯¹å¯¹çš„ã€‚æ¯”å¦‚è‹¥A-&gt;Bå’ŒB-&gt;Aéƒ½ä¸ºçœŸï¼Œé‚£ä¹ˆAèƒ½æ¨å‡ºæ¥çš„ï¼ŒBåŒæ ·ä¹Ÿèƒ½æ¨å‡ºæ¥ï¼Œå› æ­¤A-&gt;Bå’ŒB-&gt;Aå°±è¢«ç§°ä½œç­‰ä»·å‡½æ•°ä¾èµ–ã€‚å¦‚æœ¬æ–‡æ ·ä¾‹æ•°æ®é›†ä¸­TravelCampaignID-&gt; TravelCampaignNameå’ŒTravelCampaignName-&gt; TravelCampaignIDã€‚ æ³¨ï¼šè¿™ç§ä¾èµ–åªéœ€ä¿ç•™ä¸€ç»„ä¾èµ–å…³ç³»å³å¯ï¼Œä½†å®ƒä¸å±äºè§„èŒƒåŒ–çš„èŒƒç•´ã€‚ éƒ¨åˆ†å‡½æ•°ä¾èµ–(partial functional dependency) æ˜¯æŒ‡å…³ç³»çš„ä¸€åˆ—å‡½æ•°ä¾èµ–äºç»„åˆä¸»ç çš„ä¸€éƒ¨åˆ†ã€‚æ˜¾ç„¶è¿™ç§ä¾èµ–åªæœ‰ç»„åˆä¸»ç æ‰å­˜åœ¨ã€‚å¦‚æœ¬æ–‡æ ·ä¾‹æ•°æ®ä¸­ModelID-&gt;ModelNameï¼Œå› ä¸ºè®°å½•çš„å¤åˆä¸»ç (TravelCampaignID, ModelID)èƒ½ç¡®å®šè®°å½•çš„ä»»ä½•ä¸€åˆ—ï¼ŒModelIDåªæ˜¯è¯¥å¤åˆä¸»ç çš„ä¸€éƒ¨åˆ†ã€‚ æ³¨ï¼šè¿™ç§ä¾èµ–å…³ç³»å±äºè§„èŒƒåŒ–èŒƒç•´ã€‚ 5. å®Œå…¨å‡½æ•°ä¾èµ–(full key functional dependency)æ˜¯æŒ‡å¤åˆä¸»ç å‡½æ•°ç¡®å®šå…³ç³»ä¸­çš„å…¶ä»–åˆ—ï¼Œå¹¶ä¸”å¤åˆä¸»ç çš„ä»»æ„éƒ¨åˆ†ä¸èƒ½å•ç‹¬ç¡®å®šå…¶ä»–åˆ—ã€‚è¿™ä¸ªæ¦‚å¿µå’Œä¸Šé¢çš„éƒ¨åˆ†å‡½æ•°ä¾èµ–æ˜¾ç„¶æ˜¯å¯¹ç«‹çš„ã€‚ æ³¨ï¼šè¿™ç§ä¾èµ–å…³ç³»å±äºè§„èŒƒåŒ–èŒƒç•´ã€‚ 6. ä¼ é€’å‡½æ•°ä¾èµ–(transitive functional dependency)æ˜¯æŒ‡éç åˆ—å‡½æ•°ç¡®å®šå…³ç³»ä¸­çš„å…¶ä»–éç åˆ—ã€‚å¦‚æœ¬æ–‡æ ·ä¾‹æ•°æ®ä¸­CampaignManangerID-&gt;CampaignManangerNameæ˜¾ç„¶å°±æ˜¯ä¸€ä¸ªä¼ é€’å‡½æ•°ä¾èµ–ã€‚ è¿™å…­ç§å‡½æ•°ä¾èµ–ä¸­åªæœ‰åé¢ä¸‰ç§å’Œè§„èŒƒåŒ–è®¾è®¡æœ‰å…³ã€‚å‰é¢ä¸‰ç§åˆ™å› ä¸ºå¯¹æ”¹è¿›å†—ä½™ä¿¡æ¯å¹¶æ²¡æœ‰å¸®åŠ©ï¼Œä¸çº³å…¥è§„èŒƒåŒ–è¿‡ç¨‹ä¸­ã€‚ è§„èŒƒåŒ–è§„èŒƒåŒ–è®¾è®¡èƒ½å¤Ÿæœ‰æ•ˆçš„é¿å…æ•°æ®å†—ä½™å¯¼è‡´çš„æ›´æ–°å¼‚å¸¸ï¼Œå®ƒåŸºäºèŒƒå¼æ€æƒ³ã€‚ä¸€ä¸ªå…³ç³»æ˜¯å¦æ»¡è¶³æŸç§èŒƒå¼é€šå¸¸è¦çœ‹å®ƒæ˜¯å¦ä¸åŒ…å«æŸä¸ªå‡½æ•°ä¾èµ–ã€‚ ä¸‹é¢é¦–å…ˆæ¥çœ‹çœ‹è¿™å‡ ä¸ªèŒƒå¼çš„å®šä¹‰ï¼š 1. ç¬¬ä¸€èŒƒå¼(1NF)ä¸€ä¸ªè¡¨å¦‚æœæ¯ä¸€è¡Œéƒ½æ˜¯å”¯ä¸€ï¼Œå¹¶ä¸”ä»»ä½•è¡Œéƒ½æ²¡æœ‰åŒ…å«å¤šä¸ªå€¼çš„åˆ—ï¼Œåˆ™å®ƒæ»¡è¶³1NFã€‚ä½†å¯¹äºå…³ç³»è¡¨æ¥è¯´ï¼ŒçœŸæ­£çš„è§„èŒƒåŒ–è¿‡ç¨‹ä»ç¬¬äºŒèŒƒå¼å¼€å§‹ï¼Œå› ä¸ºå…³ç³»è¡¨æœ¬èº«å·²ç»æ»¡è¶³1NFäº†ã€‚ 2. ç¬¬äºŒèŒƒå¼(2NF)ä¸€ä¸ªè¡¨å¦‚æœæ»¡è¶³1NFï¼Œå¹¶ä¸”ä¸åŒ…å«éƒ¨åˆ†å‡½æ•°ä¾èµ–ï¼Œåˆ™è¿™ä¸ªè¡¨æ»¡è¶³2NFã€‚ 3. ç¬¬ä¸‰èŒƒå¼(3NF) ä¸€ä¸ªè¡¨å¦‚æœæ»¡è¶³2NFï¼Œå¹¶ä¸”ä¸åŒ…å«ä¼ é€’å‡½æ•°ä¾èµ–ï¼Œåˆ™è¿™ä¸ªè¡¨æ»¡è¶³3NFã€‚ è‡³äº3NFä»¥ä¸Šçš„èŒƒå¼ï¼Œåˆ™åŸºäºå…¶ä»–å‡½æ•°ä¾èµ–ï¼Œå¯¹äºå‡å°‘æ•°æ®å†—ä½™æ¶ˆé™¤å¼‚å¸¸æ²¡æœ‰å¤šå¤§å¸®åŠ©ã€‚è¿™é‡Œå°±ä¸å†ä»‹ç»äº†ã€‚ å¯¹æ ·ä¾‹æ•°æ®è¿›è¡Œç¬¬ä¸‰èŒƒå¼è§„èŒƒåŒ–åï¼Œç»“æœå¦‚ä¸‹(çº¢å­—åˆ—å¯¹åº”ä¸»ç )ï¼š æ—…è¡Œæ´»åŠ¨è¡¨ï¼šä¸šåŠ¡ç»ç†è¡¨ï¼šæ¸¸ç©æ¨¡å¼è¡¨ï¼š æ—…è¡Œæ´»åŠ¨ - æ¸¸ç©æ¨¡å¼è”ç³»è¡¨ï¼š ç°åœ¨è¯·è¯»è€…è‡ªè¡Œæ€è€ƒä¸€ä¸‹ï¼Œæ›´æ–°å¼‚å¸¸è§£å†³äº†å—ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚ä½†æ˜¯ä¹Ÿä¸èƒ½è¯´100%çš„å†—ä½™ä¿¡æ¯éƒ½å»é™¤äº†ï¼Œæ¯”å¦‚è¯´å¤–ç çš„æ˜ å°„å…³ç³»å°±é‡å¤äº†ä¸€æ¬¡ã€‚ é‚£ä¹ˆå¦‚æœè¦å¯¹å¤–ç è¿›è¡Œå˜æ›´ï¼Œæœ‰ä»€ä¹ˆåŠæ³•ä¿è¯ä¸å¼‚å¸¸å‘¢ï¼Ÿè¿™éƒ¨åˆ†å†…å®¹å°†åœ¨ç¬¬äº”ç¯‡è®²è§£ã€‚ è§„èŒƒåŒ–çš„ä¾‹å¤–æƒ…å†µå¹¶ä¸æ˜¯è¯´æ‰€æœ‰çš„å…³ç³»éƒ½å¿…é¡»æ»¡è¶³3NFï¼Œæ²¡æœ‰é‚£ä¹ˆç»å¯¹ã€‚æœ‰äº›æ—¶å€™å¯ä»¥è€ƒè™‘é™åˆ°2NFã€‚ æ¯”å¦‚è¯´ä¸‹é¢è¿™ä¸ªæ˜¯æŸå…¬å¸é”€å”®ç»ç†ä¿¡æ¯è¡¨ï¼š è¿™å¼ è¡¨å¹¶ä¸æ»¡è¶³3NFï¼Œå› ä¸ºé‚®ç¼–å’ŒåŸå¸‚ä¹‹é—´å­˜åœ¨äº†éƒ¨åˆ†å‡½æ•°ä¾èµ–ï¼Œä»è€Œæœ‰ä¿¡æ¯å†—ä½™(è§ä¸Šå›¾çº¢æ¡†éƒ¨åˆ†)ã€‚ä½†ç”±äºè¯¥å…¬å¸åŒä¸€åœ°åŒºæœ€å¤šåªæœ‰ä¸¤åé”€å”®ç»ç†ï¼Œå› æ­¤å†—ä½™æƒ…å†µå¾ˆå°‘ï¼Œè§„èŒƒåŒ–åˆ°3NFè®©è¡¨è®¾è®¡æ˜¾å¾—è¿‡äºå¤æ‚åŒ–äº†ã€‚å› æ­¤è¿™ç§æƒ…å†µå¯ä»¥è€ƒè™‘ä¸å‡çº§åˆ°3NFï¼Œè®©ä¸Šå±‚å®ç°å»è§£å†³å†—ä½™é—®é¢˜ã€‚ ERå»ºæ¨¡ï¼Œå…³ç³»å»ºæ¨¡ä¸è§„èŒƒåŒ–è®¾è®¡çœ‹åˆ°è¿™é‡Œï¼Œå®ƒä»¬ä¹‹é—´çš„å…³ç³»ä¹Ÿå°±å‘¼ä¹‹æ¬²å‡ºäº†ã€‚è¿™äº›å»ºæ¨¡å·¥ä½œçš„ä½œç”¨ï¼Œå°±æ˜¯èƒ½å¤Ÿè®©è®¾è®¡çš„å…³ç³»æ›´å®¹æ˜“æ»¡è¶³è§„èŒƒåŒ–è®¾è®¡ä¸­çš„(ç¬¬ä¸‰)èŒƒå¼è¦æ±‚ï¼Œä»è€Œå‡å°‘æ•°æ®å†—ä½™ï¼Œæ¶ˆé™¤æ›´æ–°å¼‚å¸¸ã€‚ åœ¨å®é™…å¼€å‘ä¸­ï¼Œç»å¤§éƒ¨åˆ†æƒ…å†µè¿˜æ˜¯æŒ‰ç€ERå»ºæ¨¡-&gt;å…³ç³»å»ºæ¨¡-&gt;ç‰©ç†æ¨¡å‹å»ºæ¨¡æ¥èµ°ã€‚è¿™æ ·è®¾è®¡å‡ºæ¥çš„è¡¨ç»å¤§éƒ¨åˆ†æ»¡è¶³ç¬¬ä¸‰èŒƒå¼ï¼Œåªæœ‰å°éƒ¨åˆ†åœ°æ–¹éœ€è¦è°ƒæ•´ä¸€ä¸‹ï¼Œæ ¹æ®å®é™…æƒ…å†µå†³å®šæ˜¯é€‰ç”¨3NFè¿˜æ˜¯2NFï¼Œå…¶ä¸­å‰è€…å å¤§å¤šæ•°æƒ…å†µã€‚ ä¸æŒ‰è¿™ä¸ªå¥—è·¯æ¥ï¼Œåæœå°±æ˜¯å‰æ–‡æåˆ°çš„é‚£ä¸€å †æ›´æ–°å¼‚å¸¸ã€‚ å°ç»“çœ‹å®Œæœ¬æ–‡çš„åˆ†æï¼Œè¯»è€…åº”è¯¥æ˜ç™½äº†å‰ä¸¤ç¯‡æ‰€åšçš„å·¥ä½œï¼šERå»ºæ¨¡å’Œå…³ç³»å»ºæ¨¡çš„æ ¹æœ¬æ„ä¹‰æ‰€åœ¨ï¼Œä¹Ÿåº”è¯¥ä½“ä¼šåˆ°äº†å…³ç³»æ•°æ®åº“ç†è®ºçš„ä»·å€¼ã€‚ æ¥ä¸‹æ¥çš„ä¸€ç¯‡ï¼Œå°†è®²è§£å¦‚ä½•å…·ä½“åœ¨æ•°æ®åº“ç®¡ç†è½¯ä»¶RDBMSé‡Œåˆ›å»ºè¿™äº›è¡¨ï¼Œä»¥åŠå¦‚ä½•å¯¹è¿™äº›è¡¨è¿›è¡Œå¢ï¼Œåˆ ï¼Œæ”¹ï¼ŒæŸ¥ç­‰æ“ä½œã€‚è¿™äº›å·¥ä½œå°†ä½¿ç”¨åˆ°å¤§åé¼é¼çš„SQLï¼Œå®ƒæ˜¯ç›®å‰æœ€å—æ•°æ®åˆ†æå¸ˆï¼Œæ•°æ®æŒ–æ˜å·¥ç¨‹å¸ˆä»¬æ¬¢è¿çš„è¯­è¨€ã€‚","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://smilecoc.vip/categories/è½¬è½½/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(äºŒ)ï¼šæ•°æ®åº“å…³ç³»å»ºæ¨¡","slug":"å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(äºŒ)ï¼šæ•°æ®åº“å…³ç³»å»ºæ¨¡","date":"2020-08-11T09:21:06.000Z","updated":"2020-08-17T15:29:43.749Z","comments":true,"path":"2020/08/11/å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(äºŒ)ï¼šæ•°æ®åº“å…³ç³»å»ºæ¨¡/","link":"","permalink":"http://smilecoc.vip/2020/08/11/å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(äºŒ)ï¼šæ•°æ®åº“å…³ç³»å»ºæ¨¡/","excerpt":"","text":"æœ¬æ–‡è½¬è½½äºhttps://www.cnblogs.com/muchen/p/5258197.htmlï¼Œä»…åšå­¦ä¹ å‚è€ƒä½¿ç”¨ï¼Œä¾µåˆ  æ•°æ®åº“éœ€æ±‚ä¸ERå»ºæ¨¡å‰è¨€åœ¨æ•°æ®åº“å»ºè®¾è¿‡ç¨‹ä¸­ï¼Œå“ªä¸€æ­¥æœ€é‡è¦ï¼Ÿç»å¤§å¤šæ•°èµ„æ–™ä¼šå‘Šè¯‰ä½ ï¼Œæ˜¯éœ€æ±‚åˆ†æé˜¶æ®µã€‚è¿™ä¸€æ­¥çš„å¥½åç”šè‡³ç›´æ¥å†³å®šæ•°æ®åº“é¡¹ç›®çš„æˆè´¥ã€‚ éœ€æ±‚åˆ†æé˜¶æ®µï¼Œä¹Ÿè¢«ç§°ä¸ºERå»ºæ¨¡(entity-relationship modeling)é˜¶æ®µï¼Œä¹Ÿå¸¸è¢«ç§°ä¸ºéœ€æ±‚å¯è§†åŒ–ï¼Œæ¦‚å¿µå»ºæ¨¡ç­‰ã€‚è¿™ä¸€é˜¶æ®µæ•°æ®åº“ç³»ç»Ÿå¼€å‘äººå‘˜å°†ååŒéœ€æ±‚æ–¹ä»¥ERå›¾çš„æ–¹å¼å¯¹ä¸šåŠ¡éœ€æ±‚è¿›è¡Œå¯è§†åŒ–å±•ç°ã€‚ é¦–å…ˆæˆ‘ä»¬è¯¦ç»†ä»‹ç»ERç¬¦å·ä½“ç³»ï¼Œå¹¶åœ¨å…¶ä¸­ç©¿æ’ä¸€äº›å…·ä½“å®ä¾‹è®²è§£ã€‚ åŸºæœ¬æ¦‚å¿µå®ä½“(entity)å®ä½“è¡¨ç¤ºå®¢è§‚ä¸–ç•Œä¸­çš„ä¼—å¤šæ¦‚å¿µï¼Œæ¯”å¦‚ï¼šäººï¼Œåœ°ç‚¹ï¼Œäº‹ä»¶ç­‰ã€‚ æ¯ä¸ªå®ä½“æœ¬èº«åŒ…å«å¤šä¸ªå®ä½“æˆå‘˜ï¼Œæ¯”å¦‚å®ä½“äººå¯èƒ½åŒ…å«å¼ ä¸‰ï¼Œæå››ç‹äº”ç­‰ã€‚ åœ¨ERå›¾ä¸­ï¼Œå®ä½“é€šå¸¸ç”¨çŸ©å½¢è¡¨ç¤ºï¼Œå¹¶åœ¨çŸ©å½¢ä¸­å†™ä¸Šå®ä½“åç§°ï¼Œæ¯”å¦‚å­¦ç”Ÿï¼Œä¸“ä¸šç­‰ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š å±æ€§(attribute)æ¯ä¸ªå®ä½“éƒ½æœ‰å±æ€§ï¼Œç”¨æ¤­åœ†è¡¨ç¤ºå¹¶ç”¨æ¥æè¿°å®ä½“å„ä¸ªç‰¹å¾ã€‚ æ¯”å¦‚é¡¾å®¢çš„ç‰¹å¾å¯èƒ½æœ‰é¡¾å®¢IDï¼Œé¡¾å®¢å§“åï¼Œé¡¾å®¢æ€§åˆ«ï¼Œé¡¾å®¢å¹´é¾„ç­‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æ­¤å¤–ï¼Œæ¯ä¸ªå®ä½“è‡³å°‘è¦æœ‰ä¸€ä¸ªå”¯ä¸€å±æ€§ï¼Œç”¨ä¸‹åˆ’çº¿æ ‡è®°ï¼Œå¦‚ä¸Šå›¾ä¸­çš„idå­—æ®µã€‚ è”ç³»(relation)å®ä½“ä¸å®ä½“ä¹‹é—´é€šå¸¸å…·æœ‰æŸç§å…³è”ï¼Œåœ¨ERå›¾ä¸­ç”¨è±å½¢è¡¨ç¤ºã€‚æ¯”å¦‚æŸèŒå‘˜å‘æŸä¸»ç®¡æ±‡æŠ¥ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šç»†å¿ƒçš„è¯»è€…ç›¸å¿…å‘ç°äº†ï¼Œå®ä½“é—´è¿çº¿çš„ä¸¤ç«¯ï¼Œå†™æœ‰ä¸€äº›ç¬¦å·ã€‚è¿™äº›ç¬¦å·è¢«ç§°ä¸ºåŸºæ•°çº¦æŸ(cardinality constraint)ï¼Œç”¨æ¥è¡¨ç¤ºå®ä½“å¯ä»¥æœ‰å¤šå°‘å®ä¾‹ä¸å¦ä¸€å®ä½“çš„å®ä¾‹å­˜åœ¨è”ç³»ã€‚ åŸºæ•°çº¦æŸå…±æœ‰å››ç§å½¢æ€ï¼šæ­¤ä¸ºå½¢æ€ä¸€ï¼Œå³å¼ºåˆ¶å¤šä¸ªå¯¹åº”ï¼Œè¡¨ç¤ºä¸€ä¸ªå®ä½“Aå¯¹åº”å¤šä¸ªå®ä½“Bã€‚ æ­¤ä¸ºå½¢æ€äºŒï¼Œå³å¯é€‰å¤šä¸ªå¯¹åº”ï¼Œè¡¨ç¤ºä¸€ä¸ªå®ä½“Aå¯¹åº”0ä¸ªæˆ–å¤šä¸ªå®ä½“Bã€‚ æ­¤ä¸ºå½¢æ€ä¸‰ï¼Œå³å¼ºåˆ¶å•ä¸ªå¯¹åº”ï¼Œè¡¨ç¤ºä¸€ä¸ªå®ä½“Aå¯¹åº”ä¸€ä¸ªå®ä½“Bã€‚ æ­¤ä¸ºå½¢æ€å››ï¼Œå³å¯é€‰å•ä¸ªå¯¹åº”ï¼Œè¡¨ç¤ºä¸€ä¸ªå®ä½“Aå¯¹åº”0ä¸ªæˆ–1ä¸ªå®ä½“Bã€‚ æˆ‘ä»¬çŸ¥é“è”ç³»æ˜¯åŒå‘çš„ï¼Œæ‰€ä»¥å®é™…ERå»ºæ¨¡ä¸­å¸¸è§çš„ç‰ˆæœ¬é•¿è¿™æ ·ï¼š ç†è§£è¿™ä¸ªè”ç³»çš„æ–¹æ³•æ˜¯ä»ä¸¤ä¸ªæ–¹å‘è¿›è¡Œè§£è¯»ï¼Œâ€œå®ä½“Aå¯¹åº”0ä¸ªæˆ–1ä¸ªå®ä½“Bï¼Œå®ä½“Bå¯¹åº”ä¸€ä¸ªæˆ–å¤šä¸ªå®ä½“Aâ€ã€‚ æ‰©å±•æ¦‚å¿µä½¿ç”¨å‰é¢ä»‹ç»çš„è¿™äº›æ¦‚å¿µï¼Œå·²ç»èƒ½å®ŒæˆåŸºç¡€ERå»ºæ¨¡äº†ã€‚ç„¶è€Œï¼Œä¸ºäº†æ›´ä¸ºç»†è‡´çš„åˆ»ç”»å‡ºç”¨æˆ·éœ€æ±‚ï¼Œåˆæœ‰äº†ä¸‹é¢è¿™äº›å»ºæ¨¡è§„åˆ™ã€‚ å¤åˆå±æ€§(composite attribute) éƒ¨åˆ†å±æ€§å…·æœ‰å¤åˆçš„ç‰¹ç‚¹ï¼Œæ¯”å¦‚åœ°å€å±æ€§ã€‚åœ°å€å¯èƒ½åŒ…å«äº†çœä»½ï¼ŒåŸå¸‚ï¼Œè¡—é“ç­‰å­å±æ€§ã€‚ ERå›¾ä¸Šè¿™ç±»å±æ€§çš„å±æ€§ååº”å½“æ ‡è®°åœ†æ‹¬å·ï¼Œç„¶åæ‰©å±•ä¸ºå¤šä¸ªå­å±æ€§ã€‚å¯å‚è€ƒä¸‹é¢è¿™ä¸ªå•†åº—å®ä½“å®šä¹‰ï¼š å¤šå€¼å±æ€§(multivalued attribute)éƒ¨åˆ†å±æ€§å…·æœ‰å¤šå€¼çš„ç‰¹ç‚¹ï¼Œæ¯”å¦‚ä¸€ä¸ªèŒå·¥å¯èƒ½æœ‰å¤šä¸ªç”µè¯å·ç ã€‚ ERå›¾ä¸Šè¿™ç±»å±æ€§ç”¨åŒå±‚æ¤­åœ†æ ‡è¯†ï¼Œå¯å‚è€ƒä¸‹é¢è¿™ä¸ªèŒå·¥å®ä½“å®šä¹‰ï¼š æ´¾ç”Ÿå±æ€§(derives attribute)éƒ¨åˆ†å±æ€§å¯ä»å…¶ä»–å±æ€§æˆ–è€…å…¶ä»–æ•°æ®(å¦‚å½“å‰æ—¥æœŸ)æ´¾ç”Ÿå‡ºæ¥ï¼Œè¿™ç±»å±æ€§åœ¨ERå›¾ä¸Šç”¨è™šçº¿æ¤­åœ†æ ‡è¯†ã€‚ å¯å‚è€ƒä¸‹é¢è¿™ä¸ªå£«å¤šåº—å®ä½“å®šä¹‰ï¼š ä¸Šå›¾ä¸­å£«å¤šåº—çš„YearsInBusinesså±æ€§è¡¨ç¤ºåº—é“ºå¼€å¼ äº†å¤šå°‘å¹´ï¼Œè¿™ä¸ªå±æ€§å¯ä»¥ç»“åˆå½“å‰æ—¥æœŸä¸OpeningDateå±æ€§ç®—åˆ°ï¼Œå› æ­¤ç”¨è™šçº¿æ¤­åœ†æ ‡è¯†ã€‚ å¯é€‰å±æ€§(optional attribute)éƒ¨åˆ†å±æ€§å¯èƒ½æœ‰ä¹Ÿå¯èƒ½æ²¡æœ‰å–å€¼ï¼Œæ¯”å¦‚è¯´èŒå·¥å¥–é‡‘ã€‚ ERå›¾ä¸Šè¿™ç±»å±æ€§é€šè¿‡åœ¨å±æ€§ååé¢æ·»åŠ (0)æ ‡è¯†ï¼Œå¯å‚è€ƒä¸‹é¢è¿™ä¸ªèŒå·¥å®ä½“å®šä¹‰ï¼š è”ç³»çš„è¿›ä¸€æ­¥æè¿°a. å¯ä»¥åœ¨è”ç³»ä¸­è¡¨æ˜è”ç³»ä¸­çš„æœ€å¤§æœ€å°åŸºæ•°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¯ä¸ªå­¦ç”Ÿå…·ä½“å¯¹åº”åˆ°äº†2-6é—´æ•™å®¤ï¼›åŒæ—¶æ¯é—´æ•™å®¤å¯¹åº”åˆ°äº†5-40åå­¦ç”Ÿã€‚ b. ä¹Ÿå¯ä»¥åœ¨è”ç³»ä¸­è¯´æ˜è”ç³»ä¸­çš„è§’è‰²ã€‚è¿™åœ¨ä¸€å…ƒè”ç³»ä¸­å°¤ä¸ºå¸¸è§ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æ¯ä¸ªäººåªèƒ½é€ç»™å…¶ä»–äººä¸€ä»½ç¤¼ç‰©ï¼Œä½†å¯ä»¥æ”¶åˆ°0æˆ–å¤šä»½ç¤¼ç‰©ã€‚ å…³è”å®ä½“(associated entity)å…³è”å®ä½“ç¤ºç”¨äºæè¿°Mï¼šNè”ç³»çš„ä¸€ä¸ªæ›¿ä»£æ–¹å¼ï¼Œç”¨ä¸€ä¸ªå†…éƒ¨æœ‰è±å½¢çš„çŸ©å½¢è¡¨ç¤ºï¼Œå®ƒæ²¡æœ‰å”¯ä¸€å±æ€§ä¹Ÿæ²¡æœ‰éƒ¨åˆ†å”¯ä¸€å±æ€§ï¼Œä¸”é€šå¸¸æ¥è¯´æ²¡æœ‰ä»»ä½•å±æ€§ã€‚ å¦‚ä¸‹ä¸¤ä¸ªå›¾å¯ä»¥è¯´æ˜¯ç­‰ä»·çš„ï¼š å…³è”å®ä½“åŸºæœ¬éƒ½æ˜¯åœ¨å¤šå…ƒè”ç³»çš„åœºæ™¯ä¸‹ç”¨åˆ°ï¼Œåé¢çš„é«˜çº§è¯é¢˜éƒ¨åˆ†ä¼šè®²ã€‚ å¼±å®ä½“(week entity)é€šå¸¸æ¥è¯´ï¼Œå®ä½“è‡³å°‘è¦æœ‰ä¸€ä¸ªå”¯ä¸€å±æ€§ã€‚å› ä¸ºè¿™æ ·æ‰èƒ½ç²¾ç¡®å®šä½åˆ°éœ€è¦å¤„ç†çš„è®°å½•ã€‚ä½†åœ¨ERå»ºæ¨¡è¿™ä¸€å±‚ï¼Œä¹Ÿå¹¶éæ€»æ˜¯å¦‚æ­¤ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œå‡å¦‚ç°åœ¨éœ€è¦ä¸ºæŸä¸ªè¿é”é…’åº—ç®¡ç†ç³»ç»Ÿè¿›è¡ŒERå»ºæ¨¡ã€‚è¯¥å…¬å¸åœ¨å…¨å›½å„åœ°éƒ½å¼€æœ‰é…’åº—ã€‚ç°åœ¨éœ€è¦è®°å½•ä¸‹å„åœ°é…’åº—çš„æˆ¿é—´ä½¿ç”¨æƒ…å†µã€‚ å¯ä»¥å°†æˆ¿é—´ä½¿ç”¨ç›¸å…³ä¿¡æ¯ä½œä¸ºé…’åº—çš„å»ºæ¨¡ä¸€ä¸ªå¤šå€¼å¤åˆå±æ€§ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è¿™æ ·åšç®—æ˜¯å¯¹çš„ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ä½“ç°å‡ºéƒ¨åˆ†ç åœ°ä½ï¼Œä¹Ÿå°±æ˜¯è¯´å„RoomIDåœ¨å„Buildingçš„å”¯ä¸€æ€§ã€‚åŒæ—¶ï¼Œå¾ˆå¤šæ—¶å€™éœ€è¦å°†æˆ¿é—´å®ä½“åŒ–ä¸å…¶ä»–å®ä½“ç›¸è”ç³»ã€‚æ¯”å¦‚æ¯ä¸ªæˆ¿é—´å¯¹åº”çš„æ¸…æ´å·¥ã€‚ å¼•å…¥å¼±å®ä½“æœºåˆ¶åï¼Œä¾¿å¯é¡ºåˆ©è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä¸¤ä¸ªåœ°æ–¹è¦æ³¨æ„ä¸€ä¸‹ï¼Œä¸€æ˜¯å¼±å®ä½“çš„â€œä¸»ç â€ç§°ä¸ºéƒ¨åˆ†ç ï¼Œç åä¸‹æ–¹ç”¨è™šçº¿æ ‡è®°ï¼› å†ä¸€ä¸ªå°±æ˜¯å¼±å®ä½“å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªå±ä¸»å®ä½“ï¼Œå®ƒä»¬ä¹‹é—´çš„è”ç³»éœ€ç”¨åŒæ¡†è±å½¢æ ‡è¯†ã€‚å¼±å®ä½“éƒ¨åˆ†ç åŒå…¶å±ä¸»å®ä½“å€™é€‰ç çš„ç»„åˆå¯ä»¥å”¯ä¸€å®šä½åˆ°ä»»ä½•ä¸€ä¸ªå¼±å®ä½“è®°å½•ã€‚ é«˜çº§è¯é¢˜1. ç›¸åŒå®ä½“ä¹‹é—´å…·æœ‰å¤šä¸ªM:Nå…³ç³» æŸäººä¸ºä¸€ä¸ªå­¦ç”Ÿé€‰è¯¾ç³»ç»Ÿè¿›è¡ŒERå»ºæ¨¡ï¼Œå¾—åˆ°å¦‚ä¸‹ç»“æœï¼š å‡å¦‚éœ€æ±‚ä¸­æœ‰è¯´æ˜ï¼šä¸€ä¸ªåŒå­¦ä¸€é—¨è¯¾åªèƒ½é€‰ä¸€æ¬¡ï¼Œé‚£è¿™æ ·çš„è®¾è®¡æ²¡é—®é¢˜ã€‚å¯æ˜¯å¦‚æœéœ€æ±‚ä¸­è¯´æ˜ï¼Œä¸€ä¸ªåŒå­¦å¯ä»¥é€‰ä¸€é—¨è¯¾å‡ æ¬¡(å¯èƒ½æ˜¯æŒ‚äº†å¥½å‡ æ¬¡)ï¼Œè¿™æ ·çš„è®¾è®¡å°±æœ‰é—®é¢˜äº†ã€‚ å¯¹æ­¤ï¼Œæ­£ç¡®çš„åšæ³•ä¹‹ä¸€æ˜¯ä½¿ç”¨æœ‰ä¸¤ä¸ªå±ä¸»å®ä½“çš„å¼±å®ä½“ï¼š æˆ–è€…ä¸ºæ¯æ¬¡é¢„å®šç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„idï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 2. ä¸‰å…ƒ(æˆ–æ›´å¤š)å…³ç³»åœ¨ERå›¾ä¸­ï¼Œè”ç³»ä¸€èˆ¬æ˜¯å°†ä¸¤ä¸ªå®ä½“å…³è”èµ·æ¥ï¼Œåˆæˆ–è€…è‡ªå·±å…³è”è‡ªå·±ã€‚ä½†æ˜¯ä¹Ÿæœ‰äº›æ—¶å€™ï¼Œéœ€æ±‚æ–¹éœ€è¦åŒæ—¶å°†å¤šä¸ªå®ä½“è”ç³»èµ·æ¥ã€‚è¿™æ€ä¹ˆåŠå‘¢ï¼Ÿè¦çŸ¥é“è¡¨ç¤ºè”ç³»çš„è±å½¢æœ‰ä¸”åªæœ‰ä¸¤ä¸ªæ¥å£ã€‚ ç­”æ›°ï¼šä½¿ç”¨å…³è”å®ä½“ã€‚ä¸‹é¢è¿™ä¸ªERå›¾ä¸­ï¼Œä½¿ç”¨äº†å…³è”å®ä½“æè¿°äº†æŸå·¥å‚çš„ä¾›è´§å•†ï¼Œç”Ÿäº§äº§å“ï¼Œé›¶ä»¶ä¸‰æ–¹è”ç³»ï¼š ä½†å¦‚æœç°åœ¨éœ€æ±‚åˆå˜æ›´äº†ï¼Œéœ€è¦ç»™å…³è”å¢åŠ æŸäº›å±æ€§ï¼Œæ¯”å¦‚è¯´ä¾›è´§å•†æ¯æ¬¡æä¾›çš„è´§ç‰©é‡ï¼Œè¿™ä¸ªERå›¾å°±ä¸èƒ½ç”¨äº†ã€‚ å› ä¸ºè¿™æ ·å°±æ²¡åŠæ³•åŒºåˆ†åŒä¸€å®¶ä¾›åº”å•†ä¸ºåŒä¸€äº§å“æä¾›ç­‰æ•°é‡çš„åŒä¸€é›¶ä»¶çš„ä¸åŒå®ä¾‹äº†ã€‚è§£å†³çš„åŠæ³•æ˜¯æŠŠå…³è”å®ä½“æ”¹æˆä¸€èˆ¬çš„å®ä½“ï¼Œå¹¶å¢è®¾ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦ï¼š å…¶ä»–è¯´æ˜ æœ¬æ–‡å®ä½“åå…¨å¤§å†™ï¼Œå±æ€§å’Œå…³ç³»ååˆ™ç”¨é¦–å­—æ¯å¤§å†™çš„é©¼å³°æ³•ï¼ŒåŒæ—¶å°½é‡ä¿è¯æ‰€æœ‰å‘½åéƒ½å…¨å±€å”¯ä¸€ï¼› ç”¨æˆ·çš„æ›´å¤šä¸ªæ€§éœ€æ±‚åº”å½“ä»¥æ³¨é‡Šï¼Œæ ‡ç­¾ç­‰æ–¹å¼ä¸€å¹¶æ ‡è®°åœ¨ERå›¾ä¸­ï¼› å»ºæ¨¡å·¥å…·å¯ä½¿ç”¨PowerDesignerï¼ŒWorkbenchç­‰ã€‚ä¸è¿‡ç¬”è€…åœ¨è¿™é‡Œæ¨èä¸€æ¬¾è½»é‡çº§çš„åœ¨çº¿æ•°æ®åº“å»ºæ¨¡å·¥å…·ï¼Œç½‘å€æ˜¯https://erdplus.com/#ï¼› å°ç»“éœ€æ±‚åˆ†æï¼ŒERå»ºæ¨¡æ˜¯è´¯ç©¿æ•´ä¸ªæ•°æ®åº“ç”Ÿå‘½å‘¨æœŸçš„å·¥ä½œã€‚è¿™éƒ¨åˆ†å·¥ä½œè¦æ±‚å¼€å‘äººå‘˜å’Œä¸šåŠ¡æ–¹ï¼Œæ•°æ®åº“çš„ä½¿ç”¨è€…ï¼Œå…¬å¸é¢†å¯¼ç­‰æ–¹é¢ååŒå¥½éœ€æ±‚ï¼Œå¹¶å°†éœ€æ±‚ä»¥ERå›¾çš„æ¨¡å¼å¯è§†åŒ–å±•ç°å‡ºæ¥ã€‚ åªæœ‰ç»˜åˆ¶å¥½ERå›¾ä¹‹åï¼Œæ‰èƒ½é¡ºåˆ©è¿›å…¥åˆ°æ¥ä¸‹æ¥çš„å…³ç³»è¡¨è®¾è®¡é˜¶æ®µã€‚è¿™ä¹Ÿæ˜¯ä¸‹ç¯‡è¦è®²è§£çš„å†…å®¹","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://smilecoc.vip/categories/è½¬è½½/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(ä¸€)ï¼šæ•°æ®åº“éœ€æ±‚ä¸ERå»ºæ¨¡","slug":"å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(ä¸€)ï¼šæ•°æ®åº“éœ€æ±‚ä¸ERå»ºæ¨¡","date":"2020-08-11T08:24:08.000Z","updated":"2020-08-17T15:08:45.440Z","comments":true,"path":"2020/08/11/å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(ä¸€)ï¼šæ•°æ®åº“éœ€æ±‚ä¸ERå»ºæ¨¡/","link":"","permalink":"http://smilecoc.vip/2020/08/11/å¦‚ä½•ä»0å¼€å§‹å»ºç«‹æ•°æ®åº“(ä¸€)ï¼šæ•°æ®åº“éœ€æ±‚ä¸ERå»ºæ¨¡/","excerpt":"","text":"æœ¬æ–‡è½¬è½½äºhttps://www.cnblogs.com/muchen/p/5258197.htmlï¼Œä»…åšå­¦ä¹ å‚è€ƒä½¿ç”¨ï¼Œä¾µåˆ  æ•°æ®åº“éœ€æ±‚ä¸ERå»ºæ¨¡å‰è¨€åœ¨æ•°æ®åº“å»ºè®¾è¿‡ç¨‹ä¸­ï¼Œå“ªä¸€æ­¥æœ€é‡è¦ï¼Ÿç»å¤§å¤šæ•°èµ„æ–™ä¼šå‘Šè¯‰ä½ ï¼Œæ˜¯éœ€æ±‚åˆ†æé˜¶æ®µã€‚è¿™ä¸€æ­¥çš„å¥½åç”šè‡³ç›´æ¥å†³å®šæ•°æ®åº“é¡¹ç›®çš„æˆè´¥ã€‚ éœ€æ±‚åˆ†æé˜¶æ®µï¼Œä¹Ÿè¢«ç§°ä¸ºERå»ºæ¨¡(entity-relationship modeling)é˜¶æ®µï¼Œä¹Ÿå¸¸è¢«ç§°ä¸ºéœ€æ±‚å¯è§†åŒ–ï¼Œæ¦‚å¿µå»ºæ¨¡ç­‰ã€‚è¿™ä¸€é˜¶æ®µæ•°æ®åº“ç³»ç»Ÿå¼€å‘äººå‘˜å°†ååŒéœ€æ±‚æ–¹ä»¥ERå›¾çš„æ–¹å¼å¯¹ä¸šåŠ¡éœ€æ±‚è¿›è¡Œå¯è§†åŒ–å±•ç°ã€‚ é¦–å…ˆæˆ‘ä»¬è¯¦ç»†ä»‹ç»ERç¬¦å·ä½“ç³»ï¼Œå¹¶åœ¨å…¶ä¸­ç©¿æ’ä¸€äº›å…·ä½“å®ä¾‹è®²è§£ã€‚ åŸºæœ¬æ¦‚å¿µå®ä½“(entity)å®ä½“è¡¨ç¤ºå®¢è§‚ä¸–ç•Œä¸­çš„ä¼—å¤šæ¦‚å¿µï¼Œæ¯”å¦‚ï¼šäººï¼Œåœ°ç‚¹ï¼Œäº‹ä»¶ç­‰ã€‚ æ¯ä¸ªå®ä½“æœ¬èº«åŒ…å«å¤šä¸ªå®ä½“æˆå‘˜ï¼Œæ¯”å¦‚å®ä½“äººå¯èƒ½åŒ…å«å¼ ä¸‰ï¼Œæå››ç‹äº”ç­‰ã€‚ åœ¨ERå›¾ä¸­ï¼Œå®ä½“é€šå¸¸ç”¨çŸ©å½¢è¡¨ç¤ºï¼Œå¹¶åœ¨çŸ©å½¢ä¸­å†™ä¸Šå®ä½“åç§°ï¼Œæ¯”å¦‚å­¦ç”Ÿï¼Œä¸“ä¸šç­‰ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š å±æ€§(attribute)æ¯ä¸ªå®ä½“éƒ½æœ‰å±æ€§ï¼Œç”¨æ¤­åœ†è¡¨ç¤ºå¹¶ç”¨æ¥æè¿°å®ä½“å„ä¸ªç‰¹å¾ã€‚ æ¯”å¦‚é¡¾å®¢çš„ç‰¹å¾å¯èƒ½æœ‰é¡¾å®¢IDï¼Œé¡¾å®¢å§“åï¼Œé¡¾å®¢æ€§åˆ«ï¼Œé¡¾å®¢å¹´é¾„ç­‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æ­¤å¤–ï¼Œæ¯ä¸ªå®ä½“è‡³å°‘è¦æœ‰ä¸€ä¸ªå”¯ä¸€å±æ€§ï¼Œç”¨ä¸‹åˆ’çº¿æ ‡è®°ï¼Œå¦‚ä¸Šå›¾ä¸­çš„idå­—æ®µã€‚ è”ç³»(relation)å®ä½“ä¸å®ä½“ä¹‹é—´é€šå¸¸å…·æœ‰æŸç§å…³è”ï¼Œåœ¨ERå›¾ä¸­ç”¨è±å½¢è¡¨ç¤ºã€‚æ¯”å¦‚æŸèŒå‘˜å‘æŸä¸»ç®¡æ±‡æŠ¥ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šç»†å¿ƒçš„è¯»è€…ç›¸å¿…å‘ç°äº†ï¼Œå®ä½“é—´è¿çº¿çš„ä¸¤ç«¯ï¼Œå†™æœ‰ä¸€äº›ç¬¦å·ã€‚è¿™äº›ç¬¦å·è¢«ç§°ä¸ºåŸºæ•°çº¦æŸ(cardinality constraint)ï¼Œç”¨æ¥è¡¨ç¤ºå®ä½“å¯ä»¥æœ‰å¤šå°‘å®ä¾‹ä¸å¦ä¸€å®ä½“çš„å®ä¾‹å­˜åœ¨è”ç³»ã€‚ åŸºæ•°çº¦æŸå…±æœ‰å››ç§å½¢æ€ï¼šæ­¤ä¸ºå½¢æ€ä¸€ï¼Œå³å¼ºåˆ¶å¤šä¸ªå¯¹åº”ï¼Œè¡¨ç¤ºä¸€ä¸ªå®ä½“Aå¯¹åº”å¤šä¸ªå®ä½“Bã€‚ æ­¤ä¸ºå½¢æ€äºŒï¼Œå³å¯é€‰å¤šä¸ªå¯¹åº”ï¼Œè¡¨ç¤ºä¸€ä¸ªå®ä½“Aå¯¹åº”0ä¸ªæˆ–å¤šä¸ªå®ä½“Bã€‚ æ­¤ä¸ºå½¢æ€ä¸‰ï¼Œå³å¼ºåˆ¶å•ä¸ªå¯¹åº”ï¼Œè¡¨ç¤ºä¸€ä¸ªå®ä½“Aå¯¹åº”ä¸€ä¸ªå®ä½“Bã€‚ æ­¤ä¸ºå½¢æ€å››ï¼Œå³å¯é€‰å•ä¸ªå¯¹åº”ï¼Œè¡¨ç¤ºä¸€ä¸ªå®ä½“Aå¯¹åº”0ä¸ªæˆ–1ä¸ªå®ä½“Bã€‚ æˆ‘ä»¬çŸ¥é“è”ç³»æ˜¯åŒå‘çš„ï¼Œæ‰€ä»¥å®é™…ERå»ºæ¨¡ä¸­å¸¸è§çš„ç‰ˆæœ¬é•¿è¿™æ ·ï¼š ç†è§£è¿™ä¸ªè”ç³»çš„æ–¹æ³•æ˜¯ä»ä¸¤ä¸ªæ–¹å‘è¿›è¡Œè§£è¯»ï¼Œâ€œå®ä½“Aå¯¹åº”0ä¸ªæˆ–1ä¸ªå®ä½“Bï¼Œå®ä½“Bå¯¹åº”ä¸€ä¸ªæˆ–å¤šä¸ªå®ä½“Aâ€ã€‚ æ‰©å±•æ¦‚å¿µä½¿ç”¨å‰é¢ä»‹ç»çš„è¿™äº›æ¦‚å¿µï¼Œå·²ç»èƒ½å®ŒæˆåŸºç¡€ERå»ºæ¨¡äº†ã€‚ç„¶è€Œï¼Œä¸ºäº†æ›´ä¸ºç»†è‡´çš„åˆ»ç”»å‡ºç”¨æˆ·éœ€æ±‚ï¼Œåˆæœ‰äº†ä¸‹é¢è¿™äº›å»ºæ¨¡è§„åˆ™ã€‚ å¤åˆå±æ€§(composite attribute) éƒ¨åˆ†å±æ€§å…·æœ‰å¤åˆçš„ç‰¹ç‚¹ï¼Œæ¯”å¦‚åœ°å€å±æ€§ã€‚åœ°å€å¯èƒ½åŒ…å«äº†çœä»½ï¼ŒåŸå¸‚ï¼Œè¡—é“ç­‰å­å±æ€§ã€‚ ERå›¾ä¸Šè¿™ç±»å±æ€§çš„å±æ€§ååº”å½“æ ‡è®°åœ†æ‹¬å·ï¼Œç„¶åæ‰©å±•ä¸ºå¤šä¸ªå­å±æ€§ã€‚å¯å‚è€ƒä¸‹é¢è¿™ä¸ªå•†åº—å®ä½“å®šä¹‰ï¼š å¤šå€¼å±æ€§(multivalued attribute)éƒ¨åˆ†å±æ€§å…·æœ‰å¤šå€¼çš„ç‰¹ç‚¹ï¼Œæ¯”å¦‚ä¸€ä¸ªèŒå·¥å¯èƒ½æœ‰å¤šä¸ªç”µè¯å·ç ã€‚ ERå›¾ä¸Šè¿™ç±»å±æ€§ç”¨åŒå±‚æ¤­åœ†æ ‡è¯†ï¼Œå¯å‚è€ƒä¸‹é¢è¿™ä¸ªèŒå·¥å®ä½“å®šä¹‰ï¼š æ´¾ç”Ÿå±æ€§(derives attribute)éƒ¨åˆ†å±æ€§å¯ä»å…¶ä»–å±æ€§æˆ–è€…å…¶ä»–æ•°æ®(å¦‚å½“å‰æ—¥æœŸ)æ´¾ç”Ÿå‡ºæ¥ï¼Œè¿™ç±»å±æ€§åœ¨ERå›¾ä¸Šç”¨è™šçº¿æ¤­åœ†æ ‡è¯†ã€‚ å¯å‚è€ƒä¸‹é¢è¿™ä¸ªå£«å¤šåº—å®ä½“å®šä¹‰ï¼š ä¸Šå›¾ä¸­å£«å¤šåº—çš„YearsInBusinesså±æ€§è¡¨ç¤ºåº—é“ºå¼€å¼ äº†å¤šå°‘å¹´ï¼Œè¿™ä¸ªå±æ€§å¯ä»¥ç»“åˆå½“å‰æ—¥æœŸä¸OpeningDateå±æ€§ç®—åˆ°ï¼Œå› æ­¤ç”¨è™šçº¿æ¤­åœ†æ ‡è¯†ã€‚ å¯é€‰å±æ€§(optional attribute)éƒ¨åˆ†å±æ€§å¯èƒ½æœ‰ä¹Ÿå¯èƒ½æ²¡æœ‰å–å€¼ï¼Œæ¯”å¦‚è¯´èŒå·¥å¥–é‡‘ã€‚ ERå›¾ä¸Šè¿™ç±»å±æ€§é€šè¿‡åœ¨å±æ€§ååé¢æ·»åŠ (0)æ ‡è¯†ï¼Œå¯å‚è€ƒä¸‹é¢è¿™ä¸ªèŒå·¥å®ä½“å®šä¹‰ï¼š è”ç³»çš„è¿›ä¸€æ­¥æè¿°a. å¯ä»¥åœ¨è”ç³»ä¸­è¡¨æ˜è”ç³»ä¸­çš„æœ€å¤§æœ€å°åŸºæ•°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¯ä¸ªå­¦ç”Ÿå…·ä½“å¯¹åº”åˆ°äº†2-6é—´æ•™å®¤ï¼›åŒæ—¶æ¯é—´æ•™å®¤å¯¹åº”åˆ°äº†5-40åå­¦ç”Ÿã€‚ b. ä¹Ÿå¯ä»¥åœ¨è”ç³»ä¸­è¯´æ˜è”ç³»ä¸­çš„è§’è‰²ã€‚è¿™åœ¨ä¸€å…ƒè”ç³»ä¸­å°¤ä¸ºå¸¸è§ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æ¯ä¸ªäººåªèƒ½é€ç»™å…¶ä»–äººä¸€ä»½ç¤¼ç‰©ï¼Œä½†å¯ä»¥æ”¶åˆ°0æˆ–å¤šä»½ç¤¼ç‰©ã€‚ å…³è”å®ä½“(associated entity)å…³è”å®ä½“ç¤ºç”¨äºæè¿°Mï¼šNè”ç³»çš„ä¸€ä¸ªæ›¿ä»£æ–¹å¼ï¼Œç”¨ä¸€ä¸ªå†…éƒ¨æœ‰è±å½¢çš„çŸ©å½¢è¡¨ç¤ºï¼Œå®ƒæ²¡æœ‰å”¯ä¸€å±æ€§ä¹Ÿæ²¡æœ‰éƒ¨åˆ†å”¯ä¸€å±æ€§ï¼Œä¸”é€šå¸¸æ¥è¯´æ²¡æœ‰ä»»ä½•å±æ€§ã€‚ å¦‚ä¸‹ä¸¤ä¸ªå›¾å¯ä»¥è¯´æ˜¯ç­‰ä»·çš„ï¼š å…³è”å®ä½“åŸºæœ¬éƒ½æ˜¯åœ¨å¤šå…ƒè”ç³»çš„åœºæ™¯ä¸‹ç”¨åˆ°ï¼Œåé¢çš„é«˜çº§è¯é¢˜éƒ¨åˆ†ä¼šè®²ã€‚ å¼±å®ä½“(week entity)é€šå¸¸æ¥è¯´ï¼Œå®ä½“è‡³å°‘è¦æœ‰ä¸€ä¸ªå”¯ä¸€å±æ€§ã€‚å› ä¸ºè¿™æ ·æ‰èƒ½ç²¾ç¡®å®šä½åˆ°éœ€è¦å¤„ç†çš„è®°å½•ã€‚ä½†åœ¨ERå»ºæ¨¡è¿™ä¸€å±‚ï¼Œä¹Ÿå¹¶éæ€»æ˜¯å¦‚æ­¤ã€‚ ä¸¾ä¾‹æ¥è¯´ï¼Œå‡å¦‚ç°åœ¨éœ€è¦ä¸ºæŸä¸ªè¿é”é…’åº—ç®¡ç†ç³»ç»Ÿè¿›è¡ŒERå»ºæ¨¡ã€‚è¯¥å…¬å¸åœ¨å…¨å›½å„åœ°éƒ½å¼€æœ‰é…’åº—ã€‚ç°åœ¨éœ€è¦è®°å½•ä¸‹å„åœ°é…’åº—çš„æˆ¿é—´ä½¿ç”¨æƒ…å†µã€‚ å¯ä»¥å°†æˆ¿é—´ä½¿ç”¨ç›¸å…³ä¿¡æ¯ä½œä¸ºé…’åº—çš„å»ºæ¨¡ä¸€ä¸ªå¤šå€¼å¤åˆå±æ€§ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š è¿™æ ·åšç®—æ˜¯å¯¹çš„ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ä½“ç°å‡ºéƒ¨åˆ†ç åœ°ä½ï¼Œä¹Ÿå°±æ˜¯è¯´å„RoomIDåœ¨å„Buildingçš„å”¯ä¸€æ€§ã€‚åŒæ—¶ï¼Œå¾ˆå¤šæ—¶å€™éœ€è¦å°†æˆ¿é—´å®ä½“åŒ–ä¸å…¶ä»–å®ä½“ç›¸è”ç³»ã€‚æ¯”å¦‚æ¯ä¸ªæˆ¿é—´å¯¹åº”çš„æ¸…æ´å·¥ã€‚ å¼•å…¥å¼±å®ä½“æœºåˆ¶åï¼Œä¾¿å¯é¡ºåˆ©è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä¸¤ä¸ªåœ°æ–¹è¦æ³¨æ„ä¸€ä¸‹ï¼Œä¸€æ˜¯å¼±å®ä½“çš„â€œä¸»ç â€ç§°ä¸ºéƒ¨åˆ†ç ï¼Œç åä¸‹æ–¹ç”¨è™šçº¿æ ‡è®°ï¼› å†ä¸€ä¸ªå°±æ˜¯å¼±å®ä½“å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªå±ä¸»å®ä½“ï¼Œå®ƒä»¬ä¹‹é—´çš„è”ç³»éœ€ç”¨åŒæ¡†è±å½¢æ ‡è¯†ã€‚å¼±å®ä½“éƒ¨åˆ†ç åŒå…¶å±ä¸»å®ä½“å€™é€‰ç çš„ç»„åˆå¯ä»¥å”¯ä¸€å®šä½åˆ°ä»»ä½•ä¸€ä¸ªå¼±å®ä½“è®°å½•ã€‚ é«˜çº§è¯é¢˜1. ç›¸åŒå®ä½“ä¹‹é—´å…·æœ‰å¤šä¸ªM:Nå…³ç³» æŸäººä¸ºä¸€ä¸ªå­¦ç”Ÿé€‰è¯¾ç³»ç»Ÿè¿›è¡ŒERå»ºæ¨¡ï¼Œå¾—åˆ°å¦‚ä¸‹ç»“æœï¼š å‡å¦‚éœ€æ±‚ä¸­æœ‰è¯´æ˜ï¼šä¸€ä¸ªåŒå­¦ä¸€é—¨è¯¾åªèƒ½é€‰ä¸€æ¬¡ï¼Œé‚£è¿™æ ·çš„è®¾è®¡æ²¡é—®é¢˜ã€‚å¯æ˜¯å¦‚æœéœ€æ±‚ä¸­è¯´æ˜ï¼Œä¸€ä¸ªåŒå­¦å¯ä»¥é€‰ä¸€é—¨è¯¾å‡ æ¬¡(å¯èƒ½æ˜¯æŒ‚äº†å¥½å‡ æ¬¡)ï¼Œè¿™æ ·çš„è®¾è®¡å°±æœ‰é—®é¢˜äº†ã€‚ å¯¹æ­¤ï¼Œæ­£ç¡®çš„åšæ³•ä¹‹ä¸€æ˜¯ä½¿ç”¨æœ‰ä¸¤ä¸ªå±ä¸»å®ä½“çš„å¼±å®ä½“ï¼š æˆ–è€…ä¸ºæ¯æ¬¡é¢„å®šç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„idï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š 2. ä¸‰å…ƒ(æˆ–æ›´å¤š)å…³ç³»åœ¨ERå›¾ä¸­ï¼Œè”ç³»ä¸€èˆ¬æ˜¯å°†ä¸¤ä¸ªå®ä½“å…³è”èµ·æ¥ï¼Œåˆæˆ–è€…è‡ªå·±å…³è”è‡ªå·±ã€‚ä½†æ˜¯ä¹Ÿæœ‰äº›æ—¶å€™ï¼Œéœ€æ±‚æ–¹éœ€è¦åŒæ—¶å°†å¤šä¸ªå®ä½“è”ç³»èµ·æ¥ã€‚è¿™æ€ä¹ˆåŠå‘¢ï¼Ÿè¦çŸ¥é“è¡¨ç¤ºè”ç³»çš„è±å½¢æœ‰ä¸”åªæœ‰ä¸¤ä¸ªæ¥å£ã€‚ ç­”æ›°ï¼šä½¿ç”¨å…³è”å®ä½“ã€‚ä¸‹é¢è¿™ä¸ªERå›¾ä¸­ï¼Œä½¿ç”¨äº†å…³è”å®ä½“æè¿°äº†æŸå·¥å‚çš„ä¾›è´§å•†ï¼Œç”Ÿäº§äº§å“ï¼Œé›¶ä»¶ä¸‰æ–¹è”ç³»ï¼š ä½†å¦‚æœç°åœ¨éœ€æ±‚åˆå˜æ›´äº†ï¼Œéœ€è¦ç»™å…³è”å¢åŠ æŸäº›å±æ€§ï¼Œæ¯”å¦‚è¯´ä¾›è´§å•†æ¯æ¬¡æä¾›çš„è´§ç‰©é‡ï¼Œè¿™ä¸ªERå›¾å°±ä¸èƒ½ç”¨äº†ã€‚ å› ä¸ºè¿™æ ·å°±æ²¡åŠæ³•åŒºåˆ†åŒä¸€å®¶ä¾›åº”å•†ä¸ºåŒä¸€äº§å“æä¾›ç­‰æ•°é‡çš„åŒä¸€é›¶ä»¶çš„ä¸åŒå®ä¾‹äº†ã€‚è§£å†³çš„åŠæ³•æ˜¯æŠŠå…³è”å®ä½“æ”¹æˆä¸€èˆ¬çš„å®ä½“ï¼Œå¹¶å¢è®¾ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦ï¼š å…¶ä»–è¯´æ˜ æœ¬æ–‡å®ä½“åå…¨å¤§å†™ï¼Œå±æ€§å’Œå…³ç³»ååˆ™ç”¨é¦–å­—æ¯å¤§å†™çš„é©¼å³°æ³•ï¼ŒåŒæ—¶å°½é‡ä¿è¯æ‰€æœ‰å‘½åéƒ½å…¨å±€å”¯ä¸€ï¼› ç”¨æˆ·çš„æ›´å¤šä¸ªæ€§éœ€æ±‚åº”å½“ä»¥æ³¨é‡Šï¼Œæ ‡ç­¾ç­‰æ–¹å¼ä¸€å¹¶æ ‡è®°åœ¨ERå›¾ä¸­ï¼› å»ºæ¨¡å·¥å…·å¯ä½¿ç”¨PowerDesignerï¼ŒWorkbenchç­‰ã€‚ä¸è¿‡ç¬”è€…åœ¨è¿™é‡Œæ¨èä¸€æ¬¾è½»é‡çº§çš„åœ¨çº¿æ•°æ®åº“å»ºæ¨¡å·¥å…·ï¼Œç½‘å€æ˜¯https://erdplus.com/#ï¼› å°ç»“éœ€æ±‚åˆ†æï¼ŒERå»ºæ¨¡æ˜¯è´¯ç©¿æ•´ä¸ªæ•°æ®åº“ç”Ÿå‘½å‘¨æœŸçš„å·¥ä½œã€‚è¿™éƒ¨åˆ†å·¥ä½œè¦æ±‚å¼€å‘äººå‘˜å’Œä¸šåŠ¡æ–¹ï¼Œæ•°æ®åº“çš„ä½¿ç”¨è€…ï¼Œå…¬å¸é¢†å¯¼ç­‰æ–¹é¢ååŒå¥½éœ€æ±‚ï¼Œå¹¶å°†éœ€æ±‚ä»¥ERå›¾çš„æ¨¡å¼å¯è§†åŒ–å±•ç°å‡ºæ¥ã€‚ åªæœ‰ç»˜åˆ¶å¥½ERå›¾ä¹‹åï¼Œæ‰èƒ½é¡ºåˆ©è¿›å…¥åˆ°æ¥ä¸‹æ¥çš„å…³ç³»è¡¨è®¾è®¡é˜¶æ®µã€‚è¿™ä¹Ÿæ˜¯ä¸‹ç¯‡è¦è®²è§£çš„å†…å®¹","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://smilecoc.vip/categories/è½¬è½½/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"sweetvizåº“ï¼šå¿«é€Ÿå¯è§†åŒ–å’Œæ•°æ®é›†EDA","slug":"python_sweetviz","date":"2020-07-27T02:08:45.000Z","updated":"2020-07-29T16:10:27.970Z","comments":true,"path":"2020/07/27/python_sweetviz/","link":"","permalink":"http://smilecoc.vip/2020/07/27/python_sweetviz/","excerpt":"","text":"Sweetvizæ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç Pythonåº“ï¼Œå¯ç”Ÿæˆç²¾ç¾çš„é«˜å¯†åº¦å¯è§†åŒ–æ–‡ä»¶ï¼Œä»¥å•è¡Œä»£ç å¯åŠ¨EDAï¼ˆæ¢ç´¢æ€§æ•°æ®åˆ†æï¼‰ã€‚è¾“å‡ºæ˜¯ä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„HTMLåº”ç”¨ç¨‹åºã€‚ è¯¥ç³»ç»Ÿå›´ç»•å¿«é€Ÿå¯è§†åŒ–ç›®æ ‡å€¼å’Œæ¯”è¾ƒæ•°æ®é›†è€Œæ„å»ºã€‚å…¶ç›®æ ‡æ˜¯å¸®åŠ©å¿«é€Ÿåˆ†æç›®æ ‡ç‰¹å¾ï¼Œè®­ç»ƒä¸æµ‹è¯•æ•°æ®ä»¥åŠå…¶ä»–æ­¤ç±»æ•°æ®è¡¨å¾ä»»åŠ¡ å®‰è£…pip install sweetviz åˆ†æä¸€ä¸ªæ•°æ®é›†æ³¨æ„ï¼šSweetvizä»…æ”¯æŒåˆ†ædataframeæ•°æ®ç»“æ„çš„æ•°æ® å½“åˆ†æä¸€ä¸ªdataframeæ—¶ï¼Œå…ˆä½¿ç”¨analyze() å‡½æ•°, ç„¶åä½¿ç”¨ show_html() å‡½æ•°äº§å‡ºä¸€ä¸ª1080på®½å±çš„ç½‘é¡µ import sweetviz as sv import pandas as pd my_dataframe=pd.read_csv(&quot;train.csv&quot;) my_report = sv.analyze(my_dataframe) my_report.show_html() # é»˜è®¤ç”Ÿæˆçš„htmlæ–‡ä»¶ä¸º&quot;SWEETVIZ_REPORT.html&quot; å¯é€‰å‚æ•°analyze()å‡½æ•°çš„è¯­æ³•ä¸å¯é€‰å‚æ•°ä¸º: analyze(source: Union[pd.DataFrame, Tuple[pd.DataFrame, str]], target_feat: str = None, feat_cfg: FeatureConfig = None, pairwise_analysis: str = &#39;auto&#39;): sourceï¼šä»¥pandasä¸­çš„DataFrameæ•°æ®ç»“æ„ã€æˆ–æ˜¯[DataFrameï¼Œstr]çš„å…ƒç»„å½¢å¼ï¼Œå…¶ä¸­stræ˜¯DataFrameè¦åœ¨æŠ¥è¡¨ä¸­æ˜¾ç¤ºçš„åç§°ã€‚target_featï¼šéœ€è¦è¢«æ ‡è®°ä¸ºç›®æ ‡å¯¹è±¡çš„å­—ç¬¦ä¸²ï¼Œç›®å‰ä»…æ”¯æŒ BOOLEANå’Œ NUMERICALç±»å‹ã€‚feat_cfgï¼šéœ€è¦è¢«è·³è¿‡ã€æˆ–æ˜¯éœ€è¦è¢«å¼ºåˆ¶è½¬æ¢ä¸ºæŸç§æ•°æ®ç±»å‹çš„ç‰¹å¾ã€‚å‚æ•°å¯ä»¥ä¸ºskipï¼Œforce_catï¼Œforce_numå’Œforce_textï¼Œç”¨æ³•ä¸ºï¼š feature_config = sv.FeatureConfig(skip=&quot;PassengerId&quot;, force_text=[&quot;Age&quot;]) pairwise_analysisï¼šç›¸å…³æ€§å’Œå…¶ä»–ç±»å‹çš„æ•°æ®å…³è”å¯èƒ½éœ€è¦èŠ±è´¹è¾ƒé•¿æ—¶é—´ã€‚å¦‚æœè¶…è¿‡äº†æŸä¸ªé˜ˆå€¼ï¼Œå°±éœ€è¦è®¾ç½®è¿™ä¸ªå‚æ•°ä¸ºonæˆ–è€…offï¼Œä»¥åˆ¤æ–­æ˜¯å¦éœ€è¦åˆ†ææ•°æ®ç›¸å…³æ€§ã€‚ ä¸¤ä¸ªæ•°æ®é›†çš„æ¯”è¾ƒè¦æ¯”è¾ƒä¸¤ä¸ªæ•°æ®é›†ï¼Œåªéœ€ä½¿ç”¨compare()å‡½æ•°ã€‚é™¤äº†ç¬¬äºŒä¸ªå‚æ•°ä¸åŒå¤–ï¼Œå…¶å‚æ•°ä¸analyze()ç›¸åŒã€‚å»ºè®®ä½¿ç”¨å‚æ•°çš„[dataframeï¼Œâ€œ nameâ€]æ ¼å¼ï¼Œä»¥æ›´å¥½åœ°åŒºåˆ†æµ‹è¯•é›†ä¸æ¯”è¾ƒé›†ã€‚ my_report = sv.compare([my_dataframe, &quot;Training Data&quot;], [test_df, &quot;Test Data&quot;], &quot;Survived&quot;, feature_config) æ¯”è¾ƒåŒä¸€æ•°æ®å¸§çš„ä¸¤ä¸ªå­é›†ï¼ˆä¾‹å¦‚ï¼Œç”·æ€§ä¸å¥³æ€§ï¼‰å¦ä¸€ç§è·å¾—æ·±åˆ»è§è§£çš„æ–¹æ³•æ˜¯ä½¿ç”¨æ¯”è¾ƒåŠŸèƒ½å°†æ‚¨çš„æ•°æ®é›†åˆ†ä¸º2ä¸ªå­ç§ç¾¤ã€‚ é€šè¿‡compare_intraï¼ˆï¼‰å‡½æ•°å¯ä»¥å°†æ‚¨çš„æ•°æ®é›†åˆ†ä¸º2ä¸ªå­é›†å¹¶è¿›è¡Œæ¯”è¾ƒã€‚ My_report = sv.compare_intraï¼ˆmy_dataframeï¼Œmy_dataframe [â€œ Sexâ€] ==â€œ maleâ€ï¼Œ[â€œ Maleâ€ï¼Œâ€œ Femaleâ€]ï¼Œfeature_configï¼‰ ç›®å‰è¿™ä¸ªåŒ…è¿˜å¤„äºå¼€å‘ç‰ˆæœ¬ï¼Œè¿˜æ˜¯å­˜åœ¨å¾ˆå¤šçš„ä¸è¶³çš„åœ°æ–¹ï¼Œæ¯”å¦‚æ— æ³•æ‹‰åŠ¨ç½‘é¡µç•Œé¢ï¼Œä¸­æ–‡æ•°æ®é›†ä¼šå‡ºç°ä¹±ç ç­‰ç­‰ã€‚ä¸è¿‡ç›®å‰æ¥çœ‹è¿˜æ˜¯ä¸€ä¸ªå¾ˆä¸é”™çš„EDAå·¥å…·","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"Pythonåº“","slug":"Pythonåº“","permalink":"http://smilecoc.vip/tags/Pythonåº“/"}],"author":"smilecoc"},{"title":"Fakeråº“ï¼šå¿«é€Ÿç”Ÿæˆæµ‹è¯•æ•°æ®","slug":"Fakeråº“","date":"2020-07-20T15:57:14.629Z","updated":"2020-08-17T16:07:16.161Z","comments":true,"path":"2020/07/20/Fakeråº“/","link":"","permalink":"http://smilecoc.vip/2020/07/20/Fakeråº“/","excerpt":"","text":"åœ¨åšç¨‹åºå¼€å‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šç”¨åˆ°ä¸€äº›æµ‹è¯•æ•°æ®.åœ¨ Python ä¸­æœ‰ä¸ªç¥åº“ï¼Œå«åš Fakerï¼Œå®ƒå¯ä»¥è‡ªåŠ¨å¸®æˆ‘ä»¬æ¥ç”Ÿæˆå„ç§å„æ ·çš„çœ‹èµ·æ¥å¾ˆçœŸçš„â€å‡â€œæ•°æ®ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹å§ï¼ å®‰è£…é¦–å…ˆè®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªåº“çš„å®‰è£…æ–¹æ³•ï¼Œå®é™…ä¸Šè£…èµ·æ¥éå¸¸ç®€å•ï¼Œä½¿ç”¨ pip å®‰è£…å³å¯ï¼ŒPython3 ç‰ˆæœ¬çš„å®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š pip3 install faker å®‰è£…å¥½äº†ä¹‹åï¼Œæˆ‘ä»¬ä½¿ç”¨æœ€ç®€å•çš„ä¾‹å­æ¥ç”Ÿæˆå‡ ä¸ªå‡æ•°æ®è¯•è¯•ï¼š from faker import Faker faker = Faker() print(&#39;name:&#39;, faker.name()) print(&#39;address:&#39;, faker.address()) print(&#39;text:&#39;, faker.text()) é¦–å…ˆæˆ‘ä»¬ä» faker è¿™ä¸ªåŒ…é‡Œé¢å¯¼å…¥ä¸€ä¸ª Faker ç±»ï¼Œç„¶åå°†å…¶å®ä¾‹åŒ–ä¸º faker å¯¹è±¡ï¼Œä¾æ¬¡è°ƒç”¨å®ƒçš„ nameã€addressã€text æ–¹æ³•ï¼Œçœ‹ä¸‹è¿è¡Œæ•ˆæœï¼š name: Nicholas Wilson address: 70561 Simmons Road Apt. 893 Lake Raymondville, HI 35240 text: Both begin bring federal space. Official start idea specific. Able under young fire. Who show line traditional easy people. Until economic lead event case. Technology college his director style.çœ‹åˆ°è¿™é‡Œç»™æˆ‘ä»¬ç”Ÿæˆäº†çœ‹èµ·æ¥å¾ˆçœŸçš„è‹±æ–‡å§“åã€åœ°å€ã€é•¿æ–‡æœ¬ã€‚ ä½†æˆ‘ä»¬æ˜¯ä¸­å›½äººï¼Œæˆ‘ä»¬è‚¯å®šæƒ³è¦ç”Ÿæˆä¸­æ–‡çš„å§ï¼Œä¸ç”¨æ‹…å¿ƒï¼Œè¿™ä¸ªåº“å¯¹éå¸¸å¤šçš„è¯­è¨€éƒ½æœ‰æ”¯æŒï¼Œå½“ç„¶ä¹ŸåŒ…æ‹¬ä¸­æ–‡äº†ï¼Œå…·ä½“çš„æ”¯æŒçš„è¯­è¨€åˆ—è¡¨å¯ä»¥è§ï¼šhttps://faker.readthedocs.io/en/master/locales.htmlã€‚ è¿™é‡Œå‡ ä¸ªæ¯”è¾ƒå¸¸è§çš„è¯­è¨€ä»£å·åˆ—ä¸€ä¸‹ï¼š ç®€ä½“ä¸­æ–‡ï¼šzh_CN ç¹ä½“ä¸­æ–‡ï¼šzh_TW ç¾å›½è‹±æ–‡ï¼šen_US è‹±å›½è‹±æ–‡ï¼šen_GB å¾·æ–‡ï¼šde_DE æ—¥æ–‡ï¼šja_JP éŸ©æ–‡ï¼ško_KR æ³•æ–‡ï¼šfr_FRé‚£ä¹ˆå¦‚æœè¦ç”Ÿæˆä¸­æ–‡ï¼Œåªéœ€è¦åœ¨ Faker ç±»çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥å¯¹åº”çš„è¯­è¨€ä»£å·å³å¯ï¼Œä¾‹å¦‚ç®€ä½“ä¸­æ–‡å°±ä¼ å…¥ zh_CNï¼Œæ‰€ä»¥ä¸Šé¢çš„ä»£ç æ”¹å†™å¦‚ä¸‹ï¼š from faker import Faker faker = Faker(&#39;zh_CN&#39;) print(&#39;name:&#39;, faker.name()) print(&#39;address:&#39;, faker.address()) print(&#39;text:&#39;, faker.text())è¿è¡Œç»“æœå¦‚ä¸‹ï¼š name: ä½•ç³ address: å®å¤å›æ—è‡ªæ²»åŒºå…­ç›˜æ°´å¿å—æºªåŒ—é•‡è¡—fåº§ 912311 text: ç»è¥è½¯ä»¶ç§¯åˆ†å¼€å§‹æ¬¡æ•°ä¸“ä¸š.ç¾å›½ç•™è¨€ä¸€ç§ç®¡ç†äººæ°‘è§£å†³ä¸¤ä¸ª.æ”¯æŒåªæœ‰åœ°æ–¹ä¸€åˆ‡. æ–‡åŒ–ç›®å‰ä¸œè¥¿çš„æ˜¯ä¸è¿‡æ‰€ä»¥.ç³»ç»Ÿè§‰å¾—è¿™ç§ä¸ºä»€ä¸€ä¸‹ä»–ä»¬.æ—¶å€™ä»¥åŠè¿™æ ·ç»§ç»­æ˜¯ä¸€çŠ¶æ€å¨æœ›. ç½‘ç«™å¯†ç æƒ…å†µ.é—®é¢˜ä¸€ç‚¹é‚£ä¸ªè¿˜æ˜¯.å…¶å®è¿‡ç¨‹è¯¦ç»†. ä¸­å›½å†å²ç¯å¢ƒç”µè¯è§„å®š.ç»éªŒä¸Šæµ·æ§åˆ¶ä¸è¦ç”Ÿæ´».æœ‹å‹è¿è¡Œé¡¹ç›®æˆ‘ä»¬. ä»¥åä»Šå¤©é‚£äº›ä½¿ç”¨å…è´¹å›½å®¶åŠ å…¥ä½†æ˜¯.å†…å®¹ç®€ä»‹ç©ºé—´æ¬¡æ•°æœ€å¤§ä¸€ä¸ª.æ—¥æœŸé€šè¿‡å¾—åˆ°æ—¥æœ¬åŒ—äº¬.å¯ä»¥çœ‹åˆ°ä¸€æ®µä¸­æ–‡çš„å§“åã€åœ°å€ã€é•¿æ–‡æœ¬ä¾¿ç”Ÿæˆäº†ã€‚çœ‹èµ·æ¥åœ°å€æ˜¯çœä»½ã€åœ°çº§å¸‚ã€å¿çº§å¸‚ã€è¡—é“æ˜¯éšæœºç»„åˆçš„ï¼Œæ–‡æœ¬ä¹Ÿæ˜¯ä¸€äº›éšæœºçš„è¯ç»„åˆè€Œæˆçš„ï¼Œä½†å…¶å®è¿™æ ·å·²ç»æ¯”æ–‡ç« ä¸€å¼€å¤´åˆ—çš„æµ‹è¯•æ•°æ®å¼ºå¤ªå¤šäº†ã€‚ ä¸Šé¢çš„ä»£ç æ¯æ¬¡è¿è¡Œå¾—åˆ°çš„ç»“æœéƒ½æ˜¯ä¸åŒçš„ï¼Œå› ä¸ºç”Ÿæˆçš„ç»“æœéƒ½æ˜¯éšæœºç»„åˆè€Œæˆçš„ã€‚ Provideræ¥ä¸‹æ¥è®©æˆ‘ä»¬è¯¦ç»†çœ‹ä¸‹ faker å¯ä»¥éƒ½ç”Ÿæˆä»€ä¹ˆç±»å‹çš„æ•°æ®ï¼Œå…·ä½“çš„å¯ç”¨ API å¯ä»¥çœ‹ https://faker.readthedocs.io/en/master/locales/zh_CN.htmlï¼Œè¿™é‡Œé¢åˆ—å‡ºæ¥äº†å¯ç”¨çš„æ‰€æœ‰æ–¹æ³•ã€‚ ä½†æ‰“å¼€ä¹‹åå¯ä»¥å‘ç°ï¼Œè¿™é‡Œé¢å¤šäº†ä¸€ä¸ª Provider å¯¹è±¡ï¼Œé‚£ä¹ˆè¿™ä¸ª Provider æ˜¯æ€ä¹ˆä¸€å›äº‹å‘¢ï¼Ÿ å®é™…ä¸Šè¿™ä¸ª faker åº“åœ¨è®¾è®¡ä¸Šï¼Œä¸ºäº†è§£è€¦ï¼Œå°† Provider å¯¹è±¡åšæˆäº† Faker å¯¹è±¡çš„â€æ’ä»¶â€œã€‚Faker å¯ä»¥æ·»åŠ ä¸€ä¸ªä¸ª Provider å¯¹è±¡ï¼ŒProvider å¯¹è±¡ä¸º Faker å¯¹è±¡æä¾›äº†ç”ŸæˆæŸé¡¹æ•°æ®çš„æ ¸å¿ƒå®ç°ã€‚å°±ç›¸å½“äº Faker å¯¹è±¡æ˜¯ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œå®ƒçš„ç”ŸæˆåŠŸèƒ½ä¾èµ–äºä»€ä¹ˆå‘¢ï¼Ÿä¾èµ–äº Providerï¼Œæ˜¯ Provider æä¾›ç»™äº† Faker å¯¹è±¡ç”ŸæˆæŸé¡¹æ•°æ®çš„èƒ½åŠ›ã€‚ æ­£æ˜¯å› ä¸º Faker å¯¹è±¡å†…ç½®äº†ä¸€äº› Provider å¯¹è±¡ï¼ŒFaker å¯¹è±¡æ‰å¯ä»¥ç”Ÿæˆåˆšæ‰æ‰€è¦æ±‚çš„å§“åã€åœ°å€å’Œæ–‡æœ¬ã€‚ é‚£ä¹ˆè¿™æ—¶å€™æˆ‘ä»¬è‚¯å®šå°±å¾ˆå¥½å¥‡äº†ï¼Œæ—¢ç„¶ Faker å¯¹è±¡æœ‰ç”Ÿæˆæ•°æ®çš„èƒ½åŠ›ï¼Œé‚£ä¹ˆå®ƒä¸€å®šå†…ç½®äº†ä¸€äº›é»˜è®¤çš„ Provider å¯¹è±¡ï¼Œä¸‹é¢æˆ‘ä»¬æ¥æ‰“å°çœ‹ä¸€ä¸‹ï¼š from faker import Faker faker = Faker(&#39;zh_CN&#39;) print(faker.providers) è¿è¡Œç»“æœå¦‚ä¸‹ï¼š [&lt;faker.providers.user_agent.Provider object at 0x10249de48&gt;, &lt;faker.providers.ssn.zh_CN.Provider object at 0x10249dc18&gt;, &lt;faker.providers.python.Provider object at 0x10249dd68&gt;, &lt;faker.providers.profile.Provider object at 0x10249dcc0&gt;, &lt;faker.providers.phone_number.zh_CN.Provider object at 0x10249dc88&gt;, &lt;faker.providers.person.zh_CN.Provider object at 0x10249de80&gt;, &lt;faker.providers.misc.Provider object at 0x10249df60&gt;, &lt;faker.providers.lorem.zh_CN.Provider object at 0x10249dc50&gt;, &lt;faker.providers.job.zh_CN.Provider object at 0x10249de10&gt;, &lt;faker.providers.isbn.Provider object at 0x10249c6d8&gt;, &lt;faker.providers.internet.zh_CN.Provider object at 0x10249c828&gt;, &lt;faker.providers.geo.en_US.Provider object at 0x102484748&gt;, &lt;faker.providers.file.Provider object at 0x102484828&gt;, &lt;faker.providers.date_time.en_US.Provider object at 0x1023789e8&gt;, &lt;faker.providers.currency.Provider object at 0x102484780&gt;, &lt;faker.providers.credit_card.Provider object at 0x1024845f8&gt;, &lt;faker.providers.company.zh_CN.Provider object at 0x102499ef0&gt;, &lt;faker.providers.color.en_US.Provider object at 0x1023532e8&gt;, &lt;faker.providers.barcode.Provider object at 0x101cb6d30&gt;, &lt;faker.providers.bank.en_GB.Provider object at 0x102378f98&gt;, &lt;faker.providers.automotive.en_US.Provider object at 0x1017a5c50&gt;, &lt;faker.providers.address.zh_CN.Provider object at 0x101787c18&gt;]è¿˜çœŸä¸å°‘ï¼Œé€šè¿‡åå­—å¯ä»¥çœ‹åˆ°æœ‰ user_agentã€phone_numberã€isbnã€credit_card ç­‰ Providerï¼Œå…¶ä¸­å…·æœ‰è¯­è¨€å·®å¼‚åŒ–çš„ Provider è¿˜å•ç‹¬åŒºåˆ†äº†è¯­è¨€ï¼Œæ¯”å¦‚ phone_number ä»£è¡¨ç”µè¯å·ç ï¼Œè¿™ä¸ªä¸åŒè¯­è¨€çš„ä¸åŒï¼Œæ‰€ä»¥è¿™é‡Œå°±åˆåˆ†äº†ä¸€å±‚ zh_CNï¼Œä½œäº†è¯­è¨€çš„åŒºåˆ†ã€‚ è¿™æ ·ä¸€æ¥ï¼Œé€šç”¨çš„ Provider å°±ç›´æ¥å¤„åœ¨æŸä¸ª Provider ç±»åˆ«çš„æ¨¡å—ä¸­ï¼Œå…·æœ‰è¯­è¨€å·®å¼‚çš„ Provider å°±åˆæ ¹æ®ä¸åŒçš„è¯­è¨€è¿›ä¸€æ­¥åˆ’åˆ†äº†æ¨¡å—ï¼Œè®¾è®¡ä¸Šéå¸¸ç§‘å­¦ï¼Œæ˜“æ‰©å±•åˆä¸å†—ä½™ã€‚ çŸ¥é“äº† Faker å…·æœ‰è¿™ä¹ˆå¤š Provider ä¹‹åï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹åˆšæ‰è°ƒç”¨çš„ nameã€address ç­‰æ–¹æ³•åˆå’Œ Provider æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ æˆ‘ä»¬å°† nameã€addressã€text ç­‰æ–¹æ³•æ‰“å°ä¸€ä¸‹çœ‹çœ‹ï¼š from faker import Faker faker = Faker(&#39;zh_CN&#39;) print(&#39;name:&#39;, faker.name) print(&#39;address:&#39;, faker.address) print(&#39;text:&#39;, faker.text) æ³¨æ„è¿™é‡Œæ²¡æœ‰è°ƒç”¨ï¼Œè€Œæ˜¯ç›´æ¥æ‰“å°äº†è¿™ä¸‰ä¸ªæ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥ç›´æ¥è¾“å‡ºæ–¹æ³•çš„å¯¹è±¡å½¢å¼çš„æè¿°ï¼Œç»“æœå¦‚ä¸‹ï¼š name: &lt;bound method Provider.name of &lt;faker.providers.person.zh_CN.Provider object at 0x10f6dea58&gt;&gt; address: &lt;bound method Provider.address of &lt;faker.providers.address.zh_CN.Provider object at 0x10e9e6cf8&gt;&gt; text: &lt;bound method Provider.text of &lt;faker.providers.lorem.zh_CN.Provider object at 0x10f6dfda0&gt;&gt;æç„¶å¤§æ‚Ÿï¼ŒåŸæ¥æˆ‘ä»¬è°ƒç”¨çš„æ–¹æ³•å°±æ˜¯ Faker å¯¹è±¡è°ƒç”¨çš„ Provider é‡Œé¢çš„å¯¹åº”æ–¹æ³•ï¼Œæ¯”å¦‚ name å°±æ˜¯ faker.providers.person.zh_CN.Provider é‡Œé¢çš„ name æ–¹æ³•ï¼ŒäºŒè€…æ˜¯ä¸€è‡´çš„ï¼Œæˆ‘ä»¬æ‰’ä¸€æ‰’æºç éªŒè¯ä¸‹ï¼Œæºç åœ¨ï¼šhttps://github.com/joke2k/faker/blob/master/faker/providers/person/_init_.pyï¼Œæœä¸å…¶ç„¶ï¼Œé‡Œé¢å®šä¹‰äº† name æ–¹æ³•ï¼Œç„¶å Faker åŠ¨æ€åœ°å°†è¿™ä¸ªæ–¹æ³•å¼•å…¥è¿›æ¥äº†ï¼Œå°±å¯ä»¥ä½¿ç”¨äº†ã€‚ æ–¹æ³•åˆ—ä¸¾æ—¢ç„¶æœ‰è¿™ä¹ˆå¤š Providerï¼Œä¸‹é¢æˆ‘ä»¬å†è¯¦ç»†åœ°çœ‹çœ‹è¿˜æœ‰å“ªäº›å¸¸ç”¨çš„æ–¹æ³•å§ï¼Œä¸‹é¢è¿›è¡Œä¸€éƒ¨åˆ†ç®€å•çš„æ¢³ç†ï¼Œå‚è€ƒæ¥æºæ–‡æ¡£åœ°å€ä¸ºï¼šhttps://faker.readthedocs.io/en/master/providers.htmlã€‚ AddressAddressï¼Œç”¨äºç”Ÿæˆä¸€äº›å’Œåœ°å€ç›¸å…³çš„æ•°æ®ï¼Œå¦‚åœ°å€ã€åŸå¸‚ã€é‚®æ”¿ç¼–ç ã€è¡—é“ç­‰å†…å®¹ï¼Œ ç”¨æ³•å¦‚ä¸‹ï¼š faker.address() # &#39;æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒºæ°å¿å—æ¹–æ­¦æ±‰è¡—Dåº§ 253105&#39; faker.building_number() # &#39;Båº§&#39; faker.city() # &#39;ç’å¿&#39; faker.city_name() # &#39;è´µé˜³&#39; faker.city_suffix() # &#39;å¿&#39; faker.country() # &#39;é˜¿æ‹‰æ–¯åŠ &#39; faker.country_code(representation=&quot;alpha-2&quot;) # &#39;CR&#39; faker.district() # &#39;è¥¿å³°&#39; faker.postcode() # &#39;726749&#39; faker.province() # &#39;ç¦å»ºçœ&#39; faker.street_address() # &#39;ä½™è·¯Nåº§&#39; faker.street_name() # &#39;æè·¯&#39; faker.street_suffix() # &#39;è·¯&#39; ColorColorï¼Œç”¨äºç”Ÿæˆå’Œé¢œè‰²ç›¸å…³çš„æ•°æ®ï¼Œå¦‚ HEXã€RGBã€RGBA ç­‰æ ¼å¼çš„é¢œè‰²ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š faker.color_name() # &#39;DarkKhaki&#39; faker.hex_color() # &#39;#97d14e&#39; faker.rgb_color() # &#39;107,179,51&#39; faker.rgb_css_color() # &#39;rgb(20,46,70)&#39; faker.safe_color_name() # &#39;navy&#39; faker.safe_hex_color() # &#39;#dd2200&#39; CompanyCompanyï¼Œç”¨äºç”Ÿæˆå…¬å¸ç›¸å…³æ•°æ®ï¼Œå¦‚å…¬å¸åã€å…¬å¸å‰ç¼€ã€å…¬å¸åç¼€ç­‰å†…å®¹ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š faker.bs() # &#39;grow rich initiatives&#39; faker.catch_phrase() # &#39;Self-enabling encompassing function&#39; faker.company() # &#39;æ’èªç™¾æ±‡ç½‘ç»œæœ‰é™å…¬å¸&#39; faker.company_prefix() # &#39;æ™–æ¥è®¡ç®—æœº&#39; faker.company_suffix() # &#39;ä¿¡æ¯æœ‰é™å…¬å¸&#39; Credit Card Credit Cardï¼Œç”¨äºç”Ÿæˆä¿¡ç”¨å¡ç›¸å…³æ•°æ®ï¼Œå¦‚è¿‡æœŸæ—¶é—´ã€é“¶è¡Œå¡å·ã€å®‰å…¨ç ç­‰å†…å®¹ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š faker.credit_card_expire(start=&quot;now&quot;, end=&quot;+10y&quot;, date_format=&quot;%m/%y&quot;) # &#39;08/20&#39; faker.credit_card_full(card_type=None) # &#39;Mastercard\\nç‰å…° èŒƒ\\n5183689713096897 01/25\\nCVV: 012\\n&#39; faker.credit_card_number(card_type=None) # &#39;4009911097184929918&#39; faker.credit_card_provider(card_type=None) # &#39;JCB 15 digit&#39; faker.credit_card_security_code(card_type=None) # &#39;259&#39; Date TimeDate Timeï¼Œç”¨äºç”Ÿæˆæ—¶é—´ç›¸å…³æ•°æ®ï¼Œå¦‚å¹´ä»½ã€æœˆä»½ã€æ˜ŸæœŸã€å‡ºç”Ÿæ—¥æœŸç­‰å†…å®¹ï¼Œå¯ä»¥è¿”å› datetime ç±»å‹çš„æ•°æ®ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š faker.am_pm() # &#39;AM&#39; faker.century() # &#39;X&#39; faker.date(pattern=&quot;%Y-%m-%d&quot;, end_datetime=None) # &#39;1997-06-16&#39; faker.date_between(start_date=&quot;-30y&quot;, end_date=&quot;today&quot;) # datetime.date(2000, 8, 30) faker.date_between_dates(date_start=None, date_end=None) # datetime.date(2019, 7, 30) faker.date_object(end_datetime=None) # datetime.date(1978, 3, 12) faker.date_of_birth(tzinfo=None, minimum_age=0, maximum_age=115) # datetime.date(2012, 6, 3) faker.date_this_century(before_today=True, after_today=False) # datetime.date(2011, 6, 12) faker.date_this_decade(before_today=True, after_today=False) # datetime.date(2011, 8, 22) faker.date_this_month(before_today=True, after_today=False) # datetime.date(2019, 7, 25) faker.date_this_year(before_today=True, after_today=False) # datetime.date(2019, 7, 22) faker.date_time(tzinfo=None, end_datetime=None) # datetime.datetime(2018, 8, 11, 22, 3, 34) faker.date_time_ad(tzinfo=None, end_datetime=None, start_datetime=None) # datetime.datetime(1566, 8, 26, 16, 25, 30) faker.date_time_between(start_date=&quot;-30y&quot;, end_date=&quot;now&quot;, tzinfo=None) # datetime.datetime(2015, 1, 31, 4, 14, 10) faker.date_time_between_dates(datetime_start=None, datetime_end=None, tzinfo=None) # datetime.datetime(2019, 7, 30, 17, 51, 44) faker.date_time_this_century(before_now=True, after_now=False, tzinfo=None) # datetime.datetime(2002, 9, 25, 23, 59, 49) faker.date_time_this_decade(before_now=True, after_now=False, tzinfo=None) # datetime.datetime(2010, 5, 25, 20, 20, 52) faker.date_time_this_month(before_now=True, after_now=False, tzinfo=None) # datetime.datetime(2019, 7, 19, 18, 4, 6) faker.date_time_this_year(before_now=True, after_now=False, tzinfo=None) # datetime.datetime(2019, 3, 15, 11, 4, 18) faker.day_of_month() # &#39;04&#39; faker.day_of_week() # &#39;Monday&#39; faker.future_date(end_date=&quot;+30d&quot;, tzinfo=None) # datetime.date(2019, 8, 12) faker.future_datetime(end_date=&quot;+30d&quot;, tzinfo=None) # datetime.datetime(2019, 8, 24, 2, 59, 4) faker.iso8601(tzinfo=None, end_datetime=None) # &#39;1987-07-01T18:33:56&#39; faker.month() # &#39;11&#39; faker.month_name() # &#39;August&#39; faker.past_date(start_date=&quot;-30d&quot;, tzinfo=None) # datetime.date(2019, 7, 25) faker.past_datetime(start_date=&quot;-30d&quot;, tzinfo=None) # datetime.datetime(2019, 7, 18, 22, 46, 51) faker.time(pattern=&quot;%H:%M:%S&quot;, end_datetime=None) # &#39;16:22:30&#39; faker.time_delta(end_datetime=None) # datetime.timedelta(0) faker.time_object(end_datetime=None) # datetime.time(22, 12, 15) faker.time_series(start_date=&quot;-30d&quot;, end_date=&quot;now&quot;, precision=None, distrib=None, tzinfo=None) # &lt;generator object Provider.time_series at 0x7fcbce0604f8&gt; faker.timezone() # &#39;Indian/Comoro&#39; faker.unix_time(end_datetime=None, start_datetime=None) # 1182857626 faker.year() # &#39;1970&#39; FileFileï¼Œç”¨äºç”Ÿæˆæ–‡ä»¶å’Œæ–‡ä»¶è·¯å¾„ç›¸å…³çš„æ•°æ®ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ‰©å±•åã€æ–‡ä»¶è·¯å¾„ã€MIME_TYPEã€ç£ç›˜åˆ†åŒºç­‰å†…å®¹ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š faker.file_extension(category=None) # &#39;flac&#39; faker.file_name(category=None, extension=None) # &#39;ç„¶å.numbers&#39; faker.file_path(depth=1, category=None, extension=None) # &#39;/å…³ç³»/ç§‘æŠ€.mov&#39; faker.mime_type(category=None) # &#39;video/ogg&#39; faker.unix_device(prefix=None) # &#39;/dev/sdd&#39; faker.unix_partition(prefix=None) # &#39;/dev/xvds3&#39; GeoGeoï¼Œç”¨äºç”Ÿæˆå’Œåœ°ç†ä½ç½®ç›¸å…³çš„æ•°æ®ï¼ŒåŒ…æ‹¬ç»çº¬åº¦ï¼Œæ—¶åŒºç­‰ç­‰ä¿¡æ¯ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š faker.coordinate(center=None, radius=0.001) # Decimal(&#39;-114.420686&#39;) faker.latitude() # Decimal(&#39;-9.772541&#39;) faker.latlng() # (Decimal(&#39;-27.0730915&#39;), Decimal(&#39;-5.919460&#39;)) faker.local_latlng(country_code=&quot;US&quot;, coords_only=False) # (&#39;41.47892&#39;, &#39;-87.45476&#39;, &#39;Schererville&#39;, &#39;US&#39;, &#39;America/Chicago&#39;) faker.location_on_land(coords_only=False) # (&#39;12.74482&#39;, &#39;4.52514&#39;, &#39;Argungu&#39;, &#39;NG&#39;, &#39;Africa/Lagos&#39;) faker.longitude() # Decimal(&#39;40.885895&#39;) InternetInternetï¼Œç”¨äºç”Ÿæˆå’Œäº’è”ç½‘ç›¸å…³çš„æ•°æ®ï¼ŒåŒ…æ‹¬éšæœºç”µå­é‚®ç®±ã€åŸŸåã€IP åœ°å€ã€URLã€ç”¨æˆ·åã€åç¼€åç­‰å†…å®¹ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š faker.ascii_company_email(*args, **kwargs) # &#39;xuna@xiaqian.cn&#39; faker.ascii_email(*args, **kwargs) # &#39;min59@60.cn&#39; faker.ascii_free_email(*args, **kwargs) # &#39;min75@gmail.com&#39; faker.ascii_safe_email(*args, **kwargs) # &#39;cliu@example.com&#39; faker.company_email(*args, **kwargs) # &#39;ilong@99.cn&#39; faker.domain_name(levels=1) # &#39;xiulan.cn&#39; faker.domain_word(*args, **kwargs) # &#39;luo&#39; faker.email(*args, **kwargs) # &#39;maoxiulan@hotmail.com&#39; faker.free_email(*args, **kwargs) # &#39;yanshen@gmail.com&#39; faker.free_email_domain(*args, **kwargs) # &#39;yahoo.com&#39; faker.hostname(*args, **kwargs) # &#39;lt-18.pan.cn&#39; faker.image_url(width=None, height=None) # &#39;https://placekitten.com/51/201&#39; faker.ipv4(network=False, address_class=None, private=None) # &#39;192.233.68.5&#39; faker.ipv4_network_class() # &#39;a&#39; faker.ipv4_private(network=False, address_class=None) # &#39;10.9.97.93&#39; faker.ipv4_public(network=False, address_class=None) # &#39;192.51.22.7&#39; faker.ipv6(network=False) # &#39;de57:9c6f:a38c:9864:10ec:6442:775d:5f02&#39; faker.mac_address() # &#39;99:80:5c:ab:8c:a9&#39; faker.safe_email(*args, **kwargs) # &#39;tangjuan@example.net&#39; faker.slug(*args, **kwargs) # &#39;&#39; faker.tld() # &#39;cn&#39; faker.uri() # &#39;http://fangfan.org/app/tag/post/&#39; faker.uri_extension() # &#39;.php&#39; faker.uri_page() # &#39;about&#39; faker.uri_path(deep=None) # &#39;app&#39; faker.url(schemes=None) # &#39;http://mingli.cn/&#39; faker.user_name(*args, **kwargs) # &#39;jie54&#39; Job Jobï¼Œç”¨äºç”Ÿæˆå’ŒèŒä¸šç›¸å…³çš„æ•°æ®ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š faker.job() # &#39;çƒ«å·¥&#39; LoremLoremï¼Œç”¨äºç”Ÿæˆä¸€äº›å‡æ–‡å­—æ•°æ®ï¼ŒåŒ…æ‹¬å¥å­ã€è‡ªç„¶æ®µã€é•¿æ–‡æœ¬ã€å…³é”®è¯ç­‰ï¼Œå¦å¤–å¯ä»¥ä¼ å…¥ä¸åŒçš„å‚æ•°æ¥æ§åˆ¶ç”Ÿæˆçš„é•¿åº¦ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š faker.paragraph(nb_sentences=3, variable_nb_sentences=True, ext_word_list=None) # &#39;åŒ…æ‹¬çš„æ˜¯æŠ¥å‘Šé‚£äº›ä¸€ç‚¹.å›¾ç‰‡åœ°å€åŸºæœ¬å…¨éƒ¨.&#39; faker.paragraphs(nb=3, ext_word_list=None) # [ &#39;è®¡åˆ’è§„å®šè¿™æ ·æ‰€ä»¥ç»„ç»‡å•†å“å…¶ä¸­.å‚åŠ æˆä¸ºä¸åŒå‘è¡¨åœ°åŒº.ç²¾åç§‘æŠ€è°¢è°¢å¤§å®¶éœ€è¦.ä¸€ä¸‹æ‰‹æœºä¸Šæµ·ä¸­æ–‡å·¥ç¨‹.&#39;, # &#39;éå¸¸ç›¸å…³æ˜¯ä¸€å°±æ˜¯ä¸€ä¸ªä¸€ç§æ–‡ç« å‘ç”Ÿ.å¢åŠ é‚£äº›ä»¥åŠä¹‹åä»¥ä¸‹ä½ çš„.&#39;, # &#39;å­¦ç”Ÿåº”è¯¥å‡ºæ¥åˆ†æå¢åŠ å…³ç³»ç»„ç»‡.è¯„è®ºæ¥æºæœ‹å‹æ³¨å†Œåº”è¯¥éœ€è¦å•ä½.æ„Ÿè§‰æœ€åæ— æ³•å‘ç°é€‰æ‹©äººæ°‘.&#39;] faker.sentence(nb_words=6, variable_nb_words=True, ext_word_list=None) # &#39;ä»‹ç»ç»“æœè‡ªå·±è§£å†³å¤„ç†.&#39; faker.sentences(nb=3, ext_word_list=None) # [&#39;æŸ¥çœ‹å…¶å®ä¸€æ¬¡å­¦ä¹ ç™»å½•æµè§ˆæ˜¯ä¸€ä»–ä»¬.&#39;, &#39;è€Œä¸”èµ„æºçš„äººäº‹æƒ….&#39;, &#39;ç§‘æŠ€ä»·æ ¼å…è´¹å¤§å­¦æ•™è‚².&#39;] faker.text(max_nb_chars=200, ext_word_list=None) # (&#39;åªæ˜¯å½“å‰å›½å†…ä¸­æ–‡æ‰€ä»¥.å¨æœ›ç³»ç»Ÿåœ¨çº¿è™½ç„¶.\\n&#39; # &#39;å›¾ç‰‡äººæ°‘éå¸¸åˆä½œè¿™ç§è°¢è°¢æ›´æ–°.åç§°è¯¦ç»†ç›´æ¥ç¤¾ä¼šä¸€ç›´é¦–é¡µå®Œå…¨.\\n&#39; # &#39;é‡è¦æ›´å¤šåªè¦å¸‚åœº.å¿…é¡»åªæ˜¯å­¦ç”ŸéŸ³ä¹.ç³»ç»Ÿç¾å›½ç±»åˆ«è¿™äº›ä¸€åˆ‡ç¯å¢ƒ.\\n&#39; # &#39;ä½†æ˜¯çš„è¯äººæ°‘ç¾å›½å…³äº.\\n&#39; # &#39;æƒ…å†µä¸“ä¸šå›½é™…çœ‹åˆ°ç ”ç©¶.éŸ³ä¹ç¯å¢ƒå¸‚åœºæœç´¢å‘ç°.\\n&#39; # &#39;å·¥å…·è¿˜æ˜¯åˆ°äº†ä»Šå¤©ä½ç½®äººæ°‘.ç•™è¨€ä½œè€…å“ç‰Œå·¥ç¨‹é¡¹ç›®å¿…é¡».ä¸Šæµ·ç²¾åç°åœ¨æˆ‘ä»¬æ–°é—»åº”è¯¥å…³ç³».\\n&#39; # &#39;æ›´æ–°ç»æµèƒ½åŠ›å…¨éƒ¨èµ„æºå¦‚æœ.æ‰‹æœºèƒ½å¤Ÿç™»å½•å›½å†….&#39;) faker.texts(nb_texts=3, max_nb_chars=200, ext_word_list=None) # [ &#39;æˆåŠŸå¯èƒ½æ¨èä½ çš„è¡Œä¸š.åœ°åŒºè€Œä¸”æ¨è.\\n&#39; # &#39;ç½‘ç»œä¸æ–­æ˜¯ä¸€ä¸»è¦å¿…é¡».å¼€å§‹å®‰å…¨æœåŠ¡.\\n&#39; # &#39;åº”è¯¥ç½‘ä¸Šé€šè¿‡ä»¥åé€šè¿‡å¤§å­¦.ç®¡ç†è¦æ±‚æœ‰å…³å›½é™…é˜…è¯»å½“å‰.ä¸ºäº†åº”è¯¥ç»“æœç‚¹å‡»å…¬å¸å¼€å§‹æ€ä¹ˆ.\\n&#39; # &#39;æˆåŠŸä¸€æ¬¡æœ€å¤§ç”Ÿäº§ç½‘ç«™.è¿™ç§åŠ å…¥å¥¹çš„åœ°å€æœ‰é™.\\n&#39; # &#39;æ ¹æ®æ–°é—»æ±½è½¦èµ·æ¥éå¸¸ä¸»é¢˜æ˜¾ç¤ºå¿…é¡».æœ‰äº›å»ºè®¾æ¥è‡ªä½œè€…ç”µè¯æ”¯æŒ.\\n&#39; # &#39;åªæ˜¯èµ„æºè¿˜æ˜¯ç”±äºç»æµäº‹æƒ…å–œæ¬¢.ä¸ºä»€ä¸­æ–‡å¤§å°å¾—åˆ°æœåŠ¡.ç½‘ç»œå¯†ç æ˜¯å¦å…è´¹å‚åŠ ä¸€æ¬¡ç¤¾åŒºæ¬¢è¿.&#39;, # &#39;éƒ¨é—¨æ´»åŠ¨æŠ€æœ¯.å•†å“å½±å“å‘ç”Ÿè¡Œä¸šå¯†ç å®Œæˆ.å°±æ˜¯éƒ¨é—¨ç»“æœèµ„æ–™å­¦ä¹ å½“ç„¶.æˆ–è€…å¸®åŠ©åŸå¸‚è¦æ±‚é¦–é¡µå¸‚åœºæ•™è‚²ä½ ä»¬.\\n&#39; # &#39;ä¸“ä¸šå®Œå…¨åˆ†æå¤„ç†åŸå¸‚å¤§å­¦ä»€ä¹ˆ.\\n&#39; # &#39;æ–‡ä»¶éå¸¸å›½é™…å…¨éƒ¨èµ·æ¥ç§¯åˆ†å…¬å¸.èµ„æ–™çš„æ˜¯ç”µå½±æ²¡æœ‰.è¿™æ˜¯æœ¬ç«™éœ€è¦.\\n&#39; # &#39;åˆä½œé‡è¦æ²¡æœ‰ç°åœ¨å¸‚åœºå¼€å‘ç©ºé—´.æ‚¨çš„ä¼šå‘˜æ¨èæˆåŠŸæ•™è‚²è¿›è¡Œä¸­å›½.\\n&#39; # &#39;æ–‡ä»¶ä¸æ˜¯å¦‚æœè¯„è®º.å› ä¸ºç»éªŒè®¾å¤‡è§„å®š.\\n&#39; # &#39;åŠ å…¥ä¸€èµ·å½±å“ç½‘ä¸Šå¤§å®¶è¿è¡Œåœ¨çº¿å¦‚æœ.å·¥ç¨‹ä¼ä¸šè¿™ç§ä»¥å.&#39;, # &#39;ç©ºé—´å¸‚åœºå‡ºç°å¿…é¡»åŸºæœ¬ç”µè¯.æ˜¾ç¤ºä¸€ä¸ªæ ‡å‡†å…¶ä»–è®¾è®¡ä½œå“.å·¥ç¨‹ä¸æ–­æ–°é—»é—®é¢˜æ›´å¤šæ›´æ–°è¿™ä¹ˆ.\\n&#39; # &#39;ä¸€èµ·ç®€ä»‹ç½‘ä¸Šå†…å®¹ä¸ä¼š.ä»»ä½•çŸ¥é“å„ç§ä¸¤ä¸ª.ç±»åˆ«äº‹æƒ…ç»è¥é‚£ä¹ˆæŠ•èµ„å¸‚åœº.\\n&#39; # &#39;é‚£äº›ä½¿ç”¨ä»‹ç»å…¬å¸æœ‹å‹äººæ°‘ä½ ä»¬æµè§ˆ.åº”è¯¥è¡¨ç¤ºä¸€ç‚¹ä¸€èˆ¬è¯´æ˜ä¸»è¦è°¢è°¢.ç”µè¯å›å¤èµ·æ¥ç»éªŒä¸€ä¸ªæ¥æºåŠ å…¥.\\n&#39; # &#39;åœ°åŒºæ³•å¾‹å…¶ä»–è¡¨ç¤ºè™½ç„¶.å‚åŠ ç¤¾ä¼šå–œæ¬¢æœ‰é™è®ºå›ä¸€èˆ¬å‘å¸ƒ.ç±»åˆ«ç›®å‰æ–‡åŒ–å¯ä»¥.\\n&#39; # &#39;æŠ¥å‘Šè´¨é‡å·¥ä½œä¸»è¦.ä¼ä¸šå‘å¸ƒå®Œå…¨.å¾—åˆ°åç§°ä½œè€…ç­‰çº§ä¸¤ä¸ªè®ºå›åªè¦ç”µè¯.&#39;] faker.word(ext_word_list=None) # &#39;æ³¨æ„&#39; faker.words(nb=3, ext_word_list=None, unique=False) # [&#39;è´£ä»»&#39;, &#39;ç»„ç»‡&#39;, &#39;ä»¥å&#39;]åœ¨è¿™é‡Œæ¯ä¸ªæ–¹æ³•çš„å‚æ•°æ˜¯ä¸åŒçš„ï¼Œå…·ä½“çš„å‚æ•°è§£é‡Šå¯ä»¥è§æºä»£ç æ¯ä¸ªæ–¹æ³•çš„æ³¨é‡Šï¼šhttps://github.com/joke2k/faker/blob/master/faker/providers/lorem/__init\\__.pyï¼Œ MiscMiscï¼Œç”¨äºç”Ÿæˆç”Ÿæˆä¸€äº›æ··æ·†æ•°æ®ï¼Œæ¯”å¦‚å¯†ç ã€sha1ã€sha256ã€md5 ç­‰åŠ å¯†åçš„å†…å®¹ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š faker.boolean(chance_of_getting_true=50) # True faker.md5(raw_output=False) # &#39;3166fa26ffd3f2a33e020dfe11191ac6&#39; faker.null_boolean() # False faker.password(length=10, special_chars=True, digits=True, upper_case=True, lower_case=True) # &#39;W7Ln8La@%O&#39; faker.sha1(raw_output=False) # &#39;c8301a2a79445439ee5287f38053e4b3a05eac79&#39; faker.sha256(raw_output=False) # &#39;1e909d331e20cf241aaa2da894deae5a3a75e5cdc35c053422d9b8e7ccfa0402&#39; faker.uuid4(cast_to=&lt;class &#39;str&#39;&gt;) # &#39;6e6fe387-6877-48d9-94ea-4263c4c71aa5&#39; PersonPersonï¼Œç”¨äºç”Ÿæˆå’Œäººåç›¸å…³çš„æ•°æ®ï¼ŒåŒ…æ‹¬å§“æ°ã€åå­—ã€å…¨åã€è‹±æ–‡åç­‰å†…å®¹ï¼Œè¿˜èƒ½åŒºåˆ†ç”·å¥³åå­—ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š faker.first_name() # &#39;é¢–&#39; faker.first_name_female() # &#39;èŠ³&#39; faker.first_name_male() # &#39;åˆ©&#39; faker.first_romanized_name() # &#39;Jing&#39; faker.last_name() # &#39;æ¸©&#39; faker.last_name_female() # &#39;å¯‡&#39; faker.last_name_male() # &#39;é™ˆ&#39; faker.last_romanized_name() # &#39;Lei&#39; faker.name() # &#39;é»„æ˜&#39; faker.name_female() # &#39;å¼ å‡¯&#39; faker.name_male() # &#39;é»„é¹&#39; User-AgentUser-Agentï¼Œç”¨äºç”Ÿæˆå’Œæµè§ˆå™¨ User-Agent ç›¸å…³çš„å†…å®¹ï¼Œå¯ä»¥å®šåˆ¶å„ç§æµè§ˆå™¨ï¼Œè¿˜å¯ä»¥ä¼ å…¥ç‰ˆæœ¬ä¿¡æ¯æ¥æ§åˆ¶ç”Ÿæˆçš„å†…å®¹ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š faker.chrome(version_from=13, version_to=63, build_from=800, build_to=899) # (&#39;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/5332 (KHTML, like Gecko) &#39; # &#39;Chrome/40.0.837.0 Safari/5332&#39;) faker.firefox() # (&#39;Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_8_9; rv:1.9.4.20) &#39; # &#39;Gecko/2019-05-02 05:58:44 Firefox/3.6.19&#39;) faker.internet_explorer() # &#39;Mozilla/5.0 (compatible; MSIE 8.0; Windows NT 5.2; Trident/3.0)&#39; faker.linux_platform_token() # &#39;X11; Linux i686&#39; faker.linux_processor() # &#39;x86_64&#39; faker.mac_platform_token() # &#39;Macintosh; U; PPC Mac OS X 10_12_5&#39; faker.mac_processor() # &#39;U; Intel&#39; faker.opera() # &#39;Opera/9.77.(Windows NT 4.0; vi-VN) Presto/2.9.182 Version/11.00&#39; faker.safari() # (&#39;Mozilla/5.0 (Macintosh; PPC Mac OS X 10_7_1 rv:5.0; or-IN) &#39; # &#39;AppleWebKit/535.9.4 (KHTML, like Gecko) Version/5.0.2 Safari/535.9.4&#39;) faker.user_agent() # &#39;Opera/8.69.(X11; Linux i686; ml-IN) Presto/2.9.170 Version/11.00&#39; faker.windows_platform_token() # &#39;Windows NT 6.1&#39; ä»¥ä¸Šä»…ä»…åˆ—äº†ä¸€éƒ¨åˆ†ï¼Œè¿˜æœ‰æ›´å¤šçš„åŠŸèƒ½å¤§å®¶å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£çš„å†…å®¹ï¼Œé“¾æ¥ä¸ºï¼šhttps://faker.readthedocs.io/en/master/locales/zh_CN.htmlã€‚ å…¶ä»– Providerå¦å¤–è¿˜æœ‰ä¸€äº›ç¤¾åŒºè´¡çŒ®çš„ Providerï¼Œå¦‚ WiFiã€å¾®æœåŠ¡ç›¸å…³çš„ï¼Œå¤§å®¶å¯ä»¥æŸ¥çœ‹æ–‡æ¡£çš„è¯´æ˜ï¼Œå¦å¤–éœ€è¦é¢å¤–å®‰è£…è¿™äº›æ‰©å±•åŒ…å¹¶è‡ªè¡Œæ·»åŠ  Providerï¼Œæ–‡æ¡£è§ï¼šhttps://faker.readthedocs.io/en/master/communityproviders.htmlã€‚ æ·»åŠ  Provider éœ€è¦è°ƒç”¨ add_provider æ–¹æ³•ï¼Œç”¨æ³•ç¤ºä¾‹å¦‚ä¸‹ï¼š from faker import Faker from faker.providers import internet faker = Faker() faker.add_provider(internet) print(faker.ipv4_private()) è¿˜æœ‰æ›´å¤šçš„å†…å®¹å¤§å®¶å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼Œé“¾æ¥ï¼šhttps://faker.readthedocs.io/ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"Pythonåº“","slug":"Pythonåº“","permalink":"http://smilecoc.vip/tags/Pythonåº“/"}],"author":"smilecoc"},{"title":"Withåœ¨Pythonä¸­çš„å®è·µåŸç†","slug":"Withåœ¨Pythonä¸­çš„å®è·µåŸç†","date":"2020-07-15T10:22:24.000Z","updated":"2020-10-18T09:29:30.929Z","comments":true,"path":"2020/07/15/Withåœ¨Pythonä¸­çš„å®è·µåŸç†/","link":"","permalink":"http://smilecoc.vip/2020/07/15/Withåœ¨Pythonä¸­çš„å®è·µåŸç†/","excerpt":"","text":"åœ¨é•¿æœŸçš„ç¼–ç¨‹å®è·µä¸­ï¼Œæˆ‘ä»¬å¿…ç„¶å·²ç»æœ‰è¿‡ä½¿ç”¨ä¸‹é¢è¿™æ®µä»£ç çš„ç»éªŒï¼š with open(&quot;test.txt&quot;, &quot;r&quot;, encoding=&quot;utf-8&quot;) as f: s = f.readlines() æœ‰çš„äººçŸ¥é“è¿™ä¹ˆå†™çš„åŸå› ï¼›ä½†ä¹Ÿæœ‰å¾ˆå¤šäººä¸çŸ¥é“ï¼Œåªæ˜¯å•çº¯åœ°â€œåˆ«äººéƒ½è¿™ä¹ˆå†™ï¼Œæˆ‘ä¹Ÿåº”è¯¥è¿™ä¹ˆå†™â€ã€‚ åŒæ—¶ï¼Œå¾ˆå¤šçŸ¥é“åŸå› çš„äººä¹Ÿåªæ˜¯çŸ¥å…¶ç„¶è€Œä¸çŸ¥å…¶æ‰€ä»¥ç„¶ï¼šwithè¯­å¥å¯ä»¥æ›¿æˆ‘ä»¬è‡ªåŠ¨å…³é—­æ‰“å¼€çš„æ–‡ä»¶å¯¹è±¡ã€‚ä½†æ˜¯è¿™æ˜¯é€šè¿‡ä»€ä¹ˆæœºåˆ¶åŠåˆ°çš„å‘¢ï¼Ÿ 1. withå’Œå¼‚å¸¸å¤„ç†æˆ‘ä»¬çŸ¥é“ï¼Œå¦‚æœä¸ä½¿ç”¨withè¯­å¥çš„è¯ï¼Œæ­£å¸¸åœ°è¯»å†™ä¸€ä¸ªæ–‡ä»¶åº”è¯¥ç»è¿‡è¿™äº›è¿‡ç¨‹ï¼šæ‰“å¼€æ–‡ä»¶ã€æ“ä½œæ–‡ä»¶ã€å…³é—­æ–‡ä»¶ã€‚è¡¨è¾¾ä¸ºPythonä»£ç å¦‚ä¸‹ï¼š f = open(&quot;test.txt&quot;, &quot;r&quot;, encoding=&quot;utf-8&quot;) s = f.readlines() f.close() åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œè¿™æ ·å†™çœ‹èµ·æ¥ä¹Ÿæ²¡å•¥é—®é¢˜ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±äººä¸ºåˆ¶é€ ä¸€ç‚¹â€œæ„å¤–â€ï¼šæŠŠæ‰“å¼€æ–‡ä»¶å¯¹è±¡æ—¶æŒ‡å®šçš„æ¨¡å¼ç”±â€œrâ€æ”¹ä¸ºâ€œwâ€ã€‚ f = open(&quot;test.txt&quot;, &quot;w&quot;, encoding=&quot;utf-8&quot;) s = f.readlines() f.close() æ­¤æ—¶ï¼Œå½“ç¨‹åºæ‰§è¡Œåˆ°ç¬¬2è¡Œè¯»å–æ–‡ä»¶å†…å®¹æ—¶ï¼Œå°±ä¼šæŠ›å‡ºé”™è¯¯ï¼š Traceback (most recent call last): File &quot;test_with.py&quot;, line 2, in &lt;module&gt; s = f.readlines() io.UnsupportedOperation: not readableç„¶åâ€¦â€¦ä¸€ä¸ªå¯æ€•çš„æƒ…å†µå°±å‘ç”Ÿäº†ã€‚Pythonäº§ç”Ÿæœªå¤„ç†çš„å¼‚å¸¸ä»è€Œé€€å‡ºäº†ï¼Œå¯¼è‡´ç¬¬2è¡Œä¹‹åçš„ä»£ç å°šæœªæ‰§è¡Œï¼Œå› æ­¤f.close()ä¹Ÿå°±å†ä¹Ÿæ²¡æœ‰æœºä¼šæ‰§è¡Œã€‚ä¸€ä¸ªå­¤é­‚é‡é¬¼èˆ¬æ‰“å¼€çš„æ–‡ä»¶å¯¹è±¡å°±è¿™æ ·ä¸€ä¸ªäººæ¼‚æ³Šåœ¨å†…å­˜çš„æ±ªæ´‹å¤§æµ·ä¸­ï¼Œæ²¡æœ‰äººçŸ¥é“ä»–æ˜¯è°ã€ä»–ä»å“ªå„¿æ¥ã€ä»–è¦å»å“ªå„¿ã€‚ å°±è¿™æ ·ï¼Œæ¯å½“æŠ›å‡ºä¸€æ¬¡å¼‚å¸¸ï¼Œå°±ä¼šäº§ç”Ÿè¿™ä¹ˆä¸€ä¸ªæµæµªå¯¹è±¡ã€‚ä¹…è€Œä¹…ä¹‹ï¼Œå†…å­˜çš„æ±ªæ´‹å¤§æµ·ä¹Ÿå°±é¡ºç†æˆç« è¢«æ”¹é€ æˆäº†æµæµªè€…çš„ä¹åœŸï¼Œå…¶ä»–äººæƒ³æ¥å‹æ ¹å„¿æ²¡é—¨å„¿ã€‚ è¿½æ ¹ç©¶åº•ï¼Œæˆ‘ä»¬å‘ç°å¯¼è‡´è¿™ä¸ªé—®é¢˜çš„å…³é”®åœ¨äºâ€œæ‰“å¼€-æ“ä½œ-å…³é—­â€æ–‡ä»¶è¿™ä¸ªæµæ°´æ“ä½œä¸­ï¼Œå­˜åœ¨æŠ›å‡ºå¼‚å¸¸çš„å¯èƒ½ã€‚ æ‰€ä»¥æˆ‘ä»¬æƒ³åˆ°äº†ä½¿ç”¨Pythonä¸ºæˆ‘ä»¬æä¾›çš„å¤§æ€å™¨ï¼Œæ¥å¯¹ä»˜è¿™äº›å¼‚å¸¸ï¼štry-catchã€‚ç”¨å¼‚å¸¸å¤„ç†æ”¹é€ ä¸€ä¸‹å‰é¢çš„ä»£ç ï¼š try: f = open(&quot;test.txt&quot;, &quot;a&quot;, encoding=&quot;utf-8&quot;) s = f.readlines() except: print(&quot;å‡ºç°å¼‚å¸¸&quot;) finally: f.close() è¿™æ ·ä¸€æ¥ï¼Œé€šè¿‡é™„åŠ çš„finallyè¯­å¥ï¼Œæ— è®ºæ–‡ä»¶æ“ä½œæ˜¯å¦æŠ›å‡ºå¼‚å¸¸ï¼Œéƒ½èƒ½å¤Ÿä¿è¯æ‰“å¼€çš„æ–‡ä»¶è¢«å…³é—­ã€‚ä»è€Œé¿å…äº†ä¸æ–­å ç”¨èµ„æºå¯¼è‡´èµ„æºæ³„éœ²çš„é—®é¢˜ã€‚ å®é™…ä¸Šï¼Œwithè¯­å¥æ­£æ˜¯ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§try-catch-finallyçš„å°è£…ã€‚ ç¼–ç¨‹æ—¶ï¼Œçœ‹ä¼¼åªæ˜¯éšéšä¾¿ä¾¿çš„ä¸€ä¸ªwithï¼Œå…¶å®å·²ç»æš—åœ°é‡Œç¡®ä¿äº†ç±»ä¼¼äºä¸Šé¢ä»£ç çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ã€‚ 2. ä¸Šä¸‹æ–‡ç®¡ç†å™¨withè¦ç”Ÿæ•ˆï¼Œéœ€è¦ä½œç”¨äºä¸€ä¸ªä¸Šä¸‹æ–‡ç®¡ç†å™¨â€”â€” æ‰“ä½ï¼Œåˆ°åº•ä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡ç®¡ç†å™¨å‘¢ï¼Ÿ é•¿è¯çŸ­è¯´ï¼Œå°±æ˜¯å®ç°äº†enterå’Œexitæ–¹æ³•çš„å¯¹è±¡ã€‚ åœ¨è¿›å…¥ä¸€ä¸ªè¿è¡Œæ—¶ä¸Šä¸‹æ–‡å‰ï¼Œä¼šå…ˆåŠ è½½è¿™ä¸¤ä¸ªæ–¹æ³•ä»¥å¤‡ä½¿ç”¨ã€‚è¿›å…¥è¿™ä¸ªè¿è¡Œæ—¶ä¸Šä¸‹æ–‡æ—¶ï¼Œè°ƒç”¨enteræ–¹æ³•ï¼›é€€å‡ºè¯¥ä¸Šä¸‹æ–‡å‰ï¼Œåˆ™ä¼šè°ƒç”¨exitæ–¹æ³•ã€‚ è¿™é‡Œçš„â€œè¿è¡Œæ—¶ä¸Šä¸‹æ–‡â€ï¼Œå¯ä»¥ç®€å•åœ°ç†è§£ä¸ºä¸€ä¸ªæä¾›äº†æŸäº›ç‰¹æ®Šé…ç½®çš„ä»£ç ä½œç”¨åŸŸã€‚ å½“æˆ‘ä»¬ä½¿ç”¨with open(&quot;test.txt&quot;, &quot;r&quot;, encoding=&quot;utf-8&quot;) as fè¿™å¥ä»£ç æ—¶ï¼ŒPythoné¦–å…ˆå¯¹open(&quot;test.txt&quot;, &quot;r&quot;, encoding=&quot;utf-8&quot;)æ±‚å€¼ï¼Œå¾—åˆ°ä¸€ä¸ªä¸Šä¸‹æ–‡ç®¡ç†å™¨ã€‚ è¿™é‡Œæœ‰ä¸€ç‚¹ç‰¹æ®Šçš„æ˜¯ï¼ŒPythonä¸­æ–‡ä»¶å¯¹è±¡æœ¬èº«å°±æ˜¯ä¸€ä¸ªä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨openå‡½æ•°ä½œä¸ºæ±‚å€¼çš„è¡¨è¾¾å¼ã€‚ éšåè°ƒç”¨enteræ–¹æ³•ï¼Œè¿”å›çš„å¯¹è±¡ç»‘å®šåˆ°æˆ‘ä»¬æŒ‡å®šçš„æ ‡è¯†ç¬¦fä¸Šã€‚æ–‡ä»¶å¯¹è±¡çš„enterè¿”å›æ–‡ä»¶å¯¹è±¡è‡ªèº«ï¼Œå› æ­¤è¿™å¥ä»£ç å°±æ˜¯å°†æ‰“å¼€çš„â€œtest.txtâ€æ–‡ä»¶å¯¹è±¡ç»‘å®šåˆ°äº†æ ‡è¯†ç¬¦fä¸Šã€‚ ç´§è·Ÿç€æ‰§è¡Œwithè¯­å¥å—ä¸­çš„å†…å®¹ã€‚ æœ€åè°ƒç”¨exitï¼Œé€€å‡ºwithè¯­å¥å—ã€‚ æ ¹æ®ä¸Šé¢çš„å†…å®¹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªè¡Œæ„é€ ä¸€ä¸ªä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼ˆæ³¨æ„ï¼Œä¸¤ä¸ªç‰¹å¾æ–¹æ³•çš„å‚æ•°è¦ä¸åè®®ä¸€è‡´ï¼‰ï¼š class testContextManager: def __enter__(self): print(&quot;è¿›å…¥è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼Œè°ƒç”¨__enter__æ–¹æ³•&quot;) def __exit__(self, exc_type, exc_value, traceback): print(&quot;é€€å‡ºè¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼Œè°ƒç”¨__exit__æ–¹æ³•&quot;) with testContextManager() as o: pass è¾“å‡ºç»“æœï¼š è¿›å…¥è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼Œè°ƒç”¨__enter__æ–¹æ³• é€€å‡ºè¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼Œè°ƒç”¨__exit__æ–¹æ³•withè¯­å¥ä¹‹æ‰€ä»¥èƒ½å¤Ÿæ›¿ä»£ç¹ççš„å¼‚å¸¸å¤„ç†è¯­å¥ï¼Œæ­£æ˜¯ç”±äºä¸Šä¸‹æ–‡ç®¡ç†å™¨éµå¾ªåè®®å®ç°äº†enterå’Œexitæ–¹æ³•ï¼Œè€Œwithè¯­å¥åˆç¡®ä¿äº†å‘ç”Ÿå¼‚å¸¸æ—¶èƒ½å¤Ÿæ‰§è¡Œå®Œexitæ–¹æ³•ï¼Œå†é€€å‡ºç›¸å…³è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ã€‚ åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®Œæˆä¸€äº›å¿…è¦çš„æ¸…ç†å·¥ä½œ æ€»ç»“æœ¬æ–‡æˆ‘ä»¬è®²è§£äº†withè¯­å¥çš„å†…éƒ¨é€»è¾‘ï¼Œå°è¯•å®ç°äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„ä¸Šä¸‹æ–‡ç®¡ç†å™¨ã€‚ç›¸ä¿¡å¤§å®¶å¯¹äºwithçš„ä½œç”¨æ–¹å¼æœ‰äº†æ›´æ·±åˆ»çš„é¢†ä¼šã€‚ withè¯­å¥ä¸ä»…ä»…å¯ä»¥ç”¨äºè¯»å†™æ–‡ä»¶ï¼Œè¿˜å¯ä»¥ç”¨äºé”çš„è‡ªåŠ¨è·å–å’Œé‡Šæ”¾ã€å…¨å±€çŠ¶æ€çš„ä¿å­˜å’Œæ¢å¤ç­‰ã€‚æ›´å¤šçš„å®ç”¨æ–¹å¼ç•™å¾…å¤§å®¶æ¢ç´¢ã€‚","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://smilecoc.vip/categories/è½¬è½½/"}],"tags":[{"name":"Pythonå…¶ä»–","slug":"Pythonå…¶ä»–","permalink":"http://smilecoc.vip/tags/Pythonå…¶ä»–/"}],"author":"smilecoc"},{"title":"removebgåº“ï¼šä¸€é”®æŠ å›¾&æ¢è¯ä»¶ç…§åº•è‰²","slug":"python_removebg","date":"2020-07-13T03:52:14.000Z","updated":"2020-07-29T16:10:55.038Z","comments":true,"path":"2020/07/13/python_removebg/","link":"","permalink":"http://smilecoc.vip/2020/07/13/python_removebg/","excerpt":"","text":"Remove.bgæ˜¯ä¸€ä¸ªåˆ©ç”¨AIæ™ºèƒ½æŠ å›¾çš„ç½‘ç«™ï¼Œåœ¨è¿™ä¸ªç½‘ç«™ä¸Šå¯ä»¥ä¸Šä¼ å›¾ç‰‡ï¼Œç„¶åå®ç°è‡ªåŠ¨æŠ å›¾å¹¶æ›´æ¢èƒŒæ™¯ç­‰ï¼Œå¦‚æœä¸æ‡‚ç¼–ç¨‹çš„å¯ä»¥ç›´æ¥ç™»é™†https://www.remove.bg/zhæ“ä½œ Remove.bg ç½‘ç«™æä¾›äº†API æ¥å£ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨å¹¶å®ç°æŠ å›¾ã€‚è€Œåœ¨pythonä¸­å·²ç»æœ‰åŸºäºapiå¼€å‘çš„removebgåŒ…ï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿çš„å®ç°ç›¸å…³åŠŸèƒ½ é¦–å…ˆå®‰è£…removebgåŒ…ï¼š pip install removebg ç„¶åéœ€è¦ä¸€ä¸ªRemove.bg ç½‘ç«™çš„API-key.éœ€è¦ç™»å½•Remove.bgçš„å®˜ç½‘å¹¶æ³¨å†Œã€‚æ³¨å†Œå®Œæˆåå¯ä»¥åœ¨â€œæˆ‘çš„è´¦æˆ·â€ä¸­æŸ¥çœ‹API-keyã€‚å¤åˆ¶è¿™ä¸ªkeyå³å¯ ä¹‹åå°±å¯ä»¥ä½¿ç”¨remove_background_from_img_fileå‡½æ•°å¿«é€Ÿè½¬åŒ–å›¾ç‰‡çš„èƒŒæ™¯äº†ï¼š from removebg import RemoveBg rmbg = RemoveBg(&quot;YOUR-API-KEY&quot;, &quot;error.log&quot;) rmbg.remove_background_from_img_file(&quot;testrmbg.jpg&quot;) è¯­æ³•ä¸ºï¼šremove_background_from_img_fileï¼ˆimg_file_pathï¼Œsizeï¼Œbg_colorï¼‰ï¼Œå‚æ•°å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä¾‹å¦‚è¦å°†è¯ä»¶ç…§èƒŒæ™¯æ¢ä¸ºç™½è‰²åº•è‰²ï¼Œå¹¶ä¸”è¾“å‡º4kåˆ†è¾¨ç‡çš„å›¾ç‰‡ from removebg import RemoveBg rmbg = RemoveBg(&quot;YOUR-API-KEY&quot;, &quot;error.log&quot;) rmbg.remove_background_from_img_file(&quot;identificationphoto.jpg&quot;,&#39;4k&#39;,&#39;blank&#39;) åŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å®ç°ç…§ç‰‡çš„æ‰¹é‡è½¬æ¢ï¼š from removebg import RemoveBg import os rmbg = RemoveBg(&quot;YOUR-API-KEY&quot;, &quot;error.log&quot;) #os.getcwd() æ–¹æ³•ç”¨äºè¿”å›å½“å‰å·¥ä½œç›®å½• #åŒæ—¶å°†ç”Ÿæˆçš„ç»“æœæ”¾åœ¨è·¯å¾„ä¸­çš„pictureæ–‡ä»¶å¤¹ä¸­ path=&#39;%s/picture&#39;%os.getcwd() print(path) for pic in os.listdir(path): #os.listdir() æ–¹æ³•ç”¨äºè¿”å›æŒ‡å®šçš„æ–‡ä»¶å¤¹åŒ…å«çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„åå­—çš„åˆ—è¡¨ã€‚ rmbg.remove_background_from_img_file(&#39;%s\\%s&#39;%(path,pic)) éœ€è¦æ³¨æ„çš„æ˜¯å…è´¹ç”¨æˆ·ç³»ç»Ÿä¼šè‡ªåŠ¨èµ é€ä½ ä¸€ä¸ªcreditä»¥åŠ50æ¬¡çš„å…è´¹é¢„è§ˆã€‚å…è´¹é¢„è§ˆå°±æ˜¯ä½åƒç´ ï¼ˆæœ€é«˜ 25 ä¸‡åƒç´ ï¼Œä¾‹å¦‚625 Ã— 400 åƒç´ ï¼‰çš„æŠ å›¾ï¼Œæƒ³è¦è·å¾—é«˜åƒç´ å›¾åƒå°±éœ€è¦èŠ±è´¹creditã€‚æ‰€ä»¥ç”¨å®Œäº†ä¹‹åå°±ä¼šæ‹’ç»ä½ çš„apiè¯·æ±‚. å¦å¤–æ­¤åŒ…è¿˜æ”¯æŒä¿®æ”¹urlå›¾ç‰‡èƒŒæ™¯remove_background_from_img_urlï¼ˆï¼‰å’Œbase64å›¾ç‰‡remove_background_from_base64_imgï¼ˆï¼‰ æœ€åé™„ä¸ŠremovebgåŒ…çš„githubåœ°å€ï¼šhttps://github.com/brilam/remove-bg å®˜ç½‘APIæ–‡æ¡£ï¼šhttps://www.remove.bg/zh/api æœ¬æ–‡é¦–å‘äºåšå®¢ï¼šhttp://smilecoc.vip/å¾®ä¿¡å…¬ä¼—å·ï¼šRomiçš„æ‚è´§é“º","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"Pythonåº“","slug":"Pythonåº“","permalink":"http://smilecoc.vip/tags/Pythonåº“/"}],"author":"smilecoc"},{"title":"ä¸€å¼ å›¾å½»åº•ææ‡‚ MySQL çš„é”æœºåˆ¶","slug":"SQLé”","date":"2020-07-09T04:25:18.000Z","updated":"2020-07-08T17:04:22.676Z","comments":true,"path":"2020/07/09/SQLé”/","link":"","permalink":"http://smilecoc.vip/2020/07/09/SQLé”/","excerpt":"","text":"ç®€ä»‹é”åœ¨MySQLä¸­æ˜¯éå¸¸é‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œé”å¯¹MySQLçš„æ•°æ®è®¿é—®å¹¶å‘æœ‰ç€ä¸¾è¶³è½»é‡çš„å½±å“ã€‚é”æ¶‰åŠåˆ°çš„çŸ¥è¯†ç¯‡å¹…ä¹Ÿå¾ˆå¤šï¼Œæ‰€ä»¥è¦å•ƒå®Œå¹¶æ¶ˆåŒ–åˆ°è‡ªå·±çš„è‚šå­é‡Œï¼Œæ˜¯éœ€è¦é™ä¸‹å¿ƒå¥½å¥½ååå¤å¤å‡ éåœ°ç»†ç»†å“å‘³ã€‚æœ¬æ–‡æ˜¯å¯¹é”çš„ä¸€ä¸ªå¤§æ¦‚çš„æ•´ç†ï¼Œä¸€äº›ç›¸å…³æ·±å…¥çš„ç»†èŠ‚ï¼Œè¿˜æ˜¯éœ€è¦æ‰¾åˆ°ç›¸å…³ä¹¦ç±æ¥ç»§ç»­å¤¯å®ã€‚ ä¸€å¼ å›¾äº†è§£ MySQL é” é”çš„è®¤è¯†1.1 é”çš„è§£é‡Šè®¡ç®—æœºåè°ƒå¤šä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹å¹¶å‘è®¿é—®æŸä¸€èµ„æºçš„æœºåˆ¶ã€‚ 1.2 é”çš„é‡è¦æ€§åœ¨æ•°æ®åº“ä¸­ï¼Œé™¤ä¼ ç»Ÿè®¡ç®—èµ„æºï¼ˆCPUã€RAMã€I\\Oç­‰ï¼‰çš„äº‰æŠ¢ï¼Œæ•°æ®ä¹Ÿæ˜¯ä¸€ç§ä¾›å¤šç”¨æˆ·å…±äº«çš„èµ„æºã€‚å¦‚ä½•ä¿è¯æ•°æ®å¹¶å‘è®¿é—®çš„ä¸€è‡´æ€§ï¼Œæœ‰æ•ˆæ€§ï¼Œæ˜¯æ‰€æœ‰æ•°æ®åº“å¿…é¡»è¦è§£å†³çš„é—®é¢˜ã€‚é”å†²çªä¹Ÿæ˜¯å½±å“æ•°æ®åº“å¹¶å‘è®¿é—®æ€§èƒ½çš„ä¸€ä¸ªé‡è¦å› ç´ ï¼Œå› æ­¤é”å¯¹æ•°æ®åº“å°¤å…¶é‡è¦ã€‚ 1.3 é”çš„ç¼ºç‚¹åŠ é”æ˜¯æ¶ˆè€—èµ„æºçš„ï¼Œé”çš„å„ç§æ“ä½œï¼ŒåŒ…æ‹¬è·å¾—é”ã€æ£€æµ‹é”æ˜¯å¦å·²è§£é™¤ã€é‡Šæ”¾é”ç­‰ ï¼Œéƒ½ä¼šå¢åŠ ç³»ç»Ÿçš„å¼€é”€ã€‚ 1.4 ç®€å•çš„ä¾‹å­ç°å¦‚ä»Šç½‘è´­å·²ç»ç‰¹åˆ«æ™®éäº†ï¼Œæ¯”å¦‚æ·˜å®åŒåä¸€æ´»åŠ¨ï¼Œå½“å¤©çš„äººæµé‡æ˜¯åƒä¸‡åŠäº¿çº§åˆ«çš„ï¼Œä½†å•†å®¶çš„åº“å­˜æ˜¯æœ‰é™çš„ã€‚ç³»ç»Ÿä¸ºäº†ä¿è¯å•†å®¶çš„å•†å“åº“å­˜ä¸å‘ç”Ÿè¶…å–ç°è±¡ï¼Œä¼šå¯¹å•†å“çš„åº“å­˜è¿›è¡Œé”æ§åˆ¶ã€‚å½“æœ‰ç”¨æˆ·æ­£åœ¨ä¸‹å•æŸæ¬¾å•†å“æœ€åä¸€ä»¶æ—¶ï¼Œç³»ç»Ÿä¼šç«‹é©¬å¯¹è¯¥ä»¶å•†å“è¿›è¡Œé”å®šï¼Œé˜²æ­¢å…¶ä»–ç”¨æˆ·ä¹Ÿé‡å¤ä¸‹å•ï¼Œç›´åˆ°æ”¯ä»˜åŠ¨ä½œå®Œæˆæ‰ä¼šé‡Šæ”¾ï¼ˆæ”¯ä»˜æˆåŠŸåˆ™ç«‹å³å‡åº“å­˜å”®ç½„ï¼Œæ”¯ä»˜å¤±è´¥åˆ™ç«‹å³é‡Šæ”¾ï¼‰ã€‚ é”çš„ç±»å‹2.1 è¡¨é”ç§ç±» è¯»é”ï¼ˆread lockï¼‰ï¼Œä¹Ÿå«å…±äº«é”ï¼ˆshared lockï¼‰ã€‚é’ˆå¯¹åŒä¸€ä»½æ•°æ®ï¼Œå¤šä¸ªè¯»æ“ä½œå¯ä»¥åŒæ—¶è¿›è¡Œè€Œä¸ä¼šäº’ç›¸å½±å“ï¼ˆselectï¼‰ å†™é”ï¼ˆwrite lockï¼‰ï¼Œä¹Ÿå«æ’ä»–é”ï¼ˆexclusive lockï¼‰ã€‚å½“å‰æ“ä½œæ²¡å®Œæˆä¹‹å‰ï¼Œä¼šé˜»å¡å…¶å®ƒè¯»å’Œå†™æ“ä½œï¼ˆupdateã€insertã€deleteï¼‰ å­˜å‚¨å¼•æ“é»˜è®¤é”MyISAM ç‰¹ç‚¹ å¯¹æ•´å¼ è¡¨åŠ é” å¼€é”€å° åŠ é”å¿« æ— æ­»é” é”ç²’åº¦å¤§ï¼Œå‘ç”Ÿé”å†²çªæ¦‚ç‡å¤§ï¼Œå¹¶å‘æ€§ä½ ç»“è®º è¯»é”ä¼šé˜»å¡å†™æ“ä½œï¼Œä¸ä¼šé˜»å¡è¯»æ“ä½œ å†™é”ä¼šé˜»å¡è¯»å’Œå†™æ“ä½œ å»ºè®®MyISAMçš„è¯»å†™é”è°ƒåº¦æ˜¯å†™ä¼˜å…ˆï¼Œè¿™ä¹Ÿæ˜¯MyISAMä¸é€‚åˆåšå†™ä¸ºä¸»è¡¨çš„å¼•æ“ï¼Œå› ä¸ºå†™é”ä»¥åï¼Œå…¶å®ƒçº¿ç¨‹ä¸èƒ½åšä»»ä½•æ“ä½œï¼Œå¤§é‡çš„æ›´æ–°ä½¿æŸ¥è¯¢å¾ˆéš¾å¾—åˆ°é”ï¼Œä»è€Œé€ æˆæ°¸è¿œé˜»å¡ã€‚ 2.2 è¡Œé”ç§ç±» è¯»é”ï¼ˆread lockï¼‰ï¼Œä¹Ÿå«å…±äº«é”ï¼ˆshared lockï¼‰ã€‚å…è®¸ä¸€ä¸ªäº‹åŠ¡å»è¯»ä¸€è¡Œï¼Œé˜»æ­¢å…¶ä»–äº‹åŠ¡è·å¾—ç›¸åŒæ•°æ®é›†çš„æ’ä»–é” å†™é”ï¼ˆwrite lockï¼‰ï¼Œä¹Ÿå«æ’ä»–é”ï¼ˆexclusive lockï¼‰ã€‚å…è®¸è·å¾—æ’ä»–é”çš„äº‹åŠ¡æ›´æ–°æ•°æ®ï¼Œé˜»æ­¢å…¶ä»–äº‹åŠ¡å–å¾—ç›¸åŒæ•°æ®é›†çš„å…±äº«é”å’Œæ’ä»–é” æ„å‘å…±äº«é”ï¼ˆISï¼‰ï¼Œä¸€ä¸ªäº‹åŠ¡ç»™ä¸€ä¸ªæ•°æ®è¡ŒåŠ å…±äº«é”æ—¶ï¼Œå¿…é¡»å…ˆè·å¾—è¡¨çš„ISé” æ„å‘æ’å®ƒé”ï¼ˆIXï¼‰ï¼Œä¸€ä¸ªäº‹åŠ¡ç»™ä¸€ä¸ªæ•°æ®è¡ŒåŠ æ’ä»–é”æ—¶ï¼Œå¿…é¡»å…ˆè·å¾—è¯¥è¡¨çš„IXé” å­˜å‚¨å¼•æ“é»˜è®¤é”InnoDB ç‰¹ç‚¹ å¯¹ä¸€è¡Œæ•°æ®åŠ é” å¼€é”€å¤§ åŠ é”æ…¢ ä¼šå‡ºç°æ­»é” é”ç²’åº¦å°ï¼Œå‘ç”Ÿé”å†²çªæ¦‚ç‡æœ€ä½ï¼Œå¹¶å‘æ€§é«˜ äº‹åŠ¡å¹¶å‘å¸¦æ¥çš„é—®é¢˜ æ›´æ–°ä¸¢å¤±è§£å†³ï¼šè®©äº‹åŠ¡å˜æˆä¸²è¡Œæ“ä½œï¼Œè€Œä¸æ˜¯å¹¶å‘çš„æ“ä½œï¼Œå³å¯¹æ¯ä¸ªäº‹åŠ¡å¼€å§‹â€”å¯¹è¯»å–è®°å½•åŠ æ’ä»–é” è„è¯»è§£å†³ï¼šéš”ç¦»çº§åˆ«ä¸ºRead uncommitted ä¸å¯é‡è¯»è§£å†³ï¼šä½¿ç”¨Next-Key Lockç®—æ³•æ¥é¿å… å¹»è¯»è§£å†³ï¼šé—´éš™é”ï¼ˆGap Lockï¼‰ 2.3 é¡µé”å¼€é”€ã€åŠ é”æ—¶é—´å’Œé”ç²’åº¦ä»‹äºè¡¨é”å’Œè¡Œé”ä¹‹é—´ï¼Œä¼šå‡ºç°æ­»é”ï¼Œå¹¶å‘å¤„ç†èƒ½åŠ›ä¸€èˆ¬ï¼ˆæ­¤é”ä¸åšå¤šä»‹ç»ï¼‰ å¦‚ä½•ä¸Šé”ï¼Ÿ3.1 è¡¨é”éšå¼ä¸Šé”ï¼ˆé»˜è®¤ï¼Œè‡ªåŠ¨åŠ é”è‡ªåŠ¨é‡Šæ”¾ï¼‰select //ä¸Šè¯»é”insertã€updateã€delete //ä¸Šå†™é” æ˜¾å¼ä¸Šé”ï¼ˆæ‰‹åŠ¨ï¼‰lock table tableName read;//è¯»é” lock table tableName write;//å†™é”è§£é”ï¼ˆæ‰‹åŠ¨ï¼‰unlock tables;//æ‰€æœ‰é”è¡¨ session01 session02 lock table teacher read;//ä¸Šè¯»é” select * from teacher; //å¯ä»¥æ­£å¸¸è¯»å– select * from teacher;//å¯ä»¥æ­£å¸¸è¯»å– update teacher set name = 3 where id =2;//æŠ¥é”™å› è¢«ä¸Šè¯»é”ä¸èƒ½å†™æ“ä½œ update teacher set name = 3 where id =2;//è¢«é˜»å¡ unlock tables;//è§£é” - update teacher set name = 3 where id =2;//æ›´æ–°æ“ä½œæˆåŠŸ session01 session02 lock table teacher write;//ä¸Šå†™é” select * from teacher; //å¯ä»¥æ­£å¸¸è¯»å– select * from teacher;//è¢«é˜»å¡ update teacher set name = 3 where id =2;//å¯ä»¥æ­£å¸¸æ›´æ–°æ“ä½œ update teacher set name = 4 where id =2;//è¢«é˜»å¡ unlock tables;//è§£é” &ensp; select * from teacher;//è¯»å–æˆåŠŸ &ensp; update teacher set name = 4 where id =2;//æ›´æ–°æ“ä½œæˆåŠŸ 3.2 è¡Œé”éšå¼ä¸Šé”ï¼ˆé»˜è®¤ï¼Œè‡ªåŠ¨åŠ é”è‡ªåŠ¨é‡Šæ”¾ï¼‰select //ä¸ä¼šä¸Šé”insertã€updateã€delete //ä¸Šå†™é” æ˜¾å¼ä¸Šé”ï¼ˆæ‰‹åŠ¨ï¼‰select * from tableName lock in share mode;//è¯»é” select * from tableName for update;//å†™é”è§£é”ï¼ˆæ‰‹åŠ¨ï¼‰ æäº¤äº‹åŠ¡ï¼ˆcommitï¼‰ å›æ»šäº‹åŠ¡ï¼ˆrollbackï¼‰ kill é˜»å¡è¿›ç¨‹ session01 session02 begin; select * from teacher where id = 2 lock in share mode;//ä¸Šè¯»é” &ensp; select * from teacher where id = 2;//å¯ä»¥æ­£å¸¸è¯»å– update teacher set name = 3 where id =2;// å¯ä»¥æ›´æ–°æ“ä½œ update teacher set name = 5 where id =2;//è¢«é˜»å¡ commit; &ensp; update teacher set name = 5 where id =2;//æ›´æ–°æ“ä½œæˆåŠŸ session01 session02 begin; select * from teacher where id = 2 for update;//ä¸Šå†™é” &ensp; select * from teacher where id = 2;//å¯ä»¥æ­£å¸¸è¯»å– update teacher set name = 3 where id =2;// å¯ä»¥æ›´æ–°æ“ä½œ update teacher set name = 5 where id =2;//è¢«é˜»å¡ rollback; &ensp; update teacher set name = 5 where id =2;//æ›´æ–°æ“ä½œæˆåŠŸ ä¸ºä»€ä¹ˆä¸Šäº†å†™é”ï¼Œåˆ«çš„äº‹åŠ¡è¿˜å¯ä»¥è¯»æ“ä½œï¼Ÿå› ä¸ºInnoDBæœ‰MVCCæœºåˆ¶ï¼ˆå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨å¿«ç…§è¯»ï¼Œè€Œä¸ä¼šè¢«é˜»å¡ã€‚ è¡Œé”çš„å®ç°ç®—æ³•4.1 Record Locké”å•ä¸ªè¡Œè®°å½•ä¸Šçš„é”Record Lockæ€»æ˜¯ä¼šå»é”ä½ç´¢å¼•è®°å½•ï¼Œå¦‚æœInnoDBå­˜å‚¨å¼•æ“è¡¨å»ºç«‹çš„æ—¶å€™æ²¡æœ‰è®¾ç½®ä»»ä½•ä¸€ä¸ªç´¢å¼•ï¼Œè¿™æ—¶InnoDBå­˜å‚¨å¼•æ“ä¼šä½¿ç”¨éšå¼çš„ä¸»é”®æ¥è¿›è¡Œé”å®š 4.2 Gap Locké”å½“æˆ‘ä»¬ç”¨èŒƒå›´æ¡ä»¶è€Œä¸æ˜¯ç›¸ç­‰æ¡ä»¶æ£€ç´¢æ•°æ®ï¼Œå¹¶è¯·æ±‚å…±äº«æˆ–æ’ä»–é”æ—¶ï¼ŒInnoDBä¼šç»™ç¬¦åˆæ¡ä»¶çš„å·²æœ‰æ•°æ®è®°å½•çš„ç´¢å¼•åŠ é”ï¼Œå¯¹äºé”®å€¼åœ¨æ¡ä»¶èŒƒå›´å†…ä½†å¹¶ä¸å­˜åœ¨çš„è®°å½•ã€‚ ä¼˜ç‚¹ï¼šè§£å†³äº†äº‹åŠ¡å¹¶å‘çš„å¹»è¯»é—®é¢˜ä¸è¶³ï¼šå› ä¸ºqueryæ‰§è¡Œè¿‡ç¨‹ä¸­é€šè¿‡èŒƒå›´æŸ¥æ‰¾çš„è¯ï¼Œä»–ä¼šé”å®šäº‰ä¸ªèŒƒå›´å†…æ‰€æœ‰çš„ç´¢å¼•é”®å€¼ï¼Œå³ä½¿è¿™ä¸ªé”®å€¼å¹¶ä¸å­˜åœ¨ã€‚ é—´éš™é”æœ‰ä¸€ä¸ªè‡´å‘½çš„å¼±ç‚¹ï¼Œå°±æ˜¯å½“é”å®šä¸€ä¸ªèŒƒå›´é”®å€¼ä¹‹åï¼Œå³ä½¿æŸäº›ä¸å­˜åœ¨çš„é”®å€¼ä¹Ÿä¼šè¢«æ— è¾œçš„é”å®šï¼Œè€Œé€ æˆé”å®šçš„æ—¶å€™æ— æ³•æ’å…¥é”å®šé”®å€¼èŒƒå›´å†…ä»»ä½•æ•°æ®ã€‚åœ¨æŸäº›åœºæ™¯ä¸‹è¿™å¯èƒ½ä¼šå¯¹æ€§èƒ½é€ æˆå¾ˆå¤§çš„å±å®³ã€‚ 4.3 Next-key Locké”åŒæ—¶é”ä½æ•°æ®+é—´éš™é”åœ¨Repeatable Readéš”ç¦»çº§åˆ«ä¸‹ï¼ŒNext-key Lock ç®—æ³•æ˜¯é»˜è®¤çš„è¡Œè®°å½•é”å®šç®—æ³•ã€‚ 4.4 è¡Œé”çš„æ³¨æ„ç‚¹ åªæœ‰é€šè¿‡ç´¢å¼•æ¡ä»¶æ£€ç´¢æ•°æ®æ—¶ï¼ŒInnoDBæ‰ä¼šä½¿ç”¨è¡Œçº§é”ï¼Œå¦åˆ™ä¼šä½¿ç”¨è¡¨çº§é”(ç´¢å¼•å¤±æ•ˆï¼Œè¡Œé”å˜è¡¨é”) å³ä½¿æ˜¯è®¿é—®ä¸åŒè¡Œçš„è®°å½•ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯ç›¸åŒçš„ç´¢å¼•é”®ï¼Œä¼šå‘ç”Ÿé”å†²çª å¦‚æœæ•°æ®è¡¨å»ºæœ‰å¤šä¸ªç´¢å¼•æ—¶ï¼Œå¯ä»¥é€šè¿‡ä¸åŒçš„ç´¢å¼•é”å®šä¸åŒçš„è¡Œ å¦‚ä½•æ’æŸ¥é”ï¼Ÿ5.1 è¡¨é”æŸ¥çœ‹è¡¨é”æƒ…å†µshow open tables; è¡¨é”åˆ†æshow status like &#39;table%&#39;; table_locks_waitedå‡ºç°è¡¨çº§é”å®šäº‰ç”¨è€Œå‘ç”Ÿç­‰å¾…çš„æ¬¡æ•°ï¼ˆä¸èƒ½ç«‹å³è·å–é”çš„æ¬¡æ•°ï¼Œæ¯ç­‰å¾…ä¸€æ¬¡å€¼åŠ 1ï¼‰ï¼Œæ­¤å€¼é«˜è¯´æ˜å­˜åœ¨ç€è¾ƒä¸¥é‡çš„è¡¨çº§é”äº‰ç”¨æƒ…å†µ table_locks_immediateäº§ç”Ÿè¡¨çº§é”å®šæ¬¡æ•°ï¼Œä¸æ˜¯å¯ä»¥ç«‹å³è·å–é”çš„æŸ¥è¯¢æ¬¡æ•°ï¼Œæ¯ç«‹å³è·å–é”åŠ 1 5.2 è¡Œé”è¡Œé”åˆ†æshow status like &#39;innodb_row_lock%&#39;; innodb_row_lock_current_waits //å½“å‰æ­£åœ¨ç­‰å¾…é”å®šçš„æ•°é‡ innodb_row_lock_time //ä»ç³»ç»Ÿå¯åŠ¨åˆ°ç°åœ¨é”å®šæ€»æ—¶é—´é•¿åº¦ innodb_row_lock_time_avg //æ¯æ¬¡ç­‰å¾…æ‰€èŠ±å¹³å‡æ—¶é—´ innodb_row_lock_time_max //ä»ç³»ç»Ÿå¯åŠ¨åˆ°ç°åœ¨ç­‰å¾…æœ€é•¿çš„ä¸€æ¬¡æ‰€èŠ±æ—¶é—´ innodb_row_lock_waits //ç³»ç»Ÿå¯åŠ¨ååˆ°ç°åœ¨æ€»å…±ç­‰å¾…çš„æ¬¡æ•° information_schemaåº“ innodb_lock_waitsè¡¨ innodb_locksè¡¨ innodb_trxè¡¨ ä¼˜åŒ–å»ºè®® å°½å¯èƒ½è®©æ‰€æœ‰æ•°æ®æ£€ç´¢éƒ½é€šè¿‡ç´¢å¼•æ¥å®Œæˆï¼Œé¿å…æ— ç´¢å¼•è¡Œé”å‡çº§ä¸ºè¡¨é” åˆç†è®¾è®¡ç´¢å¼•ï¼Œå°½é‡ç¼©å°é”çš„èŒƒå›´ å°½å¯èƒ½è¾ƒå°‘æ£€ç´¢æ¡ä»¶ï¼Œé¿å…é—´éš™é” å°½é‡æ§åˆ¶äº‹åŠ¡å¤§å°ï¼Œå‡å°‘é”å®šèµ„æºé‡å’Œæ—¶é—´é•¿åº¦ å°½å¯èƒ½ä½çº§åˆ«äº‹åŠ¡éš”ç¦» æ­»é”6.1 è§£é‡ŠæŒ‡ä¸¤ä¸ªæˆ–è€…å¤šä¸ªäº‹åŠ¡åœ¨åŒä¸€èµ„æºä¸Šç›¸äº’å ç”¨ï¼Œå¹¶è¯·æ±‚é”å®šå¯¹æ–¹å ç”¨çš„èµ„æºï¼Œä»è€Œå¯¼è‡´æ¶æ€§å¾ªç¯çš„ç°è±¡ 6.2 äº§ç”Ÿçš„æ¡ä»¶ äº’æ–¥æ¡ä»¶ï¼šä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ è¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼šä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶ï¼Œå¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾ ä¸å‰¥å¤ºæ¡ä»¶ï¼šè¿›ç¨‹å·²è·å¾—çš„èµ„æºï¼Œåœ¨æ²¡æœ‰ä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½å¼ºè¡Œå‰¥å¤º å¾ªç¯ç­‰å¾…æ¡ä»¶ï¼šå¤šä¸ªè¿›ç¨‹ä¹‹é—´å½¢æˆçš„ä¸€ç§äº’ç›¸å¾ªç¯ç­‰å¾…çš„èµ„æºçš„å…³ç³» 6.3 è§£å†³ æŸ¥çœ‹æ­»é”ï¼šshow engine innodb status \\G è‡ªåŠ¨æ£€æµ‹æœºåˆ¶ï¼Œè¶…æ—¶è‡ªåŠ¨å›æ»šä»£ä»·è¾ƒå°çš„äº‹åŠ¡ï¼ˆinnodb_lock_wait_timeout é»˜è®¤50sï¼‰ äººä¸ºè§£å†³ï¼Œkillé˜»å¡è¿›ç¨‹ï¼ˆshow processlistï¼‰ wait for graph ç­‰å¾…å›¾ï¼ˆä¸»åŠ¨æ£€æµ‹ï¼‰ 6.4 å¦‚ä½•é¿å… åŠ é”é¡ºåºä¸€è‡´ï¼Œå°½å¯èƒ½ä¸€æ¬¡æ€§é”å®šæ‰€éœ€çš„æ•°æ®è¡Œ å°½é‡åŸºäºprimaryï¼ˆä¸»é”®ï¼‰æˆ–unique keyæ›´æ–°æ•°æ® å•æ¬¡æ“ä½œæ•°æ®é‡ä¸å®œè¿‡å¤šï¼Œæ¶‰åŠè¡¨å°½é‡å°‘ å‡å°‘è¡¨ä¸Šç´¢å¼•ï¼Œå‡å°‘é”å®šèµ„æº å°½é‡ä½¿ç”¨è¾ƒä½çš„éš”ç¦»çº§åˆ« å°½é‡ä½¿ç”¨ç›¸åŒæ¡ä»¶è®¿é—®æ•°æ®ï¼Œè¿™æ ·å¯ä»¥é¿å…é—´éš™é”å¯¹å¹¶å‘çš„æ’å…¥å½±å“ ç²¾å¿ƒè®¾è®¡ç´¢å¼•ï¼Œå°½é‡ä½¿ç”¨ç´¢å¼•è®¿é—®æ•°æ® å€ŸåŠ©ç›¸å…³å·¥å…·ï¼špt-deadlock-logger ä¹è§‚é”ä¸æ‚²è§‚é” 7.1 æ‚²è§‚é”è§£é‡Šå‡å®šä¼šå‘ç”Ÿå¹¶å‘å†²çªï¼Œå±è”½ä¸€åˆ‡å¯èƒ½è¿åæ•°æ®å®Œæ•´æ€§çš„æ“ä½œ å®ç°æœºåˆ¶è¡¨é”ã€è¡Œé”ç­‰ å®ç°å±‚é¢æ•°æ®åº“æœ¬èº« é€‚ç”¨åœºæ™¯å¹¶å‘é‡å¤§ 7.2 ä¹è§‚é”è§£é‡Šå‡è®¾ä¸ä¼šå‘ç”Ÿå¹¶å‘å†²çªï¼Œåªåœ¨æäº¤æ“ä½œæ—¶æ£€æŸ¥æ˜¯å¦è¿åæ•°æ®å®Œæ•´æ€§ å®ç°æœºåˆ¶æäº¤æ›´æ–°æ—¶æ£€æŸ¥ç‰ˆæœ¬å·æˆ–è€…æ—¶é—´æˆ³æ˜¯å¦ç¬¦åˆ å®ç°å±‚é¢ä¸šåŠ¡ä»£ç  é€‚ç”¨åœºæ™¯å¹¶å‘é‡å° åŸæ–‡åœ°å€ï¼šhttps://developer.aliyun.com/article/741811","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://smilecoc.vip/categories/è½¬è½½/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"SQL serverä¸­çš„æ¨¡å¼æ¶æ„schemaè¯¦è§£","slug":"SQL  serverä¸­çš„æ¨¡å¼æ¶æ„schemaè¯¦è§£","date":"2020-06-23T15:33:33.000Z","updated":"2022-04-17T08:27:16.320Z","comments":true,"path":"2020/06/23/SQL  serverä¸­çš„æ¨¡å¼æ¶æ„schemaè¯¦è§£/","link":"","permalink":"http://smilecoc.vip/2020/06/23/SQL  serverä¸­çš„æ¨¡å¼æ¶æ„schemaè¯¦è§£/","excerpt":"","text":"sql server ä¸­çš„æ¨¡å¼/æ¶æ„ï¼ˆschemaï¼‰SQL Serverä¸­æ¨¡å¼ï¼ˆschemaï¼‰è¿™ä¸ªæ¦‚å¿µæ˜¯åœ¨2005çš„ç‰ˆæœ¬é‡Œæ‰æå‡ºæ¥çš„ï¼Œå› æ­¤SQL Server2000ä¸æ”¯æŒæ¨¡å¼è¿™ä¸ªæ¦‚å¿µ æ¨¡å¼åˆç§°æ¶æ„ï¼Œæ¶æ„çš„å®šä¹‰æ˜¯å½¢æˆå•ä¸ªå‘½åç©ºé—´çš„æ•°æ®åº“å®ä½“çš„é›†åˆã€‚å‘½åç©ºé—´æ˜¯ä¸€ä¸ªé›†åˆï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ çš„åç§°éƒ½æ˜¯å”¯ä¸€çš„ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥å°†æ¶æ„çœ‹æˆä¸€ä¸ªå­˜æ”¾æ•°æ®åº“ä¸­å¯¹è±¡çš„ä¸€ä¸ªå®¹å™¨ã€‚ ä¸Šé¢çš„æ–‡å­—æè¿°è¿‡äºæ™¦æ¶©ï¼Œä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œå¹³æ—¶è¦åœ¨ç”µè„‘ç¡¬ç›˜å­˜æ”¾ä¸œè¥¿æ—¶ï¼Œæˆ‘ä»¬ä¸ä¼šæŠŠæ‰€æœ‰çš„ä¸œè¥¿éƒ½å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹é‡Œï¼Œè€Œæ˜¯ä¼šæŠŠä¸åŒçš„æ–‡ä»¶æŒ‰ç…§æŸä¸€ä¸ªæ ‡å‡†åˆ†é—¨åˆ«ç±»ï¼Œæ”¾åˆ°ä¸åŒçš„æ–‡ä»¶å¤¹é‡Œã€‚è€Œåœ¨æ•°æ®åº“ä¸­ï¼Œèµ·åˆ°è¿™ä¸ªä½œç”¨çš„å°±æ˜¯æ¶æ„ï¼Œæ•°æ®åº“å¯¹è±¡ï¼ˆè¡¨ã€è§†å›¾ã€å­˜å‚¨è¿‡ç¨‹ï¼Œè§¦å‘å™¨ç­‰ï¼‰æŒ‰ç…§ä¸€å®šçš„æ ‡å‡†ï¼Œå­˜æ”¾åœ¨ä¸åŒçš„æ¶æ„é‡Œã€‚æœ‰è¿‡javaç¼–ç¨‹ç»éªŒçš„åŒå­¦éƒ½çŸ¥é“ï¼Œå‘½åç©ºé—´åå…¶å®å°±æ˜¯æ–‡ä»¶å¤¹åï¼Œå› æ­¤æˆ‘ä»¬éå¸¸æ˜ç¡®ä¸€ç‚¹ï¼šä¸€ä¸ªå¯¹è±¡åªèƒ½å±äºä¸€ä¸ªæ¶æ„ï¼Œå°±åƒä¸€ä¸ªæ–‡ä»¶åªèƒ½å­˜æ”¾äºä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ä¸€æ ·ã€‚ä¸æ–‡ä»¶å¤¹ä¸åŒçš„æ˜¯ï¼Œæ¶æ„æ˜¯ä¸èƒ½åµŒå¥—çš„ï¼Œå¦‚æ­¤è€Œå·²ã€‚å› æ­¤ï¼Œæ¶æ„çš„å¥½å¤„éå¸¸æ˜æ˜¾â€”â€”ä¾¿äºç®¡ç†ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ•°æ®åº“çœ‹ä½œæ˜¯ä¸€ä¸ªå¤§ä»“åº“ï¼Œä»“åº“åˆ†äº†å¾ˆå¤šå¾ˆå¤šçš„æˆ¿é—´ï¼ŒSchemaå°±æ˜¯å…¶ä¸­çš„æˆ¿é—´ï¼Œä¸€ä¸ªSchemaä»£è¡¨ä¸€ä¸ªæˆ¿é—´ï¼Œäºæ˜¯ä¹ï¼Œåœ¨ä¸åŒçš„æˆ¿é—´é‡Œï¼Œæˆ‘ä»¬å¯ä»¥æ”¾ä¸åŒçš„ä¸œè¥¿â€”â€”æœ‰çš„æ”¾é£Ÿç‰©ï¼Œæœ‰çš„æ”¾è¡£ç‰©â€¦â€¦è€Œè¿™äº›ä¸åŒçš„ä¸œè¥¿ï¼Œå°±å¯¹åº”ç€æˆ‘ä»¬æ•°æ®åº“é‡Œçš„å¯¹è±¡ã€‚ ç”¨æˆ·æ¶æ„åˆ†ç¦»çš„å¥½å¤„ æ¶æ„ç®¡ç†ä¸ç”¨æˆ·ç®¡ç†åˆ†å¼€ã€‚å¤šä¸ªç”¨æˆ·å¯ä»¥é€šè¿‡è§’è‰²ï¼ˆRoleï¼‰æˆ–ç»„ï¼ˆWindows Groupsï¼‰æˆå‘˜å…³ç³»æ‹¥æœ‰åŒä¸€ä¸ªæ¶æ„ã€‚åœ¨SQL SERVER 2005/2008 ä¸­ï¼Œæ¯ä¸ªæ•°æ®åº“ä¸­çš„å›ºå®šæ•°æ®åº“è§’è‰²éƒ½æœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„æ¶æ„ï¼Œå¦‚æœæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè¡¨ï¼Œç»™å®ƒæŒ‡å®šçš„æ¶æ„åç§°ä¸º db_ddladminï¼Œé‚£ä¹ˆä»»ä½•ä¸€ä¸ªå±äºdb_ddladminä¸­çš„ç”¨æˆ·éƒ½æ˜¯å¯ä»¥å»æŸ¥è¯¢ã€ä¿®æ”¹å’Œåˆ é™¤å±äºè¿™ä¸ªæ¶æ„ä¸­çš„è¡¨ï¼Œä½†æ˜¯ä¸å±äºè¿™ä¸ªç»„çš„ç”¨æˆ·æ˜¯æ²¡æœ‰å¯¹è¿™ä¸ªæ¶æ„ä¸­çš„è¡¨è¿›è¡Œæ“ä½œçš„æƒé™ã€‚ åœ¨åˆ›å»ºæ•°æ®åº“ç”¨æˆ·æ—¶ï¼Œå¯ä»¥æŒ‡å®šè¯¥ç”¨æˆ·è´¦å·æ‰€å±çš„é»˜è®¤æ¶æ„,è‹¥ä¸æŒ‡å®šé»˜è®¤æ¶æ„ï¼Œåˆ™ä¸ºdboã€‚å¤§å¤šæ•°ç”¨æˆ·åœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™ä¹ æƒ¯ç›´æ¥è¾“å…¥å¯¹è±¡åè€Œå°†å¯¹è±¡çš„æ¶æ„åç§°çœç•¥ï¼Œåœ¨2005/2008 ä¸­ï¼Œç”¨æˆ·å¦‚æœæ²¡æœ‰è®¾ç½®è‡ªå·±çš„é»˜è®¤æ¶æ„ï¼Œä¼šç»™è¿™æ ·åˆ›å»ºçš„å¯¹è±¡åŠ ä¸Šä¸€ä¸ªç¼ºçœçš„æ¶æ„dboï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸€ä¸ªdb_ddladminçš„æˆå‘˜åœ¨æ•°æ®åº“ä¸­åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŠ ä¸Šæ¶æ„åç§°çš„è¡¨ï¼Œè¿™ä¸ªè¡¨åœ¨æ•°æ®åº“ä¸­çš„å®Œæ•´åç§°åº”è¯¥æ˜¯dbo.è¡¨åï¼Œåˆ›å»ºè€…åœ¨æ•°æ®åº“ä¸­å¦‚æœä¸æ˜¯å±äºå…¶å®ƒç‰¹æ®Šç»„çš„æˆå‘˜ï¼Œæ˜¯ä¸èƒ½å¯¹è‡ªå·±åˆ›å»ºçš„è¡¨è¿›è¡Œä»»ä½•ä¿®æ”¹å’ŒæŸ¥è¯¢çš„ï¼Œé‚£å°±ç›¸å½“äºæŠŠè‡ªå·±èµšçš„é’±å­˜è¿›äº†åˆ«äººçš„é“¶è¡Œå¡ï¼Œè‡ªå·±å´å–ä¸å‡ºæ¥ã€‚ åˆ é™¤æ•°æ®åº“ç”¨æˆ·å˜å¾—æä¸ºç®€å•ã€‚åœ¨ SQL Server 2000 ä¸­ï¼Œç”¨æˆ·ï¼ˆUserï¼‰å’Œæ¶æ„æ˜¯éšå«å…³è”çš„ï¼Œå³æ¯ä¸ªç”¨æˆ·æ‹¥æœ‰ä¸å…¶åŒåçš„æ¶æ„ã€‚å› æ­¤è¦åˆ é™¤ä¸€ä¸ªç”¨æˆ·ï¼Œå¿…é¡»å…ˆåˆ é™¤æˆ–ä¿®æ”¹è¿™ä¸ªç”¨æˆ·æ‰€æ‹¥æœ‰çš„æ‰€æœ‰æ•°æ®åº“å¯¹è±¡ã€‚SQL SERVER 2005/2008å°†æ¶æ„å’Œå¯¹è±¡è€…åˆ†ç¦»åå°±ä¸åœ¨å­˜åœ¨è¿™æ ·çš„é—®é¢˜ï¼Œåˆ é™¤ç”¨æˆ·çš„æ—¶å€™ä¸éœ€è¦é‡å‘½åè¯¥ç”¨æˆ·æ¶æ„æ‰€åŒ…å«çš„å¯¹è±¡ï¼Œåœ¨åˆ é™¤åˆ›å»ºæ¶æ„æ‰€å«å¯¹è±¡çš„ç”¨æˆ·åï¼Œä¸å†éœ€è¦ä¿®æ”¹å’Œæµ‹è¯•æ˜¾å¼å¼•ç”¨è¿™äº›å¯¹è±¡çš„åº”ç”¨ç¨‹åºã€‚ åŒºåˆ†ä¸åŒä¸šåŠ¡å¤„ç†éœ€è¦çš„å¯¹è±¡ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå…¬å…±çš„è¡¨è®¾ç½®æˆPubçš„æ¶æ„ï¼ŒæŠŠé”€å”®ç›¸å…³çš„è®¾ç½®ä¸ºSalesï¼Œè¿™æ ·ç®¡ç†å’Œè®¿é—®èµ·æ¥æ›´å®¹æ˜“ã€‚ åœ¨æ¶æ„å’Œæ¶æ„æ‰€åŒ…å«çš„å¯¹è±¡ä¸Šè®¾ç½®æƒé™ï¼ˆPermissionsï¼‰æ¯”ä»¥å‰çš„ç‰ˆæœ¬æ‹¥æœ‰æ›´é«˜çš„å¯ç®¡ç†æ€§ã€‚ å½“æŸ¥æ‰¾å¯¹è±¡æ—¶ï¼Œå…ˆæ‰¾ä¸ç”¨æˆ·é»˜è®¤æ¶æ„ç›¸åŒçš„æ¶æ„ä¸‹çš„å¯¹è±¡ï¼Œæ‰¾ä¸åˆ°å†æ‰¾dboçš„å¯¹è±¡ã€‚ sql server ä¿®æ”¹è¡¨çš„æ¨¡å¼schemaåˆ›å»ºschemaå¹¶èµ‹äºˆwangè¿™ä¸ªç”¨æˆ·è¿™ä¸ªschemaçš„æƒé™ create schema myschema authorization wang; ä¿®æ”¹å½“å‰è¡¨çš„schema use myDB --ä½¿ç”¨çš„æ•°æ®åº“ go create schema myschema --å¦‚æœæ²¡æœ‰æ­¤schemaå°±å…ˆå»ºç«‹ go alter schema myschema transfer dbo.myTable --ç§»åŠ¨å¯¹è±¡è‡³å»ºç«‹çš„schemaä¸‹ go åˆ é™¤schema drop schema wang cascade; å…¶ä¸­ï¼ŒCASCADEï¼ˆçº§è”ï¼‰è¡¨ç¤ºåˆ é™¤æ¨¡å¼çš„åŒæ—¶æŠŠè¯¥æ¨¡å¼ä¸­æ‰€æœ‰çš„æ•°æ®åº“å¯¹è±¡å…¨éƒ¨åˆ é™¤ã€‚åŒæ—¶ä¹Ÿå¯ä»¥æ”¹ä¸ºRESTRICTï¼ˆé™åˆ¶ï¼‰ï¼Œè¡¨ç¤ºå¦‚æœè¯¥æ¨¡å¼ä¸­å·²ç»å®šä¹‰äº†ä¸‹å±çš„æ•°æ®åº“å¯¹è±¡ï¼ˆå¦‚è¡¨ã€è§†å›¾ç­‰ï¼‰ï¼Œåˆ™æ‹’ç»è¯¥åˆ é™¤è¯­å¥çš„æ‰§è¡Œã€‚","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://smilecoc.vip/categories/ç¬”è®°/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"Markdownè¯­æ³•å‚è€ƒ","slug":"Markdownè¯­æ³•å‚è€ƒ","date":"2020-06-21T05:28:30.000Z","updated":"2020-07-30T14:40:39.188Z","comments":true,"path":"2020/06/21/Markdownè¯­æ³•å‚è€ƒ/","link":"","permalink":"http://smilecoc.vip/2020/06/21/Markdownè¯­æ³•å‚è€ƒ/","excerpt":"","text":"Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€,å®ƒå…è®¸äººä»¬â€œä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ï¼Œç„¶åè½¬æ¢æˆæœ‰æ•ˆçš„ XHTMLï¼ˆæˆ–è€… HTMLï¼‰æ–‡æ¡£â€ã€‚è¢«å¹¿æ³›åº”ç”¨äºåšå®¢ï¼Œç½‘é¡µä¸æŠ€æœ¯æ–‡æ¡£ä¸­ ä¸ºä»€ä¹ˆé€‰æ‹© Markdown å®ƒåŸºäºçº¯æ–‡æœ¬ï¼Œæ–¹ä¾¿ä¿®æ”¹å’Œå…±äº«ï¼› å‡ ä¹å¯ä»¥åœ¨æ‰€æœ‰çš„æ–‡æœ¬ç¼–è¾‘å™¨ä¸­ç¼–å†™ï¼› æœ‰ä¼—å¤šç¼–ç¨‹è¯­è¨€çš„å®ç°ï¼Œä»¥åŠåº”ç”¨çš„ç›¸å…³æ‰©å±•ï¼› åœ¨ GitHub ç­‰ç½‘ç«™ä¸­æœ‰å¾ˆå¥½çš„åº”ç”¨ï¼› å¾ˆå®¹æ˜“è½¬æ¢ä¸º HTML æ–‡æ¡£æˆ–å…¶ä»–æ ¼å¼ï¼› é€‚åˆç”¨æ¥ç¼–å†™æ–‡æ¡£ã€è®°å½•ç¬”è®°ã€æ’°å†™æ–‡ç« ã€‚ Markdown è¯­æ³•æ®µè½ä¸æ¢è¡Œ æ®µè½çš„å‰åå¿…é¡»æ˜¯ç©ºè¡Œï¼šç©ºè¡ŒæŒ‡çš„æ˜¯è¡Œå†…ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œæˆ–è€…åªæœ‰ç©ºç™½ç¬¦ï¼ˆç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦).ç›¸é‚»ä¸¤è¡Œæ–‡æœ¬ï¼Œå¦‚æœä¸­é—´æ²¡æœ‰ç©ºè¡Œ ä¼šæ˜¾ç¤ºåœ¨ä¸€è¡Œä¸­ï¼ˆæ¢è¡Œç¬¦è¢«è½¬æ¢ä¸ºç©ºæ ¼ï¼‰ å¦‚æœéœ€è¦åœ¨æ®µè½å†…åŠ å…¥æ¢è¡Œï¼ˆ&lt;br&gt;ï¼‰ï¼šå¯ä»¥åœ¨å‰ä¸€è¡Œçš„æœ«å°¾åŠ å…¥è‡³å°‘ä¸¤ä¸ªç©ºæ ¼,ç„¶åæ¢è¡Œå†™å…¶å®ƒçš„æ–‡å­— Markdown ä¸­çš„å¤šæ•°åŒºå—éƒ½éœ€è¦åœ¨ä¸¤ä¸ªç©ºè¡Œä¹‹é—´ã€‚ æ ‡é¢˜ä¸€èˆ¬ç”¨å¯¹ç§°çš„ # åŒ…æ‹¬æ–‡æœ¬ï¼Œæˆ–è€…åªåœ¨å·¦è¾¹ä½¿ç”¨ #ã€‚ä¾‹å¦‚ä¸‹é¢çš„è¯­å¥ï¼š #### æ ‡é¢˜4 #### ##### æ ‡é¢˜5æ ‡é¢˜4æ ‡é¢˜5å…¶ä¸­åŠ å‡ ä¸ª#è¡¨ç¤ºå‡ çº§æ ‡é¢˜ï¼Œåœ¨#ç¬¦å·å†…ä¾§ä¸€èˆ¬ä¼šåŠ ä¸Šç©ºæ ¼ å¼•ç”¨1. å¼•ç”¨å†…å®¹åœ¨æ®µè½æˆ–å…¶ä»–å†…å®¹å‰ä½¿ç”¨ &gt; ç¬¦å·ï¼Œå°±å¯ä»¥å°†è¿™æ®µå†…å®¹æ ‡è®°ä¸º â€˜å¼•ç”¨â€™ çš„å†…å®¹ï¼š &gt;å¼•ç”¨å†…å®¹ å¼•ç”¨å†…å®¹ 2. å¤šè¡Œå¼•ç”¨å¤šè¡Œå¼•ç”¨å¯ä»¥åœ¨æ¯è¡Œå‰åŠ  &gt;,ä¹Ÿå¯ä»¥ä»…åœ¨ç¬¬ä¸€è¡Œä½¿ç”¨ &gt;ï¼Œåé¢ç›¸é‚»çš„è¡Œå³ä½¿çœç•¥ &gt;ï¼Œä¹Ÿä¼šå˜æˆå¼•ç”¨å†…å®¹ã€‚å¦‚æœå¼•ç”¨å†…å®¹éœ€è¦æ¢è¡Œï¼Œ å¯ä»¥åœ¨è¡Œå°¾æ·»åŠ ä¸¤ä¸ªç©ºæ ¼ï¼Œæˆ–è€…åœ¨å¼•ç”¨å†…å®¹ä¸­åŠ ä¸€ä¸ªç©ºè¡Œï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š &gt;å¦‚æœå¼•ç”¨å†…å®¹éœ€è¦æ¢è¡Œï¼Œ &gt;å¯ä»¥åœ¨è¡Œå°¾æ·»åŠ ä¸¤ä¸ªç©ºæ ¼ &gt; &gt;æˆ–è€…åœ¨å¼•ç”¨å†…å®¹ä¸­åŠ ä¸€ä¸ªç©ºè¡Œåˆ—è¡¨æ— åºåˆ—è¡¨* å¯ä»¥ä½¿ç”¨ `*` ä½œä¸ºæ ‡è®° + ä¹Ÿå¯ä»¥ä½¿ç”¨ `+` - æˆ–è€… `-`ä¸Šè¿°è¯­å¥çš„æ¸²æŸ“ç»“æœä¸ºï¼š å¯ä»¥ä½¿ç”¨ * ä½œä¸ºæ ‡è®° ä¹Ÿå¯ä»¥ä½¿ç”¨ + æˆ–è€… - æœ‰åºåˆ—è¡¨1. æœ‰åºåˆ—è¡¨ä»¥æ•°å­—å’Œ `.` å¼€å§‹ï¼› 3. æ•°å­—çš„åºåˆ—å¹¶ä¸ä¼šå½±å“ç”Ÿæˆçš„åˆ—è¡¨åºåˆ—ï¼› 4. ä½†ä»ç„¶æ¨èæŒ‰ç…§è‡ªç„¶é¡ºåºï¼ˆ1.2.3...ï¼‰ç¼–å†™ã€‚ä¸Šè¿°è¯­å¥çš„æ¸²æŸ“ç»“æœä¸ºï¼š æœ‰åºåˆ—è¡¨ä»¥æ•°å­—å’Œ . å¼€å§‹ï¼› æ•°å­—çš„åºåˆ—å¹¶ä¸ä¼šå½±å“ç”Ÿæˆçš„åˆ—è¡¨åºåˆ—ï¼› ä½†ä»ç„¶æ¨èæŒ‰ç…§è‡ªç„¶é¡ºåºï¼ˆ1.2.3â€¦ï¼‰ç¼–å†™ã€‚ åµŒå¥—(å¤šå±‚)åˆ—è¡¨å¤šå±‚åˆ—è¡¨åœ¨ç¬¦å·æˆ–è€…åºå·å‰åŠ ä¸Štabå³å¯ 1. ç¬¬ä¸€å±‚ + 1-1 + 1-2 2. æ— åºåˆ—è¡¨å’Œæœ‰åºåˆ—è¡¨å¯ä»¥éšæ„ç›¸äº’åµŒå¥— 1. 2-1 2. 2-2 ç¬¬ä¸€å±‚ 1-1 1-2 æ— åºåˆ—è¡¨å’Œæœ‰åºåˆ—è¡¨å¯ä»¥éšæ„ç›¸äº’åµŒå¥— 2-1 2-2 ä»£ç ä»£ç å—å¯ä»¥ä½¿ç”¨ç¼©è¿›æ¥æ’å…¥ä»£ç å—ï¼Œä½†æ˜¯ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨ ``````æ¥åŒ…å«å¤šè¡Œä»£ç ``` &lt;p&gt;code here&lt;/p&gt;```ä¸Šè¿°è¯­å¥çš„æ¸²æŸ“ç»“æœä¸ºï¼š &lt;p&gt;code here&lt;/p&gt;ä»£ç é«˜äº®åœ¨ä¸Šé¢çš„ä»£ç å—è¯­æ³•åŸºç¡€ä¸Šï¼Œåœ¨ç¬¬ä¸€ç»„ ```ä¹‹åæ·»åŠ ä»£ç çš„è¯­è¨€ï¼Œå¦‚ â€˜javascriptâ€™ æˆ– â€˜jsâ€™ï¼Œå³å¯å°†ä»£ç æ ‡è®°ä¸º JavaScript,åŒæ—¶å¯ä»¥å°†å¯¹åº”ä»£ç é«˜äº®ï¼š```jswindow.addEventListener(â€˜loadâ€™, function() { console.log(â€˜window loadedâ€™);});``` window.addEventListener(&#39;load&#39;, function() { console.log(&#39;window loaded&#39;); }); Markdownæ”¯æŒçš„è¯­è¨€ä¸ç›¸åº”å…³é”®å­—æœ‰ï¼š åç§° å…³é”®å­— è°ƒç”¨çš„js è¯´æ˜ AppleScript applescript shBrushAppleScript.js ActionScript 3.0 actionscript3 , as3 shBrushAS3.js Shell bash , shell shBrushBash.js ColdFusion coldfusion , cf shBrushColdFusion.js C cpp , c shBrushCpp.js C# c# , c-sharp , csharp shBrushCSharp.js CSS css shBrushCss.js Delphi delphi , pascal , pas shBrushDelphi.js diff&amp;patch diff patch shBrushDiff.js ç”¨ä»£ç ç‰ˆæœ¬åº“æ—¶,é‡åˆ°ä»£ç å†²çª,å…¶è¯­æ³•å°±æ˜¯è¿™ä¸ª. Erlang erl , erlang shBrushErlang.js Groovy groovy shBrushGroovy.js Java java shBrushJava.js JavaFX jfx , javafx shBrushJavaFX.js JavaScript js , jscript , javascript shBrushJScript.js Perl perl , pl , Perl shBrushPerl.js PHP php shBrushPhp.js text text , plain shBrushPlain.js å°±æ˜¯æ™®é€šæ–‡æœ¬. Python py , python shBrushPython.js Ruby ruby , rails , ror , rb shBrushRuby.js SASS&amp;SCSS sass , scss shBrushSass.js Scala scala shBrushScala.js SQL sql shBrushSql.js Visual Basic vb , vbnet shBrushVb.js XML xml , xhtml , xslt , html shBrushXml.js Objective C objc , obj-c shBrushObjectiveC.js F# f# f-sharp , fsharp shBrushFSharp.js R r , s , splus shBrushR.js matlab matlab shBrushMatlab.js swift swift shBrushSwift.js GO go , golang shBrushGo.js ä¸Šè¿°è¡¨æ ¼åº”è¯¥åŒ…æ‹¬æ‰€æœ‰çš„å¸¸ä½¿ç”¨çš„ä»£ç è¯­è¨€ï¼Œä½†è‚¯å®šä¸åŒ…æ‹¬æ‰€æœ‰çš„è¯­è¨€ï¼Œå¦‚æœ‰ç¼ºå¤±æ¬¢è¿æŒ‡å‡º åˆ†éš”çº¿å¯ä»¥åœ¨ä¸€è¡Œä¸­ä½¿ç”¨ä¸‰ä¸ªæˆ–æ›´å¤šçš„ *ã€- æˆ– _ æ¥æ·»åŠ åˆ†éš”çº¿ï¼š *** ------ ___ è¶…é“¾æ¥æ ¼å¼ä¸º[link text](URL â€˜title textâ€™) [Google](http://www.google.com/)ä¸Šè¿°è¯­å¥çš„æ¸²æŸ“ç»“æœä¸ºï¼šGoogle åŒæ—¶ä¹Ÿå¯ä»¥åˆ›å»ºæŒ‡å‘æœ¬åœ°æ–‡ä»¶çš„é“¾æ¥ï¼š [icon.png](./images/icon.png)å›¾åƒæ’å…¥å›¾ç‰‡çš„è¯­æ³•å’Œæ’å…¥è¶…é“¾æ¥çš„è¯­æ³•åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯åœ¨æœ€å‰é¢å¤šä¸€ä¸ª !. ![GitHub](https://avatars2.githubusercontent.com/u/3265208?v=3&amp;s=100 &quot;GitHub,Social Coding&quot;) å¼ºè°ƒ ä½¿ç”¨ * * æˆ– _ _ åŒ…æ‹¬çš„æ–‡æœ¬ä¼šè¢«è½¬æ¢ä¸º &lt;em&gt;&lt;/em&gt; ï¼Œé€šå¸¸è¡¨ç°ä¸ºæ–œä½“ï¼š è¿™æ˜¯ç”¨æ¥ *æ¼”ç¤º* çš„ _æ–‡æœ¬_è¿™æ˜¯ç”¨æ¥ æ¼”ç¤º çš„ æ–‡æœ¬ ä½¿ç”¨ ** ** æˆ– __ __ åŒ…æ‹¬çš„æ–‡æœ¬ä¼šè¢«è½¬æ¢ä¸º &lt;strong&gt;&lt;/strong&gt;ï¼Œé€šå¸¸è¡¨ç°ä¸ºåŠ ç²—ï¼š è¿™æ˜¯ç”¨æ¥ **æ¼”ç¤º** çš„ __æ–‡æœ¬__è¿™æ˜¯ç”¨æ¥ æ¼”ç¤º çš„ æ–‡æœ¬ ç”¨æ¥åŒ…æ‹¬æ–‡æœ¬çš„ * æˆ– _ å†…ä¾§ä¸èƒ½æœ‰ç©ºç™½ï¼Œå¦åˆ™ * å’Œ _ å°†ä¸ä¼šè¢«è½¬æ¢ï¼ˆä¸åŒçš„å®ç°ä¼šæœ‰ä¸åŒçš„è¡¨ç°ï¼‰ï¼š è¿™æ˜¯ç”¨æ¥ * æ¼”ç¤º* çš„ _æ–‡æœ¬ _è¿™æ˜¯ç”¨æ¥ * æ¼”ç¤º* çš„ _æ–‡æœ¬ _ å¦‚æœéœ€è¦åœ¨æ–‡æœ¬ä¸­æ˜¾ç¤ºæˆå¯¹çš„ * æˆ– _ï¼Œå¯ä»¥åœ¨ç¬¦å·å‰åŠ å…¥ (è½¬ä¹‰å­—ç¬¦) å³å¯ï¼š è¿™æ˜¯ç”¨æ¥ \\*æ¼”ç¤º\\* çš„ \\_æ–‡æœ¬\\_è¿™æ˜¯ç”¨æ¥ *æ¼”ç¤º* çš„ _æ–‡æœ¬_ ã€*ã€_ å’Œ __ éƒ½å¿…é¡» æˆå¯¹ä½¿ç”¨ ã€‚ Markdownå­—ç¬¦è½¬ä¹‰åæ–œçº¿ï¼ˆ\\ï¼‰ç”¨äºæ’å…¥åœ¨ Markdown è¯­æ³•ä¸­æœ‰ç‰¹æ®Šä½œç”¨çš„å­—ç¬¦ã€‚ è¿™æ˜¯ç”¨æ¥ *æ¼”ç¤º* çš„ _æ–‡æœ¬_ è¿™æ˜¯ç”¨æ¥ \\*æ¼”ç¤º\\* çš„ \\_æ–‡æœ¬\\_ç¬¬ä¸€å¥ç»“æœå‡ºæ¥çš„ç»“æœä¸ºï¼šè¿™æ˜¯ç”¨æ¥ æ¼”ç¤º çš„ æ–‡æœ¬è€Œç¬¬äºŒå¥çš„ç»“æœä¸º:è¿™æ˜¯ç”¨æ¥ *æ¼”ç¤º* çš„ _æ–‡æœ¬_ è¿™äº›éœ€è¦è½¬ä¹‰çš„å­—ç¬¦åŒ…æ‹¬ï¼š \\ ` * _ {} [] () # + - . !åˆ é™¤çº¿è¿™å°±æ˜¯ ~~åˆ é™¤çº¿~~è¿™å°±æ˜¯ åˆ é™¤çº¿ è¡¨æ ¼å•å…ƒæ ¼å’Œè¡¨å¤´ä½¿ç”¨ | æ¥åˆ†éš”ä¸åŒçš„å•å…ƒæ ¼ï¼Œä½¿ç”¨ - æ¥åˆ†éš”è¡¨å¤´å’Œå…¶ä»–è¡Œï¼š name | age ---- | --- LearnShare | 12 Mike | 32 name age LearnShare 12 Mike 32 ä¸ºäº†ç¾è§‚ï¼Œå¯ä»¥ä½¿ç”¨ç©ºæ ¼å¯¹é½ä¸åŒè¡Œçš„å•å…ƒæ ¼ï¼Œå¹¶åœ¨å·¦å³ä¸¤ä¾§éƒ½ä½¿ç”¨ | æ¥æ ‡è®°å•å…ƒæ ¼è¾¹ç•Œï¼š | name | age | | ---------- | --- | | LearnShare | 12 | | Mike | 32 | name age LearnShare 12 Mike 32 ä¸ºäº†ä½¿ Markdown æ›´æ¸…æ™°ï¼Œ| å’Œ - ä¸¤ä¾§éœ€è¦è‡³å°‘æœ‰ä¸€ä¸ªç©ºæ ¼ï¼ˆæœ€å·¦ä¾§å’Œæœ€å³ä¾§çš„ | å¤–å°±ä¸éœ€è¦äº†ï¼‰ã€‚ å¯¹é½åœ¨è¡¨å¤´ä¸‹æ–¹çš„åˆ†éš”çº¿æ ‡è®°ä¸­åŠ å…¥ :ï¼Œå³å¯æ ‡è®°ä¸‹æ–¹å•å…ƒæ ¼å†…å®¹çš„å¯¹é½æ–¹å¼ï¼š :â€” ä»£è¡¨å·¦å¯¹é½ :â€“: ä»£è¡¨å±…ä¸­å¯¹é½ â€”: ä»£è¡¨å³å¯¹é½| left | center | right | | :--- | :----: | ----: | | aaaa | bbbbbb | ccccc | | a | b | c | left center right aaaa bbbbbb ccccc a b c å¦‚æœä¸ä½¿ç”¨å¯¹é½æ ‡è®°ï¼Œå•å…ƒæ ¼ä¸­çš„å†…å®¹é»˜è®¤å·¦å¯¹é½ï¼›è¡¨å¤´å•å…ƒæ ¼ä¸­çš„å†…å®¹ä¼šä¸€ç›´å±…ä¸­å¯¹é½ï¼ˆä¸åŒçš„å®ç°å¯èƒ½ä¼šæœ‰ä¸åŒè¡¨ç°ï¼‰ã€‚ åœ¨è¡¨æ ¼å•å…ƒæ ¼é‡Œæ¢è¡Œå€ŸåŠ©äº HTML é‡Œçš„ å®ç°ã€‚ ç¤ºä¾‹ä»£ç ï¼š | Header1 | Header2 | |---------|----------------------------------| | item 1 | 1. one&lt;br /&gt;2. two&lt;br /&gt;3. three |ç¤ºä¾‹æ•ˆæœï¼š Header1 Header2 item 1 1. one2. two3. three åœ¨è¡¨æ ¼å•å…ƒæ ¼é‡ŒåŠ å…¥ç©ºæ ¼ç›´æ¥åœ¨ Markdown é‡Œç”¨ç©ºæ ¼å’Œ Tab é”®ç¼©è¿›åœ¨æ¸²æŸ“åä¼šè¢«å¿½ç•¥æ‰ï¼Œéœ€è¦å€ŸåŠ© HTML è½¬ä¹‰å­—ç¬¦åœ¨è¡Œé¦–æ·»åŠ ç©ºæ ¼æ¥å®ç°ï¼Œ&ensp; ä»£è¡¨åŠè§’ç©ºæ ¼ï¼Œ&emsp; ä»£è¡¨å…¨è§’ç©ºæ ¼ | Header1 | Header2 | |---------|----------------------------------| | &amp;ensp; | one Header1 Header2 &ensp; one åŒç†ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥åœ¨ä»»ä½•éœ€è¦æ·»åŠ ç©ºæ ¼å’Œç¼©è¿›çš„åœ°æ–¹ä½¿ç”¨ ä»»åŠ¡æ¸…å•- [ ] Eat - [x] Code - [x] HTML - [x] CSS - [x] JavaScript - [ ] Sleep Eat Code HTML CSS JavaScript Sleep æ·»åŠ emojiæ›´å¤šå¯ç”¨ Emoji ä»£ç å‚è§ https://www.webpagefx.com/tools/emoji-cheat-sheet/ æˆ‘å’Œæˆ‘çš„å°ä¼™ä¼´ä»¬éƒ½ç¬‘äº†ã€‚:smile:æˆ‘å’Œæˆ‘çš„å°ä¼™ä¼´ä»¬éƒ½ç¬‘äº†ã€‚:smile: å›¾æ–‡æ··æ’ä½¿ç”¨ æ ‡ç­¾æ¥è´´å›¾ï¼Œç„¶åæŒ‡å®š align å±æ€§ã€‚ ç¤ºä¾‹ä»£ç ï¼š &lt;img align=&quot;right&quot; src=&quot;https://avatars2.githubusercontent.com/u/3265208?v=3&amp;s=100 &quot;/&gt; è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹å›¾ç‰‡ã€‚ å›¾ç‰‡æ˜¾ç¤ºåœ¨ N æ®µæ–‡å­—çš„å³è¾¹ã€‚ N ä¸å›¾ç‰‡é«˜åº¦æœ‰å…³ã€‚ åˆ·å±è¡Œã€‚ åˆ·å±è¡Œã€‚ åˆ°è¿™é‡Œåº”è¯¥ä¸ä¼šå—å½±å“äº†ï¼Œæœ¬è¡Œåº”è¯¥å»¶ä¼¸åˆ°äº†å›¾ç‰‡çš„æ­£ä¸‹æ–¹ï¼Œæ‰€ä»¥æˆ‘è¦è¶³å¤Ÿé•¿æ‰èƒ½ç¡®ä¿ä¸åŒçš„å±å¹•ä¸‹éƒ½çœ‹åˆ°æ•ˆæœã€‚ è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹å›¾ç‰‡ã€‚ å›¾ç‰‡æ˜¾ç¤ºåœ¨ N æ®µæ–‡å­—çš„å³è¾¹ã€‚ N ä¸å›¾ç‰‡é«˜åº¦æœ‰å…³ã€‚ åˆ·å±è¡Œã€‚ åˆ·å±è¡Œã€‚ åˆ°è¿™é‡Œåº”è¯¥ä¸ä¼šå—å½±å“äº†ï¼Œæœ¬è¡Œåº”è¯¥å»¶ä¼¸åˆ°äº†å›¾ç‰‡çš„æ­£ä¸‹æ–¹ï¼Œæ‰€ä»¥æˆ‘è¦è¶³å¤Ÿé•¿æ‰èƒ½ç¡®ä¿ä¸åŒçš„å±å¹•ä¸‹éƒ½çœ‹åˆ°æ•ˆæœã€‚ æ§åˆ¶å›¾ç‰‡å¤§å°å’Œä½ç½®æ ‡å‡†çš„ Markdown å›¾ç‰‡æ ‡è®° æ— æ³•æŒ‡å®šå›¾ç‰‡çš„å¤§å°å’Œä½ç½®ï¼Œåªèƒ½ä¾èµ–é»˜è®¤çš„å›¾ç‰‡å¤§å°ï¼Œé»˜è®¤å±…å·¦ã€‚ è€Œæœ‰æ—¶å€™æºå›¾å¤ªå¤§æƒ³è¦ç¼©å°ä¸€ç‚¹ï¼Œæˆ–è€…æƒ³å°†å›¾ç‰‡å±…ä¸­ï¼Œå°±ä»éœ€è¦å€ŸåŠ© HTML çš„æ ‡ç­¾æ¥å®ç°äº†ã€‚å›¾ç‰‡å±…ä¸­å¯ä»¥ä½¿ç”¨ æ ‡ç­¾åŠ  align å±æ€§æ¥æ§åˆ¶ï¼Œå›¾ç‰‡å®½é«˜åˆ™ç”¨ width å’Œ height æ¥æ§åˆ¶ã€‚ ç¤ºä¾‹ä»£ç ï¼š **å›¾ç‰‡é»˜è®¤æ˜¾ç¤ºæ•ˆæœï¼š** ![](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL216bG9naW4vbXpsb2dpbi5naXRodWIuaW8vbWFzdGVyL2ltYWdlcy9wb3N0cy9tYXJrZG93bi9kZW1vLnBuZw?x-oss-process=image/format,png) **åŠ ä»¥æ§åˆ¶åçš„æ•ˆæœï¼š** &lt;div align=&quot;center&quot;&gt;&lt;img width=&quot;65&quot; height=&quot;75&quot; src=&quot;https://imgconvert.csdnimg.cn/aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL216bG9naW4vbXpsb2dpbi5naXRodWIuaW8vbWFzdGVyL2ltYWdlcy9wb3N0cy9tYXJrZG93bi9kZW1vLnBuZw?x-oss-process=image/format,png&quot;/&gt;&lt;/div&gt;å›¾ç‰‡é»˜è®¤æ˜¾ç¤ºæ•ˆæœï¼š åŠ ä»¥æ§åˆ¶åçš„æ•ˆæœï¼š æ–‡å­—é¢œè‰²ã€å¤§å°ã€å­—ä½“è®¾ç½®é¢œè‰²æµ…çº¢è‰²æ–‡å­—ï¼š&lt;font color=&quot;#dd0000&quot;&gt;æµ…çº¢è‰²æ–‡å­—ï¼š&lt;/font&gt;&lt;br /&gt; æ·±çº¢è‰²æ–‡å­—ï¼š&lt;font color=&quot;#660000&quot;&gt;æ·±çº¢è‰²æ–‡å­—&lt;/font&gt;&lt;br /&gt; æµ…ç»¿è‰²æ–‡å­—ï¼š&lt;font color=&quot;#00dd00&quot;&gt;æµ…ç»¿è‰²æ–‡å­—&lt;/font&gt;&lt;br /&gt; æ·±ç»¿è‰²æ–‡å­—ï¼š&lt;font color=&quot;#006600&quot;&gt;æ·±ç»¿è‰²æ–‡å­—&lt;/font&gt;&lt;br /&gt; æµ…è“è‰²æ–‡å­—ï¼š&lt;font color=&quot;#0000dd&quot;&gt;æµ…è“è‰²æ–‡å­—&lt;/font&gt;&lt;br /&gt; æ·±è“è‰²æ–‡å­—ï¼š&lt;font color=&quot;#000066&quot;&gt;æ·±è“è‰²æ–‡å­—&lt;/font&gt;&lt;br /&gt; æµ…é»„è‰²æ–‡å­—ï¼š&lt;font color=&quot;#dddd00&quot;&gt;æµ…é»„è‰²æ–‡å­—&lt;/font&gt;&lt;br /&gt; æ·±é»„è‰²æ–‡å­—ï¼š&lt;font color=&quot;#666600&quot;&gt;æ·±é»„è‰²æ–‡å­—&lt;/font&gt;&lt;br /&gt; æµ…é’è‰²æ–‡å­—ï¼š&lt;font color=&quot;#00dddd&quot;&gt;æµ…é’è‰²æ–‡å­—&lt;/font&gt;&lt;br /&gt; æ·±é’è‰²æ–‡å­—ï¼š&lt;font color=&quot;#006666&quot;&gt;æ·±é’è‰²æ–‡å­—&lt;/font&gt;&lt;br /&gt; æµ…ç´«è‰²æ–‡å­—ï¼š&lt;font color=&quot;#dd00dd&quot;&gt;æµ…ç´«è‰²æ–‡å­—&lt;/font&gt;&lt;br /&gt; æ·±ç´«è‰²æ–‡å­—ï¼š&lt;font color=&quot;#660066&quot;&gt;æ·±ç´«è‰²æ–‡å­—&lt;/font&gt;&lt;br /&gt; æµ…çº¢è‰²æ–‡å­—ï¼šæµ…çº¢è‰²æ–‡å­—ï¼šæ·±çº¢è‰²æ–‡å­—ï¼šæ·±çº¢è‰²æ–‡å­—æµ…ç»¿è‰²æ–‡å­—ï¼šæµ…ç»¿è‰²æ–‡å­—æ·±ç»¿è‰²æ–‡å­—ï¼šæ·±ç»¿è‰²æ–‡å­—æµ…è“è‰²æ–‡å­—ï¼šæµ…è“è‰²æ–‡å­—æ·±è“è‰²æ–‡å­—ï¼šæ·±è“è‰²æ–‡å­—æµ…é»„è‰²æ–‡å­—ï¼šæµ…é»„è‰²æ–‡å­—æ·±é»„è‰²æ–‡å­—ï¼šæ·±é»„è‰²æ–‡å­—æµ…é’è‰²æ–‡å­—ï¼šæµ…é’è‰²æ–‡å­—æ·±é’è‰²æ–‡å­—ï¼šæ·±é’è‰²æ–‡å­—æµ…ç´«è‰²æ–‡å­—ï¼šæµ…ç´«è‰²æ–‡å­—æ·±ç´«è‰²æ–‡å­—ï¼šæ·±ç´«è‰²æ–‡å­— é‡‡ç”¨çš„æ˜¯RGBé¢œè‰²è¿™é‡Œæœ‰ä¸ªå¯¹ç…§ï¼šhttp://www.114la.com/other/rgb.htmå¯ä»¥é€‰æ‹©ä½ æƒ³è¦çš„é¢œè‰²å¯¹åº”çš„RGBå€¼ã€‚ å¤§å°sizeä¸º1ï¼š&lt;font size=&quot;1&quot;&gt;sizeä¸º1&lt;/font&gt;&lt;br /&gt; sizeä¸º2ï¼š&lt;font size=&quot;2&quot;&gt;sizeä¸º2&lt;/font&gt;&lt;br /&gt; sizeä¸º3ï¼š&lt;font size=&quot;3&quot;&gt;sizeä¸º3&lt;/font&gt;&lt;br /&gt; sizeä¸º4ï¼š&lt;font size=&quot;4&quot;&gt;sizeä¸º4&lt;/font&gt;&lt;br /&gt; sizeä¸º10ï¼š&lt;font size=&quot;10&quot;&gt;sizeä¸º10&lt;/font&gt;&lt;br /&gt; æ•ˆæœå¦‚ä¸‹ï¼š sizeä¸º1ï¼šsizeä¸º1sizeä¸º2ï¼šsizeä¸º2sizeä¸º3ï¼šsizeä¸º3sizeä¸º4ï¼šsizeä¸º4sizeä¸º10ï¼šsizeä¸º10 å­—ä½“&lt;font face=&quot;é»‘ä½“&quot;&gt;æˆ‘æ˜¯é»‘ä½“å­—&lt;/font&gt; &lt;font face=&quot;å®‹ä½“&quot;&gt;æˆ‘æ˜¯å®‹ä½“å­—&lt;/font&gt; &lt;font face=&quot;å¾®è½¯é›…é»‘&quot;&gt;æˆ‘æ˜¯å¾®è½¯é›…é»‘å­—&lt;/font&gt; &lt;font face=&quot;fantasy&quot;&gt;æˆ‘æ˜¯fantasyå­—&lt;/font&gt; &lt;font face=&quot;Helvetica&quot;&gt;æˆ‘æ˜¯Helveticaå­—&lt;/font&gt;æ•ˆæœå¦‚ä¸‹ï¼š æˆ‘æ˜¯é»‘ä½“å­—æˆ‘æ˜¯å®‹ä½“å­—æˆ‘æ˜¯å¾®è½¯é›…é»‘å­—æˆ‘æ˜¯fantasyå­—æˆ‘æ˜¯Helveticaå­— èƒŒæ™¯è‰²&lt;table&gt;&lt;tr&gt;&lt;td bgcolor=#FF00FF&gt;èƒŒæ™¯è‰²çš„è®¾ç½®æ˜¯æŒ‰ç…§åå…­è¿›åˆ¶é¢œè‰²å€¼ï¼š#7FFFD4&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt; &lt;table&gt;&lt;tr&gt;&lt;td bgcolor=#FF83FA&gt;èƒŒæ™¯è‰²çš„è®¾ç½®æ˜¯æŒ‰ç…§åå…­è¿›åˆ¶é¢œè‰²å€¼ï¼š#FF83FA&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt; &lt;table&gt;&lt;tr&gt;&lt;td bgcolor=#D1EEEE&gt;èƒŒæ™¯è‰²çš„è®¾ç½®æ˜¯æŒ‰ç…§åå…­è¿›åˆ¶é¢œè‰²å€¼ï¼š#D1EEEE&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt; &lt;table&gt;&lt;tr&gt;&lt;td bgcolor=#C0FF3E&gt;èƒŒæ™¯è‰²çš„è®¾ç½®æ˜¯æŒ‰ç…§åå…­è¿›åˆ¶é¢œè‰²å€¼ï¼š#C0FF3E&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt; &lt;table&gt;&lt;tr&gt;&lt;td bgcolor=#54FF9F&gt;èƒŒæ™¯è‰²çš„è®¾ç½®æ˜¯æŒ‰ç…§åå…­è¿›åˆ¶é¢œè‰²å€¼ï¼š#54FF9F&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;èƒŒæ™¯è‰²çš„è®¾ç½®æ˜¯æŒ‰ç…§åå…­è¿›åˆ¶é¢œè‰²å€¼ï¼š#7FFFD4 èƒŒæ™¯è‰²çš„è®¾ç½®æ˜¯æŒ‰ç…§åå…­è¿›åˆ¶é¢œè‰²å€¼ï¼š#FF83FA èƒŒæ™¯è‰²çš„è®¾ç½®æ˜¯æŒ‰ç…§åå…­è¿›åˆ¶é¢œè‰²å€¼ï¼š#D1EEEE èƒŒæ™¯è‰²çš„è®¾ç½®æ˜¯æŒ‰ç…§åå…­è¿›åˆ¶é¢œè‰²å€¼ï¼š#C0FF3E èƒŒæ™¯è‰²çš„è®¾ç½®æ˜¯æŒ‰ç…§åå…­è¿›åˆ¶é¢œè‰²å€¼ï¼š#54FF9F æ ¼å¼åŒ–è¡¨æ ¼è¡¨æ ¼åœ¨æ¸²æŸ“ä¹‹åå¾ˆæ•´æ´å¥½çœ‹ï¼Œä½†æ˜¯åœ¨æ–‡ä»¶æºç é‡Œå´å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š |Header1|Header2| |---|---| |a|a| |ab|ab| |abc|abc|æ¨èä¸€ä¸ªåœ¨çº¿è¡¨æ ¼è½¬åŒ–å·¥å…·https://tableconvert.com/ï¼Œå®ƒèƒ½å¸®æˆ‘è‡ªåŠ¨å°†è¡¨æ ¼æ ¼å¼åŒ–æˆè¿™æ ·ï¼š | Header1 | Header2 | |---------|---------| | a | a | | ab | ab | | abc | abc |æ˜¯ä¸æ˜¯çœ‹ç€èˆ’æœå¤šäº†ï¼Ÿ å¦‚æœä½ ä¸ä½¿ç”¨ Vimï¼Œä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œæ¯”å¦‚ Atom ç¼–è¾‘å™¨çš„ markdown-table-formatter æ’ä»¶ï¼ŒSublime Text 3 çš„ MarkdownTableFormatter ç­‰ç­‰ï¼Œéƒ½æä¾›äº†ç±»ä¼¼çš„è§£å†³æ–¹æ¡ˆã€‚ è‡ªåŠ¨ç»´æŠ¤ç›®å½•æœ‰æ—¶å€™ç»´æŠ¤ä¸€ä»½æ¯”è¾ƒé•¿çš„æ–‡æ¡£ï¼Œå¸Œæœ›èƒ½å¤Ÿè‡ªåŠ¨æ ¹æ®æ–‡æ¡£ä¸­çš„æ ‡é¢˜ç”Ÿæˆç›®å½•ï¼ˆTable of Contentsï¼‰ï¼Œå¹¶ä¸”å½“æ ‡é¢˜æœ‰å˜åŒ–æ—¶è‡ªåŠ¨æ›´æ–°ç›®å½•ï¼Œèƒ½å‡è½»å·¥ä½œé‡ï¼Œä¹Ÿä¸æ˜“å‡ºé”™ã€‚ å¦‚æœä½ ä½¿ç”¨ Vim ç¼–è¾‘å™¨ï¼Œé‚£å¯ä»¥ä½¿ç”¨æ’ä»¶ vim-markdown-toc æ¥å¸®ä½ å®Œç¾åœ°è§£å†³æ­¤äº‹ï¼š æ’ä»¶åœ°å€ï¼šhttps://github.com/mzlogin/vim-markdown-toc å‚è€ƒæ–‡æ¡£ï¼šhttps://mazhuang.org/2017/09/01/markdown-odd-skills/#%E5%9B%BE%E6%96%87%E6%B7%B7%E6%8E%92http://xianbai.me/learn-md/index.html","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://smilecoc.vip/categories/è½¬è½½/"}],"tags":[{"name":"Markdown","slug":"Markdown","permalink":"http://smilecoc.vip/tags/Markdown/"}],"author":"smilecoc"},{"title":"VBAå¸¸ç”¨ä»£ç æ±‡æ€»","slug":"vba_code_collection","date":"2020-06-20T04:36:23.000Z","updated":"2021-08-15T17:25:13.711Z","comments":true,"path":"2020/06/20/vba_code_collection/","link":"","permalink":"http://smilecoc.vip/2020/06/20/vba_code_collection/","excerpt":"","text":"ä¸€äº›æ—¥å¸¸ç»å¸¸ç”¨åˆ°çš„VBAä»£ç æ±‡æ€» VBAä¸­è°ƒç”¨SQLå¤„ç†æ•°æ®è¿™é‡Œä»…æä¾›ä¸€ä¸ªä¾‹å­ï¼Œæ›´è¯¦ç»†çš„ä»‹ç»å’Œä½¿ç”¨å¯å‚é˜…http://smilecoc.vip/2020/03/03/using_sql_in_vba/ Sub Query() Dim Conn As Object, Rst As Object Dim strConn As String, strSQL As String Dim i As Integer, PathStr As String Set Conn = CreateObject(&quot;ADODB.Connection&quot;) Set Rst = CreateObject(&quot;ADODB.Recordset&quot;) &#39;è®¾ç½®å·¥ä½œç°¿çš„å®Œæ•´è·¯å¾„å’Œåç§° PathStr = ThisWorkbook.FullName &#39;è®¾ç½®è¿æ¥å­—ç¬¦ä¸²,æ ¹æ®Excelç‰ˆæœ¬åˆ›å»ºè¿æ¥ Select Case Application.Version * 1 Case Is &lt;= 11 strConn = &quot;Provider=Microsoft.Jet.Oledb.4.0;Extended Properties=excel 8.0;Data source=&quot; &amp; PathStr Case Is &gt;= 12 strConn = &quot;Provider=Microsoft.ACE.OLEDB.12.0;Data Source=&quot; &amp; PathStr &amp; &quot;;Extended Properties=&quot;&quot;Excel 12.0;HDR=YES&quot;&quot;;&quot;&quot;&quot; End Select &#39; ##########åœ¨è¿™é‡Œæ”¹SQLæŸ¥è¯¢è¯­å¥ ########## strSQL = &quot;Select distinct Objective,Landing_Site,Publisher,Device,Ad_type,sum(est_impression) as impression,sum(est_click) as click,sum(est_click)/sum(est_impression) as ctr,sum(net_cost)/sum(est_impression)*1000 as cpm,sum(net_cost)/sum(est_click) as cpc FROM [raw data$] group by Objective,Landing_Site,Publisher,Device,Ad_type having Publisher is not null &quot; &#39;æ‰“å¼€æ•°æ®åº“é“¾æ¥ Conn.Open strConn &#39;æ‰§è¡ŒæŸ¥è¯¢ï¼Œå¹¶å°†ç»“æœè¾“å‡ºåˆ°è®°å½•é›†å¯¹è±¡ Set Rst = Conn.Execute(strSQL) &#39;##########åœ¨è¿™é‡Œæ”¹è¾“å‡ºçš„è¡¨å########## With ThisWorkbook.Sheets(&quot;sql data&quot;) .Cells.Clear For i = 0 To Rst.Fields.Count - 1 &#39;å¡«å†™æ ‡é¢˜ .Cells(1, i + 1) = Rst.Fields(i).Name Next i &#39;##########åœ¨è¿™é‡Œæ”¹è¾“å‡ºçš„ä½ç½®ä¸å•å…ƒæ ¼########## .Range(&quot;A2&quot;).CopyFromRecordset Rst .Cells.EntireColumn.AutoFit &#39;è‡ªåŠ¨è°ƒæ•´åˆ—å®½ End With Rst.Close &#39;å…³é—­æ•°æ®åº“è¿æ¥ Conn.Close Set Conn = Nothing Set Rst = Nothing End Sub æ’å…¥å¤šè¡Œã€å¤šåˆ—å¦‚ä¸‹çš„ä¸‰å¥vbaä»£ç éƒ½å¯ä»¥ä¸€æ¬¡æ’å…¥ä¸€è¡Œï¼š Cells(2, 1).EntireRow.Insert Rows(2).Insert Range(&quot;2:2&quot;).Insert æ’å…¥å¤šåˆ—ï¼Œå¹¶æ·»åŠ Insertæ–¹æ³•çš„å‚æ•° thisworkbook.sheets(&quot;test&quot;).Columns(&quot;A:A&quot;).Resize(, 5).Insert Shift:=xlToRight, CopyOrigin:=xlFormatFromLeftOrAbove VBAè¿æ¥ç‰¹å®šçš„æ•°æ®åº“å¹¶å–æ•°éœ€è¦æ³¨æ„çš„æ˜¯ Provider=sqloledbè¿™ä¸€ä¸ªå‚æ•°æ•°æ®åº“ä¸åŒçš„æƒ…å†µä¸‹ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™é‡Œæˆ‘ç”¨çš„æ˜¯sql serveräº‘æ•°æ®åº“ï¼Œå…¶ä»–çš„æ•°æ®åº“å¯ä»¥å¦è¡ŒæŸ¥æ‰¾ Uid=ç”¨æˆ·åç§°;Pwd=æ•°æ®åº“çš„å¯†ç  è¿™ä¸¤ä¸ªå‚æ•°éƒ½ä¸æ˜¯å¾®è½¯è´¦æˆ·çš„åç§°å’Œå¯†ç ï¼Œå¦åˆ™ä¼šæŠ¥é”™ Sub getdata_fromdb() Dim Conn As Object, Rst As Object Dim strConn As String, strSQL As String Dim i As Integer, PathStr As String Set Conn = CreateObject(&quot;ADODB.Connection&quot;) Set Rst = CreateObject(&quot;ADODB.Recordset&quot;) PathStr = ThisWorkbook.FullName &#39;è®¾ç½®å·¥ä½œç°¿çš„å®Œæ•´è·¯å¾„å’Œåç§° strConn = &quot;Provider=sqloledb;Server=æ•°æ®åº“æœåŠ¡å™¨åœ°å€;Database=æ•°æ®åº“åç§°;Uid=ç”¨æˆ·åç§°;Pwd=æ•°æ®åº“çš„å¯†ç &quot; &#39;å®šä¹‰æ•°æ®åº“é“¾æ¥å­—ç¬¦ä¸² &#39;#############################åœ¨è¿™é‡Œæ”¹SQLæŸ¥è¯¢è¯­å¥ strSQL = &quot;select * from test&quot; Conn.Open strConn Set Rst = Conn.Execute(strSQL) With ThisWorkbook.Sheets(&quot;raw&quot;) .Cells.Clear For i = 0 To Rst.Fields.Count - 1 .Cells(1, i + 1) = Rst.Fields(i).Name Next i .Range(&quot;A2&quot;).CopyFromRecordset Rst .Cells.EntireColumn.AutoFit End With Rst.Close Conn.Close Set Conn = Nothing Set Rst = Nothing MsgBox &quot;æ•°æ®å·²æ›´æ–°å®Œæˆ&quot; End Sub è·å–æœ€å‰ï¼Œåï¼Œå·¦ï¼Œå³çš„è¡Œæˆ–åˆ—&#39;ä»ç¬¬ä¸€è¡Œå‘å·¦æŸ¥æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªéç©ºå€¼å•å…ƒæ ¼çš„åˆ—ï¼Œå³æœ€å·¦çš„ä¸€åˆ—çš„åˆ—æ•° Nextcol=Cells(1,columns.count).End(xlToLeft).Column &#39;ä»ç¬¬ä¸€åˆ—çš„æœ€åä¸€è¡Œå‘ä¸ŠæŸ¥æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªéç©ºå€¼å•å…ƒæ ¼çš„è¡Œæ•°.End(xlup)ï¼Œå¯ä»¥ç®€å†™ä¸ºendï¼ˆ3ï¼‰ Nextcol=Cells(rows.count,1).End(xlup).row â€˜æŸ¥æ‰¾æœ€å‰çš„è¡Œ Nextcol=Cells(1,1).End(xldown).row â€˜æŸ¥æ‰¾æœ€å‰çš„åˆ— Nextcol=Cells(1,1).End(xlright).column &#39;è·å–å½“å‰ä½¿ç”¨åŒºåŸŸçš„æœ€åä¸€è¡Œ ActiveSheet.UsedRange.SpecialCells(xlCellTypeLastCell).Row é€‰æ‹©æ€§ç²˜è´´é€‰æ‹©æ€§ç²˜è´´çš„è¯­æ³•ä¸ºï¼š .PasteSpecial(Paste,Operation,SkipBlanks,Transpose)æ¯”è¾ƒå¸¸ç”¨çš„å‡ ä¸ªpasteå‚æ•°ä¸ºï¼š å…¬å¼ xlPasteFormulas æ•°å€¼ xlPasteValues æ ¼å¼ xlPasteFormats sqldata.Range(&quot;A2:o&quot; &amp; sqllastrow).Copy Summary.Range(&quot;B9&quot;).PasteSpecial Paste:=xlPasteValues &#39;æ·»åŠ å€¼ ç”¨æˆ·äº¤äº’çª—å£â€”é€‰æ‹©æ–‡ä»¶å¼¹å‡ºç”¨æˆ·äº¤äº’çª—å£ï¼Œè®©ç”¨æˆ·å¯ä»¥é€‰æ‹©.xls;.xlsx;.xlsmæ ¼å¼çš„æ–‡ä»¶å¹¶æ‰“å¼€é€‰æ‹©æ–‡ä»¶ Sub get_mzdata() MsgBox &quot;è¯·é€‰æ‹©è¾“å…¥æ–‡ä»¶&quot; nm = Application.GetOpenFilename(&quot;Excel æ–‡ä»¶ ,*.xls*;*.xlsx;*.xlsm&quot;, 4, &quot;é€‰æ‹©æ€»è¡¨&quot;) If nm = False Then MsgBox &quot;ä½ æ²¡æœ‰é€‰æ‹©æ–‡ä»¶,ç¨‹åºå°†ç»“æŸ&quot; Exit Sub End If Set tp = Workbooks.Open(nm) End Sub æ›¿æ¢,ä¾‹å¦‚æ›¿æ¢ABåˆ—é‡Œçš„- Thisworkbook.sheets(&quot;test&quot;).Columns(&quot;AB:AB&quot;).Replace What:=&quot;-&quot;, Replacement:=&quot;/&quot;, LookAt:=xlPart, _ SearchOrder:=xlByRows, MatchCase:=False, SearchFormat:=False, _ ReplaceFormat:=False ä»£ç åˆ†è¡Œ:å¦‚æœä»£ç è¿‡é•¿çš„è¯ä¸åˆ©äºæŸ¥çœ‹ï¼Œå¯ä»¥æ¢è¡Œä¹¦å†™&#39;å¯¹äºésql è¯­å¥ å¯ä»¥ä½¿ç”¨ ç©ºæ ¼+ _æ¢è¡Œï¼Œä¾‹å¦‚ if MsgBox(&quot;æ‚¨ç¡®è®¤è¦æ¸…ç©ºæ–‡æœ¬æ¡†å€¼å—?&quot;, vbOKCancel + vbInformation, &quot;æç¤º&quot;) = vbOK Then If MsgBox(&quot;æ‚¨ç¡®è®¤è¦æ¸…ç©ºæ–‡æœ¬æ¡†å€¼å—?&quot;, vbOKCancel + _ vbInformation, &quot;æç¤º&quot;) = vbOK Then &#39;å¯¹äº sql è¯­å¥ å¯ä»¥åœ¨å¥æœ«+åŒå¼•å·+ç©ºæ ¼+ä¸‹åˆ’çº¿ï¼Œä¸‹ä¸€å¥å‰é¢+&amp;+ç©ºæ ¼+åŒå¼•å·,ä¾‹å¦‚ strsql = &quot;Select é‡‡è´­è®¢å•è¡¨.çŠ¶æ€, é‡‡è´­è®¢å•è¡¨.é‡‡è´­è®¢å•å·, é‡‡è´­è®¢å•è¡¨.é‡‡è´­æ—¥æœŸ, é‡‡è´­è®¢å•è¡¨.ä¾›åº”å•†ID, é‡‡è´­è®¢å•è¡¨.ç»åŠäºº&quot; _ &amp; &quot; FROM é‡‡è´­è®¢å•è¡¨;&quot; &#39;ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼š a = &quot;Select é‡‡è´­è®¢å•è¡¨.çŠ¶æ€, é‡‡è´­è®¢å•è¡¨.é‡‡è´­è®¢å•å·, é‡‡è´­è®¢å•è¡¨.é‡‡è´­æ—¥æœŸ, é‡‡è´­è®¢å•è¡¨.ä¾›åº”å•†ID, é‡‡è´­è®¢å•è¡¨.ç»åŠäºº&quot; a = a &amp; &quot; FROM é‡‡è´­è®¢å•è¡¨;&quot; å»é‡å•åˆ—å»é‡ ActiveSheet.Range(&quot;G21:R36&quot;).RemoveDuplicates Columns:=12, Header:=xlYes å¤šåˆ—å»é‡ Thisworkbook.Sheets(&quot;test&quot;).Range(&quot;$A:$AL&quot;).RemoveDuplicates Columns:=Array(1, 2, 3, 4, 5, 6, 7, 8, 9), Header:=xlYes å½“ç„¶ä¹Ÿå¯ä»¥ç”¨å­—å…¸åŠ æ•°ç»„ä»¥åŠSQLç­‰æ–¹å¼å®ç°å»é‡ï¼Œä¼šæ›´æœ‰æ•ˆç‡ï¼Œè¿™é‡Œä¸åœ¨èµ˜è¿° VBAéšè—ä¸å–æ¶ˆéšè—Set raw = ThisWorkbook.Sheets(&quot;raw data&quot;) &#39;å–æ¶ˆå·¥ä½œè¡¨çš„å…¨éƒ¨éšè— raw.Columns.Hidden = False &#39;å–æ¶ˆæ‰€æœ‰åˆ—çš„éšè— raw.Rows.Hidden = False &#39;&#39;å–æ¶ˆæ‰€æœ‰è¡Œçš„éšè— &#39;å°†akåˆ°bkåˆ—éšè— raw.Columns(&quot;AK:BK&quot;).EntireColumn.Hidden = True &#39;å°†Columnsæ¢ä¸ºrowså³ä¸ºå¯¹è¡Œæ“ä½œ æ¸…é™¤Set raw = ThisWorkbook.Sheets(&quot;raw data&quot;) raw.Range(&quot;A2:MM&quot; &amp; raw.Rows.Count).ClearContents&#39;æ¸…é™¤å†…å®¹ raw.Range(&quot;A2:MM&quot; &amp; raw.Rows.Count).ClearFormats&#39;æ¸…é™¤æ ¼å¼ raw.cells.clear&#39;å…¨éƒ¨æ¸…é™¤ é€‰å–æ–‡ä»¶å¤¹å¯ä»¥è®©ç”¨æˆ·é€‰å–æ–‡ä»¶å¤¹ï¼Œå¹¶è¿”å›æ–‡ä»¶å¤¹ä½ç½® Sub SelectFolder() Dim Path As String With Application.FileDialog(msoFileDialogFolderPicker) If .Show = -1 Then &#39;FileDialog å¯¹è±¡çš„ Show æ–¹æ³•æ˜¾ç¤ºå¯¹è¯æ¡†ï¼Œå¹¶ä¸”è¿”å› -1ï¼ˆå¦‚æœæŒ‰ OKï¼‰å’Œ 0ï¼ˆå¦‚æœæŒ‰ Cancelï¼‰ Path = .SelectedItems(1) MsgBox &quot;æ‚¨é€‰æ‹©çš„æ–‡ä»¶å¤¹æ˜¯ï¼š&quot; &amp; Path, vbOKOnly + vbInformation &#39;è·å–åˆ°çš„Pathé•¿è¿™ä¸ªæ ·å­ï¼š&quot;D:\\VBA\\Report\\Format&quot;ï¼ŒFormatå°±æ˜¯æˆ‘é€‰ä¸­çš„æ–‡ä»¶å¤¹çš„åå­— End If End With End Sub è·å–ç¨‹åºè¿è¡Œæ—¶é—´t = Timer &#39;ä¸­é—´åŠ å…¥æƒ³è®¡æ—¶çš„ä»£ç å—ï¼Œè¿™é‡Œæˆ‘éšæ„åŠ ä¸Šå‡ å¥ä»£ç æµ‹è¯• Set raw = ThisWorkbook.Sheets(&quot;raw data&quot;) raw.Range(&quot;A2:MM&quot; &amp; raw.Rows.Count).ClearContents raw.Range(&quot;A2:MM&quot; &amp; raw.Rows.Count).ClearFormats MsgBox Timer - t å¯¹æŒ‡å®šåˆ—åè¿›è¡Œæ“ä½œæ³¨æ„matchå‡½æ•°æ˜¯å¤§å°å†™æ•æ„Ÿçš„ &#39;å¿½ç•¥é”™è¯¯è¯­å¥ï¼Œå¦‚æœMatchæ‰¾ä¸åˆ°æŒ‡å®šçš„å€¼ä¹Ÿä¸ä¼šæŠ¥é”™,å¯ä»¥ç»§ç»­å¾€ä¸‹è¿è¡Œ On Error Resume Next c = Application.Match(&quot;Date&quot;, Rows(1), 0) &#39;åœ¨ç¬¬ä¸€è¡ŒæŸ¥æ‰¾Dateåˆ— If c &lt;&gt; &quot;&quot; then Columns(c).Format VBAä¸­è°ƒç”¨excelå†…ç½®å‡½æ•°&#39;è°ƒç”¨minå’Œmaxå‡½æ•° min_age = WorksheetFunction.Min(age.Columns(&quot;A&quot;)) enddate = Format(WorksheetFunction.Max(rawclean.Columns(&quot;AA&quot;)), &quot;yyyy/mm/dd&quot;) è°ƒæ•´æ•°å­—æ ¼å¼&#39;ä¸€èˆ¬æ ¼å¼ Columns(&quot;AA:AA&quot;).NumberFormat = &quot;General&quot; &#39;å°æ•°æ ¼å¼ Columns(&quot;AA:AA&quot;).NumberFormat = &quot;0.00&quot; &#39;æ—¥æœŸæ ¼å¼ Columns(&quot;AA:AA&quot;).NumberFormat = &quot;m/d/yyyy&quot; &#39;ç™¾åˆ†æ¯”æ ¼å¼ Columns(&quot;AA:AA&quot;).NumberFormat = &quot;0.00%&quot; å…³é—­ã€å¼€å¯ç³»ç»Ÿæé†’ï¼Œåˆ·æ–°ç­‰è®¾ç½®ä¸€èˆ¬VBAä¸­å¸¸ç”¨çš„å…³é—­æç¤ºå¦‚ä¸‹ï¼Œå…¶ä»–çš„æç¤ºè®¾ç½®ç­‰æš‚ä¸èµ˜è¿° Application.ScreenUpdating = False &#39;å…³é—­å±å¹•æ›´æ–° Application.DisplayAlerts = False &#39;å…³é—­å¼¹çª—è­¦å‘Š Application.AskToUpdateLinks = False &#39;å…³é—­ç¨‹åºè¯¢é—®æ›´æ–°é“¾æ¥æç¤º &#39;è®¾ç½®ä¸ºtrueå³å¯æ‰“å¼€ Application.ScreenUpdating = True Application.DisplayAlerts = True Application.AskToUpdateLinks = True é€‰æ‹©æ•°æ®åŒºåŸŸ&#39;é€‰å–æŒ‡å®šçš„èŒƒå›´åŒºåŸŸ Sheets(1).Range(&quot;A1:D5&quot;).select &#39;é€‰æ‹©ç¬¬ä¸€è¡Œ Rows(1).select Range(&quot;1:1&quot;).select Rows(&quot;1:1&quot;).select &#39;é€‰æ‹©ç¬¬ä¸€åˆ— Columns(1).select Range(&quot;a:a&quot;).select &#39;é€‰å–åŒ…å«å½“å‰å•å…ƒæ ¼çš„æ‰€æœ‰è¿ç»­çš„ä½¿ç”¨åŒºåŸŸ Sheets(1).Range(&quot;A1&quot;).CurrentRegion.Copy &#39;é€‰å–sheet1ä¸­æ‰€æœ‰å·²ä½¿ç”¨ï¼ˆç¼–è¾‘è¿‡çš„ï¼‰å•å…ƒæ ¼èŒƒå›´ Worksheets(&quot;Sheet1&quot;).UsedRange.Select é€‰æ‹©å¤šä¸ªä¸è¿ç»­çš„åŒºåŸŸ&#39;ä¸¤ä¸ªæˆ–å¤šä¸ªå¼•ç”¨ä¹‹é—´æ’å…¥é€—å·ï¼Œå¯ä½¿ç”¨ Range å±æ€§å¼•ç”¨å¤šä¸ªåŒºåŸŸ Worksheets(&quot;Sheet1&quot;).Range(&quot;C5:D9,G9:H16,B14:D18&quot;).ClearContents &#39;ä½¿ç”¨ Union æ–¹æ³•å°†å¤šä¸ªåŒºåŸŸåˆå¹¶ä¸ºä¸€ä¸ª Range Sub MultipleRange() Dim r1, r2, myMultipleRange As Range Set r1 = Sheets(&quot;Sheet1&quot;).Range(&quot;A1:B2&quot;) Set r2 = Sheets(&quot;Sheet1&quot;).Range(&quot;C3:D4&quot;) Set myMultipleRange = Union(r1, r2) myMultipleRange.Font.Bold = True End Sub ä½¿ç”¨æ•°ç»„+å­—å…¸æ–¹æ³•å®ç°VlookupåŠŸèƒ½ Sub Vlookup_byarray() &#39;Arrä¸ºå¡«å†™vlookupç»“æœçš„åŒºåŸŸ Arr = thisworkbook.sheets(&quot;test&quot;).Range(&quot;a1&quot;).CurrentRegion Set d = CreateObject(&quot;Scripting.Dictionary&quot;) &#39;dæ˜¯å­—å…¸,åˆ›å»ºå­—å…¸ arr1 = Sheets(&quot;raw&quot;).Range(&quot;a1&quot;).CurrentRegion &#39;ARR1å°±æ˜¯è¦vçš„æ•°æ®,å³åŸå§‹æ•°æ® For i = 2 To UBound(arr1) &#39;å¯¹äºä»Arr1é‡Œçš„æ‰€æœ‰æ•°æ® d(arr1(i, 1)) = arr1(i, 2) &#39;ç»™å­—å…¸èµ‹å€¼ï¼Œé”®åœ¨æ•°ç»„ç¬¬ä¸€åˆ—ï¼Œå€¼åœ¨æ•°ç»„ç¬¬2åˆ— Next For i = 2 To UBound(Arr) &#39;éå†Arrçš„æ‰€æœ‰æ•°æ® &#39;å¦‚æœç»“æœåŒºåŸŸä¸­ç¬¬ä¸‰åˆ—ä¸­çš„å€¼åœ¨å­—å…¸ä¸­å­˜åœ¨ï¼Œå°±åœ¨æ•°ç»„ç¬¬10åˆ—è¿”å›å…¶å¯¹åº”çš„å€¼ If d.exists(Arr(i, 3)) Then Arr(i, 10) = d(Arr(i, 3)) Else Arr(i, 10) = &quot;æ²¡æœ‰è¯¥å€¼ï¼Œè¯·æ£€æŸ¥&quot; End If Next d.RemoveAll &#39;æ¸…ç©ºå­—å…¸ End Sub åŒæ—¶æ›¿æ¢å¤šç»„å€¼Sub ReplaceMulValues() Dim myRange As Range, myList As Range lastrow = ThisWorkbook.Sheets(&quot;plan&quot;).Cells(Rows.Count, 1).End(3).Row &#39;myRangeä¸ºåŸå§‹å€¼åŒºåŸŸ &#39;myList ä¸ºæœ‰æ›¿æ¢å‰å€¼å’Œæ›¿æ¢åå€¼çš„åˆ—è¡¨åŒºåŸŸ Set myRange = ThisWorkbook.Sheets(&quot;plan&quot;).Range(&quot;A6:A&quot; &amp; lastrow) Set myList = ThisWorkbook.Sheets(&quot;replacelist&quot;).Range(&quot;F2:G32&quot;) For Each cel In myList.Columns(1).Cells myRange.Replace What:=cel.value, Replacement:=cel.Offset(0, 1).value Next End Sub ä½¿ç”¨æ•°ç»„å®ç°å¤åˆ¶ç²˜è´´ä¸ºå€¼çš„æ•ˆæœä½¿ç”¨æ•°ç»„å®ç°å¤åˆ¶ç²˜è´´çš„å¥½å¤„åœ¨äºè¿™ç§æ–¹æ³•ä¸ç”¨å…³å¿ƒæ˜¯å¦æœ‰ç­›é€‰ï¼ŒåŒæ—¶ä¼šè‡ªåŠ¨æŠŠæ–‡æœ¬å‹çš„æ•°å­—å˜ä¸ºæ•°å€¼å‹ã€‚ Set spsheet = ThisWorkbook.Sheets(&quot;test&quot;) &#39;å…ˆå¯¹arræ•°ç»„èµ‹å€¼ arr = spsheet.Range(&quot;A1:Z10&quot;) &#39;å†å°†æ•°ç»„é‡Œçš„å€¼èµ‹å€¼åˆ°ç»“æœåŒºåŸŸã€‚UBound(arr,1)ä¸ºæ•°ç»„çš„è¡Œæ•°ï¼ŒUBound(arr,2)æ˜¯æ•°ç»„çš„åˆ—æ•°ï¼Œè¿™æ ·å¯ä»¥å®ç°åŠ¨æ€çš„å¤åˆ¶ç²˜è´´ã€‚å¦‚æœè¡Œæ•°æˆ–åˆ—æ•°ç¡®å®šä¹Ÿå¯ç›´æ¥ä½¿ç”¨å›ºå®šå€¼ spsheet.[a9].Resize(UBound(arr,1), UBound(arr,2)) = arr æ–°å»ºä¸€ä»½excelæ–‡ä»¶ Sub new_file_result() &#39;åˆ›å»ºä¸€ä¸ªæ–°çš„excelæ–‡ä»¶å¹¶ä¿å­˜ Set excelApp = CreateObject(&quot;Excel.Application&quot;) &#39;æ–°å»ºæ¨¡æ¿æ–‡ä»¶ Set excelWB = excelApp.Workbooks.Add excelApp.DisplayAlerts = False savePath = ActiveWorkbook.path &amp; &quot;\\æµ‹è¯•è¡¨.xlsx&quot; excelWB.SaveAs savePath excelApp.Quit End Sub ä½¿ç”¨ Workbooks.Add å¯ä»¥å¿«é€Ÿæ–°å»ºæ–‡ä»¶ éšå¼æ‰“å¼€æ–‡ä»¶éšå¼æ‰“å¼€æ–‡ä»¶æ—¶ç”¨æˆ·æ²¡æœ‰åŠæ³•çœ‹åˆ°æ‰“å¼€æ–‡ä»¶çš„çª—å£ï¼Œä½†æ˜¯å®é™…ä¸Šæ–‡ä»¶è¿˜æ˜¯å·²ç»æ‰“å¼€çš„ï¼Œæ‰€ä»¥åœ¨åé¢è¦åŠ ä¸Šå…³é—­æ–‡ä»¶çš„è¯­å¥ã€‚ Set wb = GetObject(&quot;test_202012.xlsx&quot;) a = wb.Sheets(&quot;test&quot;).Range(&quot;B1&quot;).Value wb.Close False éå†æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶s = xlsx &#39;å®šä¹‰è¦éå†çš„æ–‡ä»¶ç±»å‹ f = Dir(ThisWorkbook.Path &amp; &quot;\\*&quot; &amp; s) &#39;ç”ŸæˆæŸ¥æ‰¾EXCELçš„ç›®å½• Do While f &lt;&gt; &quot;&quot; &#39;åœ¨ç›®å½•ä¸­å¾ªç¯ If f &lt;&gt; ThisWorkbook.Name Then &#39;å¦‚æœä¸æ˜¯å½“å‰æ‰“å¼€çš„å·¥ä½œç°¿ Set wb = Workbooks.Open(ThisWorkbook.Path &amp; &quot;\\&quot; &amp; f) &#39;æ‰“å¼€æ–‡ä»¶å¹¶èµ‹å€¼ä¸ºwb start = ThisWorkbook.Sheets(&quot;Cover&quot;).[B1].Value&#39;å¯¹æ¯ä¸ªæ–‡ä»¶çš„æ“ä½œ wb.Close End If f = Dir Loop","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"Excel & VBA","slug":"Excel-VBA","permalink":"http://smilecoc.vip/tags/Excel-VBA/"}],"author":"smilecoc"},{"title":"Pythonæ•°æ®åˆ†æå®æˆ˜ä¹‹è¥é”€ç»„åˆæ¨¡å‹","slug":"MMM","date":"2020-05-31T11:21:08.000Z","updated":"2022-04-17T08:26:51.487Z","comments":true,"path":"2020/05/31/MMM/","link":"","permalink":"http://smilecoc.vip/2020/05/31/MMM/","excerpt":"","text":"è¥é”€ç»„åˆæ¨¡å‹æ¦‚è¿°Marketing Mix Modeling ï¼ˆMMMï¼‰è¥é”€ç»„åˆæ¨¡å‹æ˜¯ä¸€å¥—ç»Ÿè®¡åˆ†ææŠ€æœ¯ï¼Œç”¨æ¥æµ‹é‡å’Œé¢„æµ‹ä¸åŒè¥é”€è¡Œä¸ºå¯¹é”€å”®åŠROIçš„å½±å“ã€‚å®ƒè¢«ç”¨æ¥æµ‹é‡æ•´ä½“çš„marketing effectivenesså¹¶ç”¨æ¥åœ¨ä¸åŒçš„è¥é”€æ¸ é“ä¸­å†³å®šæœ€ä¼˜çš„é¢„ç®—åˆ†é… Marketing Mixä¸­çš„â€œMixâ€ä¸€è¯æœ€æ—©æŒ‡çš„æ˜¯Mix of 4Psï¼ˆProductï¼ŒPriceï¼ŒPlace &amp; Promotionï¼‰ã€‚æ—©æœŸMMMåˆ†æçš„ç›®çš„å°±æ˜¯ä¸ºäº†ç†è§£å¹¶æ‰¾åˆ°è¿™4Pçš„æœ€ä¼˜ç»„åˆï¼ŒåŒæ—¶æµ‹é‡å¹¶é¢„æµ‹ä¸åŒçš„è¥é”€æ´»åŠ¨å¯¹é”€å”®çš„ä¸åŒå½±å“ã€‚ æ—¶è‡³ä»Šæ—¥ï¼ŒMMMä¸­åŒ…å«çš„å˜é‡æ›´åŠ å¹¿æ³›ï¼Œä¸€ä¸ªMarketing Mix Modelå¯ä»¥ç”±ä»¥ä¸‹è¿™äº›ç±»å‹çš„æ•°æ®ç»„æˆï¼š Target Audience data ï¼ˆç›®æ ‡ç”¨æˆ·æ•°æ®ï¼‰ Product data ï¼ˆäº§å“æ•°æ®ï¼ŒåŒ…æ‹¬äº§å“ä»·æ ¼ã€äº§å“ç‰¹å¾ï¼‰ Competitive dataï¼ˆç«å“æ•°æ®ï¼‰ Industry dataï¼ˆè¡Œä¸šæ•°æ®ï¼‰ Economic dataï¼ˆç»æµæ•°æ®ï¼‰ Marketing dataï¼ˆè¥é”€æ•°æ®ï¼‰ Conversion dataï¼ˆè½¬åŒ–æ•°æ®å¦‚salesï¼Œprofitï¼ŒROIï¼‰ è¥é”€ç»„åˆæ¨¡å‹å®æˆ˜1.é¦–å…ˆå¯¼å…¥æ•°æ®ä¸æ‰€éœ€è¦çš„åº“import pandas as pd import numpy as np import matplotlib.patches as mpatches import matplotlib.pyplot as plt data = pd.read_excel(&#39;MMM.xlsx&#39;) 2.EDA(æ¢ç´¢æ€§æ•°æ®åˆ†æ)é¦–å…ˆè¿›è¡Œæ¢ç´¢æ€§æ•°æ®åˆ†æï¼Œå…ˆå¤§è‡´çš„çœ‹ä¸€ä¸‹å„åˆ—æ•°æ® print (data.describe()) &gt;&gt;&gt; Brand ID Year Absolut Aristocrat Barton \\ count 263.000000 263.000000 263.000000 263.000000 263.000000 mean 12.596958 2001.695817 0.049430 0.049430 0.049430 std 7.654584 3.639093 0.217177 0.217177 0.217177 min 1.000000 1995.000000 0.000000 0.000000 0.000000 25% 6.000000 1999.000000 0.000000 0.000000 0.000000 50% 12.000000 2002.000000 0.000000 0.000000 0.000000 75% 18.000000 2005.000000 0.000000 0.000000 0.000000 max 31.000000 2007.000000 1.000000 1.000000 1.000000 Belvedere Burnett Chopin Crystal Palac Finlandia ... \\ count 263.000000 263.000000 263.000000 263.000000 263.000000 ... mean 0.026616 0.041825 0.026616 0.049430 0.049430 ... std 0.161265 0.200571 0.161265 0.217177 0.217177 ... min 0.000000 0.000000 0.000000 0.000000 0.000000 ... 25% 0.000000 0.000000 0.000000 0.000000 0.000000 ... 50% 0.000000 0.000000 0.000000 0.000000 0.000000 ... 75% 0.000000 0.000000 0.000000 0.000000 0.000000 ... max 1.000000 1.000000 1.000000 1.000000 1.000000 ... LagTotalMinusSales TierSales OutsideTierSales LagTierSales \\ count 263.000000 263.000000 263.000000 263.000000 mean 62673.935361 9547.235741 53106.615970 9215.528517 std 1548.346560 2917.310122 2259.775837 2946.563257 min 55687.000000 846.000000 48358.000000 697.000000 25% 62459.000000 8151.500000 51863.000000 7493.000000 50% 63204.000000 10605.000000 52335.000000 10400.000000 75% 63616.000000 11209.000000 54570.000000 11127.500000 max 64131.000000 15790.000000 59760.000000 14299.000000 LagOutsideTierSales Firstintro Marketshare LagMktshare YearID \\ count 263.000000 263.000000 263.000000 263.000000 263.000000 mean 53458.406844 0.015209 0.046972 0.047470 9.695817 std 2327.430916 0.122617 0.053831 0.054685 3.639093 min 49806.000000 0.000000 0.001468 0.000971 3.000000 25% 51947.000000 0.000000 0.014762 0.014655 7.000000 50% 52419.000000 0.000000 0.029463 0.029181 10.000000 75% 55392.000000 0.000000 0.053087 0.053633 13.000000 max 59868.000000 1.000000 0.270477 0.270477 15.000000 total ad count 263.000000 mean 7386.359312 std 14280.852135 min 6.000000 25% 6.000000 50% 6.000000 75% 9691.400000 max 70489.200000 å¯ä»¥çœ‹å‡ºæ•°æ®æ€»å…±æœ‰263è¡Œï¼ŒåŒæ—¶æŸ¥çœ‹æœ‰æ²¡æœ‰ç¼ºå¤±æ•°æ®çš„å­˜åœ¨ã€‚ #æŸ¥çœ‹æ˜¯å¦æœ‰ç©ºå€¼ data.isnull().any() ... diff False IfDom False DollarSales False PriceRerUnit False LagPrice True LnPrice False LnLPrice True Mag False News False ... æŸ¥çœ‹åˆ—ï¼Œæ•°æ®çš„æ•°æ®å­—å…¸å·²ç»æ”¾åœ¨MMMæ•°æ®æ–‡ä»¶ä¸­ï¼Œå¯ä»¥å¯¹ç…§ç€çœ‹ä¸€ä¸‹å„åˆ—çš„å«ä¹‰æ³¨æ„ï¼šæ•°æ®å·²ç»æ¸…æ´—è¿‡ï¼Œæ‰€ä»¥ç¼ºå¤±å€¼è¾ƒå°‘ï¼ŒåŒæ—¶ç”±äºéœ€è¦çš„å­—æ®µä¸­çš„æ•°å­—æ•°é‡çº§ç›¸å·®è¾ƒå¤§ï¼Œæ‰€ä»¥å¯¹å…¶è¿›è¡Œå–å¯¹æ•°å¤„ç† print (data.columns) &gt;&gt;&gt; [8 rows x 66 columns] Index([&#39;BrandName&#39;, &#39;Brand ID&#39;, &#39;Year&#39;, &#39;Absolut&#39;, &#39;Aristocrat&#39;, &#39;Barton&#39;, &#39;Belvedere&#39;, &#39;Burnett&#39;, &#39;Chopin&#39;, &#39;Crystal Palac&#39;, &#39;Finlandia&#39;, &#39;Fleischmann&#39;s&#39;, &#39;Fris&#39;, &#39;Gilbey&#39;s&#39;, &#39;Gordon&#39;s&#39;, &#39;Grey Goose&#39;, &#39;Kamchatka&#39;, &#39;Ketel One&#39;, &#39;Level&#39;, &#39;McCormick&#39;, &#39;Polar Ice&#39;, &#39;Popov&#39;, &#39;Pravda&#39;, &#39;Seagram&#39;s&#39;, &#39;Skol&#39;, &#39;Sky&#39;, &#39;Smirnoff&#39;, &#39;Stolicnaya&#39;, &#39;Tanqueray&#39;, &#39;Three Olives&#39;, &#39;TotalSales&#39;, &#39;LagTotalSales&#39;, &#39;2LagTotalSales&#39;, &#39;LnSales&#39;, &#39;LnLSales&#39;, &#39;Ln2Lsales&#39;, &#39;LnDiff&#39;, &#39;diff&#39;, &#39;IfDom&#39;, &#39;DollarSales&#39;, &#39;PriceRerUnit&#39;, &#39;LagPrice&#39;, &#39;LnPrice&#39;, &#39;LnLPrice&#39;, &#39;Mag&#39;, &#39;News&#39;, &#39;Outdoor&#39;, &#39;Broad&#39;, &#39;Print&#39;, &#39;LnMag&#39;, &#39;LnNews&#39;, &#39;LnOut&#39;, &#39;LnBroad&#39;, &#39;LnPrint&#39;, &#39;Tier1&#39;, &#39;Tier2&#39;, &#39;TotalMinusSales&#39;, &#39;LagTotalMinusSales&#39;, &#39;TierSales&#39;, &#39;OutsideTierSales&#39;, &#39;LagTierSales&#39;, &#39;LagOutsideTierSales&#39;, &#39;Firstintro&#39;, &#39;Marketshare&#39;, &#39;LagMktshare&#39;, &#39;YearID&#39;, &#39;total ad&#39;], dtype=&#39;object&#39;) æ¥ä¸‹æ¥å†çœ‹æ•°æ®ä¸­ä¸€å…±æœ‰å¤šå°‘ä¸ªå“ç‰Œï¼š print (data[&#39;BrandName&#39;].unique()) print (&#39;\\n&#39;) print (&#39;Total Number of brands&#39;,len(data[&#39;BrandName&#39;].unique())) &gt;&gt;&gt; [&#39;Absolut&#39; &#39;Aristocrat&#39; &#39;Barton&#39; &#39;Belvedere&#39; &#39;Burnett&#39; &#39;Chopin&#39; &#39;Crystal Palac&#39; &#39;Finlandia&#39; &quot;Fleischmann&#39;s&quot; &#39;Fris&#39; &quot;Gilbey&#39;s&quot; &quot;Gordon&#39;s&quot; &#39;Grey Goose&#39; &#39;Kamchatka&#39; &#39;Ketel One&#39; &#39;Level&#39; &#39;McCormick&#39; &#39;Polar Ice&#39; &#39;Popov&#39; &#39;Pravda&#39; &quot;Seagram&#39;s&quot; &#39;Skol&#39; &#39;Sky&#39; &#39;Smirnoff&#39; &#39;Stolicnaya&#39; &#39;Tanqueray&#39; &#39;Three Olives&#39;] Total Number of brands 27 å¯ä»¥çœ‹åˆ°è¯¥æ•°æ®é›†åŒ…æ‹¬æ€»å…±27ä¸ªä¼ç‰¹åŠ åˆ¶é€ å…¬å¸å“ç‰Œã€‚å¯¹äºMMMï¼Œè®©æˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªå“ç‰Œå¹¶åˆ†æä»·æ ¼å¯¹é”€å”®çš„å½±å“ã€‚ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬é€‰æ‹©â€™Absolutâ€™ä½œä¸ºæˆ‘ä»¬çš„åˆ†æå“ç‰Œã€‚ Absolut = data[data[&#39;BrandName&#39;] == &#39;Absolut&#39;]] Pr_Absolut = Absolut[[&#39;LnSales&#39;,&#39;LnPrice&#39;]] ä¹‹åç”»å‡ºAbsolutçš„ä»·æ ¼ä¸é”€å”®ä¹‹é—´çš„å…³ç³» plt.scatter(Pr_Absolut[&#39;LnPrice&#39;],Pr_Absolut[&#39;LnSales&#39;]) plt.xlabel(&#39;Log of Price&#39;) plt.ylabel(&#39;Log of Sales&#39;) plt.show() matplotlib.pyplot.scatteå‡½æ•°çš„è¯­æ³•ä¸ºï¼š matplotlib.pyplot.scatter(x, y, s=None, c=None, marker=None, cmap=None, norm=None, vmin=None, vmax=None, alpha=None, linewidths=None, verts=None, edgecolors=None, , data=None, *kwargs) å‚æ•°çš„è§£é‡Šï¼šxï¼Œyï¼šè¡¨ç¤ºçš„æ˜¯å¤§å°ä¸º(n,)çš„æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å³å°†ç»˜åˆ¶æ•£ç‚¹å›¾çš„æ•°æ®ç‚¹ s:æ˜¯ä¸€ä¸ªå®æ•°æˆ–è€…æ˜¯ä¸€ä¸ªæ•°ç»„å¤§å°ä¸º(n,)ï¼Œè¿™ä¸ªæ˜¯ä¸€ä¸ªå¯é€‰çš„å‚æ•°ã€‚ c:è¡¨ç¤ºçš„æ˜¯é¢œè‰²ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå¯é€‰é¡¹ã€‚é»˜è®¤æ˜¯è“è‰²â€™bâ€™,è¡¨ç¤ºçš„æ˜¯æ ‡è®°çš„é¢œè‰²ï¼Œæˆ–è€…å¯ä»¥æ˜¯ä¸€ä¸ªè¡¨ç¤ºé¢œè‰²çš„å­—ç¬¦ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªé•¿åº¦ä¸ºnçš„è¡¨ç¤ºé¢œè‰²çš„åºåˆ—ç­‰ç­‰ï¼Œæ„Ÿè§‰è¿˜æ²¡ç”¨åˆ°è¿‡ç°åœ¨ä¸è§£é‡Šäº†ã€‚ä½†æ˜¯cä¸å¯ä»¥æ˜¯ä¸€ä¸ªå•ç‹¬çš„RGBæ•°å­—ï¼Œä¹Ÿä¸å¯ä»¥æ˜¯ä¸€ä¸ªRGBAçš„åºåˆ—ã€‚å¯ä»¥æ˜¯ä»–ä»¬çš„2ç»´æ•°ç»„ï¼ˆåªæœ‰ä¸€è¡Œï¼‰ã€‚ marker:è¡¨ç¤ºçš„æ˜¯æ ‡è®°çš„æ ·å¼ï¼Œé»˜è®¤çš„æ˜¯â€™oâ€™ã€‚ cmap:Colormapå®ä½“æˆ–è€…æ˜¯ä¸€ä¸ªcolormapçš„åå­—ï¼Œcmapä»…ä»…å½“cæ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°æ•°ç»„çš„æ—¶å€™æ‰ä½¿ç”¨ã€‚å¦‚æœæ²¡æœ‰ç”³æ˜å°±æ˜¯image.cmap norm:Normalizeå®ä½“æ¥å°†æ•°æ®äº®åº¦è½¬åŒ–åˆ°0-1ä¹‹é—´ï¼Œä¹Ÿæ˜¯åªæœ‰cæ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°çš„æ•°ç»„çš„æ—¶å€™æ‰ä½¿ç”¨ã€‚å¦‚æœæ²¡æœ‰ç”³æ˜ï¼Œå°±æ˜¯é»˜è®¤ä¸ºcolors.Normalizeã€‚ vmin,vmax:å®æ•°ï¼Œå½“normå­˜åœ¨çš„æ—¶å€™å¿½ç•¥ã€‚ç”¨æ¥è¿›è¡Œäº®åº¦æ•°æ®çš„å½’ä¸€åŒ–ã€‚oalphaï¼šå®æ•°ï¼Œ0-1ä¹‹é—´ã€‚ linewidths:ä¹Ÿå°±æ˜¯æ ‡è®°ç‚¹çš„é•¿åº¦ å¾—åˆ°çš„æ•£ç‚¹å›¾å¦‚ä¸‹æ‰€ç¤ºï¼šä»ç”Ÿæˆçš„æ•£ç‚¹å›¾ä¸­æˆ‘ä»¬å¯ä»¥çŸ¥é“éšç€ä»·æ ¼çš„å¢é•¿é”€é‡å¢åŠ ã€‚ import statsmodels.formula.api as sm result = sm.ols(formula = &#39;LnSales ~ LnPrice&#39;,data = Pr_Absolut).fit() result.summary() Statsmodels æ˜¯ Python ä¸­ä¸€ä¸ªå¼ºå¤§çš„ç»Ÿè®¡åˆ†æåŒ…ï¼ŒåŒ…å«äº†å›å½’åˆ†æã€æ—¶é—´åºåˆ—åˆ†æã€å‡è®¾æ£€éªŒç­‰ç­‰çš„åŠŸèƒ½,å½“æˆ‘ä»¬éœ€è¦ä½¿ç”¨å›å½’æ—¶ï¼Œåªéœ€è¦import statsmodels.formula.api as små³å¯ï¼ˆä¹Ÿå¯ä»¥import statsmodels.api as smï¼Œä¸¤è€…çš„ç”¨æ³•ä¼šæœ‰ä¸€äº›å·®åˆ«ï¼Œä½†æ˜¯å…·æœ‰ç›¸åŒçš„åŠŸèƒ½ï¼‰ã€‚ ä½¿ç”¨sm.ols(formula = â€˜LnSales ~ LnPriceâ€™,data = Pr_Absolut).fit()å³å¯è·å–æ‹Ÿåˆç»“æœ #è·å–è®¡ç®—å‡ºçš„å›å½’ç³»æ•° print(result.params) #æ‰“å°å‡ºå…¨éƒ¨æ‘˜è¦ print(result.summary()) å¾—åˆ°çš„å›å½’ç³»æ•°ä¸æ¦‚è¦ï¼š Intercept 2.836674LnPrice 1.130972ä»ä¸Šè¿°çš„æè¿°ä¸­å¯ä»¥å¾—åˆ°Ræ–¹ï¼ˆR-squaredï¼‰çš„å€¼ä¸º0.688ï¼Œå³æ­¤å‡½æ•°æ¥è¿‘69ï¼…çš„æ•°æ®ç‚¹ã€‚ä»·æ ¼ç³»æ•°è¡¨æ˜ï¼Œæ¯å¢åŠ å•ä½ä»·æ ¼ï¼Œé”€å”®é¢ä¾¿å¢åŠ 1.13å€ã€‚åŒæ—¶P&gt;|t|çš„å€¼ä¸º0.è¡¨ç¤ºä¸¤è€…ä¹‹é—´æœ‰éå¸¸æ˜¾è‘—çš„å…³ç³» æˆ‘ä»¬è¿˜å¯ä»¥å°†æ‹Ÿåˆç»“æœç”»å‡ºæ¥ã€‚ #å…ˆè°ƒç”¨æ‹Ÿåˆç»“æœçš„ fittedvalues å¾—åˆ°æ‹Ÿåˆçš„ y å€¼ã€‚ y_fitted = result.fittedvalues #ç„¶åä½¿ç”¨ matplotlib.pyploft ç”»å›¾ã€‚é¦–å…ˆè®¾å®šå›¾è½´ï¼Œå›¾ç‰‡å¤§å°ä¸º 8Ã—6ã€‚ fig, ax = plt.subplots(figsize=(8,6)) #ç”»å‡ºåŸæ•°æ®ï¼Œå›¾åƒä¸ºåœ†ç‚¹ï¼Œé»˜è®¤é¢œè‰²ä¸ºè“ã€‚ ax.plot(x, y, &#39;o&#39;, label=&#39;data&#39;) #ç”»å‡ºæ‹Ÿåˆæ•°æ®ï¼Œå›¾åƒä¸ºçº¢è‰²å¸¦ç‚¹é—´æ–­çº¿ã€‚ ax.plot(x, y_fitted, &#39;r--.&#39;,label=&#39;OLS&#39;) #æ”¾ç½®æ³¨è§£ã€‚ ax.legend(loc=&#39;best&#39;) å¾—åˆ°çš„æ‹Ÿåˆæ›²çº¿ä¸æ•£ç‚¹å›¾çš„å…³ç³»å¦‚å›¾ æ¥ä¸‹æ¥æˆ‘ä»¬å‘å›å½’ä¸­æ·»åŠ æ›´å¤šå˜é‡ï¼Œçœ‹çœ‹Ræ–¹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚ é¦–å…ˆå°è¯•ä½¿ç”¨å¹¿å‘Šå’Œä»·æ ¼åˆ— Ad_Absolut = Absolut[[&#39;LnSales&#39;,&#39;LnMag&#39;,&#39;LnNews&#39;,&#39;LnOut&#39;,&#39;LnBroad&#39;,&#39;LnPrint&#39;,&#39;LnPrice&#39;]] result_ad = sm.ols(&#39;LnSales ~ LnMag + LnNews + LnOut + LnBroad + LnPrint + LnPrice&#39;,data=Ad_Absolut).fit() result_ad.summary() å¾—åˆ°å¦‚ä¸‹ç»“æœ è°ƒæ•´Ræ–¹å€¼ï¼ˆAdj. R-squaredï¼‰æ˜¾ç¤ºè¯¥æ¨¡å‹èƒ½å¤Ÿè§£é‡Š87ï¼…çš„æ•°æ®ç‚¹ã€‚ä½†æ˜¯ï¼Œæ­¤å¤„æŸäº›å˜é‡çš„på€¼å¾ˆé«˜ï¼Œè¿™å¯èƒ½æ˜¯ç”±äºç›¸äº’ä½œç”¨æ•ˆåº”å’Œå…¶ä»–ä¸€äº›å› ç´ å¯¼è‡´çš„ã€‚ æ³¨:å¤šå…ƒå›å½’å®é™…åº”ç”¨ä¸­ï¼Œåˆ¤å®šç³»æ•°Rå¹³æ–¹æœ‰ä¸ªæœ€å¤§çš„é—®é¢˜ï¼šå¢åŠ è‡ªå˜é‡çš„ä¸ªæ•°æ—¶ï¼Œåˆ¤å®šç³»æ•°å°±ä¼šå¢åŠ ï¼Œå³éšç€è‡ªå˜é‡çš„å¢å¤šï¼ŒRå¹³æ–¹ä¼šè¶Šæ¥è¶Šå¤§ï¼Œä¼šæ˜¾å¾—å›å½’æ¨¡å‹ç²¾åº¦å¾ˆé«˜ï¼Œæœ‰è¾ƒå¥½çš„æ‹Ÿåˆæ•ˆæœã€‚è€Œå®é™…ä¸Šå¯èƒ½å¹¶éå¦‚æ­¤ï¼Œæœ‰äº›è‡ªå˜é‡ä¸å› å˜é‡ï¼ˆå³é¢„æµ‹ï¼‰å®Œå…¨ä¸ç›¸å…³ï¼Œå¢åŠ è¿™äº›è‡ªå˜é‡ï¼Œå¹¶ä¸ä¼šæå‡æ‹Ÿåˆæ°´å¹³å’Œé¢„æµ‹ç²¾åº¦ã€‚è°ƒæ•´Ræ–¹åŒæ—¶è€ƒè™‘äº†æ ·æœ¬é‡ï¼ˆnï¼‰å’Œå›å½’ä¸­è‡ªå˜é‡çš„ä¸ªæ•°ï¼ˆkï¼‰çš„å½±å“ï¼Œè¿™ä½¿å¾—è°ƒæ•´Ræ–¹æ°¸è¿œå°äºRæ–¹ï¼Œè€Œä¸”è°ƒæ•´Ræ–¹çš„å€¼ä¸ä¼šç”±äºå›å½’ä¸­è‡ªå˜é‡ä¸ªæ•°çš„å¢åŠ è€Œè¶Šæ¥è¶Šæ¥è¿‘1ã€‚å› æ­¤ï¼Œåœ¨å¤šå…ƒå›å½’åˆ†æä¸­ï¼Œé€šå¸¸ç”¨è°ƒæ•´çš„å¤šé‡åˆ¤å®šç³»æ•°æ¥è¯„ä»·æ‹Ÿåˆæ•ˆæœ åŒæ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å…¶ä»–çš„å•å› ç´ çš„å›å½’åˆ†ææ¥åˆ¤æ–­å„ä¸ªåª’ä½“å¯¹å®é™…é”€å”®çš„å½±å“ é€šè¿‡å›å½’ç³»æ•°ï¼Œæˆ‘ä»¬çŸ¥é“æŸä¸€ä¸ªè‡ªå˜é‡å¯¹è‡ªå˜é‡çš„å½±å“çš„ç¨‹åº¦æœ‰å¤šå¤§ åŒæ—¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥çœ‹ä¸€ä¸‹å„ä¸ªå› ç´ ä¸é”€å”®é‡ä¹‹é—´ç›¸å…³æ€§ print(Ad_Absolut.corr()) å¾—åˆ°ç›¸å…³ç³»æ•°å¦‚å›¾ï¼šæºç å’Œå®éªŒæ•°æ®æ–‡ä»¶åœ°å€ï¼šhttps://github.com/smilecoc/Data_analysis/tree/master/MMM","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"Pythonæ•°æ®åˆ†æ","slug":"Pythonæ•°æ®åˆ†æ","permalink":"http://smilecoc.vip/tags/Pythonæ•°æ®åˆ†æ/"}],"author":"smilecoc"},{"title":"æ–¹å·®ã€æ ‡å‡†å·®å’Œå‡æ–¹æ ¹è¯¯å·®çš„åŒºåˆ«æ€»ç»“","slug":"æ–¹å·®ã€æ ‡å‡†å·®å’Œå‡æ–¹æ ¹è¯¯å·®çš„åŒºåˆ«æ€»ç»“","date":"2020-05-31T11:21:08.000Z","updated":"2021-08-08T16:55:15.783Z","comments":true,"path":"2020/05/31/æ–¹å·®ã€æ ‡å‡†å·®å’Œå‡æ–¹æ ¹è¯¯å·®çš„åŒºåˆ«æ€»ç»“/","link":"","permalink":"http://smilecoc.vip/2020/05/31/æ–¹å·®ã€æ ‡å‡†å·®å’Œå‡æ–¹æ ¹è¯¯å·®çš„åŒºåˆ«æ€»ç»“/","excerpt":"","text":"ä¸€ã€æ–¹å·® æ–¹å·®(variance)ï¼šæ˜¯åœ¨æ¦‚ç‡è®ºå’Œç»Ÿè®¡æ–¹å·®è¡¡é‡éšæœºå˜é‡æˆ–ä¸€ç»„æ•°æ®æ—¶ç¦»æ•£ç¨‹åº¦çš„åº¦é‡ã€‚æ¦‚ç‡è®ºä¸­æ–¹å·®ç”¨æ¥åº¦é‡éšæœºå˜é‡å’Œå…¶æ•°å­¦æœŸæœ›ï¼ˆå³å‡å€¼ï¼‰ä¹‹é—´çš„åç¦»ç¨‹åº¦ã€‚ç»Ÿè®¡ä¸­çš„æ–¹å·®ï¼ˆæ ·æœ¬æ–¹å·®ï¼‰æ˜¯å„ä¸ªæ•°æ®åˆ†åˆ«ä¸å…¶å¹³å‡æ•°ä¹‹å·®çš„å¹³æ–¹çš„å’Œçš„å¹³å‡æ•°ã€‚åœ¨è®¸å¤šå®é™…é—®é¢˜ä¸­ï¼Œç ”ç©¶æ–¹å·®å³åç¦»ç¨‹åº¦æœ‰ç€é‡è¦æ„ä¹‰ã€‚ å…¬å¼è¡¨ç¤ºï¼šå¯¹äºä¸€ç»„éšæœºå˜é‡æˆ–è€…ç»Ÿè®¡æ•°æ®ï¼Œå…¶æœŸæœ›å€¼æˆ‘ä»¬ç”±E(X)è¡¨ç¤ºï¼Œå³éšæœºå˜é‡æˆ–ç»Ÿè®¡æ•°æ®çš„å‡å€¼ï¼Œç„¶åå¯¹å„ä¸ªæ•°æ®ä¸å‡å€¼çš„å·®çš„å¹³æ–¹æ±‚å’Œï¼šï¼Œæœ€åå¯¹å®ƒä»¬å†æ±‚æœŸæœ›å€¼å°±å¾—åˆ°äº†æ–¹å·®å…¬å¼ã€‚ è¿™ä¸ªå…¬å¼æè¿°äº†éšæœºå˜é‡æˆ–ç»Ÿè®¡æ•°æ®ä¸å‡å€¼çš„åç¦»ç¨‹åº¦ã€‚ äºŒã€æ–¹å·®ä¸æ ‡å‡†å·®æ ¹å·é‡Œçš„å†…å®¹å°±æ˜¯æˆ‘ä»¬åˆšæåˆ°çš„æ–¹å·®ï¼š é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ—¢ç„¶æœ‰äº†æ–¹å·®æ¥æè¿°å˜é‡ä¸å‡å€¼çš„åç¦»ç¨‹åº¦ï¼Œé‚£åˆæå‡ºæ¥ä¸ªæ ‡å‡†å·®å¹²ä»€ä¹ˆå‘¢ï¼Ÿ åŸå› æ˜¯ï¼šæ–¹å·®ä¸æˆ‘ä»¬è¦å¤„ç†çš„æ•°æ®çš„é‡çº²æ˜¯ä¸ä¸€è‡´çš„ï¼Œè™½ç„¶èƒ½å¾ˆå¥½çš„æè¿°æ•°æ®ä¸å‡å€¼çš„åç¦»ç¨‹åº¦ï¼Œä½†æ˜¯å¤„ç†ç»“æœæ˜¯ä¸ç¬¦åˆæˆ‘ä»¬çš„ç›´è§‚æ€ç»´çš„ã€‚ ä¸¾ä¸ªä¾‹å­ï¼šä¸€ä¸ªç­çº§é‡Œæœ‰60ä¸ªå­¦ç”Ÿï¼Œå¹³å‡æˆç»©æ˜¯70åˆ†ï¼Œæ ‡å‡†å·®æ˜¯9ï¼Œæ–¹å·®æ˜¯81ï¼Œæˆç»©æœä»æ­£æ€åˆ†å¸ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬é€šè¿‡æ–¹å·®ä¸èƒ½ç›´è§‚çš„ç¡®å®šç­çº§å­¦ç”Ÿä¸å‡å€¼åˆ°åº•åç¦»äº†å¤šå°‘åˆ†ï¼Œé€šè¿‡æ ‡å‡†å·®æˆ‘ä»¬å°±å¾ˆç›´è§‚çš„å¾—åˆ°å­¦ç”Ÿæˆç»©åˆ†å¸ƒåœ¨[61,79]èŒƒå›´çš„æ¦‚ç‡ä¸º0.6826ï¼Œå³çº¦ç­‰äºä¸‹å›¾ä¸­çš„34.2%*2 ä¸‰ã€å‡æ–¹å·®ã€å‡æ–¹æ ¹è¯¯å·®æ ‡å‡†å·®ï¼ˆStandard Deviationï¼‰ï¼Œä¸­æ–‡ç¯å¢ƒä¸­åˆå¸¸ç§°å‡æ–¹å·®ï¼Œä½†ä¸åŒäºå‡æ–¹æ ¹è¯¯å·®ï¼ˆmeansquared errorï¼Œå‡æ–¹æ ¹è¯¯å·®æ˜¯å„æ•°æ®åç¦»çœŸå®å€¼çš„è·ç¦»å¹³æ–¹å’Œçš„å¹³å‡æ•°å¼€æ–¹ï¼Œä¹Ÿå³è¯¯å·®å¹³æ–¹å’Œçš„å¹³å‡æ•°å¼€æ–¹ï¼Œè®¡ç®—å…¬å¼å½¢å¼ä¸Šæ¥è¿‘æ ‡å‡†å·®ï¼Œå®ƒä¸å¼€æ–¹å«å‡æ–¹è¯¯å·®ï¼Œå‡æ–¹è¯¯å·®å’Œæ–¹å·®å½¢å¼ä¸Šæ¥è¿‘ï¼‰ï¼Œæ ‡å‡†å·®æ˜¯æ•°æ®åç¦»å‡å€¼çš„å¹³æ–¹å’Œå¹³å‡åçš„æ–¹æ ¹ï¼Œç”¨Ïƒè¡¨ç¤ºï¼Œæ ‡å‡†å·®æ˜¯æ–¹å·®çš„ç®—æœ¯å¹³æ–¹æ ¹ã€‚ ä»ä¸Šé¢å®šä¹‰æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä»¥ä¸‹å‡ ç‚¹ï¼š1ã€å‡æ–¹å·®å°±æ˜¯æ ‡å‡†å·®ï¼Œæ ‡å‡†å·®å°±æ˜¯å‡æ–¹å·®ï¼› 2ã€å‡æ–¹æ ¹è¯¯å·®ä¸åŒäºå‡æ–¹å·®ï¼› 3ã€å‡æ–¹æ ¹è¯¯å·®æ˜¯å„æ•°æ®åç¦»çœŸå®å€¼çš„è·ç¦»å¹³æ–¹å’Œçš„å¹³å‡æ•°çš„å¼€æ–¹ï¼› ä¸¾ä¸ªä¾‹å­ï¼šæˆ‘ä»¬è¦æµ‹é‡æˆ¿é—´é‡Œçš„æ¸©åº¦ï¼Œå¾ˆé—æ†¾æˆ‘ä»¬çš„æ¸©åº¦è®¡ç²¾åº¦ä¸é«˜ï¼Œæ‰€ä»¥å°±éœ€è¦æµ‹é‡5æ¬¡ï¼Œå¾—åˆ°ä¸€ç»„æ•°æ®[x1,x2,x3,x4,x5],å‡è®¾æ¸©åº¦çš„çœŸå®å€¼æ˜¯xï¼Œæ•°æ®ä¸çœŸå®å€¼çš„è¯¯å·®e=x-xi ã€‚ é‚£ä¹ˆå‡æ–¹è¯¯å·® å‡æ–¹æ ¹è¯¯å·®çš„å…¬å¼ä¸€èˆ¬ä¸ºï¼š æ€»çš„æ¥è¯´ï¼Œå‡æ–¹å·®ï¼ˆæ ‡å‡†å·®ï¼‰æ˜¯æ•°æ®åºåˆ—ä¸å‡å€¼çš„å…³ç³»ï¼Œè€Œå‡æ–¹æ ¹è¯¯å·®æ˜¯æ•°æ®åºåˆ—ä¸çœŸå®å€¼ä¹‹é—´çš„å…³ç³»ã€‚å› æ­¤ï¼Œæ ‡å‡†å·®æ˜¯ç”¨æ¥è¡¡é‡ä¸€ç»„æ•°è‡ªèº«çš„ç¦»æ•£ç¨‹åº¦ï¼Œè€Œå‡æ–¹æ ¹è¯¯å·®æ˜¯ç”¨æ¥è¡¡é‡è§‚æµ‹å€¼åŒçœŸå€¼ä¹‹é—´çš„åå·®ï¼Œå®ƒä»¬çš„ç ”ç©¶å¯¹è±¡å’Œç ”ç©¶ç›®çš„ä¸åŒï¼Œä½†æ˜¯è®¡ç®—è¿‡ç¨‹ç±»ä¼¼ã€‚ å››ã€å‡æ–¹æ ¹å€¼å‡æ–¹æ ¹å€¼ï¼ˆRMSï¼‰ä¹Ÿç§°ä½œä¸ºæ•ˆå€¼ï¼Œå®ƒçš„è®¡ç®—æ–¹æ³•æ˜¯å…ˆå¹³æ–¹ã€å†å¹³å‡ã€ç„¶åå¼€æ–¹ã€‚","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"Pythonæ•°æ®åˆ†æ","slug":"Pythonæ•°æ®åˆ†æ","permalink":"http://smilecoc.vip/tags/Pythonæ•°æ®åˆ†æ/"}],"author":"smilecoc"},{"title":"Pythonéªšæ“ä½œä¹‹ä½¿ç”¨pythonåšä¸ªè§†é¢‘","slug":"python_codevideo","date":"2020-05-20T12:13:14.000Z","updated":"2022-04-17T08:24:16.296Z","comments":true,"path":"2020/05/20/python_codevideo/","link":"","permalink":"http://smilecoc.vip/2020/05/20/python_codevideo/","excerpt":"","text":"åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Pythonä¸‹è½½è§†é¢‘ï¼Œå¹¶å°†æ™®é€šçš„è§†é¢‘è½¬åŒ–ä¸ºçš„ä»£ç ç‰ˆæœ¬çš„è§†é¢‘ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š é¦–å…ˆæˆ‘ä»¬éœ€è¦è·å–ç½‘é¡µä¸Šçš„è§†é¢‘ã€‚ä¸€èˆ¬æƒ…å†µä¸‹é€šè¿‡APPæˆ–è€…ç½‘é¡µä¸Šçš„è§†é¢‘ä¸‹è½½çš„é—®é¢˜æœ‰ï¼š1.æ²¡æœ‰æä¾›ä¸‹è½½æŒ‰é’®å¯¼è‡´æ— æ³•ä¸‹è½½2.ä¸‹è½½åçš„æ ¼å¼ä¸€èˆ¬ä¸º.flvæ ¼å¼ï¼Œæˆ–è€…æ˜¯æœ‰è‡ªå·±çš„æ ¼å¼æ— æ³•è§£æï¼ˆä¾‹å¦‚Bç«™ï¼‰ é’ˆå¯¹ç¬¬ä¸€ä¸ªé—®é¢˜,æˆ‘ä»¬çš„è§£å†³åŠæ³•å°±æ˜¯Pythonä¸­çš„you_getåº“.You-Get åªéœ€è¦ä¸€è¡Œä»£ç å°±å¯ä»¥ä¾¿åˆ©çš„ä¸‹è½½ç½‘ç»œä¸Šçš„åª’ä½“ä¿¡æ¯ you_getä¸‹è½½è§†é¢‘you_getçš„æ•™ç¨‹å¯ä»¥çœ‹æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« http://smilecoc.vip/2021/09/10/Python_you_get/you_getä¸»é¡µ:https://github.com/soimort/you-getä¸­æ–‡è¯´æ˜æ–‡æ¡£:https://github.com/soimort/you-get/wiki/%E4%B8%AD%E6%96%87%E8%AF%B4%E6%98%8E é¦–å…ˆä¾æ—§æ˜¯éœ€è¦å®‰è£…you-getåº“,åŒæ—¶è¿˜éœ€è¦å®‰è£…FFmpeg,è¿™ä¸ªå·¥å…·æ˜¯you-getåº“çš„å¿…è¦ä¾èµ–ï¼ŒåŒæ—¶ä¹Ÿä¼šåœ¨å…¶ä»–çš„åœ°æ–¹ç”¨åˆ°ã€‚æ ¹æ®å¯¹åº”ç³»ç»Ÿä¸‹è½½å®‰è£…ï¼Œä¸‹è½½åè§£å‹å¹¶è®°ä¸€ä¸‹æ–‡ä»¶è·¯å¾„ã€‚ å®‰è£…å®Œæˆåå¦‚æœæƒ³ä¸‹è½½æŸä¸ªç½‘é¡µçš„è§†é¢‘,,åªéœ€è¦ä¸€å¥ç®€å•çš„ you-get+ç½‘å€å³å¯ä¸‹è½½è§†é¢‘. $ you-get http://www.fsf.org/blogs/rms/20140407-geneva-tedx-talk-free-software-free-society Site: fsf.org Title: TEDxGE2014_Stallman05_LQ Type: WebM video (video/webm) Size: 27.12 MiB (28435804 Bytes) Downloading TEDxGE2014_Stallman05_LQ.webm ... 100.0% ( 27.1/27.1 MB) â”œâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”¤[1/1] 12 MB/s éœ€è¦æ³¨æ„ä¸€ç‚¹,ä¸Šè¿°ä¾‹å­you_getçš„åŸºæœ¬å‘½ä»¤æ˜¯åœ¨cmdä¸­è¾“å…¥çš„å‘½ä»¤è¡Œ,å¦‚æœæˆ‘ä»¬ä½¿ç”¨IDEæ—¶éœ€è¦ä½¿ç”¨os.system()æ–¹æ³•æ¥æ‰§è¡Œcmdå‘½ä»¤ import os os.system(&#39;you-get http://www.fsf.org/blogs/rms/20140407-geneva-tedx-talk-free-software-free-society&#39;) åœ¨ä¸€ä¸‹çš„you_getç¤ºä¾‹ä¸­ï¼Œæ‰€æœ‰çš„ä»£ç å‡ä¸ºcmdçš„ä»£ç ï¼Œæ‰€ä»¥ä½¿ç”¨IDEçš„åŒå­¦è®°å¾—è¦åœ¨ä»£ç å‰åŠ å…¥os.system()å‡½æ•°ä»¥ä¿è¯æ­£ç¡®è¿è¡Œã€‚ åœ¨ä¸‹è½½å‰å¯ä»¥ä½¿ç”¨ â€”info/-i ä»¥æŸ¥çœ‹æ‰€æœ‰å¯ç”¨ç”»è´¨ä¸æ ¼å¼ï¼š $ you-get -i &#39;https://www.youtube.com/watch?v=jNQXAC9IVRw&#39; site: YouTube title: Me at the zoo streams: # Available quality and codecs [ DEFAULT ] _________________________________ - itag: 43 container: webm quality: medium size: 0.5 MiB (564215 bytes) # download-with: you-get --itag=43 [URL] - itag: 18 container: mp4 quality: medium # download-with: you-get --itag=18 [URL] - itag: 5 container: flv quality: small # download-with: you-get --itag=5 [URL] - itag: 36 container: 3gp quality: small # download-with: you-get --itag=36 [URL] - itag: 17 container: 3gp quality: small # download-with: you-get --itag=17 [URL] æ ‡æœ‰DEFAULT ä¸ºé»˜è®¤ç”»è´¨ã€‚ä½¿ç”¨ä¸Šè¿°ä¸‹è½½è¯­å¥å³å¯å¼€å§‹ä¸‹è½½é»˜è®¤ç”»è´¨çš„è§†é¢‘ å¦‚æœå¸Œæœ›ä¸‹è½½å…¶ä»–æ ¼å¼æˆ–ç”»è´¨çš„è§†é¢‘ï¼Œä½¿ç”¨æç¤ºä¸­å‡ºç°çš„ # download-with: é€‰é¡¹å³å¯ã€‚ä¾‹å¦‚æˆ‘æƒ³ä¸‹è½½ä¸Šè¿°ç¤ºä¾‹ä¸­çš„MP4æ ¼å¼çš„è§†å±ï¼š $ you-get --itag=18 &#39;https://www.youtube.com/watch?v=jNQXAC9IVRw&#39; å½“ä¸‹è½½è§†é¢‘é‡åˆ°é—®é¢˜æ—¶ï¼š ä¸€æ˜¯æ’é™¤ç½‘ç»œé—®é¢˜ï¼› äºŒæ˜¯ç¡®ä¿you-getæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ï¼› ä¸‰æ˜¯æ£€æŸ¥ç›®æ ‡è§†é¢‘æ˜¯å¦å·²ç»ç¡®è®¤æ— æ³•çˆ¬å–ã€‚ å››â€”debugå‚æ•°è¿›è¡Œè°ƒè¯• åŒæ—¶å¯ä»¥ä½¿ç”¨â€”output-dir/-o è®¾å®šè·¯å¾„, â€”output-filename/-O è®¾å®šè¾“å‡ºæ–‡ä»¶å: $ you-get -o ~/Videos -O zoo.webm &#39;https://www.youtube.com/watch?v=jNQXAC9IVRw&#39; è¿™æ ·ä»ç½‘é¡µä¸Šä¸‹è½½è§†é¢‘çš„é—®é¢˜å°±è§£å†³äº†ï¼ è§†é¢‘æ ¼å¼è½¬åŒ–ç¬¬äºŒä¸ªé—®é¢˜å°±æ˜¯ä»ç½‘é¡µä¸Šä¸‹è½½è§†é¢‘çš„è§†é¢‘å¾ˆåªæœ‰flvæ ¼å¼ï¼Œä¸åˆ©äºé¢„è§ˆå’Œå¤„ç†ã€‚å› æ­¤éœ€è¦è½¬åŒ–è§†é¢‘æ ¼å¼ï¼Œæ¯”å¦‚è½¬åŒ–æˆMP4æ ¼å¼ã€‚ä½†æ˜¯ä¸€èˆ¬åœ¨çº¿é¢‘è½¬åŒ–è¦ä¹ˆæœ‰è§†é¢‘å¤§å°çš„é™åˆ¶ï¼Œè¦ä¹ˆéœ€è¦ä¸‹è½½appæˆ–è€…ä¼šå‘˜ã€‚è¿™æ—¶å€™å°±è¦ç”¨åˆ°ä¸Šé¢æˆ‘ä»¬ä¸‹è½½çš„FFmpegå¤„ç†è§†é¢‘ FFmpeg æ˜¯è§†é¢‘å¤„ç†æœ€å¸¸ç”¨çš„å¼€æºè½¯ä»¶ã€‚å®ƒåŠŸèƒ½å¼ºå¤§ï¼Œç”¨é€”å¹¿æ³›ï¼Œå¤§é‡ç”¨äºè§†é¢‘ç½‘ç«™å’Œå•†ä¸šè½¯ä»¶ï¼ˆæ¯”å¦‚ Youtube å’Œ iTunesï¼‰ï¼Œä¹Ÿæ˜¯è®¸å¤šéŸ³é¢‘å’Œè§†é¢‘æ ¼å¼çš„æ ‡å‡†ç¼–ç /è§£ç å®ç°ã€‚ä½¿ç”¨FFmpeg å‘½ä»¤è¡Œå¤„ç†è§†é¢‘ï¼Œæ¯”æ¡Œé¢è§†é¢‘å¤„ç†è½¯ä»¶æ›´ç®€æ´é«˜æ•ˆã€‚ ä¾‹å¦‚æˆ‘ä»¬æƒ³æŠŠæ‰€æœ‰çš„flvæ–‡ä»¶è½¬åŒ–ä¸ºmp4æ–‡ä»¶ï¼šï¼ˆæœ¬éƒ¨åˆ†æ¶‰åŠcmdå‘½ä»¤ä¸FFmpeg å‘½ä»¤è¡Œï¼Œå¦‚æœ‰ç–‘é—®å¯ä»¥å…ˆæœä¸€ä¸‹Windows cmdå‘½ä»¤çš„ç”¨æ³•å’ŒFFmpeg å‘½ä»¤è¡Œçš„ç”¨æ³•ï¼‰ 1.è§£å‹åæ‰“å¼€binï¼ŒæŠŠä¸‰ä¸ªå¯æ‰§è¡Œæ–‡ä»¶å¤åˆ¶åˆ°C:\\Windows\\system32 2.æ‰“å¼€CMDï¼Œcd åˆ°æŒ‡å®šæ–‡ä»¶å¤¹ 3.æ‰§è¡Œcmdå‘½ä»¤ï¼šfor %i in (*.flv) do ffmpeg -i â€œ%iâ€ -c copy â€œ%~ni.mp4â€ ä¹‹åå°±å¯ä»¥å‘ç°æ‰€æœ‰çš„flvæ ¼å¼è§†é¢‘å…¨éƒ¨è½¬åŒ–ä¸ºäº†MP4æ ¼å¼ã€‚ è½¬åŒ–ä»£ç ç‰ˆè§†é¢‘ä¹‹åå°±å¯ä»¥å°†æ™®é€šçš„è§†é¢‘è½¬åŒ–ä¸ºä»£ç ç‰ˆè§†é¢‘äº†ã€‚è¿™é‡Œä½¿ç”¨çš„ä»£ç åŸä½œè€…æ–‡ç« ï¼šhttps://www.cnblogs.com/TurboWay/p/9748535.html ä½¿ç”¨æ–¹æ³•ï¼šä¸€ã€ç¯å¢ƒå‡†å¤‡ 1.éœ€è¦å®‰è£…opencvï¼Œç›´æ¥å®‰è£… pip install opencv-python 2.éœ€è¦å®‰è£…ffmpeg ï¼ˆä¸Šè¿°æ­¥éª¤ä¸­å·²ä¸‹è½½è§£å‹çš„å¯è·³è¿‡ï¼‰ï¼Œç›´æ¥è§£å‹å…å®‰è£…ï¼Œä¸‹è½½ä¼ é€é—¨ï¼› 3.å°† ffmpeg.exe çš„è·¯å¾„å¤åˆ¶ï¼Œæ›¿æ¢ä»£ç å¼€å¤´çš„ ffmpeg = râ€™G:\\ffmpeg\\bin\\ffmpeg.exeâ€™ äºŒã€å¦‚ä½•ä½¿ç”¨ï¼š 1.æ›¿æ¢ä¸»å‡½æ•°é‡Œçš„vedioè§†é¢‘åœ°å€ 2.è¿è¡Œç¨‹åºå³å¯ æ³¨æ„å¯¹å­˜å‚¨ç©ºé—´çš„è¦æ±‚è¾ƒé«˜ï¼Œè¯·ä¿è¯æœ‰è¶³å¤Ÿçš„å­˜å‚¨ç©ºé—´ ä»£ç å¦‚ä¸‹ï¼š # -*- coding:utf-8 -*- # coding:utf-8 import os, cv2, subprocess, shutil from cv2 import VideoWriter, VideoWriter_fourcc, imread, resize from PIL import Image, ImageFont, ImageDraw ffmpeg = r&#39;D:\\ffmpeg\\bin\\ffmpeg.exe&#39; code_color = (169,169,169) # é¢œè‰²RGB é»˜è®¤ç°è‰² ï¼Œ&#39;&#39; åˆ™å½©è‰² # åƒç´ å¯¹åº”asciiç  #ascii_char = list(&quot;$@B%8&amp;WM#*oahkbdpqwmZO0QLCJUYXzcvunxrjft/\\|()1{}[]?-_+~&lt;&gt;i!lI;:oa+&gt;!:+. &quot;) #ascii_char = [&#39;.&#39;,&#39;,&#39;,&#39;:&#39;,&#39;;&#39;,&#39;+&#39;,&#39;*&#39;,&#39;?&#39;,&#39;%&#39;,&#39;S&#39;,&#39;#&#39;,&#39;@&#39;][::-1] #ascii_char = list(&quot;MNHQ$OC67+&gt;!:-. &quot;) ascii_char = list(&quot;MNHQ$OC67)oa+&gt;!:+. &quot;) # å°†åƒç´ è½¬æ¢ä¸ºasciiç  def get_char(r, g, b, alpha=256): if alpha == 0: return &#39;&#39; length = len(ascii_char) gray = int(0.2126 * r + 0.7152 * g + 0.0722 * b) unit = (256.0 + 1) / length return ascii_char[int(gray / unit)] # å°†txtè½¬æ¢ä¸ºå›¾ç‰‡ def txt2image(file_name): im = Image.open(file_name).convert(&#39;RGB&#39;) # gifæ‹†åˆ†åçš„å›¾åƒï¼Œéœ€è¦è½¬æ¢ï¼Œå¦åˆ™æŠ¥é”™ï¼Œç”±äºgifåˆ†å‰²åä¿å­˜çš„æ˜¯ç´¢å¼•é¢œè‰² raw_width = im.width raw_height = im.height width = int(raw_width / 6) height = int(raw_height / 15) im = im.resize((width, height), Image.NEAREST) txt = &quot;&quot; colors = [] for i in range(height): for j in range(width): pixel = im.getpixel((j, i)) colors.append((pixel[0], pixel[1], pixel[2])) if (len(pixel) == 4): txt += get_char(pixel[0], pixel[1], pixel[2], pixel[3]) else: txt += get_char(pixel[0], pixel[1], pixel[2]) txt += &#39;\\n&#39; colors.append((255, 255, 255)) im_txt = Image.new(&quot;RGB&quot;, (raw_width, raw_height), (255, 255, 255)) dr = ImageDraw.Draw(im_txt) # font = ImageFont.truetype(os.path.join(&quot;fonts&quot;,&quot;æ±‰ä»ªæ¥·ä½“ç®€.ttf&quot;),18) font = ImageFont.load_default().font x = y = 0 # è·å–å­—ä½“çš„å®½é«˜ font_w, font_h = font.getsize(txt[1]) font_h *= 1.37 # è°ƒæ•´åæ›´ä½³ # ImageDrawä¸ºæ¯ä¸ªasciiç è¿›è¡Œä¸Šè‰² for i in range(len(txt)): if (txt[i] == &#39;\\n&#39;): x += font_h y = -font_w # self, xy, text, fill = None, font = None, anchor = None, # *args, ** kwargs if code_color: dr.text((y, x), txt[i], fill=code_color) # fill=colors[i]å½©è‰² else: dr.text((y, x), txt[i], fill=colors[i]) # fill=colors[i]å½©è‰² # dr.text((y, x), txt[i], font=font, fill=colors[i]) y += font_w name = file_name # print(name + &#39; changed&#39;) im_txt.save(name) # å°†è§†é¢‘æ‹†åˆ†æˆå›¾ç‰‡ def video2txt_jpg(file_name): vc = cv2.VideoCapture(file_name) c = 1 if vc.isOpened(): r, frame = vc.read() if not os.path.exists(&#39;Cache&#39;): os.mkdir(&#39;Cache&#39;) os.chdir(&#39;Cache&#39;) else: r = False while r: cv2.imwrite(str(c) + &#39;.jpg&#39;, frame) txt2image(str(c) + &#39;.jpg&#39;) # åŒæ—¶è½¬æ¢ä¸ºasciiå›¾ r, frame = vc.read() c += 1 os.chdir(&#39;..&#39;) return vc # å°†å›¾ç‰‡åˆæˆè§†é¢‘ def jpg2video(outfile_name, fps): fourcc = VideoWriter_fourcc(*&quot;MJPG&quot;) images = os.listdir(&#39;Cache&#39;) im = Image.open(&#39;Cache/&#39; + images[0]) vw = cv2.VideoWriter(outfile_name, fourcc, fps, im.size) os.chdir(&#39;Cache&#39;) for image in range(len(images)): # Image.open(str(image)+&#39;.jpg&#39;).convert(&quot;RGB&quot;).save(str(image)+&#39;.jpg&#39;) frame = cv2.imread(str(image + 1) + &#39;.jpg&#39;) vw.write(frame) # print(str(image + 1) + &#39;.jpg&#39; + &#39; finished&#39;) os.chdir(&#39;..&#39;) vw.release() # è°ƒç”¨ffmpegè·å–mp3éŸ³é¢‘æ–‡ä»¶ def video2mp3(file_name, outfile_name): cmdstr = &quot; -i {0} -f mp3 {1} -y&quot;.format(file_name, outfile_name) cmd(cmdstr) # åˆæˆéŸ³é¢‘å’Œè§†é¢‘æ–‡ä»¶ def video_add_mp3(file_name, mp3_file,outfile_name): cmdstr = &quot; -i {0} -i {1} -strict -2 -f mp4 {2} -y&quot;.format(file_name, mp3_file, outfile_name) cmd(cmdstr) # è§†é¢‘æˆªå– def vediocut(file_name, outfile_name, start, end): cmdstr = &quot; -i {0} -vcodec copy -acodec copy -ss {1} -to {2} {3} -y&quot;.format(file_name,start,end,outfile_name) cmd(cmdstr) # æ‰§è¡Œè„šæœ¬å‘½ä»¤ def cmd(cmdstr): cmdstr = ffmpeg + cmdstr response = subprocess.call(cmdstr, shell=True, creationflags=0x08000000) if response == 1: print(&quot;ffmpegè„šæœ¬æ‰§è¡Œå¤±è´¥,è¯·å°è¯•æ‰‹åŠ¨æ‰§è¡Œ:{0}&quot;.format(cmdstr)) # ä¸»å‡½æ•° def main(vedio, save=False, iscut=False, start=&#39;00:00:00&#39;, end=&#39;00:00:14&#39;): &quot;&quot;&quot; :param vedio: åŸè§†é¢‘æ–‡ä»¶åœ°å€ :param save: æ˜¯å¦ä¿å­˜ä¸´æ—¶æ–‡ä»¶ é»˜è®¤ä¸ä¿å­˜ :param iscut: æ˜¯å¦å…ˆå¯¹åŸè§†é¢‘åšæˆªå–å¤„ç† é»˜è®¤ä¸æˆªå– :param start: è§†é¢‘æˆªå–å¼€å§‹æ—¶é—´ç‚¹ ä»…å½“iscut=Trueæ—¶æœ‰æ•ˆ :param end: è§†é¢‘æˆªå–ç»“æŸæ—¶é—´ç‚¹ ä»…å½“iscut=Trueæ—¶æœ‰æ•ˆ :return: è¾“å‡ºç›®æ ‡è§†é¢‘æ–‡ä»¶ vedio.split(&#39;.&#39;)[0] + &#39;-code.mp4&#39; &quot;&quot;&quot; file_cut = vedio.split(&#39;.&#39;)[0] + &#39;_cut.mp4&#39; file_mp3 = vedio.split(&#39;.&#39;)[0] + &#39;.mp3&#39; file_temp_avi = vedio.split(&#39;.&#39;)[0] + &#39;_temp.avi&#39; outfile_name = vedio.split(&#39;.&#39;)[0] + &#39;-code.mp4&#39; print(&quot;å¼€å§‹ç”Ÿæˆ...&quot;) if iscut: print(&quot;æ­£åœ¨æˆªå–è§†é¢‘...&quot;) vediocut(vedio, file_cut, start, end) vedio = file_cut print(&quot;æ­£åœ¨è½¬æ¢ä»£ç å›¾ç‰‡...&quot;) vc = video2txt_jpg(vedio) # è§†é¢‘è½¬å›¾ç‰‡ï¼Œå›¾ç‰‡è½¬ä»£ç å›¾ç‰‡ FPS = vc.get(cv2.CAP_PROP_FPS) # è·å–å¸§ç‡ vc.release() print(&quot;æ­£åœ¨åˆ†ç¦»éŸ³é¢‘...&quot;) video2mp3(vedio, file_mp3) # ä»åŸè§†é¢‘åˆ†ç¦»å‡º éŸ³é¢‘mp3 print(&quot;æ­£åœ¨è½¬æ¢ä»£ç è§†é¢‘...&quot;) jpg2video(file_temp_avi, FPS) #ä»£ç å›¾ç‰‡è½¬è§†é¢‘ print(&quot;æ­£åœ¨åˆæˆç›®æ ‡è§†é¢‘...&quot;) video_add_mp3(file_temp_avi, file_mp3, outfile_name) # å°†éŸ³é¢‘åˆæˆåˆ°ä»£ç è§†é¢‘ if (not save): # ç§»é™¤ä¸´æ—¶æ–‡ä»¶ print(&quot;æ­£åœ¨ç§»é™¤ä¸´æ—¶æ–‡ä»¶...&quot;) shutil.rmtree(&quot;Cache&quot;) for file in [file_cut, file_mp3, file_temp_avi]: if os.path.exists(file): os.remove(file) print(&quot;ç”ŸæˆæˆåŠŸï¼š{0}&quot;.format(outfile_name)) if __name__ == &#39;__main__&#39;: vedio = r&quot;test.mp4&quot; main(vedio, save=False, iscut=False, start=&#39;00:00:00&#39;, end=&#39;00:00:14&#39;) è¿™æ ·å°±å¯ä»¥å°†ä¸€ä¸ªè§†é¢‘è½¬åŒ–ä¸ºä»£ç ç‰ˆçš„è§†é¢‘äº†ï¼","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"pythonå…¶ä»–","slug":"pythonå…¶ä»–","permalink":"http://smilecoc.vip/tags/pythonå…¶ä»–/"}],"author":"smilecoc"},{"title":"å®ç”¨ç½‘ç«™èµ„æºæ•´ç†æ±‡æ€»","slug":"Useful_website_resources","date":"2020-04-12T14:06:14.000Z","updated":"2022-04-17T08:24:07.897Z","comments":true,"path":"2020/04/12/Useful_website_resources/","link":"","permalink":"http://smilecoc.vip/2020/04/12/Useful_website_resources/","excerpt":"","text":"ç®€å•å¿«é€Ÿåˆ¶ä½œæµ·æŠ¥çš„ç½‘ç«™,è¿˜å¯ä»¥è®¾è®¡PPTç­‰å…¶ä»–å†…å®¹ï¼šhttps://www.canva.cn/ çº¿ä¸Š PS å·¥å…·,åŠŸèƒ½å‡ ä¹å’Œ PS è½¯ä»¶ä¸€æ ·ï¼Œç½‘é¡µæ‰“å¼€ï¼Œæ–¹ä¾¿å¿«æ·,è€Œä¸”å…è´¹ã€‚https://www.photopea.com/ ååˆ†é’Ÿé‚®ç®±ï¼Œå¯ä»¥ç”Ÿæˆä¸€ä¸ªçŸ­æ—¶é—´å­˜åœ¨çš„é‚®ç®±åœ°å€ï¼Œå¹¶ä¸”å¯åœ¨å¯¹åº”æ—¶é—´æ®µå†…æ¥æ”¶é‚®ä»¶https://10minutemail.net/m/?lang=zh åœ¨çº¿ç»˜åˆ¶æµç¨‹å›¾ï¼Œæ”¯æŒå›¢é˜Ÿåä½œç»˜åˆ¶https://www.processon.com/ å…è´¹å£çº¸ä¸‹è½½ç½‘ç«™https://wallhaven.cc/ åœ¨çº¿è¡¨æ ¼è½¬åŒ–å·¥å…·ï¼Œå®ƒæ”¯æŒå„ç§è¡¨æ ¼æ•°æ®æ–‡ä»¶çš„å¯¼å…¥ä¸å¯¼å‡ºhttps://tableconvert.com/ BDP:ä¸€ä¸ªå…è´¹çš„æ•°æ®å¯è§†åŒ–æŠ¥è¡¨ç½‘ç«™ï¼Œå¯ä»¥å…è´¹ï¼Œå¿«é€Ÿçš„æ­å»ºhttps://me.bdp.cn/home.html ä¸‡èƒ½å‘½ä»¤,æµè§ˆä»»æ„ç½‘é¡µæ—¶ï¼Œåœ¨ç½‘å€å‰é¢è¾“å…¥è¿™ä¸ªä¸‡èƒ½å‘½ä»¤ wn.run/ å°±ä¼šå±•ç¤ºå‡ºç”¨äºè¯¥ç½‘é¡µçš„å„ç§é™„åŠ åœ¨çº¿å·¥å…·https://wanneng.run/cn/ ä¸€ä¸ªå¾ˆæœ‰è¶£çš„äººæ ¼æµ‹è¯•ç½‘ç«™https://www.16personalities.com/ch åœ¨çº¿ç»˜å›¾ç½‘ç«™ï¼ŒåŒ…æ‹¬ç»˜åˆ¶æµç¨‹å›¾ï¼Œæ•°å­¦å›¾è¡¨ç­‰https://online.visual-paradigm.com/http://weavesilk.com/ åœ¨çº¿markdownç¼–è¾‘å·¥å…·ï¼ŒåŒæ—¶è¿˜æ”¯æŒç›´æ¥å¯¼å‡ºmarkdownæ ¼å¼åˆ°å¾®ä¿¡å…¬ä¼—å·å’ŒçŸ¥ä¹ä¸­https://markdown.lovejade.cn/ å…è´¹é«˜æ¸…å›¾ç‰‡ç´ æä¸‹è½½https://pixabay.com/ å­—ç¬¦ä¸²è½¬ç å·¥å…·https://tool.chinaz.com/tools/unicode.aspx ä¸€ä¸ªåœ¨çº¿å·¥æ—¶ä»»åŠ¡ç®¡ç†ç½‘ç«™https://cs.cornerstone365.cn/åŒæ ·è¿˜æœ‰è‹±æ–‡çš„ç‰ˆæœ¬https://monday.com/ PPT è¶…çº§å¸‚åœºï¼Œæä¾›å…è´¹çš„PPTæ¨¡æ¿ä¸‹è½½http://ppt.sotary.com/web/wxapp/index.html æ‹¥æœ‰å„ç§PPTä¼˜åŒ–åŠŸèƒ½ï¼Œå·¥å…·ï¼ŒPPTç˜¦èº«ç­‰çš„PPTæ’ä»¶,å¯ä»¥å¤§å¤§æé«˜åšPPTçš„æ•ˆç‡https://www.islide.cc/download æä¾›å®Œå…¨å…è´¹å¼€æºç”µè„‘è½¯ä»¶çš„è‰¯å¿ƒç½‘ç«™https://www.fosshub.com/ çŸ¢é‡å›¾ç½‘ç«™,æ‹¥æœ‰å¤§é‡çš„çŸ¢é‡å›¾ä¾›ä¸‹è½½https://www.iconfont.cn/ ä»‹ç»æ—…æ¸¸çº¿è·¯çš„ç½‘ç«™ï¼Œåªé€‚ç”¨äºæ‰‹æœºç«¯http://www.doyouhike.net/mobile ç‹—å±ä¸é€šæ–‡ç« ç”Ÿæˆå™¨ï¼Œåªæ±‚å­—æ•°ä¸æ±‚è´¨é‡https://suulnnka.github.io/BullshitGenerator/ æ²™é›•ç½‘ç«™ï¼Œå¯ä»¥ç”Ÿæˆç¥–å®‰è¯ï¼Œå½©è™¹å±ï¼Œæ–‡æ¡ˆã€‚ã€‚ã€‚ã€‚https://shadiao.app/ æ­£åˆ™è¡¨è¾¾å¼é€ŸæŸ¥è¡¨ï¼Œç¨‹åºå‘˜å®å…¸https://www.jb51.net/shouce/jquery1.82/regexp.html åœ¨çº¿è½¬æ¢å›¾ç‰‡ï¼Œæ–‡æ¡£ç­‰https://www.aconvert.com/cn/ PDFåˆå¹¶ï¼Œå¯ä»¥å°†å¤šä¸ªpdfåˆå¹¶åç›´æ¥æ‰“å°ï¼Œä¸ç”¨ä¸€å¼ ä¸€å¼ æ‰“å°å•¦https://www.ilovepdf.com/zh-cn/merge_pdf Vitu.ai,ä¸€ä¸ªæ¶µç›–aiå­¦ä¹ èµ„æºå’Œå®è·µåº”ç”¨çš„ç½‘ç«™,è¿˜æ”¯æŒåœ¨çº¿ä»£ç ä¸æ•°æ®é›†çš„ä½¿ç”¨https://vitu.ai/ The GDELT Project,ä¸€ä¸ªç›‘æµ‹å…¨çƒåª’ä½“çš„æƒ…æ„Ÿå€¾å‘çš„ç½‘ç«™ï¼Œå¯ä»¥çœ‹åˆ°å…¨çƒå„å›½çš„èˆ†è®ºå¯¼å‘å¹¶è·å–æ•°æ®https://www.gdeltproject.org/ é¸ æ‘©æœä¹¦,å¯ä»¥æœåˆ°å¾ˆå¤šçš„ç”µå­ä¹¦èµ„æºhttps://www.jiumodiary.com/ pdfåœ¨çº¿å…è´¹è½¬æ¢https://easypdf.com/cn åœ¨çº¿å»æ°´å°https://www.apowersoft.cn/online-watermark-remover å½•åˆ¶GIFå›¾http://www.screentogif.com/ åœ¨çº¿æ–‡å­—äº‘çš„ç”Ÿæˆç½‘ç«™http://WordArt.com åŠ¨æ€å‡ ä½•ç”»æ¿,å¯ä»¥ç”»å‡ºæ¼‚äº®çš„å‡ ä½•ã€æ•°å­¦å‡½æ•°å›¾å½¢https://www.geogebra.org/ ä¸‹è½½è®°å½•æŸ¥è¯¢,å¯ä»¥çœ‹åˆ°å…¶ä»–ipä¸‹è½½çš„èµ„æºæ˜¯ä»€ä¹ˆhttps://iknowwhatyoudownload.com/ ä¸¤ä¸ªå¥½ç”¨çš„åœ¨çº¿æ–‡æœ¬å·®å¼‚æ¯”è¾ƒå·¥å…·https://text-compare.com/https://www.diffchecker.com/diff å¡å·´æ–¯åŸºç½‘ç»œå¨èƒå®æ—¶åœ°å›¾https://www.cybermap.kaspersky.com/cn/ å°æ£®å¹³çš„å…è´¹ä¸‹è½½éŸ³æ•ˆhttps://taira-komori.jpn.org/freesoundcn.html ç½‘æ˜“è§å¤–å·¥ä½œå°https://jianwai.youdao.com/ ä¸‹è½½svgæ ¼å¼çš„åœ°å›¾ç´ æhttp://datav.aliyun.com/tools/atlas/ greasyfork,æ²¹çŒ´è„šæœ¬ä¸‹è½½ç½‘ç«™https://greasyfork.org/zh-CN ä¸€äº›ç”µå½±ï¼Œå·¥å…·èµ„æºåˆé›†ç½‘ç«™https://www.heji.ltd/ ä¸€ä¸ªå¯ä»¥åœ¨çº¿ç¼–è¾‘ï¼Œæ‰§è¡ŒSQLçš„ç¼–è¾‘å™¨http://www.sqlfiddle.com/","categories":[{"name":"èµ„æº","slug":"èµ„æº","permalink":"http://smilecoc.vip/categories/èµ„æº/"}],"tags":[{"name":"å…¶ä»–èµ„æº","slug":"å…¶ä»–èµ„æº","permalink":"http://smilecoc.vip/tags/å…¶ä»–èµ„æº/"}],"author":"smilecoc"},{"title":"æ•°æ®åˆ†æé¢è¯•é¢˜æ•´ç†æ±‡æ€»","slug":"æ•°æ®åˆ†æé¢è¯•é¢˜æ•´ç†æ±‡æ€»","date":"2020-04-05T02:24:33.000Z","updated":"2020-07-29T16:10:13.030Z","comments":true,"path":"2020/04/05/æ•°æ®åˆ†æé¢è¯•é¢˜æ•´ç†æ±‡æ€»/","link":"","permalink":"http://smilecoc.vip/2020/04/05/æ•°æ®åˆ†æé¢è¯•é¢˜æ•´ç†æ±‡æ€»/","excerpt":"","text":"ç¬¬ä¸€é¢˜ï¼šæ´»åŠ¨è¿è¥æ•°æ®åˆ†æè¡¨1â€”â€”è®¢å•è¡¨ordersï¼Œè¦ç”¨åˆ°çš„å­—æ®µæœ‰ï¼ˆuser_idâ€˜ç”¨æˆ·ç¼–å·â€™, order_payâ€˜è®¢å•é‡‘é¢â€™ , order_timeâ€˜ä¸‹å•æ—¶é—´â€™ï¼‰ã€‚è¡¨2â€”â€”æ´»åŠ¨æŠ¥åè¡¨act_applyï¼Œè¦ç”¨åˆ°çš„å­—æ®µæœ‰ï¼ˆact_idâ€˜æ´»åŠ¨ç¼–å·â€™, user_idâ€˜æŠ¥åç”¨æˆ·â€™,act_timeâ€˜æŠ¥åæ—¶é—´â€™ï¼‰æ³¨æ„è¿™é‡Œçš„è¡¨1å’Œè¡¨2éƒ½è¿˜æœ‰å…¶ä»–çš„å­—æ®µ éœ€æ±‚ï¼š ç»Ÿè®¡æ¯ä¸ªæ´»åŠ¨å¯¹åº”æ‰€æœ‰ç”¨æˆ·åœ¨æŠ¥ååäº§ç”Ÿçš„æ€»è®¢å•é‡‘é¢ï¼Œæ€»è®¢å•æ•°ã€‚ï¼ˆæ¯ä¸ªç”¨æˆ·é™æŠ¥ä¸€ä¸ªæ´»åŠ¨,é¢˜å¹²é»˜è®¤ç”¨æˆ·æŠ¥ååäº§ç”Ÿçš„è®¢å•å‡ä¸ºå‚åŠ æ´»åŠ¨çš„è®¢å•ï¼‰ã€‚ ç»Ÿè®¡æ¯ä¸ªæ´»åŠ¨ä»å¼€å§‹ååˆ°ä»Šå¤©å¹³å‡æ¯å¤©äº§ç”Ÿçš„è®¢å•æ•°ï¼Œæ´»åŠ¨å¼€å§‹æ—¶é—´å®šä¹‰ä¸ºæœ€æ—©æœ‰ç”¨æˆ·æŠ¥åçš„æ—¶é—´ã€‚ï¼ˆæ¶‰åŠåˆ°æ—¶é—´çš„æ•°æ®ç±»å‹å‡ä¸ºï¼šdatetimeï¼‰ã€‚ ç­”æ¡ˆï¼š1. select t2.act_id,sum(order_pay) as total_cost,count(order_time) as order_num from (select user_idï¼Œorder_payï¼Œorder_time from orders) as t1 inner join (select act_id,user_id,act_time) as t2 on t1.user_id=t2.user_id where t1.order_time&gt;=t2.act_time group by t2.act_id 2. select t1.act_id,count(order_time)/dateiff(now(),t1.begin_time) as avg_ordercount from (select act_id,user_id,act_time,min(act_time) over (partition by act_id) as begin_time from act_apply) as t1 inner join (select user_id,order_time from orders) as t2 on t1.user_id=t2.user_id where t1.act_time between t1.begin_time and now() and t2.order_time &gt;= t1.act_time group by t1.act_id ç¬¬äºŒé¢˜æ¶‰åŠåˆ°overå‡½æ•°çš„ä½¿ç”¨ ç¬¬äºŒé¢˜ï¼šç”¨æˆ·è¡Œä¸ºåˆ†æè¡¨1â€”â€”ç”¨æˆ·è¡Œä¸ºè¡¨tracking_logï¼Œå¤§æ¦‚å­—æ®µæœ‰ï¼ˆuser_idâ€˜ç”¨æˆ·ç¼–å·â€™,opr_idâ€˜æ“ä½œç¼–å·â€™,log_timeâ€˜æ“ä½œæ—¶é—´â€™ï¼‰ éœ€æ±‚ï¼š 1ã€è®¡ç®—æ¯å¤©çš„è®¿å®¢æ•°å’Œä»–ä»¬çš„å¹³å‡æ“ä½œæ¬¡æ•°ã€‚ 2ã€ç»Ÿè®¡æ¯å¤©ç¬¦åˆä»¥ä¸‹æ¡ä»¶çš„ç”¨æˆ·æ•°ï¼šAæ“ä½œä¹‹åæ˜¯Bæ“ä½œï¼ŒABæ“ä½œå¿…é¡»ç›¸é‚»ã€‚ ç­”æ¡ˆï¼š1. select date(log_time),count(distinct user_id) as user_num,avg(num_ci) as avg_operqationcount from (select date(log_time),user_id,count(opr_id) as num_ci from tracking_log group by date(log_time),user_id) group by date(log_time) 2. select date(log_time),count(distinct user_id) as user_num from (select user_id,date(log_time),opr_id,lead(opr_id,1) over(partition by user_id order by lod_time) as opr_id_2 from tracking_log) where opr_id=&#39;A&#39; and opr_id_2=&#39;B&#39; group by date(log_time) ä½¿ç”¨lead() over()å®ç° ç¬¬ä¸‰é¢˜ï¼šç”¨æˆ·æ–°å¢ç•™å­˜åˆ†æè¡¨1â€”â€”ç”¨æˆ·ç™»é™†è¡¨user_logï¼Œå¤§æ¦‚å­—æ®µæœ‰ï¼ˆuser_idâ€˜ç”¨æˆ·ç¼–å·â€™ï¼Œlog_timeâ€˜ç™»é™†æ—¶é—´â€™ï¼‰ è¦æ±‚ï¼š æ¯å¤©æ–°å¢ç”¨æˆ·æ•°ï¼Œä»¥åŠä»–ä»¬ç¬¬2å¤©ã€30å¤©çš„å›è®¿æ¯”ä¾‹ å¦‚ä½•å®šä¹‰æ–°å¢ç”¨æˆ·ï¼šç”¨æˆ·ç™»é™†è¡¨ä¸­æœ€æ—©çš„ç™»é™†æ—¶é—´æ‰€åœ¨çš„ç”¨æˆ·æ•°ä¸ºå½“å¤©æ–°å¢ç”¨æˆ·æ•°ï¼› ç¬¬2å¤©å›è®¿ç”¨æˆ·æ•°ï¼šç¬¬ä¸€å¤©ç™»é™†çš„ç”¨æˆ·ä¸­ï¼Œç¬¬äºŒå¤©ä¾æ—§ç™»é™†çš„ç”¨æˆ·ï¼›â€“æ¬¡æ—¥ç•™å­˜ç‡ ç¬¬30å¤©çš„å›è®¿ç”¨æˆ·æ•°ï¼šç¬¬ä¸€å¤©ç™»é™†ç”¨æˆ·ä¸­ï¼Œç¬¬30å¤©ä¾æ—§ç™»é™†çš„ç”¨æˆ·ï¼› select date(t1.user_begin),count(distinct t1.user_id) as new_user,count(distinct t2.user_id) as twodays_retained_users,count(distinct t3.user_id) as thrityday_retained_users from (select user_id,min(log_time) as user_begin from user_log group by user_id) t1 left join (select user_id,log_time from user_log) t2 on t1.user_id=t2.user_id and date(t2.log_time)=date(t1.user_begin)+1 left join (select user_id,log_time from user_log) t3 on t1.user_id=t3.user_id and date(t3.log_time)=date(t1.user_begin)+29 group by date(t1.user_begin) ç¬¬å››é¢˜ï¼šæ•°å­¦è®¡ç®—é¢˜å·²çŸ¥A,Bå‚ç”Ÿäº§çš„äº§å“çš„æ¬¡å“ç‡åˆ†åˆ«æ˜¯1%å’Œ2%ï¼Œç°åœ¨ç”±A,Bäº§å“åˆ†åˆ«å 60%ã€40%çš„æ ·å“ä¸­éšæœºæŠ½ä¸€ä»¶ï¼Œè‹¥å–åˆ°çš„æ˜¯æ¬¡å“ï¼Œæ±‚æ­¤æ¬¡å“æ˜¯Bå‚ç”Ÿäº§çš„æ¦‚ç‡ã€‚ å·²çŸ¥ï¼šP(A)=0.6,P(B)=0.4,P(æ¬¡/A)=0.01,P(æ¬¡/B)=0.02 æ±‚ï¼šP(B/æ¬¡) ç­”æ¡ˆï¼šP(B/æ¬¡)=P(æ¬¡/B)P(B)/(P(æ¬¡/B)P(B)+P(æ¬¡/A)P(A)) è´å¶æ–¯å…¬å¼çš„åº”ç”¨ ç¬¬äº”é¢˜ï¼šAB testæŸç½‘ç«™ä¼˜åŒ–äº†å•†å“è¯¦æƒ…é¡µï¼Œç°åœ¨æ–°æ—§ä¸¤ä¸ªç‰ˆæœ¬åŒæ—¶è¿è¡Œï¼Œæ–°ç‰ˆé¡µé¢è¦†ç›–äº†10%çš„ç”¨æˆ·ï¼Œæ—§ç‰ˆè¦†ç›–90%çš„ç”¨æˆ·ã€‚ç°åœ¨éœ€è¦äº†è§£ï¼Œæ–°ç‰ˆé¡µé¢æ˜¯å¦èƒ½å¤Ÿæé«˜å•†å“è¯¦æƒ…é¡µåˆ°æ”¯ä»˜é¡µçš„è½¬åŒ–ç‡ï¼Œå¹¶å†³å®šæ˜¯å¦è¦è¦†ç›–æ—§ç‰ˆï¼Œä½ èƒ½ä¸ºå†³ç­–æä¾›å“ªäº›ä¿¡æ¯ï¼Œéœ€è¦æ”¶é›†å“ªäº›æŒ‡æ ‡ï¼Œç»™å‡ºç»Ÿè®¡æ–¹æ³•åŠè¿‡ç¨‹ã€‚ è§£ç­”ï¼š ä½¿ç”¨A/Bæµ‹è¯•æ¨¡å‹ï¼Œåˆ†æä¸¤ä¸ªç‰ˆæœ¬åœ¨ä¸€æ®µæ—¶é—´æœŸé™å†…ï¼Œè¯¦æƒ…é¡µé¢åˆ°æ”¯ä»˜é¡µé¢çš„è½¬åŒ–ç‡å˜åŒ–ï¼Œå¹¶è®¡ç®—è½¬åŒ–ç‡å˜åŒ–åå¼•èµ·çš„çš„GMVå˜åŒ–ã€‚ å¯é€‰æ‹©çš„å†³ç­–ï¼šâ‘ ç¡®å®šå‘å¸ƒæ–°ç‰ˆæœ¬ï¼›â‘¡è°ƒæ•´åˆ†æµæ¯”ä¾‹ç»§ç»­æµ‹è¯•ï¼›â‘¢ä¼˜åŒ–è¿­ä»£æ–¹æ¡ˆé‡æ–°å¼€å‘ã€‚ è¦ç»Ÿè®¡çš„æŒ‡æ ‡ï¼šæœŸé™å†…æ–°ã€æ—§ç‰ˆæœ¬å•†å“è¯¦æƒ…é¡µåˆ°æ”¯ä»˜é¡µè½¬åŒ–ç‡ ï¼Œæ”¯ä»˜é‡‘é¢ã€‚ è¦è¡¡é‡çš„æŒ‡æ ‡ï¼šè½¬åŒ–ç‡å˜åŒ– t åœ¨æ˜¯å¯æ¥å—çš„ç½®ä¿¡åŒºé—´å†…æ˜¯å¦æ˜¾è‘—ï¼ŒåŒæ—¶å‚è€ƒæ”¶ç›Šæå‡ç‡ã€‚ æŒ‡æ ‡è®¡ç®—æ–¹æ³•ï¼šè½¬åŒ–ç‡=ä»æŸè¯¦æƒ…é¡µåˆ°æ”¯ä»˜é¡µç”¨æˆ·æ•°/æµè§ˆè¯¥å•†å“è¯¦æƒ…é¡µç”¨æˆ·æ•°ï¼ˆå–æ—¥å¹³å‡å’Œæ ‡å‡†å·®ï¼‰ æ”¯ä»˜é‡‘é¢=ä»æŸè¯¦æƒ…é¡µåˆ°æ”¯ä»˜é¡µåˆ°æ”¯ä»˜æˆåŠŸè·¯å¾„ç”¨æˆ·çš„æœ¬æ¬¡æ”¯ä»˜é‡‘é¢ï¼ˆå–æ—¥å¹³å‡ï¼‰ é‡‡ç”¨å†³ç­–â‘ çš„æƒ…å†µï¼šæœ¬æ¬¡é¡µé¢æ”¹è¿›åœ¨æ˜¾è‘—æ€§æ°´å¹³å†…ï¼Œè¯æ˜äº†â€˜è½¬åŒ–ç‡æå‡çš„å‡è®¾â€™ã€‚å¹¶ä¸”æ”¶ç›Šæå‡ç‡è¾¾åˆ°é¢„æœŸæ°´å¹³ã€‚ é‡‡ç”¨å†³ç­–â‘¡çš„æƒ…å†µï¼šæœ¬æ¬¡é¡µé¢æ”¹è¿›åœ¨æ˜¾è‘—æ€§æ°´å¹³å†…ï¼Œæ— æ³•è¯æ˜â€˜è½¬åŒ–ç‡æå‡çš„å‡è®¾â€™ã€‚åˆ†æåŸå› å¯èƒ½æ˜¯æ–°ç‰ˆæœ¬æ ·æœ¬ç©ºé—´ä¸è¶³ã€‚ é‡‡ç”¨å†³ç­–â‘¢çš„æƒ…å†µï¼šæœ¬æ¬¡é¡µé¢æ”¹è¿›åœ¨æ˜¾è‘—æ€§æ°´å¹³å†…ï¼Œè¯æ˜äº†â€˜è½¬åŒ–ç‡æå‡çš„å‡è®¾â€™ã€‚ä½†æ˜¯æ”¶ç›Šæå‡ç‡æ²¡æœ‰è¾¾åˆ°é¢„æœŸæ°´å¹³ã€‚ ç¬¬å…­é¢˜ï¼šä»ä¸è®¢è´­çš„å®¢æˆ·æŸç½‘ç«™åŒ…å«ä¸¤ä¸ªè¡¨ï¼ŒCustomers è¡¨å’Œ Orders è¡¨ã€‚ç¼–å†™ä¸€ä¸ª SQL æŸ¥è¯¢ï¼Œæ‰¾å‡ºæ‰€æœ‰ä»ä¸è®¢è´­ä»»ä½•ä¸œè¥¿çš„å®¢æˆ·ã€‚Customersè¡¨ï¼š | ID | Name | |----|-------| | 1 | Joe | | 2 | Henry | | 3 | Sam | | 4 | Max | Ordersè¡¨ï¼š | ID | CustomerID | |----|------------| | 1 | 3 | | 2 | 1 |ä¾‹å¦‚ç»™å®šä¸Šè¿°è¡¨æ ¼ï¼Œä½ çš„æŸ¥è¯¢åº”è¿”å›ï¼š |Customers| |---------| | Henry | | Max | è§£ç­”ï¼š select c.name from customers c left join (select distinct customerid from orders) o on c.id=o.customerid where o.customerid is null ç¬¬ä¸ƒé¢˜ï¼šåˆ é™¤é‡å¤çš„ç”µå­é‚®ç®±ï¼ˆä½¿ç”¨å·¥å…·ï¼šMySQLï¼‰ç¼–å†™ä¸€ä¸ª SQL æŸ¥è¯¢ï¼Œæ¥åˆ é™¤ Person è¡¨ä¸­æ‰€æœ‰é‡å¤çš„ç”µå­é‚®ç®±ï¼Œé‡å¤çš„é‚®ç®±é‡Œåªä¿ç•™ Id æœ€å°çš„é‚£ä¸ªã€‚æ³¨æ„ï¼šPerson è¡¨ä¸­æ•°æ®é‡å¾ˆå¤§ï¼ŒIDä¸ºä¸»é”® | ID | Email | |----|-------------------| | 1 | john@example\\.com | | 2 | bob@example\\.com | | 3 | john@example\\.com |ä¾‹å¦‚ï¼Œåœ¨è¿è¡Œä½ çš„æŸ¥è¯¢è¯­å¥ä¹‹åï¼Œä¸Šé¢çš„ Person è¡¨åº”è¿”å›ä»¥ä¸‹å‡ è¡Œ: | ID | Email | |----|-------------------| | 1 | john@example\\.com | | 2 | bob@example\\.com |delete from email where id not in( select a.id from (select min(id) id from email group by email) a )","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://smilecoc.vip/categories/ç¬”è®°/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"SQLé¢è¯•44é¢˜","slug":"SQLé¢è¯•44é¢˜","date":"2020-04-04T08:24:08.000Z","updated":"2022-04-17T08:27:24.000Z","comments":true,"path":"2020/04/04/SQLé¢è¯•44é¢˜/","link":"","permalink":"http://smilecoc.vip/2020/04/04/SQLé¢è¯•44é¢˜/","excerpt":"","text":"01 å»ºè¡¨è¯­å¥create table Student(sid varchar(10),sname varchar(10),sage datetime,ssex nvarchar(10)); insert into Student values(&#39;01&#39; , &#39;èµµé›·&#39; , &#39;1990-01-01&#39; , &#39;ç”·&#39;); insert into Student values(&#39;02&#39; , &#39;é’±ç”µ&#39; , &#39;1990-12-21&#39; , &#39;ç”·&#39;); insert into Student values(&#39;03&#39; , &#39;å­™é£&#39; , &#39;1990-05-20&#39; , &#39;ç”·&#39;); insert into Student values(&#39;04&#39; , &#39;æäº‘&#39; , &#39;1990-08-06&#39; , &#39;ç”·&#39;); insert into Student values(&#39;05&#39; , &#39;å‘¨æ¢…&#39; , &#39;1991-12-01&#39; , &#39;å¥³&#39;); insert into Student values(&#39;06&#39; , &#39;å´å…°&#39; , &#39;1992-03-01&#39; , &#39;å¥³&#39;); insert into Student values(&#39;07&#39; , &#39;éƒ‘ç«¹&#39; , &#39;1989-07-01&#39; , &#39;å¥³&#39;); insert into Student values(&#39;08&#39; , &#39;ç‹èŠ&#39; , &#39;1990-01-20&#39; , &#39;å¥³&#39;); create table Course(cid varchar(10),cname varchar(10),tid varchar(10)); insert into Course values(&#39;01&#39; , &#39;è¯­æ–‡&#39; , &#39;02&#39;); insert into Course values(&#39;02&#39; , &#39;æ•°å­¦&#39; , &#39;01&#39;); insert into Course values(&#39;03&#39; , &#39;è‹±è¯­&#39; , &#39;03&#39;); create table Teacher(tid varchar(10),tname varchar(10)); insert into Teacher values(&#39;01&#39; , &#39;å¼ ä¸‰&#39;); insert into Teacher values(&#39;02&#39; , &#39;æå››&#39;); insert into Teacher values(&#39;03&#39; , &#39;ç‹äº”&#39;); create table SC(sid varchar(10),cid varchar(10),score decimal(18,1)); insert into SC values(&#39;01&#39; , &#39;01&#39; , 80); insert into SC values(&#39;01&#39; , &#39;02&#39; , 90); insert into SC values(&#39;01&#39; , &#39;03&#39; , 99); insert into SC values(&#39;02&#39; , &#39;01&#39; , 70); insert into SC values(&#39;02&#39; , &#39;02&#39; , 60); insert into SC values(&#39;02&#39; , &#39;03&#39; , 80); insert into SC values(&#39;03&#39; , &#39;01&#39; , 80); insert into SC values(&#39;03&#39; , &#39;02&#39; , 80); insert into SC values(&#39;03&#39; , &#39;03&#39; , 80); insert into SC values(&#39;04&#39; , &#39;01&#39; , 50); insert into SC values(&#39;04&#39; , &#39;02&#39; , 30); insert into SC values(&#39;04&#39; , &#39;03&#39; , 20); insert into SC values(&#39;05&#39; , &#39;01&#39; , 76); insert into SC values(&#39;05&#39; , &#39;02&#39; , 87); insert into SC values(&#39;06&#39; , &#39;01&#39; , 31); insert into SC values(&#39;06&#39; , &#39;03&#39; , 34); insert into SC values(&#39;07&#39; , &#39;02&#39; , 89); insert into SC values(&#39;07&#39; , &#39;03&#39; , 98); 02 è¡¨ç»“æ„é¢„è§ˆ--å­¦ç”Ÿè¡¨ Student(SId,Sname,Sage,Ssex) --SId å­¦ç”Ÿç¼–å·,Sname å­¦ç”Ÿå§“å,Sage å‡ºç”Ÿå¹´æœˆ,Ssex å­¦ç”Ÿæ€§åˆ« --è¯¾ç¨‹è¡¨ Course(CId,Cname,TId) --CId è¯¾ç¨‹ç¼–å·,Cname è¯¾ç¨‹åç§°,TId æ•™å¸ˆç¼–å· --æ•™å¸ˆè¡¨ Teacher(TId,Tname) --TId æ•™å¸ˆç¼–å·,Tname æ•™å¸ˆå§“å --æˆç»©è¡¨ SC(SId,CId,score) --SId å­¦ç”Ÿç¼–å·,CId è¯¾ç¨‹ç¼–å·,score åˆ†æ•° é¢˜è§£1. æŸ¥è¯¢â€œ01â€è¯¾ç¨‹æ¯”â€œ02â€è¯¾ç¨‹æˆç»©é«˜çš„æ‰€æœ‰å­¦ç”Ÿçš„å­¦å·ï¼›select distinct t1.sid as sidfrom (select * from sc where cid=&#39;01&#39;)t1 left join (select * from sc where cid=&#39;02&#39;)t2 on t1.sid=t2.sid where t1.score&gt;t2.score 2. æŸ¥è¯¢å¹³å‡æˆç»©å¤§äº60åˆ†çš„åŒå­¦çš„å­¦å·å’Œå¹³å‡æˆç»©ï¼›select sid ,avg(score) from sc group by sid having avg(score)&gt;60 3. æŸ¥è¯¢æ‰€æœ‰åŒå­¦çš„å­¦å·ã€å§“åã€é€‰è¯¾æ•°ã€æ€»æˆç»©select student.sid as sid ,sname ,count(distinct cid) course_cnt ,sum(score) as total_score from student left join sc on student.sid=sc.sid group by sid,sname 4. æŸ¥è¯¢å§“â€œæâ€çš„è€å¸ˆçš„ä¸ªæ•°ï¼›select count(distinct tid) as teacher_cnt from teacher where tname like &#39;æ%&#39; 5. æŸ¥è¯¢æ²¡å­¦è¿‡â€œå¼ ä¸‰â€è€å¸ˆè¯¾çš„åŒå­¦çš„å­¦å·ã€å§“åï¼›select sid,sname from student where sid not in ( select sc.sid from teacher left join course on teacher.tid=course.tid left join sc on course.cid=sc.cid where teacher.tname=&#39;å¼ ä¸‰&#39; ) 6. æŸ¥è¯¢å­¦è¿‡â€œ01â€å¹¶ä¸”ä¹Ÿå­¦è¿‡ç¼–å·â€œ02â€è¯¾ç¨‹çš„åŒå­¦çš„å­¦å·ã€å§“åï¼›select t.sid as sid ,sname from ( select sid ,count(if(cid=&#39;01&#39;,score,null)) as count1 ,count(if(cid=&#39;02&#39;,score,null)) as count2 from sc group by sid having count(if(cid=&#39;01&#39;,score,null))&gt;0 and count(if(cid=&#39;02&#39;,score,null))&gt;0 )t left join student on t.sid=student.sid 7. æŸ¥è¯¢å­¦è¿‡â€œå¼ ä¸‰â€è€å¸ˆæ‰€æ•™çš„è¯¾çš„åŒå­¦çš„å­¦å·ã€å§“åï¼›select student.sid ,sname from ( select distinct cid from course left join teacher on course.tid=teacher.tid where teacher.tname=&#39;å¼ ä¸‰&#39; )course left join sc on course.cid=sc.cid left join student on sc.sid=student.sid group by student.sid,sname 8. æŸ¥è¯¢è¯¾ç¨‹ç¼–å·â€œ01â€çš„æˆç»©æ¯”è¯¾ç¨‹ç¼–å·â€œ02â€è¯¾ç¨‹ä½çš„æ‰€æœ‰åŒå­¦çš„å­¦å·ã€å§“åï¼›select t1.sid,sname from ( select distinct t1.sid as sid from (select * from sc where cid=&#39;01&#39;)t1 left join (select * from sc where cid=&#39;02&#39;)t2 on t1.sid=t2.sid where t1.score&gt;t2.score )t1 left join student on t1.sid=student.sid 9. æŸ¥è¯¢æ‰€æœ‰è¯¾ç¨‹æˆç»©å°äº60åˆ†çš„åŒå­¦çš„å­¦å·ã€å§“åï¼›select t1.sid,sname from ( select sid,max(score) from sc group by sid having max(score&lt;60) )t1 left join student on t1.sid=student.sid 10. æŸ¥è¯¢æ²¡æœ‰å­¦å…¨æ‰€æœ‰è¯¾çš„åŒå­¦çš„å­¦å·ã€å§“åï¼›select t1.sid,sname from ( select count(cid),sid from sc group by sid having count(cid) &lt; (select count(distinct cid) from course) )t1 left join student on t1.sid=student.sid 11. æŸ¥è¯¢è‡³å°‘æœ‰ä¸€é—¨è¯¾ä¸å­¦å·ä¸ºâ€œ01â€çš„åŒå­¦æ‰€å­¦ç›¸åŒçš„åŒå­¦çš„å­¦å·å’Œå§“åï¼›select distinct sc.sid from ( select cid from sc where sid=&#39;01&#39; )t1 left join sc on t1.cid=sc.cid 12. æŸ¥è¯¢å’Œâ€01â€å·çš„åŒå­¦å­¦ä¹ çš„è¯¾ç¨‹å®Œå…¨ç›¸åŒçš„å…¶ä»–åŒå­¦çš„å­¦å·å’Œå§“å#æ³¨æ„æ˜¯å’Œ&#39;01&#39;å·åŒå­¦è¯¾ç¨‹å®Œå…¨ç›¸åŒä½†éå­¦ä¹ è¯¾ç¨‹æ•°ç›¸åŒçš„,è¿™é‡Œæˆ‘ç”¨å·¦è¿æ¥è§£å†³è¿™ä¸ªé—®é¢˜select t1.sid,sname from ( select sc.sid ,count(distinct sc.cid) from ( select cid from sc where sid=&#39;01&#39; )t1 #é€‰å‡º01çš„åŒå­¦æ‰€å­¦çš„è¯¾ç¨‹ left join sc on t1.cid=sc.cid group by sc.sid having count(distinct sc.cid)= (select count(distinct cid) from sc where sid = &#39;01&#39;) )t1 left join student on t1.sid=student.sid where t1.sid!=&#39;01&#39; 13. æŠŠâ€œSCâ€è¡¨ä¸­â€œå¼ ä¸‰â€è€å¸ˆæ•™çš„è¯¾çš„æˆç»©éƒ½æ›´æ”¹ä¸ºæ­¤è¯¾ç¨‹çš„å¹³å‡æˆç»©ï¼›æš‚è·³è¿‡updateé¢˜ç›®14. æŸ¥è¯¢æ²¡å­¦è¿‡â€å¼ ä¸‰â€è€å¸ˆè®²æˆçš„ä»»ä¸€é—¨è¯¾ç¨‹çš„å­¦ç”Ÿå§“åselect sname from student where sid not in ( select distinct sid from sc left join course on sc.cid=course.cid left join teacher on course.tid=teacher.tid where tname=&#39;å¼ ä¸‰&#39; ) 15. æŸ¥è¯¢ä¸¤é—¨åŠå…¶ä»¥ä¸Šä¸åŠæ ¼è¯¾ç¨‹çš„åŒå­¦çš„å­¦å·ï¼Œå§“ååŠå…¶å¹³å‡æˆç»©select t1.sid,sname,avg_score from ( select sid,count(if(score&lt;60,cid,null)),avg(score) as avg_score from sc group by sid having count(if(score&lt;60,cid,null)) &gt;=2 )t1 left join student on t1.sid=student.sid 16. æ£€ç´¢â€01â€è¯¾ç¨‹åˆ†æ•°å°äº60ï¼ŒæŒ‰åˆ†æ•°é™åºæ’åˆ—çš„å­¦ç”Ÿä¿¡æ¯select sid,if(cid=&#39;01&#39;,score,100)from sc where if(cid=&#39;01&#39;,score,100)&lt;60 order by if(cid=&#39;01&#39;,score,100) desc 17. æŒ‰å¹³å‡æˆç»©ä»é«˜åˆ°ä½æ˜¾ç¤ºæ‰€æœ‰å­¦ç”Ÿçš„å¹³å‡æˆç»©select sid,avg(score) from sc group by sid order by avg(score) desc 18. æŸ¥è¯¢å„ç§‘æˆç»©æœ€é«˜åˆ†ã€æœ€ä½åˆ†å’Œå¹³å‡åˆ†ï¼šä»¥å¦‚ä¸‹å½¢å¼æ˜¾ç¤ºï¼šè¯¾ç¨‹IDï¼Œè¯¾ç¨‹nameï¼Œæœ€é«˜åˆ†ï¼Œæœ€ä½åˆ†ï¼Œå¹³å‡åˆ†ï¼ŒåŠæ ¼ç‡select sc.cid ,cname ,max(score) as max_score ,min(score) as min_score ,avg(score) as avg_score ,count(if(score&gt;=60,sid,null))/count(sid) as pass_rate from sc left join course on sc.cid=course.cid group by sc.cid 19. æŒ‰å„ç§‘å¹³å‡æˆç»©ä»ä½åˆ°é«˜å’ŒåŠæ ¼ç‡çš„ç™¾åˆ†æ•°ä»é«˜åˆ°ä½é¡ºåº#è¿™é‡Œå…ˆæŒ‰ç…§å¹³å‡æˆç»©æ’åºï¼Œå†æŒ‰ç…§åŠæ ¼ç™¾åˆ†æ•°æ’åºï¼Œ select cid ,avg(score) as avg_score ,count(if(score&gt;=60,sid,null))/count(sid) as pass_rate from sc group by cid order by avg_score,pass_rate desc 20. æŸ¥è¯¢å­¦ç”Ÿçš„æ€»æˆç»©å¹¶è¿›è¡Œæ’åselect sid ,sum(score) as sum_score from sc group by sid order by sum_score desc 21. æŸ¥è¯¢ä¸åŒè€å¸ˆæ‰€æ•™ä¸åŒè¯¾ç¨‹å¹³å‡åˆ†ä»é«˜åˆ°ä½æ˜¾ç¤ºselect tid ,avg(score) as avg_score from course left join sc on course.cid=sc.cid group by tid order by avg_score desc 22. æŸ¥è¯¢æ‰€æœ‰è¯¾ç¨‹çš„æˆç»©ç¬¬2ååˆ°ç¬¬3åçš„å­¦ç”Ÿä¿¡æ¯åŠè¯¥è¯¾ç¨‹æˆç»©select sid,rank_num,score,cid from ( select rank() over(partition by cid order by score desc) as rank_num ,sid ,score ,cid from sc )t where rank_num in (2,3) 23. ç»Ÿè®¡å„ç§‘æˆç»©å„åˆ†æ•°æ®µäººæ•°ï¼šè¯¾ç¨‹ç¼–å·,è¯¾ç¨‹åç§°,[100-85],[85-70],[70-60],[0-60]åŠæ‰€å ç™¾åˆ†æ¯”select sc.cid ,cname ,count(if(score between 85 and 100,sid,null))/count(sid) ,count(if(score between 70 and 85,sid,null))/count(sid) ,count(if(score between 60 and 70,sid,null))/count(sid) ,count(if(score between 0 and 60,sid,null))/count(sid) from sc left join course on sc.cid=course.cid group by sc.cid,cname 24. æŸ¥è¯¢å­¦ç”Ÿå¹³å‡æˆç»©åŠå…¶åæ¬¡select sid ,avg_score ,rank() over (order by avg_score desc) from ( select sid ,avg(score) as avg_score from sc group by sid )t 25. æŸ¥è¯¢å„ç§‘æˆç»©å‰ä¸‰åçš„è®°å½•select sid,cid,rank1from ( select cid ,sid ,rank() over(partition by cid order by score desc) as rank1 from sc )twhere rank1&lt;=3 26. æŸ¥è¯¢æ¯é—¨è¯¾ç¨‹è¢«é€‰ä¿®çš„å­¦ç”Ÿæ•°select count(sid) ,cid from sc group by cid 27. æŸ¥è¯¢å‡ºåªé€‰ä¿®äº†ä¸€é—¨è¯¾ç¨‹çš„å…¨éƒ¨å­¦ç”Ÿçš„å­¦å·å’Œå§“åselect sid from sc group by sid having count(cid) =1 28. æŸ¥è¯¢ç”·ç”Ÿã€å¥³ç”Ÿäººæ•°select ssex ,count(distinct sid)from studentgroup by ssex 29. æŸ¥è¯¢åå­—ä¸­å«æœ‰â€é£â€å­—çš„å­¦ç”Ÿä¿¡æ¯select sid,sname from student where sname like &#39;%é£%&#39; 30. æŸ¥è¯¢åŒååŒæ€§å­¦ç”Ÿåå•ï¼Œå¹¶ç»Ÿè®¡åŒåäººæ•°select ssex ,sname ,count(sid) from student group by ssex,sname having count(sid)&gt;=2 31. æŸ¥è¯¢1990å¹´å‡ºç”Ÿçš„å­¦ç”Ÿåå•(æ³¨ï¼šStudentè¡¨ä¸­Sageåˆ—çš„ç±»å‹æ˜¯datetime)select sid,sname,sage from student where year(sage)=1990 32. æŸ¥è¯¢æ¯é—¨è¯¾ç¨‹çš„å¹³å‡æˆç»©ï¼Œç»“æœæŒ‰å¹³å‡æˆç»©å‡åºæ’åˆ—ï¼Œå¹³å‡æˆç»©ç›¸åŒæ—¶ï¼ŒæŒ‰è¯¾ç¨‹å·é™åºæ’åˆ—select cid,avg(score) as avg_score from sc group by cid order by avg_score,cid desc 33. æŸ¥è¯¢ä¸åŠæ ¼çš„è¯¾ç¨‹ï¼Œå¹¶æŒ‰è¯¾ç¨‹å·ä»å¤§åˆ°å°æ’åˆ—select cid,sid,score from sc where score&lt;60 order by cid desc,sid 34. æŸ¥è¯¢è¯¾ç¨‹ç¼–å·ä¸ºâ€01â€ä¸”è¯¾ç¨‹æˆç»©åœ¨60åˆ†ä»¥ä¸Šçš„å­¦ç”Ÿçš„å­¦å·å’Œå§“åï¼›select sid,cid,scorefrom scwhere cid=&#39;01&#39; and score&gt;60 35. æŸ¥è¯¢é€‰ä¿®â€œå¼ ä¸‰â€è€å¸ˆæ‰€æˆè¯¾ç¨‹çš„å­¦ç”Ÿä¸­ï¼Œæˆç»©æœ€é«˜çš„å­¦ç”Ÿå§“ååŠå…¶æˆç»©select sc.sid,sname,cname,score from sc left join course style=&quot;font-weight: 600;&quot;&gt;=course.cid left join teacher style=&quot;font-weight: 600;&quot;&gt;=teacher.tid left join student style=&quot;font-weight: 600;&quot;&gt;=student.sid where tname=&#39;å¼ ä¸‰&#39; order by score desc limit 1; 36. æŸ¥è¯¢æ¯é—¨åŠŸè¯¾æˆç»©æœ€å¥½çš„å‰ä¸¤åselect cid,sid,rank1 from ( select cid ,sid ,rank() over(partition by cid order by score desc) as rank1 from sc )t where rank1 &lt;=2 37. ç»Ÿè®¡æ¯é—¨è¯¾ç¨‹çš„å­¦ç”Ÿé€‰ä¿®äººæ•°ï¼ˆè¶…è¿‡5äººçš„è¯¾ç¨‹æ‰ç»Ÿè®¡ï¼‰ã€‚è¦æ±‚è¾“å‡ºè¯¾ç¨‹å·å’Œé€‰ä¿®äººæ•°ï¼ŒæŸ¥è¯¢ç»“æœæŒ‰äººæ•°é™åºæ’åˆ—ï¼Œè‹¥äººæ•°ç›¸åŒï¼ŒæŒ‰è¯¾ç¨‹å·å‡åºæ’åˆ—select cid ,count(sid) as cnt from sc group by cid having cnt&gt;=5 order by count(sid) desc,cid 38. æ£€ç´¢è‡³å°‘é€‰ä¿®ä¸¤é—¨è¯¾ç¨‹çš„å­¦ç”Ÿå­¦å·select sid ,count(cid) from sc group by sid having count(cid)&gt;=2 39. æŸ¥è¯¢é€‰ä¿®äº†å…¨éƒ¨è¯¾ç¨‹çš„å­¦ç”Ÿä¿¡æ¯select sid ,count(cid) from sc group by sid having count(cid)=(select count(distinct cid) from sc) 40. æŸ¥è¯¢å„å­¦ç”Ÿçš„å¹´é¾„select sid,sname,year(curdate())-year(sage) as sage from student 41 æŸ¥è¯¢æœ¬å‘¨è¿‡ç”Ÿæ—¥çš„å­¦ç”Ÿselect sid,sname,sage from student where weekofyear(sage)=weekofyear(curdate()) 42. æŸ¥è¯¢ä¸‹å‘¨è¿‡ç”Ÿæ—¥çš„å­¦ç”Ÿselect sid,sname,sage from student where weekofyear(sage) = weekofyear(date_add(curdate(),interval 1 week)) 43 æŸ¥è¯¢æœ¬æœˆè¿‡ç”Ÿæ—¥çš„å­¦ç”Ÿselect sid,sname,sage from student where month(sage) = month(curdate()) 44. æŸ¥è¯¢ä¸‹æœˆè¿‡ç”Ÿæ—¥çš„å­¦ç”Ÿselect sid,sname,sage from student where month(date_sub(sage,interval 1 month)) = month(curdate())","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://smilecoc.vip/categories/ç¬”è®°/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"æµ·ç›—åˆ†é‡‘é—®é¢˜é—®é¢˜","slug":"æµ·ç›—åˆ†é‡‘é—®é¢˜","date":"2020-03-21T11:42:55.000Z","updated":"2022-04-17T08:26:00.506Z","comments":true,"path":"2020/03/21/æµ·ç›—åˆ†é‡‘é—®é¢˜/","link":"","permalink":"http://smilecoc.vip/2020/03/21/æµ·ç›—åˆ†é‡‘é—®é¢˜/","excerpt":"","text":"æœ‰5ä¸ªæµ·ç›—æœ‰100æšé‡‘å¸ï¼Œä½†è¿™5ä¸ªäººæ²¡æœ‰è€å¤§ï¼Œä¸çŸ¥é“æ€ä¹ˆåˆ†è¿™100æšé‡‘å¸ã€‚ä¸è¿‡5ä¸ªäººéƒ½ç»é¡¶èªæ˜ï¼Œä»–ä»¬å†³å®šï¼š1.æŠ½ç­¾ï¼Œå†³å®š12345äº”ä¸ªå·ç ï¼Œ2.ç”±1å·æåˆ†é…æ–¹æ¡ˆï¼Œå¤§å®¶ä¸€èµ·ä¸¾æ‰‹è¡¨å†³ï¼Œè¶…è¿‡åŠæ•°åŒæ„åˆ™é€šè¿‡ï¼›å¦åˆ™è¢«æ‰”è¿›å¤§æµ·é‡Œå–‚é²¨é±¼ï¼›3.1å·æ­»äº†ç”±2å·æåˆ†é…æ–¹æ¡ˆï¼Œå››ä¸ªäººè¡¨å†³æœ‰è¶…è¿‡åŠæ•°äººåŒæ„ï¼Œåˆ™é€šè¿‡ï¼Œå¦åˆ™ä»æ—§è¢«æ‰”è¿›å¤§æµ·é‡Œå–‚é²¨é±¼ï¼›4.ä»¥æ­¤ç±»æ¨â€”â€”- å‡å®šï¼šæ¯ä¸ªæµ·ç›—éƒ½æ˜¯ä¸€æ ·çš„èªæ˜ï¼Œéƒ½å¯ä»¥åšå‡ºæœ€ç†æ€§çš„å†³ç­–ï¼Œé‚£ä¹ˆæœ€ç»ˆè¿™äº”ä¸ªæµ·ç›—åˆ†å¾—çš„é‡‘å¸çš„ ç­”æ¡ˆåˆ†æï¼š 1å·æµ·ç›—åˆ†ç»™3å·1æšé‡‘å¸ï¼Œ4å·æˆ–5å·2æšé‡‘å¸ï¼Œè‡ªå·±åˆ™ç‹¬å¾—97æšé‡‘å¸ï¼Œå³åˆ†é…æ–¹æ¡ˆä¸ºï¼ˆ97ï¼Œ0ï¼Œ1ï¼Œ2ï¼Œ0ï¼‰æˆ–ï¼ˆ97ï¼Œ0ï¼Œ1ï¼Œ0ï¼Œ2ï¼‰ã€‚ ç°æ¥çœ‹å¦‚ä¸‹å„äººçš„ç†æ€§åˆ†æï¼š 5å·æµ·ç›—ï¼šå› ä¸ºä»–æ˜¯æœ€å®‰å…¨çš„ï¼Œæ²¡æœ‰è¢«æ‰”ä¸‹å¤§æµ·çš„é£é™©ï¼Œå› æ­¤ä»–çš„ç­–ç•¥ä¹Ÿæœ€ä¸ºç®€å•ï¼Œå³æœ€å¥½å‰é¢çš„äººå…¨éƒ½æ­»å…‰å…‰ï¼Œé‚£ä¹ˆä»–å°±å¯ä»¥ç‹¬å¾—è¿™100æšé‡‘å¸äº†ã€‚4å·æµ·ç›—ï¼šä»–çš„ç”Ÿå­˜æœºä¼šå®Œå…¨å–å†³äºå‰é¢è¿˜æœ‰äººå­˜æ´»ç€ï¼Œå› ä¸ºå¦‚æœ1å·åˆ°3å·çš„æµ·ç›—å…¨éƒ½å–‚äº†é²¨é±¼ï¼Œé‚£ä¹ˆåœ¨åªå‰©4å·ä¸5å·çš„æƒ…å†µä¸‹ï¼Œä¸ç®¡4å·æå‡ºæ€æ ·çš„åˆ†é…æ–¹æ¡ˆï¼Œ5å·ä¸€å®šéƒ½ä¼šæŠ•åå¯¹ç¥¨æ¥è®©4å·å»å–‚é²¨é±¼ï¼Œä»¥ç‹¬åå…¨éƒ¨çš„é‡‘å¸ã€‚å“ªæ€•4å·ä¸ºäº†ä¿å‘½è€Œè®¨å¥½5å·ï¼Œæå‡ºï¼ˆ0ï¼Œ100ï¼‰è¿™æ ·çš„æ–¹æ¡ˆè®©5å·ç‹¬å é‡‘å¸ï¼Œä½†æ˜¯5å·è¿˜æœ‰å¯èƒ½è§‰å¾—ç•™ç€4å·æœ‰å±é™©ï¼Œè€ŒæŠ•ç¥¨åå¯¹ä»¥è®©å…¶å–‚é²¨é±¼ã€‚å› æ­¤ç†æ€§çš„4å·æ˜¯ä¸åº”è¯¥å†’è¿™æ ·çš„é£é™©ï¼ŒæŠŠå­˜æ´»çš„å¸Œæœ›å¯„æ‰˜åœ¨5å·çš„éšæœºé€‰æ‹©ä¸Šçš„ï¼Œä»–æƒŸæœ‰æ”¯æŒ3å·æ‰èƒ½ç»å¯¹ä¿è¯è‡ªèº«çš„æ€§å‘½ã€‚3å·æµ·ç›—ï¼šä»–ç»è¿‡ä¸Šè¿°çš„é€»è¾‘æ¨ç†ä¹‹åï¼Œå°±ä¼šæå‡ºï¼ˆ100ï¼Œ0ï¼Œ0ï¼‰è¿™æ ·çš„åˆ†é…æ–¹æ¡ˆï¼Œå› ä¸ºä»–çŸ¥é“4å·å“ªæ€•ä¸€æ— æ‰€è·ï¼Œä¹Ÿè¿˜æ˜¯ä¼šæ— æ¡ä»¶çš„æ”¯æŒä»–è€ŒæŠ•èµæˆç¥¨çš„ï¼Œé‚£ä¹ˆå†åŠ ä¸Šè‡ªå·±çš„1ç¥¨å°±å¯ä»¥ä½¿ä»–ç¨³è·è¿™100é‡‘å¸äº†ã€‚2å·æµ·ç›—ï¼šä¹Ÿç»è¿‡æ¨ç†å¾—çŸ¥äº†3å·çš„åˆ†é…æ–¹æ¡ˆï¼Œé‚£ä¹ˆä»–å°±ä¼šæå‡ºï¼ˆ98ï¼Œ0ï¼Œ1ï¼Œ1ï¼‰çš„æ–¹æ¡ˆã€‚å› ä¸ºè¿™ä¸ªæ–¹æ¡ˆç›¸å¯¹äº3å·çš„åˆ†é…æ–¹æ¡ˆï¼Œ4å·å’Œ5å·è‡³å°‘å¯ä»¥è·å¾—1æšé‡‘å¸ï¼Œç†æ€§çš„4å·å’Œ5å·è‡ªç„¶ä¼šè§‰å¾—æ­¤æ–¹æ¡ˆå¯¹ä»–ä»¬æ¥è¯´æ›´æœ‰åˆ©è€Œæ”¯æŒ2å·ï¼Œä¸å¸Œæœ›2å·å‡ºå±€è€Œç”±3å·æ¥è¿›è¡Œåˆ†é…ã€‚è¿™æ ·ï¼Œ2å·å°±å¯ä»¥å±é¢ å±é¢ çš„æ‹¿èµ°98æšé‡‘å¸äº†ã€‚1å·æµ·ç›—ï¼šç»è¿‡ä¸€ç•ªæ¨ç†ä¹‹åä¹Ÿæ´æ‚‰äº†2å·çš„åˆ†é…æ–¹æ¡ˆã€‚ä»–å°†é‡‡å–çš„ç­–ç•¥æ˜¯æ”¾å¼ƒ2å·ï¼Œè€Œç»™3å·1æšé‡‘å¸ï¼ŒåŒæ—¶ç»™4å·æˆ–5å·2æšé‡‘å¸ï¼Œå³æå‡ºï¼ˆ97ï¼Œ0ï¼Œ1ï¼Œ2ï¼Œ0ï¼‰æˆ–ï¼ˆ97ï¼Œ0ï¼Œ1ï¼Œ0ï¼Œ2ï¼‰çš„åˆ†é…æ–¹æ¡ˆã€‚ç”±äº1å·çš„åˆ†é…æ–¹æ¡ˆå¯¹äº3å·ä¸4å·æˆ–5å·æ¥è¯´ï¼Œç›¸æ¯”2å·çš„æ–¹æ¡ˆå¯ä»¥è·å¾—æ›´å¤šçš„åˆ©ç›Šï¼Œé‚£ä¹ˆä»–ä»¬å°†ä¼šæŠ•ç¥¨æ”¯æŒ1å·ï¼Œå†åŠ ä¸Š1å·è‡ªèº«çš„1ç¥¨ï¼Œ97æšé‡‘å¸å°±å¯è½»æ¾è½å…¥1å·çš„è…°åŒ…äº†ã€‚","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://smilecoc.vip/categories/ç¬”è®°/"}],"tags":[{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"http://smilecoc.vip/tags/é¢˜è§£/"}],"author":"smilecoc"},{"title":"åŒè›‹é—®é¢˜","slug":"åŒè›‹é—®é¢˜","date":"2020-03-20T12:56:55.000Z","updated":"2022-04-17T08:26:06.936Z","comments":true,"path":"2020/03/20/åŒè›‹é—®é¢˜/","link":"","permalink":"http://smilecoc.vip/2020/03/20/åŒè›‹é—®é¢˜/","excerpt":"","text":"é—®é¢˜ï¼šå¥¥æ—åŒ¹å…‹å¤§å¦æ¥¼å±‚é«˜100å±‚ï¼Œå½“æ¥¼å±‚ä½æ—¶ï¼Œä»æ¥¼ä¸Šæ‰”ä¸‹é¸¡è›‹ä¸ä¼šç¢ï¼Œå½“æ¥¼å±‚é«˜æ—¶ï¼Œä»æ¥¼ä¸Šæ‰”ä¸‹é¸¡è›‹ä¼šç ´ç¢ã€‚ç°åœ¨ä½ æœ‰ä¸¤ä¸ªé¸¡è›‹ï¼Œä½ æ‰”å¤šå°‘æ¬¡ï¼Œå¯ä»¥è®¡ç®—å¾—å‡ºé¸¡è›‹ä¸ä¼šç¢çš„æ¥¼å±‚ï¼Ÿ æ–¹å¼ä¸€ï¼šä»ä¸€å±‚å¼€å§‹æ‰”ï¼Œæ¯å±‚é€’å¢ï¼Œé‚£ä¹ˆæ¯æ¬¡å¢åŠ 1ï¼Œæœ€å¤šè¯•100æ¬¡å°±å‡ºç»“æœäº†ã€‚ç»“æœï¼šæœ€å°‘1æ¬¡å°±ç¢ï¼Œæœ€å¤š100æ¬¡ç¢ã€‚åŒæ—¶è¿™ä¸ªæ˜¯åœ¨åªæœ‰ä¸€ä¸ªé¸¡è›‹ä¸‹çš„æœ€ä¼˜è§£æœ€ç»ˆçš„æ¬¡æ•°çš„ç»“æœåŒºé—´ä¸º(1ï¼Œ 100) æ–¹å¼äºŒï¼šå¹³è¡¡äºŒå‰æ ‘æ³•æ¯æ¬¡å–ä¸­é—´å€¼æ¥¼å±‚ï¼Œå¦‚ï¼š50,25,13,7,4,2,1ã€‚å¦‚æœç¬¬ä¸€æ¬¡å–50ç¢äº†ï¼Œé‚£è¯´æ˜ä¸´ç•Œç‚¹åœ¨50ä»¥å†…ï¼Œå°±å‰©ä¸‹ä¸€ä¸ªé¸¡è›‹ï¼Œåˆå¼€å§‹ç¬¬ä¸€ç§æ–¹å¼ã€‚æœ€ç»ˆçš„æ¬¡æ•°çš„ç»“æœåŒºé—´ä¸º(7ï¼Œ 50)ä¸ºäº†æœ€ä¼˜åå‘å–ï¼Œå¦‚ï¼š1,2,4,7â€¦â€¦ã€‚æœ€ä¼˜1æ¬¡å°±ç¢ï¼Œæœ€å·®75ç¢äº†ï¼Œ50æ²¡ç¢ï¼Œé‚£ä¹ˆå°±æ˜¯(1,8+24)ã€‚æœ€ç»ˆçš„æ¬¡æ•°çš„ç»“æœåŒºé—´ä¸º(1ï¼Œ 32) æ–¹å¼ä¸‰ï¼šå‡è®¾æˆ‘ä»Nå±‚æ‰”ï¼Œæ¯æ¬¡æ¥¼å±‚ä¸€æ ·,é‚£ä¹ˆï¼šN x N &gt;= 100, Nå–10å±‚ï¼Œå¦‚ï¼š10,20,30,40â€¦â€¦100ï¼Œä¸€å…±10ä»½ã€‚å¦‚æœç¬¬ä¸€æ¬¡æ‰”10ç¢äº†ï¼Œè¯´æ˜åŒºé—´åœ¨1åˆ°10ç›´æ¥ã€‚æœ€å·®çš„ç»“æœåœ¨100å±‚æ‰”ç¢äº†ï¼ŒåŒºé—´åœ¨91å±‚åˆ°99å±‚ä¹‹é—´ã€‚æ—¢(1+9, 10+9)ã€‚æœ€ç»ˆçš„æ¬¡æ•°çš„ç»“æœåŒºé—´ä¸º(10ï¼Œ 19) æ–¹å¼å››ï¼šæœ€ä¼˜æ–¹æ¡ˆé€’å½’ä¸è¿‡äºŒåˆ†æŸ¥æ‰¾ä¼¼ä¹å¹¶æ²¡æœ‰å¯¹æˆ‘ä»¬è§£å†³é—®é¢˜æœ‰ä»€ä¹ˆç‰¹åˆ«å¥½çš„å¯å‘ï¼Œæˆ‘ä»¬åªå¥½å¦è¾Ÿè¹Šå¾„ã€‚æˆ‘ä»¬å¯ä¸å¯ä»¥é€šè¿‡ åˆ†è€Œæ²»ä¹‹ çš„æ€æƒ³æ¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ é¦–å…ˆï¼ŒåŸºçº¿æ¡ä»¶å¾ˆå¥½ç¡®å®šï¼š åœ¨æœ‰ 2 ä¸ªé¸¡è›‹çš„æƒ…å†µä¸‹ï¼Œå¦‚æœåªæœ‰ä¸€å±‚æ¥¼ï¼Œåªéœ€è¦è¯•ä¸€æ¬¡ï¼›å¦‚æœæœ‰ä¸¤å±‚æ¥¼ï¼Œåªéœ€è¦è¯•ä¸¤æ¬¡ï¼›å¦‚æœæ²¡æœ‰æ¥¼ï¼Œé‚£å°±å¹²è„†ä¸ç”¨è¯•äº†ï¼ˆçœ‹ä¼¼æ˜¯åºŸè¯ï¼Œä½†æ˜¯æ˜¯å¾ˆé‡è¦çš„è¾¹ç•Œæ¡ä»¶ï¼‰ã€‚å¦‚æœåªæœ‰ 1 ä¸ªé¸¡è›‹ï¼Œåªèƒ½è€è€å®å®ä»ä¸‹å¾€ä¸Šå°è¯•ï¼Œä¹Ÿå°±æ˜¯åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œæœ‰å‡ å±‚æ¥¼å°±è¦è¯•å‡ æ¬¡ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±è¦æ€è€ƒé€’å½’æ¡ä»¶äº†ã€‚å¦‚ä½•èƒ½å°†é—®é¢˜ç®€åŒ–ã€‚ ä»¤åœ¨æœ‰ 2 ä¸ªé¸¡è›‹æ—¶ï¼Œæœ€åçš„æƒ…å†µä¸‹ï¼ŒN å±‚æ¥¼æ‰€éœ€è¦å°è¯•çš„æœ€å°‘æ¬¡æ•°ä¸º TNã€‚ å‡è®¾æ€»å…±æœ‰ N å±‚æ¥¼ï¼Œæˆ‘ä»¬åœ¨ç¬¬ K å±‚æ¥¼è¿›è¡Œä¸€æ¬¡å°è¯•ã€‚é‚£ä¹ˆæ­¤æ—¶ï¼Œå°±ä¼šåˆ†æˆä¸¤ç§æƒ…å†µï¼š é¸¡è›‹åœ¨ K å±‚ç¢æ‰äº†ï¼Œä¹Ÿå°±è¯´æ˜ä¸´ç•Œæ¥¼å±‚åœ¨ K å±‚ä»¥ä¸‹ã€‚ä½†æ˜¯æ­¤æ—¶ï¼Œæˆ‘ä»¬åªå‰©ä¸‹ 1 ä¸ªé¸¡è›‹ï¼Œæœ€åçš„æƒ…å†µä¸‹è¿˜è¦æ£€æµ‹ Kâˆ’1 æ¬¡æ‰èƒ½æ‰¾åˆ°ä¸´ç•Œæ¥¼å±‚é¸¡è›‹åœ¨ K å±‚æ²¡æœ‰ç¢ï¼Œä¸´ç•Œæ¥¼å±‚åœ¨ K å±‚ä»¥ä¸Šã€‚æ­¤æ—¶æˆ‘ä»¬è¿˜æ˜¯æœ‰ 2 ä¸ªé¸¡è›‹ï¼Œè¿˜å‰©ä¸‹ Nâˆ’K å±‚æ¥¼éœ€è¦æ£€æµ‹ï¼Œé‚£ä¹ˆæœ€åçš„æƒ…å†µä¸‹ï¼Œè¿˜éœ€è¦æ£€æµ‹ TNâˆ’K æ¬¡ã€‚å¾ˆæ˜¾ç„¶ Nâˆ’K è¦æ¯” N å°‘ï¼Œæˆ‘ä»¬é¡ºåˆ©å®ç°å¯¹é—®é¢˜çš„ç®€åŒ–ã€‚æœ€åçš„æƒ…å†µæ˜¾ç„¶æ˜¯ Kâˆ’1 å’Œ TNâˆ’K ä¸¤ä¸ªæ•°çš„æœ€å¤§çš„é‚£ä¸€ä¸ªå†åŠ ä¸Š 1ï¼Œå› ä¸ºæˆ‘ä»¬å…ˆè¯•äº†ä¸€æ¬¡ã€‚è¿™ä¸ªæœ€å¤§çš„æ•°ï¼Œå°±æ˜¯ TNã€‚ ä¸è¿‡è¿™é‡Œé¢æœ‰ä¸€ä¸ª K æ˜¯ä¸èƒ½ç¡®å®šçš„ã€‚ä¸ºäº†æ‰¾åˆ°åˆé€‚çš„ Kï¼Œæˆ‘ä»¬éœ€è¦æŠŠ K ä» 1 åˆ° N çš„æƒ…å†µå…¨éƒ¨è®¡ç®—å‡ºæ¥ï¼Œæ‰¾åˆ°ä½¿å¾— TN æœ€å°çš„æƒ…å†µå³å¯ã€‚ ç”¨ä»£ç æ¥è§£å†³è¿™ä¸ªé—®é¢˜å°±æ˜¯ï¼š def two_egg(n: int) -&gt; int: &quot;&quot;&quot; åŒè›‹é—®é¢˜çš„é€’å½’æ±‚è§£ :param n: æ¥¼å±‚æ•° :return: æœ€åæƒ…å†µä¸‹ï¼Œæ‰¾åˆ°ä¸´ç•Œæ¥¼å±‚æ‰€éœ€æœ€å°‘å°è¯•æ¬¡æ•° &quot;&quot;&quot; if n == 0: # æ²¡æœ‰æ¥¼å°±ä¸éœ€è¦è¯• return 0 elif n == 1: # æœ‰ä¸€å±‚æ¥¼ï¼Œè¯•ä¸€æ¬¡ return 1 result_list = [] for k in range(1, n + 1): # åœ¨æ¯ä¸€å±‚éƒ½è¯•ä¸€ä¸‹ result_list.append(max(k - 1, two_egg(n - k)) + 1) # æŠŠæ¯ä¸€å±‚çš„æƒ…å†µéƒ½è®°å½•ä¸‹æ¥ return min(result_list) # æœ€å¥½çš„ç»“æœå°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„ # ç”¨ 1 åˆ° 11 çš„æ•°å­—æµ‹è¯•ï¼Œä¸ç”¨ 100 æ˜¯å› ä¸ºç”µè„‘æ€§èƒ½ä¸å¤Ÿï¼Œæµ‹åˆ° 11 æ˜¯å› ä¸º 10 å’Œ 11 çš„ç»“æœä¸åŒ for f in range(1, 12): print(f&#39;{f} -------&gt; {two_egg(f)}&#39;) é€’å½’æ³•è§£å†³æ™®éåŒè›‹é—®é¢˜ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œå¯ä»¥è§£å†³é¸¡è›‹æ•°ç›®ä¸é™çš„æƒ…å†µï¼Œé€’å½’æŸ¥æ‰¾å¯ä»¥è§£å†³åªæœ‰ 2 ä¸ªé¸¡è›‹çš„æƒ…å†µã€‚ç°åœ¨ï¼Œæˆ‘ä»¬æŠŠé—®é¢˜è¿›ä¸€æ­¥æ‰©å±•ï¼šå¦‚æœæˆ‘ä»¬æœ‰ M ä¸ªé¸¡è›‹ï¼ŒN å±‚æ¥¼ï¼Œåœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œè‡³å°‘éœ€è¦æµ‹è¯•å¤šå°‘æ¬¡èƒ½å¤Ÿæ‰¾åˆ°ä¸´ç•Œæ¥¼å±‚ï¼Ÿ åŸºçº¿æ¡ä»¶æ ¹ä¸Šé¢çš„å·®ä¸å¤šä¸€æ ·ï¼š ä¸ç®¡æœ‰å¤šå°‘ä¸ªé¸¡è›‹ï¼Œå¦‚æœåªæœ‰ä¸€å±‚æ¥¼ï¼Œåªéœ€è¦è¯•ä¸€æ¬¡ï¼›å¦‚æœæ²¡æœ‰æ¥¼ï¼Œé‚£å°±å¹²è„†ä¸ç”¨è¯•äº†ã€‚å¦‚æœåªæœ‰ 1 ä¸ªé¸¡è›‹ï¼Œåªèƒ½è€è€å®å®ä»ä¸‹å¾€ä¸Šå°è¯•ï¼Œä¹Ÿå°±æ˜¯åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œæœ‰å‡ å±‚æ¥¼å°±è¦è¯•å‡ æ¬¡ã€‚é€’å½’æ¡ä»¶å…¶å®ä¹Ÿå¾ˆç±»ä¼¼ï¼Œåªæ˜¯å› ä¸ºé¸¡è›‹æ•°ç›®çš„å¼•å…¥ï¼Œä¼šç¨å¾®å¤æ‚ä¸€ä¸ä¸ç‚¹ç‚¹ã€‚ ä»¤åœ¨æœ‰ M ä¸ªé¸¡è›‹æ—¶ï¼Œæœ€åçš„æƒ…å†µä¸‹ï¼ŒN å±‚æ¥¼æ‰€éœ€è¦å°è¯•çš„æœ€å°‘æ¬¡æ•°ä¸º TM, Nã€‚ ä¾æ—§å‡è®¾æ€»å…±æœ‰ N å±‚æ¥¼ï¼Œæˆ‘ä»¬åœ¨ç¬¬ K å±‚æ¥¼è¿›è¡Œä¸€æ¬¡å°è¯•ã€‚é‚£ä¹ˆæ­¤æ—¶ï¼Œè¿˜æ˜¯ä¼šåˆ†æˆä¸¤ç§æƒ…å†µï¼š é¸¡è›‹åœ¨ K å±‚ç¢æ‰äº†ï¼Œä¹Ÿå°±è¯´æ˜ä¸´ç•Œæ¥¼å±‚åœ¨ K å±‚ä»¥ä¸‹ã€‚ä½†æ˜¯æ­¤æ—¶ï¼Œæˆ‘ä»¬åªå‰©ä¸‹ Mâˆ’1 ä¸ªé¸¡è›‹ï¼Œæœ€åçš„æƒ…å†µä¸‹è¿˜è¦æ£€æµ‹ TMâˆ’1, Kâˆ’1 æ¬¡æ‰èƒ½æ‰¾åˆ°ä¸´ç•Œæ¥¼å±‚é¸¡è›‹åœ¨ K å±‚æ²¡æœ‰ç¢ï¼Œä¸´ç•Œæ¥¼å±‚åœ¨ K å±‚ä»¥ä¸Šã€‚æ­¤æ—¶æˆ‘ä»¬è¿˜æ˜¯æœ‰ M ä¸ªé¸¡è›‹ï¼Œè¿˜å‰©ä¸‹ Nâˆ’K å±‚æ¥¼éœ€è¦æ£€æµ‹ï¼Œé‚£ä¹ˆæœ€åçš„æƒ…å†µä¸‹ï¼Œè¿˜éœ€è¦æ£€æµ‹ TM, Nâˆ’K æ¬¡ä¸Šé¢çš„ä¸¤ç§æƒ…å†µï¼Œè¦ä¹ˆç®€åŒ–äº†é¸¡è›‹æ•°é‡ï¼Œè¦ä¹ˆç®€åŒ–äº†æ¥¼å±‚æ•°é‡ï¼Œæœ€ç»ˆéƒ½å¯ä»¥é€šè¿‡é€’å½’æ¥æ‰¾åˆ°ç­”æ¡ˆã€‚æœ€ç»ˆçš„ç»“æœéœ€è¦æ˜¯ TMâˆ’1, N å’Œ TM, Nâˆ’K è¿™ä¸¤ä¸ªæ•°ä¸­æœ€å¤§çš„é‚£ä¸€ä¸ªåŠ ä¸Š 1ï¼Œå› ä¸ºæˆ‘ä»¬æœ€å¼€å§‹çš„æ—¶å€™åœ¨ K å±‚æµ‹è¯•äº†ä¸€ä¸‹ã€‚ åŒæ ·åœ°ï¼Œæˆ‘ä»¬éœ€è¦éå†æµ‹è¯•å½“ K ä¸º 1 åˆ° N æ—¶çš„å„ç§æƒ…å†µï¼Œå–å…¶ä¸­æ‰€éœ€æ­¥éª¤æœ€å°‘çš„ï¼Œå°±æ˜¯æˆ‘ä»¬è¦çš„ç»“æœã€‚ ç”¨ä»£ç è¡¨ç¤ºå°±æ˜¯ï¼š def two_egg_general(m: int, n: int) -&gt; int: &quot;&quot;&quot; æ™®éåŒè›‹é—®é¢˜çš„è§£å†³ :param m: é¸¡è›‹æ•°é‡ :param n: æ¥¼å±‚æ€»å±‚æ•° :return: æœ€ç³Ÿç³•çš„æƒ…å†µä¸‹ï¼Œæ‰¾åˆ°ä¸´ç•Œæ¥¼å±‚æ‰€éœ€æœ€å°‘å°è¯•æ•°ç›® &quot;&quot;&quot; if n == 0: # å¦‚æœæ²¡æœ‰æ¥¼ï¼Œä¸éœ€è¦è¯• return 0 elif n == 1: # åªæœ‰ 1 å±‚æ¥¼ï¼Œè¯•ä¸€æ¬¡å°±è¶³å¤Ÿ return 1 if m == 1: # åªæœ‰ 1 ä¸ªè›‹ï¼Œæœ‰å‡ å±‚æ¥¼å°±è¦ä½¿å‡ æ¬¡ return n result_list = [] for k in range(1, n + 1): result_list.append(max(two_egg_general(m - 1, k - 1), two_egg_general(m, n - k)) + 1) return min(result_list) for i in range(1, 12): for j in range(1, 12): print(f&#39;({i}, {j}) --&gt; {two_egg_general(i, j)}&#39;, end=&#39; | &#39;) print()","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://smilecoc.vip/categories/ç¬”è®°/"}],"tags":[{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"http://smilecoc.vip/tags/é¢˜è§£/"}],"author":"smilecoc"},{"title":"Pandasç¬”è®°","slug":"pandasç¬”è®°","date":"2020-03-15T15:46:34.000Z","updated":"2022-04-17T08:25:53.574Z","comments":true,"path":"2020/03/15/pandasç¬”è®°/","link":"","permalink":"http://smilecoc.vip/2020/03/15/pandasç¬”è®°/","excerpt":"","text":"pandasæ•°æ®é€‰å–Pandasæ˜¯ä½œä¸ºPythonæ•°æ®åˆ†æè‘—åçš„å·¥å…·åŒ…ï¼Œæä¾›äº†å¤šç§æ•°æ®é€‰å–çš„æ–¹æ³•ï¼Œæ–¹ä¾¿å®ç”¨ã€‚æœ¬æ–‡ä¸»è¦ä»‹ç»Pandasçš„å‡ ç§æ•°æ®é€‰å–çš„æ–¹æ³•ã€‚Pandasä¸­ï¼Œæ•°æ®ä¸»è¦ä¿å­˜ä¸ºDataframeå’ŒSeriesæ˜¯æ•°æ®ç»“æ„ï¼Œè¿™ä¸¤ç§æ•°æ®ç»“æ„æ•°æ®é€‰å–çš„æ–¹å¼åŸºæœ¬ä¸€è‡´ï¼Œæœ¬æ–‡ä¸»è¦ä»¥Dataframeä¸ºä¾‹è¿›è¡Œä»‹ç»ã€‚åœ¨Dataframeä¸­é€‰å–æ•°æ®å¤§æŠµåŒ…æ‹¬3ä¸­æƒ…å†µï¼š 1ï¼‰è¡Œï¼ˆåˆ—ï¼‰é€‰å–ï¼ˆå•ç»´åº¦é€‰å–ï¼‰ï¼šdf[]ã€‚è¿™ç§æƒ…å†µä¸€æ¬¡åªèƒ½é€‰å–è¡Œæˆ–è€…åˆ—ï¼Œå³ä¸€æ¬¡é€‰å–ä¸­ï¼Œåªèƒ½ä¸ºè¡Œæˆ–è€…åˆ—è®¾ç½®ç­›é€‰æ¡ä»¶ï¼ˆåªèƒ½ä¸ºä¸€ä¸ªç»´åº¦è®¾ç½®ç­›é€‰æ¡ä»¶ï¼‰ã€‚ 2ï¼‰åŒºåŸŸé€‰å–ï¼ˆå¤šç»´é€‰å–ï¼‰ï¼šdf.loc[]ï¼Œdf.iloc[]ï¼Œdf.ix[]ã€‚è¿™ç§æ–¹å¼å¯ä»¥åŒæ—¶ä¸ºå¤šä¸ªç»´åº¦è®¾ç½®ç­›é€‰æ¡ä»¶ã€‚ 3ï¼‰å•å…ƒæ ¼é€‰å–ï¼ˆç‚¹é€‰å–ï¼‰ï¼šdf.at[]ï¼Œdf.iat[]ã€‚å‡†ç¡®å®šä½ä¸€ä¸ªå•å…ƒæ ¼ã€‚ é¦–å…ˆåˆ›å»ºåŸå§‹æ•°æ® import pandas as pd import numpy as np data = {&#39;name&#39;: [&#39;Joe&#39;, &#39;Mike&#39;, &#39;Jack&#39;, &#39;Rose&#39;, &#39;David&#39;, &#39;Marry&#39;, &#39;Wansi&#39;, &#39;Sidy&#39;, &#39;Jason&#39;, &#39;Even&#39;], &#39;age&#39;: [25, 32, 18, np.nan, 15, 20, 41, np.nan, 37, 32], &#39;gender&#39;: [1, 0, 1, 1, 0, 1, 0, 0, 1, 0], &#39;isMarried&#39;: [&#39;yes&#39;, &#39;yes&#39;, &#39;no&#39;, &#39;yes&#39;, &#39;no&#39;, &#39;no&#39;, &#39;no&#39;, &#39;yes&#39;, &#39;no&#39;, &#39;no&#39;]} labels = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;] df = pd.DataFrame(data, index=labels) ç›®å‰çš„dfçš„æ•°æ®ä¸ºï¼š name age gender isMarried a Joe 25.0 1 yes b Mike 32.0 0 yes c Jack 18.0 1 no d Rose NaN 1 yes e David 15.0 0 no f Marry 20.0 1 no g Wansi 41.0 0 no h Sidy NaN 0 yes i Jason 37.0 1 no j Even 32.0 0 no è¡Œï¼ˆåˆ—ï¼‰é€‰å–ï¼šdf[]è¡Œï¼ˆåˆ—ï¼‰é€‰å–æ˜¯åœ¨å•ä¸€ç»´åº¦ä¸Šè¿›è¡Œæ•°æ®çš„é€‰å–ï¼Œå³ä»¥è¡Œä¸ºå•ä½è¿›è¡Œé€‰å–æˆ–è€…ä»¥åˆ—ä¸ºå•ä½è¿›è¡Œé€‰å–ã€‚Dataframeå¯¹è±¡çš„è¡Œæœ‰ç´¢å¼•ï¼ˆindexï¼‰ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯[0,1,2ï¼Œâ€¦â€¦]çš„æ•´æ•°åºåˆ—ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ·»åŠ å¦å¤–çš„ç´¢å¼•ï¼Œä¾‹å¦‚ä¸Šé¢çš„labelsï¼Œï¼ˆä¸ºåŒºåˆ†é»˜è®¤ç´¢å¼•å’Œè‡ªå®šä¹‰çš„ç´¢å¼•ï¼Œåœ¨æœ¬æ–‡ä¸­å°†é»˜è®¤ç´¢å¼•ç§°ä¸ºæ•´æ•°ç´¢å¼•ï¼Œè‡ªå®šä¹‰ç´¢å¼•ç§°ä¸ºæ ‡ç­¾ç´¢å¼•ï¼‰ã€‚Dataframeå¯¹è±¡çš„æ¯ä¸€åˆ—éƒ½æœ‰åˆ—åï¼Œå¯ä»¥é€šè¿‡åˆ—åå®ç°å¯¹åˆ—çš„é€‰å–ã€‚ 1ï¼‰é€‰å–è¡Œé€‰å–è¡Œçš„æ–¹å¼åŒ…æ‹¬ä¸‰ç§ï¼šæ•´æ•°ç´¢å¼•åˆ‡ç‰‡ã€æ ‡ç­¾ç´¢å¼•åˆ‡ç‰‡å’Œå¸ƒå°”æ•°ç»„ã€‚aï¼‰æ•´æ•°ç´¢å¼•åˆ‡ç‰‡ï¼šå‰é—­åå¼€é€‰å–ç¬¬ä¸€è¡Œï¼š &gt;&gt;&gt; df[0:1] name age gender isMarried a Joe 25.0 1 yes é€‰å–å‰ä¸¤è¡Œï¼š &gt;&gt;&gt; df[0:2] name age gender isMarried a Joe 25.0 1 yes b Mike 32.0 0 yes bï¼‰æ ‡ç­¾ç´¢å¼•åˆ‡ç‰‡ï¼šå‰é—­åé—­é€‰å–ç¬¬ä¸€è¡Œï¼š &gt;&gt;&gt; df[:&#39;a&#39;] name age gender isMarried a Joe 25.0 1 yes é€‰å–å‰ä¸¤è¡Œï¼š &gt;&gt;&gt; df[&#39;a&#39;:&#39;b&#39;] name age gender isMarried a Joe 25.0 1 yes b Mike 32.0 0 yes æ³¨æ„ï¼šæ•´æ•°ç´¢å¼•åˆ‡ç‰‡æ˜¯å‰é—­åå¼€ï¼Œæ ‡ç­¾ç´¢å¼•åˆ‡ç‰‡æ˜¯å‰é—­åé—­ï¼Œè¿™ç‚¹å°¤å…¶è¦æ³¨æ„ã€‚ cï¼‰å¸ƒå°”æ•°ç»„é€‰å–å‰ä¸‰è¡Œ &gt;&gt;&gt; df[[True,True,True,False,False,False,False,False,False,False]] name age gender isMarried a Joe 25.0 1 yes b Mike 32.0 0 yes c Jack 18.0 1 no é€‰å–æ‰€æœ‰ageå¤§äº30çš„è¡Œ &gt;&gt;&gt; df[[each&gt;30 for each in df[&#39;age&#39;]]] name age gender isMarried b Mike 32.0 0 yes g Wansi 41.0 0 no i Jason 37.0 1 no j Even 32.0 0 no é€šè¿‡å¸ƒå°”æ•°ç»„çš„æ–¹å¼ï¼Œåˆå¯ä»¥è¡ç”Ÿå‡ºä¸‹é¢çš„é€‰å–æ–¹å¼ï¼šé€‰å–æ‰€æœ‰ageå¤§äº30çš„è¡Œï¼ˆæ›´æ–¹ä¾¿ä¸”æ›´ç»å¸¸ä½¿ç”¨ï¼‰ &gt;&gt;&gt; df[df[&#39;age&#39;]&gt;30] name age gender isMarried b Mike 32.0 0 yes g Wansi 41.0 0 no i Jason 37.0 1 no j Even 32.0 0 no é€‰å–å‡ºæ‰€æœ‰ageå¤§äº30ï¼Œä¸”isMarriedä¸ºnoçš„è¡Œ &gt;&gt;&gt; df[(df[&#39;age&#39;]&gt;30) &amp; (df[&#39;isMarried&#39;]==&#39;no&#39;)] name age gender isMarried g Wansi 41.0 0 no i Jason 37.0 1 no j Even 32.0 0 no é€‰å–å‡ºæ‰€æœ‰ageä¸º20æˆ–32çš„è¡Œ &gt;&gt;&gt; df[(df[&#39;age&#39;]==20) | (df[&#39;age&#39;]==32)] name age gender isMarried b Mike 32.0 0 yes f Marry 20.0 1 no j Even 32.0 0 no æ³¨æ„ï¼šåƒä¸Šé¢è¿™ç§é€šè¿‡å¤šä¸ªå¸ƒå°”æ¡ä»¶åˆ¤æ–­çš„æƒ…å†µï¼Œå¤šä¸ªæ¡ä»¶æœ€å¥½ï¼ˆä¸€å®šï¼‰ç”¨æ‹¬å·æ‹¬èµ·æ¥ï¼Œå¦åˆ™éå¸¸å®¹æ˜“å‡ºé”™ã€‚ 2ï¼‰åˆ—é€‰å–åˆ—é€‰å–æ–¹å¼ä¹Ÿæœ‰ä¸‰ç§ï¼šæ ‡ç­¾ç´¢å¼•ã€æ ‡ç­¾åˆ—è¡¨ã€Callableå¯¹è±¡ aï¼‰æ ‡ç­¾ç´¢å¼•ï¼šé€‰å–å•ä¸ªåˆ— é€‰å–nameåˆ—æ‰€æœ‰æ•°æ® &gt;&gt;&gt; df[&#39;name&#39;] a Joe b Mike c Jack d Rose e David f Marry g Wansi h Sidy i Jason j Even Name: name, dtype: object bï¼‰æ ‡ç­¾åˆ—è¡¨ï¼šé€‰å–å¤šä¸ªåˆ— é€‰å–nameå’Œageä¸¤åˆ—æ•°æ® &gt;&gt;&gt; df[[&#39;name&#39;,&#39;age&#39;]] name age a Joe 25.0 b Mike 32.0 c Jack 18.0 d Rose NaN e David 15.0 f Marry 20.0 g Wansi 41.0 h Sidy NaN i Jason 37.0 j Even 32.0 cï¼‰callableå¯¹è±¡ é€‰å–ç¬¬ä¸€åˆ— &gt;&gt;&gt; df[lambda df: df.columns[0]] a Joe b Mike c Jack d Rose e David f Marry g Wansi h Sidy i Jason j Even Name: name, dtype: object åŒºåŸŸé€‰å–åŒºåŸŸé€‰å–å¯ä»¥ä»å¤šä¸ªç»´åº¦ï¼ˆè¡Œå’Œåˆ—ï¼‰å¯¹æ•°æ®è¿›è¡Œç­›é€‰ï¼Œå¯ä»¥é€šè¿‡df.loc[]ï¼Œdf.iloc[]ï¼Œdf.ix[]ä¸‰ç§æ–¹æ³•å®ç°ã€‚é‡‡ç”¨df.loc[]ï¼Œdf.iloc[]ï¼Œdf.ix[]è¿™ä¸‰ç§æ–¹æ³•è¿›è¡Œæ•°æ®é€‰å–æ—¶ï¼Œæ–¹æ‹¬å·å†…å¿…é¡»æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å¯¹è¡Œçš„ç­›é€‰æ¡ä»¶ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯¹åˆ—çš„ç­›é€‰æ¡ä»¶ï¼Œä¸¤ä¸ªå‚æ•°ç”¨é€—å·éš”å¼€ã€‚df.loc[]ï¼Œdf.iloc[]ï¼Œdf.ix[]çš„åŒºåˆ«å¦‚ä¸‹ï¼š * df.loc[]åªèƒ½ä½¿ç”¨æ ‡ç­¾ç´¢å¼•ï¼Œä¸èƒ½ä½¿ç”¨æ•´æ•°ç´¢å¼•ï¼Œé€šè¿‡ä¾¿ç­¾ç´¢å¼•åˆ‡è¾¹è¿›è¡Œç­›é€‰æ—¶ï¼Œå‰é—­åé—­ã€‚ * df.iloc[]åªèƒ½ä½¿ç”¨æ•´æ•°ç´¢å¼•ï¼Œä¸èƒ½ä½¿ç”¨æ ‡ç­¾ç´¢å¼•ï¼Œé€šè¿‡æ•´æ•°ç´¢å¼•åˆ‡è¾¹è¿›è¡Œç­›é€‰æ—¶ï¼Œå‰é—­åå¼€ã€‚ï¼› * df.ix[]æ—¢å¯ä»¥ä½¿ç”¨æ ‡ç­¾ç´¢å¼•ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ•´æ•°ç´¢å¼•ã€‚ ä¸‹é¢åˆ†åˆ«é€šè¿‡å®ä¾‹æ¼”ç¤ºè¿™ä¸‰ç§æ–¹æ³•ã€‚ df.loc[] 1ï¼‰å¯¹è¡Œè¿›è¡Œé€‰å– é€‰å–ç´¢å¼•ä¸ºâ€˜aâ€™çš„è¡Œï¼š &gt;&gt;&gt; df.loc[&#39;a&#39;, :] name Joe age 25 gender 1 isMarried yes Name: a, dtype: object é€‰å–ç´¢å¼•ä¸ºâ€˜aâ€™æˆ–â€˜bâ€™æˆ–â€˜câ€™çš„è¡Œ &gt;&gt;&gt; df.loc[[&#39;a&#39;,&#39;b&#39;,&#39;c&#39;], :] name age gender isMarried a Joe 25.0 1 yes b Mike 32.0 0 yes c Jack 18.0 1 no é€‰å–ä»â€˜aâ€™åˆ°â€˜dâ€™çš„æ‰€æœ‰è¡Œï¼ˆåŒ…æ‹¬â€˜dâ€™è¡Œï¼‰ &gt;&gt;&gt; df.loc[&#39;a&#39;:&#39;d&#39;, :] name age gender isMarried a Joe 25.0 1 yes b Mike 32.0 0 yes c Jack 18.0 1 no d Rose NaN 1 yes ç”¨å¸ƒå°”æ•°ç»„é€‰å–å‰3è¡Œ &gt;&gt;&gt; df.loc[[True,True,True,False,False,False], :] name age gender isMarried a Joe 25.0 1 yes b Mike 32.0 0 yes c Jack 18.0 1 no é€‰å–æ‰€æœ‰ageå¤§äº30çš„è¡Œ &gt;&gt;&gt; df.loc[df[&#39;age&#39;]&gt;30,:] name age gender isMarried b Mike 32.0 0 yes g Wansi 41.0 0 no i Jason 37.0 1 no j Even 32.0 0 no ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢ä¸¤æ–¹æ³•ï¼š &gt;&gt;&gt; df.loc[df.loc[:,&#39;age&#39;]&gt;30, :] name age gender isMarried b Mike 32.0 0 yes g Wansi 41.0 0 no i Jason 37.0 1 no j Even 32.0 0 no &gt;&gt;&gt; df.loc[df.iloc[:,1]&gt;30, :] name age gender isMarried b Mike 32.0 0 yes g Wansi 41.0 0 no i Jason 37.0 1 no j Even 32.0 0 no ç”¨callableå¯¹è±¡é€‰å–ageå¤§äº30çš„æ‰€æœ‰è¡Œ &gt;&gt;&gt; df.loc[lambda df:df[&#39;age&#39;] &gt; 30, :] name age gender isMarried b Mike 32.0 0 yes g Wansi 41.0 0 no i Jason 37.0 1 no j Even 32.0 0 no 2ï¼‰å¯¹åˆ—é€‰å– è¾“å‡ºæ‰€æœ‰äººçš„å§“åï¼ˆé€‰å–nameåˆ—ï¼‰ &gt;&gt;&gt; df.loc[:, &#39;name&#39;] a Joe b Mike c Jack d Rose e David f Marry g Wansi h Sidy i Jason j Even Name: name, dtype: object è¾“å‡ºæ‰€æœ‰äººçš„å§“åå’Œå¹´é¾„ï¼ˆé€‰å–nameå’Œageåˆ—ï¼‰ &gt;&gt;&gt; df.loc[:, &#39;name&#39;:&#39;age&#39;] name age a Joe 25.0 b Mike 32.0 c Jack 18.0 d Rose NaN e David 15.0 f Marry 20.0 g Wansi 41.0 h Sidy NaN i Jason 37.0 j Even 32.0 è¾“å‡ºæ‰€æœ‰äººçš„å§“åã€å¹´é¾„ã€å©šå¦ï¼ˆé€‰å–nameã€ageã€isMarriedåˆ—ï¼‰ &gt;&gt;&gt; df.loc[:, [&#39;name&#39;,&#39;age&#39;,&#39;isMarried&#39;]] name age isMarried a Joe 25.0 yes b Mike 32.0 yes c Jack 18.0 no d Rose NaN yes e David 15.0 no f Marry 20.0 no g Wansi 41.0 no h Sidy NaN yes i Jason 37.0 no j Even 32.0 no ç”¨å¸ƒå°”æ•°ç»„çš„æ–¹å¼é€‰å–å‰3åˆ— &gt;&gt;&gt; df.loc[:, [True,True,True,False]] name age gender a Joe 25.0 1 b Mike 32.0 0 c Jack 18.0 1 d Rose NaN 1 e David 15.0 0 f Marry 20.0 1 g Wansi 41.0 0 h Sidy NaN 0 i Jason 37.0 1 j Even 32.0 0 3ï¼‰åŒæ—¶å¯¹è¡Œå’Œåˆ—è¿›è¡Œç­›é€‰ è¾“å‡ºå¹´é¾„å¤§äº30çš„äººçš„å§“åå’Œå¹´é¾„ &gt;&gt;&gt; df.loc[df[&#39;age&#39;]&gt;30,[&#39;name&#39;,&#39;age&#39;]] name age b Mike 32.0 g Wansi 41.0 i Jason 37.0 j Even 32.0 è¾“å‡ºè¡Œåä¸ºâ€˜Mikeâ€™æˆ–â€˜Marryâ€™çš„å§“åå’Œå¹´é¾„ &gt;&gt;&gt; df.loc[(df[&#39;name&#39;]==&#39;Mike&#39;) |(df[&#39;name&#39;]==&#39;Marry&#39;),[&#39;name&#39;,&#39;age&#39;]] name age b Mike 32.0 f Marry 20.0 3.2 df.iloc[] 1ï¼‰è¡Œé€‰å– é€‰å–ç¬¬2è¡Œ &gt;&gt;&gt; df.iloc[1, :] name Mike age 32 gender 0 isMarried yes Name: b, dtype: object é€‰å–å‰3è¡Œ &gt;&gt;&gt; df.iloc[:3, :] name age gender isMarried a Joe 25.0 1 yes b Mike 32.0 0 yes c Jack 18.0 1 no é€‰å–ç¬¬2è¡Œã€ç¬¬4è¡Œã€ç¬¬6è¡Œ &gt;&gt;&gt; df.iloc[[1,3,5],:] name age gender isMarried b Mike 32.0 0 yes d Rose NaN 1 yes f Marry 20.0 1 no é€šè¿‡å¸ƒå°”æ•°ç»„é€‰å–å‰3è¡Œ &gt;&gt;&gt; df.iloc[[True,True,True,False,False,False], :] name age gender isMarried a Joe 25.0 1 yes b Mike 32.0 0 yes c Jack 18.0 1 no 2ï¼‰åˆ—é€‰å– é€‰å–ç¬¬2åˆ— &gt;&gt;&gt; df.iloc[:, 1] a 25.0 b 32.0 c 18.0 d NaN e 15.0 f 20.0 g 41.0 h NaN i 37.0 j 32.0 Name: age, dtype: float64 é€‰å–å‰3åˆ— &gt;&gt;&gt; df.iloc[:, 0:3] name age gender a Joe 25.0 1 b Mike 32.0 0 c Jack 18.0 1 d Rose NaN 1 e David 15.0 0 f Marry 20.0 1 g Wansi 41.0 0 h Sidy NaN 0 i Jason 37.0 1 j Even 32.0 0 é€‰å–ç¬¬1åˆ—ã€ç¬¬3åˆ—å’Œç¬¬4åˆ— &gt;&gt;&gt; df.iloc[:, [0,2,3]] name gender isMarried a Joe 1 yes b Mike 0 yes c Jack 1 no d Rose 1 yes e David 0 no f Marry 1 no g Wansi 0 no h Sidy 0 yes i Jason 1 no j Even 0 no é€šè¿‡å¸ƒå°”æ•°ç»„é€‰å–å‰3åˆ— &gt;&gt;&gt; df.iloc[:,[True,True,True,False]] name age gender a Joe 25.0 1 b Mike 32.0 0 c Jack 18.0 1 d Rose NaN 1 e David 15.0 0 f Marry 20.0 1 g Wansi 41.0 0 h Sidy NaN 0 i Jason 37.0 1 j Even 32.0 0 3ï¼‰åŒæ—¶é€‰å–è¡Œå’Œåˆ— é€‰å–ç¬¬2è¡Œçš„ç¬¬1åˆ—ã€ç¬¬3åˆ—ã€ç¬¬4åˆ— &gt;&gt;&gt; df.iloc[1, [0,2,3]] name Mike gender 0 isMarried yes Name: b, dtype: object é€‰å–å‰3è¡Œçš„å‰3åˆ— &gt;&gt;&gt; df.iloc[:3, :3] name age gender a Joe 25.0 1 b Mike 32.0 0 c Jack 18.0 1 3.3 df.ix[] df.ix[]æ—¢å¯ä»¥é€šè¿‡æ•´æ•°ç´¢å¼•è¿›è¡Œæ•°æ®é€‰å–ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ ‡ç­¾ç´¢å¼•è¿›è¡Œæ•°æ®é€‰å–ï¼Œæ¢å¥è¯è¯´ï¼Œdf.ix[]æ˜¯df.loc[]å’Œdf.iloc[]çš„åŠŸèƒ½é›†åˆï¼Œä¸”åœ¨åŒä¹‰è¯é€‰å–ä¸­ï¼Œå¯ä»¥åŒæ—¶ä½¿ç”¨æ•´æ•°ç´¢å¼•å’Œæ ‡ç­¾ç´¢å¼•ã€‚ é€‰å–ç¬¬3è¡Œçš„nameæ•°æ® &gt;&gt;&gt; df.ix[2,&#39;name&#39;] &#39;Jack&#39; é€‰å–aè¡Œã€cè¡Œçš„ç¬¬1åˆ—ï¼Œç¬¬2åˆ—å’Œç¬¬4åˆ—æ•°æ® &gt;&gt;&gt; df.ix[[&#39;a&#39;,&#39;c&#39;], [0,1,3]] name age isMarried a Joe 25.0 yes c Jack 18.0 no `` é€‰å–æ‰€æœ‰æœªå©šè€…çš„å§“åå’Œå¹´é¾„ ```python &gt;&gt;&gt; df.ix[df[&#39;isMarried&#39;]==&#39;no&#39;,[&#39;name&#39;,&#39;age&#39;]] name age c Jack 18.0 e David 15.0 f Marry 20.0 g Wansi 41.0 i Jason 37.0 j Even 32.0 å•å…ƒæ ¼é€‰å–å•å…ƒæ ¼é€‰å–åŒ…æ‹¬df.at[]å’Œdf.iat[]ä¸¤ç§æ–¹æ³•ã€‚df.at[]å’Œdf.iat[]ä½¿ç”¨æ—¶å¿…é¡»è¾“å…¥ä¸¤ä¸ªå‚æ•°ï¼Œå³è¡Œç´¢å¼•å’Œåˆ—ç´¢å¼•ï¼Œå…¶ä¸­df.at[]åªèƒ½ä½¿ç”¨æ ‡ç­¾ç´¢å¼•ï¼Œdf.iat[]åªèƒ½ä½¿ç”¨æ•´æ•°ç´¢å¼•ã€‚df.at[]å’Œdf.iat[]é€‰å–çš„éƒ½æ˜¯å•ä¸ªå•å…ƒæ ¼ï¼ˆå•è¡Œå•åˆ—ï¼‰ï¼Œæ‰€ä»¥è¿”å›å€¼éƒ½ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ã€‚ 1 df.at[]é€‰å–bè¡Œçš„nameåˆ— &gt;&gt;&gt; df.at[&#39;b&#39;,&#39;name&#39;] &#39;Mike&#39; 2 df.iat[]é€‰å–ç¬¬2è¡Œç¬¬1åˆ— &gt;&gt;&gt; df.iat[1,0] &#39;Mike&#39; æ‹“å±•ä¸æ€»ç»“* 1ï¼‰é€‰å–æŸä¸€æ•´è¡Œï¼ˆå¤šä¸ªæ•´è¡Œï¼‰æˆ–æŸä¸€æ•´åˆ—ï¼ˆå¤šä¸ªæ•´åˆ—ï¼‰æ•°æ®æ—¶ï¼Œå¯ä»¥ç”¨df[]ã€df.loc[]ã€df.iloc[]ï¼Œæ­¤æ—¶df[]çš„æ–¹æ³•ä¹¦å†™è¦ç®€å•ä¸€äº›ã€‚ * 2ï¼‰è¿›è¡ŒåŒºåŸŸé€‰å–æ—¶ï¼Œå¦‚æœåªèƒ½ç”¨æ ‡ç­¾ç´¢å¼•ï¼Œåˆ™ä½¿ç”¨df.loc[]æˆ–df.ix[]ï¼Œå¦‚æœåªèƒ½ç”¨æ•´æ•°ç´¢å¼•ï¼Œåˆ™ç”¨df.iloc[]æˆ–df.ix[]ã€‚ä¸è¿‡æˆ‘çœ‹åˆ°æœ‰èµ„æ–™è¯´ï¼Œä¸å»ºè®®ä½¿ç”¨df.ix[],å› ä¸ºdf.loc[]å’Œdf.iloc[]æ›´ç²¾ç¡®ï¼ˆæœ‰å—ï¼Ÿæˆ‘æ²¡ç†è§£ç²¾ç¡®åœ¨å“ªï¼Œæœ›å‘ŠçŸ¥ï¼‰ã€‚ * 3ï¼‰å¦‚æœé€‰å–å•å…ƒæ ¼ï¼Œåˆ™df.at[]ã€df.iat[]ã€df.loc[]ã€df.iloc[]éƒ½å¯ä»¥ï¼Œä¸è¿‡è¦æ³¨æ„å‚æ•°ã€‚ * 4ï¼‰é€‰å–æ•°æ®æ—¶ï¼Œè¿”å›å€¼å­˜åœ¨ä»¥ä¸‹æƒ…å†µï¼š å¦‚æœè¿”å›å€¼åŒ…æ‹¬å•è¡Œå¤šåˆ—æˆ–å¤šè¡Œå•åˆ—æ—¶ï¼Œè¿”å›å€¼ä¸ºSerieså¯¹è±¡ï¼› å¦‚æœè¿”å›å€¼åŒ…æ‹¬å¤šè¡Œå¤šåˆ—æ—¶ï¼Œè¿”å›å€¼ä¸ºDataFrameå¯¹è±¡ï¼› å¦‚æœè¿”å›å€¼ä»…ä¸ºä¸€ä¸ªå•å…ƒæ ¼ï¼ˆå•è¡Œå•åˆ—ï¼‰æ—¶ï¼Œè¿”å›å€¼ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¾‹å¦‚strï¼Œintç­‰ã€‚* 5ï¼‰df[]çš„æ–¹å¼åªèƒ½é€‰å–è¡Œå’Œåˆ—æ•°æ®ï¼Œä¸èƒ½ç²¾ç¡®åˆ°å•å…ƒæ ¼ï¼Œæ‰€ä»¥df[]çš„è¿”å›å€¼ä¸€å®šDataFrameæˆ–Serieså¯¹è±¡ã€‚ * 6ï¼‰å½“ä½¿ç”¨DataFrameçš„é»˜è®¤ç´¢å¼•ï¼ˆæ•´æ•°ç´¢å¼•ï¼‰æ—¶ï¼Œæ•´æ•°ç´¢å¼•å³ä¸ºæ ‡ç­¾ç´¢å¼•ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ä¸Šé¢çš„dataå®ä¾‹åŒ–ä¸€ä¸ªDataFrameå¯¹è±¡ï¼š &gt;&gt;&gt; df2 = pd.DataFrame(data) &gt;&gt;&gt; df2.loc[1,&#39;name&#39;] &#39;Mike&#39; &gt;&gt;&gt; df2.iloc[1,0] &#39;Mike&#39;","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://smilecoc.vip/categories/ç¬”è®°/"}],"tags":[{"name":"Pandas","slug":"Pandas","permalink":"http://smilecoc.vip/tags/Pandas/"}],"author":"smilecoc"},{"title":"Gitè¯­å¥å¤§å…¨","slug":"Gitè¯­å¥å¤§å…¨","date":"2020-03-12T14:22:30.000Z","updated":"2022-04-17T08:26:43.813Z","comments":true,"path":"2020/03/12/Gitè¯­å¥å¤§å…¨/","link":"","permalink":"http://smilecoc.vip/2020/03/12/Gitè¯­å¥å¤§å…¨/","excerpt":"","text":"ä¸€ã€Git é…ç½®ç›¸å…³å¦‚æœä½ é¦–æ¬¡ä½¿ç”¨ Gitï¼Œé‚£åˆšå¼€å§‹é¦–å…ˆæ˜¯éœ€è¦é…ç½®å„ç§èº«ä»½ä¿¡æ¯çš„ï¼Œè¿™æ ·å½“ä½ æäº¤ç›¸å…³ä»»åŠ¡çš„æ—¶å€™ï¼Œåˆ«äººæ‰èƒ½çŸ¥é“è¿™ä¸ª commit æ˜¯è°æäº¤çš„ã€‚ ï¼ˆ1ï¼‰ã€Git æœ€å°é…ç½®1ã€é…ç½®å…¨å±€è´¦æˆ·ï¼Œä¹Ÿå°±æ˜¯è¯¥è´¦æˆ·å¯¹æ‰€æœ‰çš„ Git ä»“åº“éƒ½æœ‰æ•ˆ git config --global user.name &#39;ä½ çš„è´¦æˆ·åç§°&#39;git config --global user.email &#39;ä½ çš„ Email&#39; 2ã€é…ç½®å±€éƒ¨è´¦æˆ·ï¼Œä¹Ÿå°±æ˜¯è¯¥è´¦æˆ·åªå¯¹å½“å‰ Git ä»“åº“æœ‰æ•ˆ git config --local user.name &#39;ä½ çš„è´¦æˆ·åç§°&#39; git config --local user.email &#39;ä½ çš„ Email&#39; æ³¨æ„ï¼Œä¸åŒç‚¹å°±æ˜¯ä¸€ä¸ªå‚æ•°æ˜¯ globalï¼ˆå…¨å±€ï¼‰ï¼Œä¸€ä¸ªæ˜¯ local(æœ¬åœ°) ï¼ˆ2ï¼‰ã€æŸ¥çœ‹ç›¸å…³é…ç½®æƒ…å†µé…ç½®äº†ä¹‹åï¼Œæ˜¾ç„¶æœ‰æ—¶å€™æ˜¯éœ€è¦æŸ¥çœ‹æˆ‘ä»¬å½“å‰é…ç½®çš„ç›¸å…³æƒ…å†µçš„ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ 1ã€æŸ¥çœ‹ global ç±»å‹çš„é…ç½®æƒ…å†µ git config --global --list 2ã€æŸ¥çœ‹æŸä¸ªä»“åº“ä¸‹çš„é…ç½®æƒ…å†µ git config --local --list äºŒã€æœ¬åœ°åŸºæœ¬æ“ä½œè¿™éƒ¨åˆ†å‘½ä»¤æœ‰ç‚¹å¤šï¼Œä¹Ÿæ˜¯ä½¿ç”¨çš„æœ€é¢‘ç¹çš„å‘½ä»¤äº†ï¼Œå¾…æˆ‘ä¸€ä¸€åˆ—ä¸¾å‡ºæ¥ï¼Œå»ºè®®æ”¶è— ï¼ˆ1ï¼‰ã€åŸºæœ¬æ“ä½œ1ã€æŸ¥çœ‹å˜æ›´æƒ…å†µ git status 2ã€æŸ¥çœ‹å½“å‰å·¥ä½œåœ¨å“ªä¸ªåˆ†æ”¯ä¸Š git branch -v 3ã€åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ git checkout æŒ‡å®šåˆ†æ”¯çš„åç§° 4ã€æŠŠå½“å‰ç›®å½•åŠå…¶å­ç›®å½•ä¸‹æ‰€æœ‰å˜æ›´éƒ½åŠ å…¥åˆ°æš‚å­˜åŒº git add . // æ³¨æ„ï¼Œadd åé¢æ˜¯ä¸€ä¸ª &#39;.&#39;ï¼› 5ã€æŠŠä»“åº“å†…æ‰€æœ‰å˜æ›´éƒ½å‡å¦‚åˆ°æš‚å­˜åŒº git add -A 6ã€æŠŠæŒ‡å®šæ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº git add æ–‡ä»¶1 æ–‡ä»¶2 ... æ–‡ä»¶n 7ã€åˆ›å»ºæ­£å¼çš„ commitï¼Œä¹Ÿå°±æ˜¯æŠŠå½“å‰çš„æ•°æ®æäº¤ä¸Šå» git commit ï¼ˆäºŒï¼‰ã€æ¯”è¾ƒå·®å¼‚1ã€æ¯”è¾ƒæŸæ–‡ä»¶å·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„å·®å¼‚ git diff æŸæ–‡ä»¶ 2ã€æ¯”è¾ƒæŸæ–‡ä»¶æš‚å­˜åŒºå’Œ HEAD çš„å·®å¼‚ git diff --cache æŸæ–‡ä»¶ 3ã€æ¯”è¾ƒå·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„æ‰€æœ‰å·®å¼‚ git diff 4ã€æ¯”è¾ƒæš‚å­˜åŒºå’Œ HEAD çš„æ‰€æœ‰å·®å¼‚ git diff --cache ï¼ˆ3ï¼‰ã€æš‚å­˜åŒºä¸å·¥ä½œåŒºä¹‹é—´å›æ»š1ã€æŠŠå·¥ä½œåŒºæŒ‡å®šæ–‡ä»¶æ¢å¤æˆå’Œæš‚å­˜åŒºä¸€æ · git checkout æ–‡ä»¶1 æ–‡ä»¶2 ... æ–‡ä»¶n 2ã€æŠŠæš‚å­˜åŒºæŒ‡å®šæ–‡ä»¶å›å¤å’Œ HEAD ä¸€æ · git reset æ–‡ä»¶1 æ–‡ä»¶2 ... æ–‡ä»¶n 3ã€æŠŠæš‚å­˜åŒºå’Œå·¥ä½œåŒºæ‰€æœ‰æ–‡ä»¶æ¢å¤æˆå’Œ HEAD ä¸€æ · git reset --hard 4ã€ç”¨ difftool æ¯”è¾ƒä»»æ„ä¸¤ä¸ª commit çš„å·®å¼‚ git difftool commit1 commit2 æ³¨æ„ï¼Œä»å·¥ä½œåŒºå›æ»šåˆ°æš‚å­˜åŒºåˆ™ç”¨ checkout ï¼Œå¦åˆ™ç”¨ reset ï¼ˆå››ï¼‰ã€å…¶ä»–æŸ¥çœ‹å“ªäº›æ–‡ä»¶æ²¡æœ‰è¢« Git ç®¡æ§ git ls-files --others ä¸‰ã€åŠ å¡ä¸´æ—¶ä»»åŠ¡å¤„ç†1ã€æŠŠæœªå¤„ç†å®Œçš„å˜æ›´å…ˆä¿å­˜åˆ° stash ä¸­ git stash 2ã€ä¸´æ—¶ä»»åŠ¡å¤„ç†å®Œåç»§ç»­ä¹‹å‰çš„å·¥ä½œ git stash pop // pop ç›¸å½“äºæ ˆçš„å‡ºæ ˆå’Œå…¥æ ˆä¸€æ ·ï¼ŒæŠŠä¹‹å‰çš„ä»»åŠ¡å¼¹å‡ºæ¥æˆ–è€…git stash apply // å’Œ pop ä¸åŒçš„æ˜¯ï¼Œ apply ç›¸å½“äºä»æ ˆé¡¶æŠŠä»»åŠ¡å–å‡ºæ¥ï¼Œä½†æ˜¯ä¸è¿‡ä»æ ˆä¸­æŠŠä»»åŠ¡ç§»é™¤ 3ã€æŸ¥çœ‹æ‰€æœ‰çš„ stash git stash list 4ã€å–å›æŸæ¬¡ stash çš„å˜æ›´ git stash pop stash @{æ•°å­—n} å››ã€ä¿®æ”¹ä¸ªäººåˆ†æ”¯å†å²æˆ‘ä»¬çš„ä»“åº“çš„å†…å®¹æ¯æ¬¡å˜æ›´æ‰§è¡Œ commit çš„æ—¶å€™ï¼Œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ commitï¼Œä¸è¿‡æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¸æƒ³äº§ç”Ÿæ–°çš„ commitï¼Œè€Œæ˜¯æƒ³è¦é€šè¿‡ä¿®æ”¹ä¹‹å‰çš„ commit æ¥å˜æ›´ä»“åº“çš„å†…å®¹ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤äº† 1ã€ä¿®æ”¹æœ€åä¸€æ¬¡ commit 1ã€åœ¨å·¥ä½œåŒºä¸­ä¿®æ”¹æ–‡ä»¶2ã€git add3ã€git commit --amend 2|ã€ä¿®æ”¹ä¸­é—´çš„ commit(å‡è®¾ä»£å·ä¸º X) 1. git rebase -i Xå‰é¢çš„ä¸€ä¸ª commit çš„ id2. åœ¨å·¥ä½œåŒºä¿®æ”¹æ–‡ä»¶3. git add4. git rebase --contiue äº”ã€æŸ¥çœ‹å˜æ›´æ—¥å¿—ç­‰1ã€å½“å‰åˆ†æ”¯å„ä¸ª commit ç”¨ä¸€è¡Œæ˜¾ç¤º git log --online 2ã€æ˜¾ç¤ºæœ€è¿‘çš„ n ä¸ª commit git log -n 3ã€ç”¨å›¾ç¤ºæ˜¾ç¤ºæ‰€æœ‰çš„åˆ†æ”¯å†å² git log --online --graph --all 4ã€æŸ¥çœ‹æ¶‰åŠåˆ°æŸæ–‡ä»¶å˜æ›´çš„æ‰€æœ‰ commit git log æŸæ–‡ä»¶ 5ã€æŸæ–‡ä»¶å„è¡Œæœ€åä¿®æ”¹å¯¹åº”çš„ commit ä»¥åŠä½œè€… git blame æŸæ–‡ä»¶ å…­ã€åˆ†æ”¯ä¸æ ‡ç­¾1ã€åˆ›å»ºæ–°åˆ†æ”¯åŸºäºå½“å‰åˆ†æ”¯åˆ›å»ºæ–°åˆ†æ”¯ git branch æ–°åˆ†æ”¯ åŸºäºæŒ‡å®šåˆ†æ”¯åˆ›å»ºæ–°åˆ†æ”¯ git branch æ–°åˆ†æ”¯ å·²æœ‰åˆ†æ”¯ åŸºäºæŸä¸ª commit åˆ›å»ºåˆ†æ”¯ git branch æ–°åˆ†æ”¯ æŸä¸ª commit çš„id åˆ›å»ºåˆ†æ”¯å¹¶ä¸”åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ git chechout -b æ–°åˆ†æ”¯ 2ã€åˆ—å‡ºåˆ†æ”¯åˆ—å‡ºæœ¬åœ°åˆ†æ”¯ git branch -v åˆ—å‡ºæœ¬åœ°å’Œè¿œç«¯åˆ†æ”¯ git branch -av åˆ—å‡ºè¿œç«¯æ‰€æœ‰åˆ†æ”¯ git branch -rv åˆ—å‡ºåç§°ç¬¦å·æŸæ ·å¼çš„è¿œç«¯åˆ†æ”¯ git branch -rv -l &#39;æŸæ ·å¼&#39; 3ã€åˆ é™¤åˆ†æ”¯å®‰å…¨åˆ é™¤æœ¬åœ°æŸåˆ†æ”¯ git branch -d è¦åˆ é™¤çš„åˆ†æ”¯ å¼ºè¡Œåˆ é™¤æœ¬åœ°åˆ†æ”¯ git branch -D è¦åˆ é™¤çš„åˆ†æ”¯ åˆ é™¤å·²åˆå¹¶åˆ° master åˆ†æ”¯çš„æ‰€æœ‰æœ¬åœ°åˆ†æ”¯ git branch --merged master | grep -v &#39;^\\*\\| master&#39; | xargs -n 1 git branch -d åˆ é™¤è¿œç«¯ origin å·²ä¸å­˜åœ¨çš„æ‰€æœ‰æœ¬åœ°åˆ†æ”¯ git remote prune origin 4ã€æ‰“æ ‡ç­¾ä» commit æ‰“ä¸Šæ ‡ç­¾ git tag æ ‡ç­¾å commit çš„id ä¸ƒã€ä¸¤åˆ†æ”¯ä¹‹é—´çš„é›†æˆ1ã€æŠŠ A åˆ†æ”¯åˆå…¥åˆ°å½“å‰åˆ†æ”¯ï¼Œä¸”ä¸º merge åˆ›å»º commit git merge Aåˆ†æ”¯ 2ã€æŠŠ A åˆ†æ”¯åˆå…¥åˆ° B åˆ†æ”¯ï¼Œä¸”ä¸º Merge åˆ›å»º commit git merge Aåˆ†æ”¯ Båˆ†æ”¯ 3ã€æŠŠå½“å‰åˆ†æ”¯åŸºäºBåˆ†æ”¯åš rebaseï¼Œä»¥ä¾¿æŠŠBåˆ†æ”¯åˆå…¥åˆ°å½“å‰åˆ†æ”¯ git rebase Båˆ†æ”¯ 4ã€æŠŠAåˆ†æ”¯åŸºäºBåˆ†æ”¯åšrebaseï¼Œä»¥ä¾¿æŠŠBåˆ†æ”¯åˆå…¥åˆ°Aåˆ†æ”¯ git rebase Båˆ†æ”¯ Aåˆ†æ”¯ 5ã€ç”¨ mergetool è§£å†³å†²çª git mergetool å…«ã€å’Œè¿œç«¯äº¤äº’1ã€åˆ—å‡ºæ‰€æœ‰ remote git remote -v 2ã€å¢åŠ  remote git remote add urlåœ°å€ 3ã€åˆ é™¤ remote git remote remove remoteçš„åç§° 4ã€æ”¹å˜ remote çš„name git remote rename æ—§åç§° æ–°åç§° 5ã€æŠŠè¿œç«¯æ‰€æœ‰åˆ†æ”¯å’Œæ ‡ç­¾çš„å˜æ›´éƒ½æ‹‰åˆ°æœ¬åœ° git fetch remote 6ã€æŠŠè¿œç«¯åˆ†æ”¯çš„å˜æ›´æ‹‰å€’æœ¬åœ°ï¼Œä¸” merge åˆ°æœ¬åœ°åˆ†æ”¯ git pull remoteåç§° åˆ†æ”¯å å…³äº pull å’Œ fetch çš„åŒºåˆ«ä¸æ‡‚å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ä»0å­¦ä¹ Gitï¼šè¯¦è§£git pullå’Œgit fetchçš„åŒºåˆ« 7ã€æŠŠæœ¬åœ°åˆ†æ”¯ push åˆ°è¿œç«¯ git push remoteåç§° åˆ†æ”¯å 8ã€åˆ é™¤è¿œç«¯åˆ†æ”¯ git push remote --delete è¿œç«¯åˆ†æ”¯åæˆ–è€…git push remote:è¿œç«¯åˆ†æ”¯å 9ã€å‘è¿œç«¯æäº¤æŒ‡å®šæ ‡ç­¾ git push remote æ ‡ç­¾å 10ã€å‘è¿œç«¯æäº¤æ‰€æœ‰æ ‡ç­¾ git push remote --tags","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://smilecoc.vip/categories/è½¬è½½/"}],"tags":[{"name":"Git","slug":"Git","permalink":"http://smilecoc.vip/tags/Git/"}],"author":"smilecoc"},{"title":"æ•°æ®åº“è®¾è®¡èŒƒå¼","slug":"æ•°æ®åº“è®¾è®¡èŒƒå¼","date":"2020-03-07T08:06:22.000Z","updated":"2022-04-17T08:28:19.309Z","comments":true,"path":"2020/03/07/æ•°æ®åº“è®¾è®¡èŒƒå¼/","link":"","permalink":"http://smilecoc.vip/2020/03/07/æ•°æ®åº“è®¾è®¡èŒƒå¼/","excerpt":"","text":"èŒƒå¼ï¼šè‹±æ–‡åç§°æ˜¯ Normal Formï¼Œå®ƒæ˜¯è‹±å›½äºº E.F.Coddï¼ˆå…³ç³»æ•°æ®åº“çš„è€ç¥–å®—ï¼‰åœ¨ä¸Šä¸ªä¸–çºª70å¹´ä»£æå‡ºå…³ç³»æ•°æ®åº“æ¨¡å‹åæ€»ç»“å‡ºæ¥çš„ï¼ŒèŒƒå¼æ˜¯å…³ç³»æ•°æ®åº“ç†è®ºçš„åŸºç¡€ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬åœ¨è®¾è®¡æ•°æ®åº“ç»“æ„è¿‡ç¨‹ä¸­æ‰€è¦éµå¾ªçš„è§„åˆ™å’ŒæŒ‡å¯¼æ–¹æ³•ã€‚ç›®å‰æœ‰è¿¹å¯å¯»çš„å…±æœ‰8ç§èŒƒå¼ï¼Œä¾æ¬¡æ˜¯ï¼š1NFï¼Œ2NFï¼Œ3NFï¼ŒBCNFï¼Œ4NFï¼Œ5NFï¼ŒDKNFï¼Œ6NFã€‚é€šå¸¸æ‰€ç”¨åˆ°çš„åªæ˜¯å‰ä¸‰ä¸ªèŒƒå¼ï¼Œå³ï¼šç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰ï¼Œç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰ï¼Œç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰ã€‚ è®¾è®¡å…³ç³»æ•°æ®åº“æ—¶ï¼Œéµä»ä¸åŒçš„è§„èŒƒè¦æ±‚ï¼Œè®¾è®¡å‡ºåˆç†çš„å…³ç³»å‹æ•°æ®åº“ï¼Œè¿™äº›ä¸åŒçš„è§„èŒƒè¦æ±‚è¢«ç§°ä¸ºä¸åŒçš„èŒƒå¼ï¼Œå„ç§èŒƒå¼å‘ˆé€’æ¬¡è§„èŒƒï¼Œè¶Šé«˜çš„èŒƒå¼æ•°æ®åº“å†—ä½™è¶Šå°ã€‚ç›®å‰å…³ç³»æ•°æ®åº“æœ‰å…­ç§èŒƒå¼ï¼šç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰ã€ç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰ã€ç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰ã€å·´æ–¯-ç§‘å¾·èŒƒå¼ï¼ˆBCNFï¼‰ã€ç¬¬å››èŒƒå¼(4NFï¼‰å’Œç¬¬äº”èŒƒå¼ï¼ˆ5NFï¼Œåˆç§°å®Œç¾èŒƒå¼ï¼‰ã€‚æ»¡è¶³æœ€ä½è¦æ±‚çš„èŒƒå¼æ˜¯ç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰ã€‚åœ¨ç¬¬ä¸€èŒƒå¼çš„åŸºç¡€ä¸Šè¿›ä¸€æ­¥æ»¡è¶³æ›´å¤šè§„èŒƒè¦æ±‚çš„ç§°ä¸ºç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰ï¼Œå…¶ä½™èŒƒå¼ä»¥æ¬¡ç±»æ¨ã€‚ä¸€èˆ¬è¯´æ¥ï¼Œæ•°æ®åº“åªéœ€æ»¡è¶³ç¬¬ä¸‰èŒƒå¼(3NFï¼‰å°±è¡Œäº†ã€‚é¦–å…ˆç®€å•ä»‹ç»ä¸‹å‰ä¸‰ä¸ªèŒƒå¼ï¼Œè¿™ä¹Ÿæ˜¯ç›®å‰è®¾è®¡æ•°æ®åº“æ—¶çš„èŒƒå¼è¦æ±‚ï¼š ç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰å¼ºè°ƒçš„æ˜¯åˆ—çš„åŸå­æ€§ï¼Œå³åˆ—ä¸èƒ½å¤Ÿå†åˆ†æˆå…¶ä»–å‡ åˆ—ã€‚è€ƒè™‘è¿™æ ·ä¸€ä¸ªè¡¨ï¼šã€è”ç³»äººã€‘ï¼ˆå§“åï¼Œæ€§åˆ«ï¼Œç”µè¯ï¼‰å¦‚æœåœ¨å®é™…åœºæ™¯ä¸­ï¼Œä¸€ä¸ªè”ç³»äººæœ‰å®¶åº­ç”µè¯å’Œå…¬å¸ç”µè¯ï¼Œé‚£ä¹ˆè¿™ç§è¡¨ç»“æ„è®¾è®¡å°±æ²¡æœ‰è¾¾åˆ° 1NFã€‚è¦ç¬¦åˆ 1NF æˆ‘ä»¬åªéœ€æŠŠåˆ—ï¼ˆç”µè¯ï¼‰æ‹†åˆ†ï¼Œå³ï¼šã€è”ç³»äººã€‘ï¼ˆå§“åï¼Œæ€§åˆ«ï¼Œå®¶åº­ç”µè¯ï¼Œå…¬å¸ç”µè¯ï¼‰ã€‚1NF å¾ˆå¥½è¾¨åˆ«ï¼Œä½†æ˜¯ 2NF å’Œ 3NF å°±å®¹æ˜“ææ··æ·†ã€‚ è¯´æ˜ï¼šåœ¨ä»»ä½•ä¸€ä¸ªå…³ç³»æ•°æ®åº“ä¸­ï¼Œç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰æ˜¯å¯¹å…³ç³»æ¨¡å¼çš„è®¾è®¡åŸºæœ¬è¦æ±‚ï¼Œä¸€èˆ¬è®¾è®¡ä¸­éƒ½å¿…é¡»æ»¡è¶³ç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰ã€‚ä¸è¿‡æœ‰äº›å…³ç³»æ¨¡å‹ä¸­çªç ´äº†1NFçš„é™åˆ¶ï¼Œè¿™ç§ç§°ä¸ºé1NFçš„å…³ç³»æ¨¡å‹ã€‚æ¢å¥è¯è¯´ï¼Œæ˜¯å¦å¿…é¡»æ»¡è¶³1NFçš„æœ€ä½è¦æ±‚ï¼Œä¸»è¦ä¾èµ–äºæ‰€ä½¿ç”¨çš„å…³ç³»æ¨¡å‹ã€‚ ç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰é¦–å…ˆæ˜¯ 1NFï¼Œå¦å¤–åŒ…å«ä¸¤éƒ¨åˆ†å†…å®¹ï¼Œä¸€æ˜¯è¡¨å¿…é¡»æœ‰ä¸€ä¸ªä¸»é”®ï¼›äºŒæ˜¯æ²¡æœ‰åŒ…å«åœ¨ä¸»é”®ä¸­çš„åˆ—å¿…é¡»å®Œå…¨ä¾èµ–äºä¸»é”®ï¼Œè€Œä¸èƒ½åªä¾èµ–äºä¸»é”®çš„ä¸€éƒ¨åˆ†ã€‚ è€ƒè™‘ä¸€ä¸ªè®¢å•æ˜ç»†è¡¨ï¼šã€OrderDetailã€‘ï¼ˆOrderIDï¼ŒProductIDï¼ŒUnitPriceï¼ŒDiscountï¼ŒQuantityï¼ŒProductNameï¼‰ã€‚å› ä¸ºæˆ‘ä»¬çŸ¥é“åœ¨ä¸€ä¸ªè®¢å•ä¸­å¯ä»¥è®¢è´­å¤šç§äº§å“ï¼Œæ‰€ä»¥å•å•ä¸€ä¸ª OrderID æ˜¯ä¸è¶³ä»¥æˆä¸ºä¸»é”®çš„ï¼Œä¸»é”®åº”è¯¥æ˜¯ï¼ˆOrderIDï¼ŒProductIDï¼‰ã€‚æ˜¾è€Œæ˜“è§ Discountï¼ˆæŠ˜æ‰£ï¼‰ï¼ŒQuantityï¼ˆæ•°é‡ï¼‰å®Œå…¨ä¾èµ–ï¼ˆå–å†³ï¼‰äºä¸»é”®ï¼ˆOderIDï¼ŒProductIDï¼‰ï¼Œè€Œ UnitPriceï¼ŒProductName åªä¾èµ–äº ProductIDã€‚æ‰€ä»¥ OrderDetail è¡¨ä¸ç¬¦åˆ 2NFã€‚ä¸ç¬¦åˆ 2NF çš„è®¾è®¡å®¹æ˜“äº§ç”Ÿå†—ä½™æ•°æ®ã€‚å¯ä»¥æŠŠã€OrderDetailã€‘è¡¨æ‹†åˆ†ä¸ºã€OrderDetailã€‘ï¼ˆOrderIDï¼ŒProductIDï¼ŒDiscountï¼ŒQuantityï¼‰å’Œã€Productã€‘ï¼ˆProductIDï¼ŒUnitPriceï¼ŒProductNameï¼‰æ¥æ¶ˆé™¤åŸè®¢å•è¡¨ä¸­UnitPriceï¼ŒProductNameå¤šæ¬¡é‡å¤çš„æƒ…å†µã€‚ ç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰è¦æ±‚å®ä½“çš„å±æ€§å®Œå…¨ä¾èµ–äºä¸»å…³é”®å­—ã€‚æ‰€è°“å®Œå…¨ä¾èµ–æ˜¯æŒ‡ä¸èƒ½å­˜åœ¨ä»…ä¾èµ–ä¸»å…³é”®å­—ä¸€éƒ¨åˆ†çš„å±æ€§ï¼Œå¦‚æœå­˜åœ¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå±æ€§å’Œä¸»å…³é”®å­—çš„è¿™ä¸€éƒ¨åˆ†åº”è¯¥åˆ†ç¦»å‡ºæ¥å½¢æˆä¸€ä¸ªæ–°çš„å®ä½“ï¼Œæ–°å®ä½“ä¸åŸå®ä½“ä¹‹é—´æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ã€‚ä¸ºå®ç°åŒºåˆ†é€šå¸¸éœ€è¦ä¸ºè¡¨åŠ ä¸Šä¸€ä¸ªåˆ—ï¼Œä»¥å­˜å‚¨å„ä¸ªå®ä¾‹çš„å”¯ä¸€æ ‡è¯†ã€‚ç®€è€Œè¨€ä¹‹ï¼Œç¬¬äºŒèŒƒå¼å°±æ˜¯åœ¨ç¬¬ä¸€èŒƒå¼çš„åŸºç¡€ä¸Šå±æ€§å®Œå…¨ä¾èµ–äºä¸»é”®ã€‚ ç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰åœ¨1NFåŸºç¡€ä¸Šï¼Œä»»ä½•éä¸»å±æ€§ä¸ä¾èµ–äºå…¶å®ƒéä¸»å±æ€§[åœ¨2NFåŸºç¡€ä¸Šæ¶ˆé™¤ä¼ é€’ä¾èµ–]ã€‚ ç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰æ˜¯ç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰çš„ä¸€ä¸ªå­é›†ï¼Œå³æ»¡è¶³ç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰å¿…é¡»æ»¡è¶³ç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰ã€‚ é¦–å…ˆæ˜¯ 2NFï¼Œå¦å¤–éä¸»é”®åˆ—å¿…é¡»ç›´æ¥ä¾èµ–äºä¸»é”®ï¼Œä¸èƒ½å­˜åœ¨ä¼ é€’ä¾èµ–ã€‚å³ä¸èƒ½å­˜åœ¨ï¼šéä¸»é”®åˆ— A ä¾èµ–äºéä¸»é”®åˆ— Bï¼Œéä¸»é”®åˆ— B ä¾èµ–äºä¸»é”®çš„æƒ…å†µã€‚è€ƒè™‘ä¸€ä¸ªè®¢å•è¡¨ã€Orderã€‘ï¼ˆOrderIDï¼ŒOrderDateï¼ŒCustomerIDï¼ŒCustomerNameï¼ŒCustomerAddrï¼ŒCustomerCityï¼‰ä¸»é”®æ˜¯ï¼ˆOrderIDï¼‰ã€‚ å…¶ä¸­ OrderDateï¼ŒCustomerIDï¼ŒCustomerNameï¼ŒCustomerAddrï¼ŒCustomerCity ç­‰éä¸»é”®åˆ—éƒ½å®Œå…¨ä¾èµ–äºä¸»é”®ï¼ˆOrderIDï¼‰ï¼Œæ‰€ä»¥ç¬¦åˆ 2NFã€‚ä¸è¿‡é—®é¢˜æ˜¯ CustomerNameï¼ŒCustomerAddrï¼ŒCustomerCity ç›´æ¥ä¾èµ–çš„æ˜¯ CustomerIDï¼ˆéä¸»é”®åˆ—ï¼‰ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¾èµ–äºä¸»é”®ï¼Œå®ƒæ˜¯é€šè¿‡ä¼ é€’æ‰ä¾èµ–äºä¸»é”®ï¼Œæ‰€ä»¥ä¸ç¬¦åˆ 3NFã€‚é€šè¿‡æ‹†åˆ†ã€Orderã€‘ä¸ºã€Orderã€‘ï¼ˆOrderIDï¼ŒOrderDateï¼ŒCustomerIDï¼‰å’Œã€Customerã€‘ï¼ˆCustomerIDï¼ŒCustomerNameï¼ŒCustomerAddrï¼ŒCustomerCityï¼‰ä»è€Œè¾¾åˆ° 3NFã€‚ ç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰å’Œç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰çš„æ¦‚å¿µå¾ˆå®¹æ˜“æ··æ·†ï¼ŒåŒºåˆ†å®ƒä»¬çš„å…³é”®ç‚¹åœ¨äºï¼Œ2NFï¼šéä¸»é”®åˆ—æ˜¯å¦å®Œå…¨ä¾èµ–äºä¸»é”®ï¼Œè¿˜æ˜¯ä¾èµ–äºä¸»é”®çš„ä¸€éƒ¨åˆ†ï¼›3NFï¼šéä¸»é”®åˆ—æ˜¯ç›´æ¥ä¾èµ–äºä¸»é”®ï¼Œè¿˜æ˜¯ç›´æ¥ä¾èµ–äºéä¸»é”®åˆ—ã€‚ ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨å®é™…çš„ä¸šåŠ¡è¿‡ç¨‹ä¸­ï¼Œå…¶å®å¾ˆå¤šæ—¶å€™æ˜¯ä¸ä¼šä¸¥æ ¼æŒ‰ç…§èŒƒå¼æ¥è®¾è®¡æ•°æ®åº“ã€‚åœ¨å®é™…çš„ä¸šåŠ¡ä¸­æ•°æ®åº“çš„æ€§èƒ½æ˜¯æœ€é‡è¦çš„ï¼Œæ‰€ä»¥æœ‰çš„æ—¶å€™ä¸ç¬¦åˆæ•°æ®åº“çš„è®¾è®¡èŒƒå¼ï¼Œäº§ç”Ÿå†—ä½™çš„æ•°æ®ï¼Œä½†æ˜¯å¯ä»¥æé«˜æ•°æ®åº“çš„æŸ¥è¯¢æ€§èƒ½ã€‚ä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼šå¦‚æœæ•°æ®åº“ä¸­æœ‰æ´»åŠ¨åç§°è¿™ä¸€ä¸ªå­—æ®µï¼Œæ˜¯ç”±å¹´ä»½ï¼Œæœˆä»½ï¼Œæ´»åŠ¨åç§°ä»¥åŠåœ°ç‚¹ç»„åˆè€Œæˆçš„ï¼ŒæŒ‰ç…§ç¬¬ä¸€èŒƒå¼çš„è¦æ±‚éœ€è¦æ‹†åˆ†æˆå››åˆ—ã€‚ä½†æ˜¯å¦‚æœå®é™…éœ€æ±‚ä¸­å¦‚æœç¡®å®šæ´»åŠ¨åç§°æ‰€åŒ…å«çš„å››åˆ—æ‹†å¼€éƒ½æ²¡æœ‰ä»»ä½•çš„ä¸šåŠ¡éœ€æ±‚ï¼Œé‚£ä¹ˆæˆ‘ä»¬å…¶å®å°±å¯ä»¥ç›´æ¥ä¿æŒæ´»åŠ¨åç§°è¿™ä¸€åˆ—ï¼Œè¿™æ ·åœ¨æ¯æ¬¡éœ€è¦æŸ¥è¯¢æ´»åŠ¨åç§°è¿™ä¸€ä¸ªå­—æ®µæ—¶ä¸éœ€è¦å…ˆæ‹¼æ¥å†æŸ¥è¯¢ã€‚åŒç†ï¼Œå¦‚æœè¦ç¬¦åˆ2NFå’Œ3NFï¼Œè®¾è®¡çš„ä¸¤è¡¨æˆ–è€…å¤šè¡¨æŸ¥è¯¢æ—¶å¿…ç„¶ä¼šæ¶‰åŠè¿æ¥è¯­å¥ï¼Œè€Œè¿æ¥æ“ä½œä¼šæ¶ˆè€—å¤§é‡èµ„æºä¸æ€§èƒ½ï¼Œæ‰€ä»¥æœ‰çš„æ—¶å€™ç›´æ¥å°†æ•°æ®æ”¾åœ¨ä¸€å¼ å¤§è¡¨ä¸­ä»¥æé«˜æŸ¥è¯¢æ€§èƒ½ã€‚æ‰€ä»¥å®é™…è®¾è®¡æ—¶ä¸€å®šè¦ç»“åˆå®é™…ï¼Œçµæ´»å¤„ç† å¦å¤–ä¸€äº›æ›´é«˜è¦æ±‚çš„èŒƒå¼ï¼š BCèŒƒå¼(BCNF)å®ƒæ„å»ºåœ¨ç¬¬ä¸‰èŒƒå¼çš„åŸºç¡€ä¸Šï¼Œå¦‚æœå…³ç³»æ¨¡å‹Ræ˜¯ç¬¬ä¸€èŒƒå¼ï¼Œä¸”æ¯ä¸ªå±æ€§éƒ½ä¸ä¼ é€’ä¾èµ–äºRçš„å€™é€‰é”®ï¼Œé‚£ä¹ˆç§°Rä¸ºBCNFçš„æ¨¡å¼ã€‚å‡è®¾ä»“åº“ç®¡ç†å…³ç³»è¡¨(ä»“åº“å·ï¼Œå­˜å‚¨ç‰©å“å·ï¼Œç®¡ç†å‘˜å·ï¼Œæ•°é‡)ï¼Œæ»¡è¶³ä¸€ä¸ªç®¡ç†å‘˜åªåœ¨ä¸€ä¸ªä»“åº“å·¥ä½œï¼›ä¸€ä¸ªä»“åº“å¯ä»¥å­˜å‚¨å¤šç§ç‰©å“ï¼Œåˆ™å­˜åœ¨å¦‚ä¸‹å…³ç³»ï¼š (ä»“åº“å·ï¼Œå­˜å‚¨ç‰©å“å·)â€”â€”&gt;(ç®¡ç†å‘˜å·ï¼Œæ•°é‡) (ç®¡ç†å‘˜å·ï¼Œå­˜å‚¨ç‰©å“å·)â€”â€”&gt;(ä»“åº“å·ï¼Œæ•°é‡) æ‰€ä»¥ï¼Œ(ä»“åº“å·ï¼Œå­˜å‚¨ç‰©å“å·)å’Œ(ç®¡ç†å‘˜å·ï¼Œå­˜å‚¨ç‰©å“å·)éƒ½æ˜¯ä»“åº“ç®¡ç†å…³ç³»è¡¨çš„å€™é€‰ç ï¼Œè¡¨ä¸­å”¯ä¸€éå…³é”®å­—æ®µä¸ºæ•°é‡ï¼Œå®ƒæ˜¯ç¬¦åˆç¬¬ä¸‰èŒƒå¼çš„ã€‚ä½†æ˜¯ï¼Œç”±äºå­˜åœ¨å¦‚ä¸‹å†³å®šå…³ç³»ï¼š (ä»“åº“å·)â€”â€”&gt;(ç®¡ç†å‘˜å·) (ç®¡ç†å‘˜å·)â€”â€”&gt;(ä»“åº“å·) å³å­˜åœ¨å…³é”®å­—æ®µå†³å®šå…³é”®å­—æ®µçš„æƒ…å†µï¼Œå› æ­¤å…¶ä¸ç¬¦åˆBCNFã€‚æŠŠä»“åº“ç®¡ç†å…³ç³»è¡¨åˆ†è§£ä¸ºä¸¤ä¸ªå…³ç³»è¡¨ä»“åº“ç®¡ç†è¡¨(ä»“åº“å·ï¼Œç®¡ç†å‘˜å·)å’Œä»“åº“è¡¨(ä»“åº“å·ï¼Œå­˜å‚¨ç‰©å“å·ï¼Œæ•°é‡)ï¼Œè¿™æ ·è¿™ä¸ªæ•°æ®åº“è¡¨æ˜¯ç¬¦åˆBCNFçš„ï¼Œå¹¶æ¶ˆé™¤äº†åˆ é™¤å¼‚å¸¸ã€æ’å…¥å¼‚å¸¸å’Œæ›´æ–°å¼‚å¸¸ã€‚ ç¬¬å››èŒƒå¼(4NF)è®¾Ræ˜¯ä¸€ä¸ªå…³ç³»æ¨¡å‹ï¼ŒDæ˜¯Rä¸Šçš„å¤šå€¼ä¾èµ–é›†åˆã€‚å¦‚æœDä¸­å­˜åœ¨å¤šå€¼ä¾èµ–X-&gt;Yæ—¶ï¼ŒXå¿…æ˜¯Rçš„è¶…é”®ï¼Œé‚£ä¹ˆç§°Ræ˜¯ç¬¬å››èŒƒå¼çš„æ¨¡å¼ã€‚ ä¾‹å¦‚ï¼ŒèŒå·¥è¡¨(èŒå·¥ç¼–å·ï¼ŒèŒå·¥å­©å­å§“åï¼ŒèŒå·¥é€‰ä¿®è¯¾ç¨‹)ï¼Œåœ¨è¿™ä¸ªè¡¨ä¸­ï¼ŒåŒä¸€ä¸ªèŒå·¥å¯èƒ½ä¼šæœ‰å¤šä¸ªèŒå·¥å­©å­å§“åï¼ŒåŒæ ·ï¼ŒåŒä¸€ä¸ªèŒå·¥ä¹Ÿå¯èƒ½ä¼šæœ‰å¤šä¸ªèŒå·¥é€‰ä¿®è¯¾ç¨‹ï¼Œå³è¿™é‡Œå­˜åœ¨ç€å¤šå€¼äº‹å®ï¼Œä¸ç¬¦åˆç¬¬å››èŒƒå¼ã€‚å¦‚æœè¦ç¬¦åˆç¬¬å››èŒƒå¼ï¼Œåªéœ€è¦å°†ä¸Šè¡¨åˆ†ä¸ºä¸¤ä¸ªè¡¨ï¼Œä½¿å®ƒä»¬åªæœ‰ä¸€ä¸ªå¤šå€¼äº‹å®ï¼Œä¾‹å¦‚èŒå·¥è¡¨ä¸€(èŒå·¥ç¼–å·ï¼ŒèŒå·¥å­©å­å§“å)ï¼ŒèŒå·¥è¡¨äºŒ(èŒå·¥ç¼–å·ï¼ŒèŒå·¥é€‰ä¿®è¯¾ç¨‹)ï¼Œä¸¤ä¸ªè¡¨éƒ½åªæœ‰ä¸€ä¸ªå¤šå€¼äº‹å®ï¼Œæ‰€ä»¥ç¬¦åˆç¬¬å››èŒƒå¼ã€‚ ç›®å‰å„èŒƒå¼çš„å…³ç³»å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://smilecoc.vip/categories/ç¬”è®°/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"å¾®åšæ‰¹é‡è‡ªåŠ¨å–å…³","slug":"å¾®åšæ‰¹é‡è‡ªåŠ¨å–å…³","date":"2020-03-07T07:54:45.389Z","updated":"2022-04-17T08:25:34.966Z","comments":true,"path":"2020/03/07/å¾®åšæ‰¹é‡è‡ªåŠ¨å–å…³/","link":"","permalink":"http://smilecoc.vip/2020/03/07/å¾®åšæ‰¹é‡è‡ªåŠ¨å–å…³/","excerpt":"","text":"ä¹‹å‰å¶ç„¶ç™»é™†å¾®åšå‘ç°å¾®åšé‡Œæœ‰60å¤šä¸ªå…³æ³¨çš„å¯¹è±¡ï¼Œç„¶è€Œéƒ½ä¸æ˜¯è‡ªå·±å…³æ³¨çš„äºº(ä¸‡æ¶çš„å¾®åš ğŸ¤”)ï¼Œç„¶ååˆæ²¡æœ‰å‘ç°å…¨é€‰ å–å…³çš„æŒ‰é’®ï¼Œäºæ˜¯åšäº†ä¸ªè‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬å–å…³çš„è„šæœ¬ï¼Œé¡ºä¾¿ç»ƒä¹ ä¸€ä¸‹seleniumåº“çš„ä½¿ç”¨~åºŸè¯ä¸å¤šè¯´ï¼Œä¸Šä»£ç ~ from selenium import webdriver import time from selenium.webdriver import ActionChains browser = webdriver.Chrome() #ç™»é™† browser.get(&#39;http://weibo.com/login.php&#39;) #//*[@style] æŸ¥æ‰¾æ‰€æœ‰åŒ…å«styleçš„æ‰€æœ‰å…ƒç´ ï¼Œæ‰€æœ‰çš„å±æ€§è¦åŠ @ browser.find_element_by_xpath(&#39;//*[@id=&quot;loginname&quot;]&#39;).clear() #è¾“å…¥ç™»å½•è´¦å· browser.find_element_by_xpath(&#39;//*[@id=&quot;loginname&quot;]&#39;).send_keys(&#39;Your ID&#39;) browser.find_element_by_xpath(&#39;//*[@id=&quot;pl_login_form&quot;]/div/div[3]/div[2]/div/input&#39;).clear() time.sleep(1) #è¾“å…¥ç™»é™†å¯†ç  browser.find_element_by_xpath(&#39;//*[@id=&quot;pl_login_form&quot;]/div/div[3]/div[2]/div/input&#39;).send_keys(&#39;your password&#39;) time.sleep(1) browser.find_element_by_xpath(&#39;//*[@id=&quot;pl_login_form&quot;]/div/div[3]/div[6]/a&#39;).click() time.sleep(1) browser.find_element_by_xpath(&#39;//*[@id=&quot;v6_pl_rightmod_myinfo&quot;]/div/div/div[2]/ul/li[1]/a/strong&#39;).click() time.sleep(1) #browser.find_element_by_link_text(&quot;è®¾ç½®&quot;) é€šè¿‡æ–‡æœ¬å®šä½å…ƒç´  #å–å…³æ•°é‡ for cou in range(1,10): #å®šä½æ‚¬åœæ—¶çš„å…ƒç´  ActionChains(browser).move_to_element(browser.find_element_by_xpath(&#39;//*[@id=&quot;Pl_Official_RelationMyfollow__95&quot;]/div/div/div/div[3]/ul/li[1]/div[1]/div[2]/div[5]/p/a[3]/em&#39;)).perform() time.sleep(2) browser.find_element_by_link_text(&quot;å–æ¶ˆå…³æ³¨&quot;).click() time.sleep(1) #browser.find_element_by_xpath(&#39;//*[@id=&quot;layer_15660574768511&quot;]/div[2]/div[4]/a[1]&#39;).click() browser.find_element_by_link_text(&quot;ç¡®å®š&quot;).click() browser.quit() æ•´ä¸ªæµç¨‹ä¸­çš„é—®é¢˜ä¸»è¦æœ‰ä¸¤ä¸ªï¼š 1.æœ‰ä¸€ä¸ªé¼ æ ‡æ‚¬åœæ—¶æ‰æ˜¾ç¤ºçš„å–æ¶ˆå…³æ³¨ç•Œé¢ï¼Œä½¿ç”¨ActionChains(browser).move_to_element().perform()æ–¹æ³•è§£å†³ 2.æœ€åè¿˜æœ‰ä¸€ä¸ªç¡®å®šçª—å£è·³å‡ºæ¥ï¼Œä¹‹å‰ä»¥ä¸ºæ˜¯å¼¹çª—ï¼Œä½†æ˜¯åæ¥å‘ç°å…¶å®å¹¶ä¸æ˜¯ï¼Œç›´æ¥å®šä½å…ƒç´ å°±å¯ä»¥äº†","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"pythonå…¶ä»–","slug":"pythonå…¶ä»–","permalink":"http://smilecoc.vip/tags/pythonå…¶ä»–/"}],"author":"smilecoc"},{"title":"ä½¿ç”¨Pythonè°ƒç”¨ç™¾åº¦åœ°å›¾Apiè·å–ä¸¤åœ°è·ç¦»å¹¶æ‰“åŒ…ä¸ºå¯æ‰§è¡Œç¨‹åº","slug":"get_baidu_distance_bypython","date":"2020-03-07T07:41:11.095Z","updated":"2021-02-21T17:48:54.765Z","comments":true,"path":"2020/03/07/get_baidu_distance_bypython/","link":"","permalink":"http://smilecoc.vip/2020/03/07/get_baidu_distance_bypython/","excerpt":"","text":"å®Œæ•´ä»£ç å¯ä»¥å…³æ³¨å…¬ä¼—å·ï¼šSmilecocçš„æ‚è´§é“º 1.è·å–ç™¾åº¦apiæ¥å£é¦–å…ˆéœ€è¦åœ¨ç™¾åº¦çš„å…¬ä¼—å¹³å°http://lbsyun.baidu.com/ä¸Šç‚¹å‡»æ§åˆ¶å°ï¼Œå¦‚æœæ˜¯æ–°ç”¨æˆ·çš„è¯éœ€è¦è¿›è¡Œæ³¨å†Œå’ŒéªŒè¯ã€‚æ³¨å†Œå’ŒéªŒè¯å®Œæ¯•åå¯ä»¥ç‚¹å‡»åˆ›å»ºåº”ç”¨ï¼Œå¡«å†™åº”ç”¨åç§°ç­‰ç›¸å…³ä¿¡æ¯ï¼Œåº”ç”¨ç±»å‹æ ¹æ®éœ€è¦è¿›è¡Œè®¾ç½®ï¼Œæœ‰æµè§ˆå™¨ç«¯å’ŒæœåŠ¡å™¨ç«¯ä¸¤ç§ã€‚åœ¨è¿™é‡Œç‰¹åˆ«è¯´æ˜çš„æ˜¯ï¼Œåœ¨IPç™½åå•æ¡†é‡Œæœ€å¥½è®¾ç½®ä¸ºï¼š0.0.0.0/0ï¼Œå› ä¸ºæœ‰æ—¶å€™æŠŠè‡ªå·±å·±çš„IPåœ°å€è¾“è¿›å»å¯èƒ½ä¹Ÿä¸è¡Œã€‚åˆ›å»ºåº”ç”¨å®Œæˆåæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°åˆšåˆšåˆ›å»ºçš„åº”ç”¨çš„å¯†é’¥ï¼ˆAKï¼‰ 2.è·å–èµ·å§‹åœ°ç‚¹çš„åœ°ç†ç¼–ç é¦–å…ˆæ˜¯æ‰¾åˆ°è·å–æ­¥è¡Œè·ç¦»çš„å®˜æ–¹æ–‡æ¡£http://lbsyun.baidu.com/index.php?title=webapi/directionlite-v1ï¼Œä½†æ˜¯å‘ç°å¯¹åº”çš„apiæ¥å£é‡Œéœ€è¦èµ·å§‹åœ°ç‚¹çš„åœ°ç†ç¼–ç ï¼Œæ‰€ä»¥é¦–å…ˆéœ€è¦è·å–å¯¹åº”èµ·å§‹ä½ç½®çš„åœ°ç†ç¼–ç http://lbsyun.baidu.com/index.php?title=webapi/guide/webservice-geocodingã€‚å¦‚æœæœ‰å…¶ä»–çš„éœ€æ±‚ï¼Œä¾‹å¦‚æ‰¾è·¯çº¿è§„åˆ’ç­‰ç­‰éƒ½å¯ä»¥é€šè¿‡è¯´æ˜æ–‡æ¡£è¿›è¡Œä¿®æ”¹ def getapiurl(myaddress): url=r&quot;http://api.map.baidu.com/geocoding/v3/?address={}&amp;output=json&amp;ak={}&quot;.format(myaddress,myAK)#è¯´æ˜æ–‡æ¡£é‡Œç»™å‡ºçš„apiæ¥å£ print(url) return url def getPosition(url): &#39;&#39;&#39;è¿”å›ç»çº¬åº¦ä¿¡æ¯&#39;&#39;&#39; res = requests.get(url) json_data = json.loads(res.text) if json_data[&#39;status&#39;] == 0: lat = json_data[&#39;result&#39;][&#39;location&#39;][&#39;lat&#39;] # çº¬åº¦ lng = json_data[&#39;result&#39;][&#39;location&#39;][&#39;lng&#39;] # ç»åº¦ else: print(&quot;Error output!&quot;) return json_data[&#39;status&#39;] return lat, lng 3.è·å–èµ·å§‹åœ°ç‚¹çš„æ­¥è¡Œè·ç¦» def getdistance(startlat,startlng,endlat,endlng): #{: .6f}ä¿ç•™å°æ•°ç‚¹åå…­ä½ distanceurl=r&quot;http://api.map.baidu.com/directionlite/v1/walking?origin={:.6f},{:.6f}&amp;destination={:.6f},{:.6f}&amp;ak={}&quot;.format(startlat,startlng,endlat,endlng,myAK) res = requests.get(distanceurl) dis_json_data = json.loads(res.text) if dis_json_data[&#39;status&#39;] == 0: distance=dis_json_data[&#39;result&#39;][&#39;routes&#39;][0][&#39;distance&#39;] print(distance) è¿™é‡Œé€šè¿‡apiè·å–çš„jsonæ–‡ä»¶ä¸­çš„ç»“æ„ä¸è¯´æ˜æ–‡æ¡£ä¸­çš„ç»“æ„æœ‰ä¸€äº›å‡ºå…¥ï¼Œæ‰€ä»¥è¿˜æ˜¯è¦æŒ‰ç…§å®é™…çš„æƒ…å†µçµæ´»ä¿®æ”¹ è¿™æ ·ä¸»ä½“ç¨‹åºå°±å®Œæˆäº†ï¼Œæ¥ç€åŠ ä¸Šè¯»å–æ•°æ®å’Œç”¨æˆ·äº¤äº’çª—å£é¦–å…ˆæ˜¯åˆ©ç”¨pandasè¯»å–å¹¶å¤„ç†æ•°æ®ï¼š def get_address(file_path): data=pd.read_excel(file_path) startaddress=data[&#39;åœ°åŒº&#39;]+data[&#39;å‡ºå‘è¡Œæ”¿åŒºåŸŸ&#39;]+data[&#39;å‡ºå‘åœ°å€&#39;] endaddress=data[&#39;åœ°åŒº&#39;]+data[&#39;åˆ°è¾¾è¡Œæ”¿åŒºåŸŸ&#39;]+data[&#39;åˆ°è¾¾åœ°å€&#39;] distance=[] #éå†seriesè¾“å…¥éœ€è¦æŸ¥è¯¢çš„èµ·å§‹åœ°ç‚¹ for i in range(1,len(startaddress)+1): startlat, startlng = getPosition(startaddress[i-1]) endlat, endlng = getPosition(endaddress[i-1]) #å°†è¾“å‡ºç»“æœæ‹¼æ¥ä¸ºlist distance.append(getdistance(startlat, startlng, endlat, endlng)) dfdistance=pd.DataFrame(distance) #ä½¿ç”¨concatæ‹¼æ¥ä¸¤ä¸ªdataframeï¼Œå…¶ä¸­axis=1è¡¨ç¤ºæ¨ªå‘æ‹¼æ¥ï¼Œå¦‚æœä¸åŠ æ­¤å‚æ•°æˆ–è€…ä¸º0è¡¨ç¤ºçºµå‘æ‹¼æ¥ result=pd.concat([data,dfdistance],axis=1) #æ›´æ”¹åˆ—åç§° result.rename(columns={0: &#39;distance&#39;}, inplace=True) result.to_excel(parent_path + &#39;/ç»“æœæ–‡ä»¶.xlsx&#39;,index=None) è¿™é‡Œå› ä¸ºapiæ¥å£åªèƒ½ä¸€ä¸ªä¸€ä¸ªè·ç¦»å¯¼å…¥ï¼Œæ‰€ä»¥é¦–å…ˆå°†ç»“æœæ‹¼æ¥æˆlistå†ä¸ä¹‹å‰çš„æ•°ç»„åˆ©ç”¨concatæ‹¼æ¥ã€‚åœ¨ä½¿ç”¨pandasæ—¶å¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯pandasçš„æœ€å°ä½¿ç”¨ç»´åº¦åœ¨ä¸€åˆ—æ•°æ®ä¸­ï¼Œæ‰€ä»¥åªæœ‰æ¯”è¾ƒå¥½çš„æ•°æ®ç»“æ„æ—¶ä½¿ç”¨pandasæ‰ä¼šæ¯”è¾ƒæ–¹ä¾¿ æœ€åæ˜¯åˆ©ç”¨tkinterå®ç°ç”¨æˆ·äº¤äº’çª—å£ï¼Œå®ç°ä¸€ä¸ªçª—å£å¯ä»¥è®©ç”¨æˆ·é€‰å–æ–‡ä»¶å¹¶å°†ç”Ÿæˆçš„ç»“æœæ–‡ä»¶ä¿å­˜åˆ°åŒä¸€æ–‡ä»¶å¤¹ä¸‹ #è·å–æ–‡ä»¶è·¯å¾„ def get_filename(): root = tk.Tk() root.withdraw() #file_pathä¸ºæ–‡ä»¶çš„è·¯å¾„ï¼Œparent_pathä¸ºæ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹è·¯å¾„ file_path = filedialog.askopenfilename() parent_path = os.path.dirname(file_path) return file_path, parent_path å®ç°çš„æ•ˆæœå¦‚ä¸‹ï¼šè¿™æ ·æ•´ä¸ªç¨‹åºå°± å®Œå·¥äº†! æ¥ä¸‹æ¥æ˜¯å°†ç”Ÿæˆçš„æ•°æ®æ‰“åŒ…ä¸ºç›´æ¥å¯æ‰§è¡Œçš„æ–‡ä»¶ï¼Œå› ä¸ºä¸€èˆ¬ç”¨æˆ·ä¸ä¼šè‡ªå·±è£…pythonå’Œé…ç½®ã€‚1.é¦–å…ˆæŒ‰ä¸‹win+Ré”®ï¼Œè¾“å…¥cmdæ‰“å¼€å‘½ä»¤è¿è¡Œçª—å£ï¼Œè¾“å…¥cd+æ–‡ä»¶è·¯å¾„è¿›å…¥æŒ‡å®šçš„æ–‡ä»¶å¤¹2.å®‰è£…pyinstalleråº“ï¼š pip install pyinstaller è¿™é‡Œæˆ‘ä¹‹å‰å·²ç»å®‰è£…è¿‡pyinstalleråº“ï¼Œæ‰€ä»¥ç›´æ¥è·³è¿‡è¿™ä¸€æ­¥å¦‚æœå·²ç»å®‰è£…è¿‡pyinstalleråº“ï¼Œé‚£ä¹ˆåœ¨ä¸Šä¸€æ­¥æ—¶å°±è¦è¿›åˆ°pyinstalleråº“å®‰è£…çš„é‚£ä¸€ä¸ªæ–‡ä»¶å¤¹è¿è¡Œã€‚ 3.æ‰“åŒ…ï¼š python pyinstaller.py -F baidu_map_distance.py è¿™é‡Œè¦æ³¨æ„ï¼šä¸€æ˜¯baidu_map_distance.pyä¸ºè¦æ‰“åŒ…çš„ç¨‹åºåç§°ã€‚ç¬¬äºŒæ˜¯å› ä¸ºç°åœ¨æˆ‘çš„ç¨‹åºæ˜¯æ”¾åœ¨å®‰è£… pyinstallerçš„æ–‡ä»¶å¤¹ä¸‹çš„ï¼Œæ‰€ä»¥å¡«çš„æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œå¦‚æœæ˜¯è¦æ‰“åŒ…å…¶ä»–æ–‡ä»¶å¤¹ä¸­çš„ç¨‹åºï¼Œéœ€è¦ä½¿ç”¨ç»å¯¹è·¯å¾„ä¸‰æ˜¯Fçš„å«ä¹‰ä¸ºå°†åŸæ–‡ä»¶æ‰“åŒ…ä¸ºexeæ–‡ä»¶ï¼Œè¿˜æœ‰å…¶ä»–å‡ ä¸ªå¯é€‰å‚æ•° -Fçš„å«ä¹‰ä¸ºå°†åŸæ–‡ä»¶æ‰“åŒ…ä¸ºexeæ–‡ä»¶ -Dï¼šåˆ›å»ºä¸€ä¸ªç›®å½•ï¼ŒåŒ…å«exeæ–‡ä»¶ï¼Œä½†ä¼šä¾èµ–å¾ˆå¤šæ–‡ä»¶ï¼Œè¿™æ˜¯é»˜è®¤é€‰é¡¹ -cï¼šä½¿ç”¨æ§åˆ¶å°ï¼Œè¿™ä¹Ÿæ˜¯é»˜è®¤é€‰é¡¹ -wï¼šä½¿ç”¨çª—å£ï¼Œæ— æ§åˆ¶å° ä½¿ç”¨-Fçš„å¥½å¤„æ˜¯ä¼šå°†æ‰€æœ‰çš„ä¾èµ–æ–‡ä»¶æ‰“åŒ…åˆ°exeé‡Œï¼Œä½¿ç”¨èµ·æ¥æ¯”è¾ƒæ–¹ä¾¿ï¼Œåªè¦ç»™æœ€ç»ˆçš„exeæ–‡ä»¶å°±å¯ä»¥äº†ã€‚ä½†æ˜¯ç›¸åº”çš„åå¤„å°±æ˜¯æ–‡ä»¶ä¼šæ¯”è¾ƒå¤§ï¼Œæ¯”è¾ƒæ…¢ã€‚è€Œ-Dçš„è¯ç”Ÿæˆä¹‹åéœ€è¦ä¾èµ–æ–‡ä»¶å¤¹é‡Œçš„å…¶ä»–æ–‡ä»¶ï¼Œéœ€è¦ä¼ è¾“æ‰€æœ‰çš„æ–‡ä»¶ç»™åˆ«äººæ‰èƒ½ä½¿ç”¨ï¼Œåªæœ‰ä¸€ä¸ªexeæ–‡ä»¶çš„è¯å°±ä¼šæ— æ³•è¿è¡Œã€‚ ç¨‹åºè¿è¡Œå®Œæˆåçš„æ–‡ä»¶å¤¹ä¼šå¤šå‡ºä¸‰ä¸ªæ–‡ä»¶å¤¹åœ¨distæ–‡ä»¶å¤¹é‡Œå°±å¯ä»¥æ‰¾åˆ°æ‰“åŒ…å®Œçš„ç¨‹åºäº†å…¶ä»–ä¸¤ä¸ªæ–‡ä»¶å¤¹ä¸ºè¿‡ç¨‹æ–‡ä»¶ï¼Œå¯ä»¥ä¸ç”¨ç®¡å®ƒäº† è¿™æ ·æˆ‘ä»¬å°±å¤§åŠŸå‘Šæˆäº†ï¼ æœ€æ–°æ–‡ç« æ›´æ–°åœ¨æˆ‘çš„åšå®¢ï¼šhttp://smilecoc.vip/2020/03/07/get_baidu_distance_bypython/æºç åŠä½¿ç”¨æ–‡ä»¶åœ°å€ï¼šhttps://github.com/smilecoc/baidumapapi_getdistance","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"pythonå…¶ä»–","slug":"pythonå…¶ä»–","permalink":"http://smilecoc.vip/tags/pythonå…¶ä»–/"}],"author":"smilecoc"},{"title":"åœ¨VBAä¸­ä½¿ç”¨SQL","slug":"using_sql_in_vba","date":"2020-03-03T14:24:01.000Z","updated":"2022-04-17T08:24:55.838Z","comments":true,"path":"2020/03/03/using_sql_in_vba/","link":"","permalink":"http://smilecoc.vip/2020/03/03/using_sql_in_vba/","excerpt":"","text":"VBAåœ¨å¤„ç†å¤§é‡çš„æ•°æ®/è®¡ç®—æ—¶å¦‚æœä½¿ç”¨å¸¸è§„æ–¹æ³•ä¼šæ¯”è¾ƒæ…¢ï¼Œå› æ­¤éœ€è¦å¯¹å…¶è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ä»¥æé«˜è¿è¡Œé€Ÿåº¦ï¼Œä¸€èˆ¬çš„æ–¹æ³•æ˜¯æ•°ç»„è®¡ç®—æˆ–è€…sqlè®¡ç®—ã€‚SQLè®¡ç®—çš„é€Ÿåº¦æœ€å¿«ï¼Œé™åˆ¶ä¹Ÿæ˜¯æœ€å¤šçš„ï¼Œæ•°ç»„é€Ÿåº¦å…¶æ¬¡ï¼Œçµæ´»æ€§ä¹Ÿæ›´é«˜ å¦‚æœè¦åœ¨vbaä¸­è°ƒç”¨sqlå¤„ç†æ•°æ®åŸºæœ¬å¯ä»¥éµå¾ªä¸€ä¸ªå¥—è·¯ï¼Œåªè¦ä¿®æ”¹å…¶ä¸­çš„SQLè¯­å¥å³å¯ è°ƒç”¨sqlå¤„ç†æ•°æ®VBAä»£ç å¦‚ä¸‹ï¼Œå…¶ä¸­â€™##### #####ä¸­çš„åœ°æ–¹æ˜¯æ¯æ¬¡è¿è¡Œæ—¶è¦æ ¹æ®æƒ…å†µä¿®æ”¹çš„ï¼š Sub Sql_Query() Dim Conn As Object, Rst As Object Dim strConn As String, strSQL As String Dim i As Integer, PathStr As String Set Conn = CreateObject(&quot;ADODB.Connection&quot;) Set Rst = CreateObject(&quot;ADODB.Recordset&quot;) PathStr = ThisWorkbook.FullName &#39;è®¾ç½®å·¥ä½œç°¿çš„å®Œæ•´è·¯å¾„å’Œåç§° Select Case Application.Version * 1 &#39;è®¾ç½®è¿æ¥å­—ç¬¦ä¸²,æ ¹æ®ç‰ˆæœ¬åˆ›å»ºè¿æ¥(ä¸åŒç‰ˆæœ¬çš„excelè¿æ¥æ˜¯ä¸åŒçš„) Case Is &lt;= 11 strConn = &quot;Provider=Microsoft.Jet.Oledb.4.0;Extended Properties=excel 8.0;Data source=&quot; &amp; PathStr Case Is &gt;= 12 strConn = &quot;Provider=Microsoft.ACE.OLEDB.12.0;Data Source=&quot; &amp; PathStr &amp; &quot;;Extended Properties=&quot;&quot;Excel 12.0;HDR=YES&quot;&quot;;&quot;&quot;&quot; End Select strSQL = &quot;Select * FROM [rawdata$]&quot; &#39;####åœ¨è¿™é‡Œæ”¹SQLæŸ¥è¯¢è¯­å¥#### Conn.Open strConn &#39;æ‰“å¼€æ•°æ®åº“é“¾æ¥ Set Rst = Conn.Execute(strSQL) &#39;æ‰§è¡ŒæŸ¥è¯¢ï¼Œå¹¶å°†ç»“æœè¾“å‡ºåˆ°è®°å½•é›†å¯¹è±¡ With ThisWorkbook.Sheets(&quot;sql data&quot;) &#39;#####åœ¨è¿™é‡Œæ›´æ”¹è¾“å‡ºçš„ä½ç½®å¯¹åº”çš„è¡¨å#### .Cells.Clear For i = 0 To Rst.Fields.Count - 1 &#39;å¡«å†™æ ‡é¢˜ .Cells(1, i + 1) = Rst.Fields(i).Name &#39;åœ¨ç¬¬ä¸€è¡Œè¾“å‡ºå­—æ®µå Next i .Range(&quot;A2&quot;).CopyFromRecordset Rst &#39;ä»A2å•å…ƒæ ¼å¼€å§‹è¾“å‡º .Cells.EntireColumn.AutoFit &#39;è‡ªåŠ¨è°ƒæ•´åˆ—å®½ End With Rst.Close &#39;å…³é—­æ•°æ®åº“è¿æ¥ Conn.Close Set Conn = Nothing Set Rst = Nothing End Sub æ¥ä¸‹æ¥ï¼Œå¼€å§‹å­¦ä¹ SQLè¯­å¥è¯­æ³• 1.åŸºäºä¸€å¼ å·¥ä½œè¡¨çš„æŸ¥è¯¢è¯­æ³•æ ¼å¼ï¼š select [DISTINCT] [TOP&lt;æ•°å€¼&gt; [PERCENT] &lt;åˆ—æ ‡é¢˜&gt; [[as]] &lt;åˆ«ååˆ—æ ‡é¢˜&gt;] from &lt;è¡¨æˆ–æŸ¥è¯¢1&gt;[AS]&lt;åˆ«å1&gt;],&lt;è¡¨æˆ–æŸ¥è¯¢2&gt;[AS]&lt;åˆ«å2&gt;],[where&lt;ç­›é€‰æ¡ä»¶&gt;][order by&lt;æ’åºé¡¹&gt;[asc â– desc]] è¯´æ˜ï¼š 1ã€&lt;&gt;è¡¨ç¤ºå¿…é€‰é¡¹ï¼Œâ€[]â€è¡¨ç¤ºå¯é€‰é¡¹ï¼Œâ€â–â€è¡¨ç¤ºå¤šé€‰ä¸€ã€‚ 2ã€DISTINCT:æ¶ˆé™¤å–é‡å¤çš„è¡Œ 3ã€TOP æ•°å€¼ï¼šæ˜¾ç¤ºå‰å‡ æ¡è®°å½• 4ã€TOP æ•°å€¼ percentï¼šæ˜¾ç¤ºå‰é¢åˆ†ä¹‹å¤šå°‘æ¡è®°å½• 5ã€&lt;åˆ—æ ‡é¢˜&gt;[[as]]&lt;åˆ«ååˆ—æ ‡é¢˜&gt;:ç»™æ ‡é¢˜åˆ—é‡æ–°å‘½ä¸€ä¸ªæ–°åç§° 6ã€where&lt;ç­›é€‰æ¡ä»¶&gt;ï¼šæ¡ä»¶è¯­å¥ 7ã€æ’åºï¼Œå¦‚æœè¦æŒ‰ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šå­—æ®µï¼Œé‚£ä¹ˆå­—æ®µä¸å­—æ®µä¹‹é—´ç”¨è±†å·éš”å¼€ï¼Œascå‡åºï¼Œä¸ºé»˜è®¤å€¼ï¼Œdescé™åºã€‚ selectå…³é”®å­—å¦‚æœè¦æ˜¾ç¤ºæ˜¾ç¤ºæ‰€æœ‰å­—æ®µçš„è®°å½•çš„è¯­æ³•ç»“æ„å¦‚ä¸‹ï¼š SELECT åˆ—å­—æ®µå1,åˆ—å­—æ®µå2,åˆ—å­—æ®µå3 FROM [å·¥ä½œè¡¨åç§°$] select * from [sheet1$] --æˆ–è€… select ID,name,address,score from [sheet1$] è¯­å¥1ä¸­çš„*å·æ˜¯ä»£è¡¨å…¨éƒ¨åˆ—ï¼Œè¯­å¥ 2ä¸­ï¼Œæ˜¯å†™ä¸Šå…¨éƒ¨åˆ—å­—æ®µçš„åç§°,å¦‚æœå·¥ä½œè¡¨æ²¡æœ‰åˆ—æ ‡é¢˜ï¼Œç”¨F1,F2,F3,F4â€¦..è¿™æ ·ä»£æ›¿ Aså…³é”®å­—ä½¿ç”¨åˆ«å SELECT å§“å AS Name FROM [Sheet1$] æ³¨æ„äº‹é¡¹ï¼š1.åœ¨SQLè¯­å¥ä¸­SQLè¯­å¥è‹±æ–‡ä¸åŒºåˆ†å¤§å°å†™ï¼Œä½†æ ‡ç‚¹ç¬¦å·å¿…é¡»æ˜¯è‹±æ–‡åŠè§’çŠ¶æ€ä¸‹è¾“å…¥ï¼Œå­—æ®µåä¹Ÿå¿…é¡»è·ŸåŸæ¥çš„ä¸€æ ·ã€‚2.ä½¿ç”¨SQLè¯­å¥çš„æ—¶å€™ï¼Œå¿…é¡»é¿å…åˆ—å­—æ®µä¸­ä½¿ç”¨ä¸‹é¢çš„ç‰¹æ®Šå­—ç¬¦ï¼šç©ºæ ¼ã€åŒå¼•å·ï¼ˆâ€ï¼‰ã€æ’‡ï¼ˆâ€™ï¼‰ã€æ•°å­—æ ‡è®°ï¼ˆ#ï¼‰ã€ç™¾åˆ†å·(%)ã€å¤§äºå·ï¼ˆ&gt;ï¼‰ã€å°äºå·(&lt;)ã€å¹å·(!)ã€å¥å·(.)ã€æ–¹æ‹¬å·ï¼ˆ[æˆ–]ï¼‰ã€æ˜Ÿå·ï¼ˆ*ï¼‰ã€ç¾å…ƒç¬¦å·($)ã€åˆ†å·ï¼ˆ;ï¼‰ã€è„±å­—å·ï¼ˆ^ï¼‰ã€åœ†æ‹¬å·ï¼ˆï¼ˆæˆ–ï¼‰ï¼‰ã€åŠ å·ï¼ˆ+ï¼‰ã€åæ–œæ ï¼ˆ\\æˆ–/ï¼‰ã€‚å¦‚æœåœ¨æºæ•°æ®è¡¨çš„åˆ—å­—æ®µä½¿ç”¨äº†è¿™äº›ç‰¹æ®Šå­—ç¬¦ï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨SQLè¯­å¥åˆ—å‡ºå„å­—æ®µçš„æ•°æ®æ—¶ï¼Œå°±ä¼šå‘ç”Ÿé”™è¯¯ã€‚ä¸ºäº†è§„èŒƒä½¿ç”¨SQLè¯­å¥ï¼Œåœ¨å¯¹æ•°æ®æºå­—æ®µå‘½åæ—¶ï¼Œå°½é‡é¿å…ä½¿ç”¨è¿™äº›ç‰¹æ®Šå­—ç¬¦ã€‚ distinctå…³é”®å­—åŠŸèƒ½æ˜¯å»é‡å¤å€¼åªä¿ç•™ä¸€æ¡è®°å½•ã€‚è¯­æ³•ç»“æ„ä¸ºï¼š SELECT DISTINCT è¦å»é‡å¤å€¼çš„å­—æ®µ1,è¦å»é‡å¤å€¼çš„å­—æ®µ2 FROM [å·¥ä½œè¡¨å$] Select Distinct name,ID From [sheet1$] whereå…³é”®å­—æŒ‰æ¡ä»¶ç­›é€‰ ä½¿ç”¨SQLå…³é”®è¯ WHEREæŸ¥è¯¢ä¸­çš„æ¡ä»¶æŒ‡å®šè¦æ»¡è¶³ä»€ä¹ˆæ ‡å‡†ä¿¡æ¯ï¼Œå»æ‰ä¸æ»¡è¶³æ¡ä»¶çš„æ•°æ®ï¼ˆåˆ é™¤ç”¨æˆ·ä¸è¦çš„æ•°æ®ï¼‰ã€‚WHEREè¯­å¥ä¸­å¯ä»¥æœ‰å¤šä¸ªæ¡ä»¶ï¼Œæ¡ä»¶ä¹‹é—´å¯ä»¥ç”¨æ“ä½œç¬¦AND æˆ–è€…ORè¿›è¡Œè¿æ¥ã€‚WHEREè¯­å¥çš„è¯­æ³•ç»“æ„å¦‚ä¸‹ï¼š SELECT åˆ—å­—æ®µåç§° FROM [è¡¨åç§°$] WHERE åˆ—å­—æ®µå è¿ç®—ç¬¦ å€¼ è¿ç®—ç¬¦åŒ…å«å¤§äºã€å°äºã€ç­‰äºã€ä¸ç­‰äºã€å¤§äºæˆ–ç­‰äºã€å°äºæˆ–ç­‰äºã€INã€ BETWEENã€ANDç­‰ã€‚ SELECT * FROM [Sheet1$] where æ¶ˆè´¹é‡‘é¢=100 --æå–æ¶ˆè´¹é‡‘é¢ç­‰äº100çš„æ•°æ® order byå…³é”®å­—ORDER BYçš„è¯­å¥ä½¿ç”¨å¯¹äºORDER BY è¯­å¥è€Œè¨€ï¼Œé»˜è®¤å€¼æ˜¯å‡åºæ’åˆ—ï¼Œé€šå¸¸æ˜¯ä¸æŒ‡å®šå®ƒã€‚ä½†å‡åºçš„å…³é”®è¯ä¸ºASC,é™åºä¸ºDESCã€‚è¯­æ³•ç»“æ„å¦‚ä¸‹ï¼š SELECT åˆ—å­—æ®µå FROM [å·¥ä½œè¡¨åç§°$] ORDER BY æŒ‡å®šåˆ—å­—æ®µå å‡åº(é™åº) æŒ‰æˆç»©è¿›è¡Œå‡åºæ’åºçš„SQLè¯­å¥å¦‚ä¸‹ï¼š Select * FROM [Sheet1$] ORDER BY æˆç»© ASC Topå…³é”®å­—TOPæŒ‰é¡ºåºæå–å‰nè¡Œçš„è®°å½•,è¯­æ³•ç»“æ„å¦‚ä¸‹ï¼š SELECT TOP 3 * FROM [å·¥ä½œè¡¨å$] å¦‚æå–æˆç»©å‰ä¸‰åçš„è®°å½• Select top 3 * FROM [Sheet1$A1:C17] ORDER BY score å…¶ä¸­[Sheet1$A1:C17]è¿™ä¸ªè¡¨ç¤ºå·¥ä½œè¡¨åSheet1çš„å·¥ä½œè¡¨A1ï¼šC17çš„è¿™ä¸ªå•å…ƒæ ¼åŒºåŸŸï¼ŒåŠ ä¸Šäº†æŒ‡å®šçš„å•å…ƒæ ¼åŒºåŸŸä¸ºæ•°æ®ã€‚å¯ä»¥æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µï¼Œæ¥æ”¹å˜.ä¸åœ¨åŒä¸€å¼ è¡¨ä¸Šæ˜¾ç¤ºç»“æœï¼Œè€Œä¸”æ•°æ®æºè§„èŒƒï¼Œå°±å¯ä»¥ç›´æ¥ç”¨[å·¥ä½œè¡¨å$]ã€‚æˆ–è€…ä¹¦å†™çš„æ—¶å€™å†™ä¸Šåˆ—åä¸ç”¨æ˜Ÿå·ï¼ˆâ€*â€ï¼‰è¿™ä¸¤ä¸ªä¹Ÿæ˜¯å’Œæ ‡å‡†sqlä¹‹é—´å·®åˆ«è¾ƒå¤§çš„åœ°æ–¹ TOP ä¸ PERCENT ç»„åˆåœ¨SQLè¯­å¥ä¸­çš„ä½¿ç”¨å¯ä»¥æŒ‰ç…§ç™¾åˆ†æ¯”æå–æ•°æ®,ä¾‹å¦‚æŒ‰æˆç»©é™åºæ’åˆ—æå–å‰30% Select TOP 30 PERCENT * FROM [Sheet1$A1:C17] ORDER BY æˆç»© DESC èšåˆå‡½æ•°SQLèšåˆå‡½æ•°åŒ…æ‹¬sum,count,avg,max,minç­‰ï¼Œä¸excelçš„å…¬å¼æœ‰åŒæ ·çš„æ•ˆæœï¼Œä½†æ˜¯åœ¨å¤§æ•°æ®é‡çš„æƒ…å†µä¸‹é€Ÿåº¦ä¼šæå‡å¾ˆå¤šï¼Œè€Œä¸”åœ¨å¤šæ¡ä»¶æ±‚å’Œæ—¶ä¼šæ¯”ä½¿ç”¨sumifsç®€å•ï¼Œç›´è§‚çš„å¤šå¤šæ¡ä»¶æ±‚å’Œçš„è¯­æ³•ç»“æ„ä¸ºï¼š SELECT åˆ†ç±»å­—æ®µ1, åˆ†ç±»å­—æ®µ2 , SUM(ç»Ÿè®¡å­—æ®µ) as äº§å“æ€»æ•° From [Sheet1$] GROUP BY åˆ†ç±»å­—æ®µ1, åˆ†ç±»å­—æ®µ2 ä¾‹å¦‚æŒ‰ç…§æ—¥æœŸå’Œå§“åæ±‡æ€»äº§å“æ•°ï¼š SELECT æ—¥æœŸ, å§“å, SUM(äº§å“æ•°) as äº§å“æ€»æ•° From [Sheet1$] GROUP BY æ—¥æœŸ, å§“å æ—¥æœŸæ•°æ®åœ¨SQLè¡¨è¾¾å¼ä¸­çš„åº”ç”¨åœ¨SQLè¡¨è¾¾å¼è¿ç®—ç¬¦æ¡ä»¶ä¸­ï¼Œè¦æŸ¥è¯¢æ—¥æœŸå’Œæ—¶é—´ç±»å‹çš„æ•°æ®ï¼Œéœ€è¦åœ¨æ•°æ®å€¼ä¸¤ç«¯åŠ ä¸Šäº•å­—ç¬¦å·ï¼ˆ#ï¼‰ä»¥è¡¨ç¤ºæ—¥æœŸç±»å‹ã€‚æ—¥æœŸå¯ä»¥æœ‰å¤šç§è¡¨ç¤ºæ–¹å¼ï¼Œæœ€ç¬¦åˆä¸­å›½äººçš„ä¹ æƒ¯æ˜¯â€œå¹´-æœˆ-æ—¥â€æˆ–â€œå¹´/æœˆ/æ—¥â€çš„è¡¨ç¤ºæ–¹å¼ã€‚ä¹Ÿå°±æ˜¯è¯´å¹´æœˆæ—¥ä¹‹é—´çš„åˆ†éš”ç¬¦å¯ä»¥ç”¨â€œ-â€æˆ–â€œ/â€ã€‚ä¾‹å¦‚è¡¨ç¤º2013å¹´10æœˆ1æ—¥å¯ä»¥é‡‡ç”¨ä»¥ä¸‹è¡¨è¾¾å¼ï¼š å¹´æœˆæ—¥ #2013-10-1# å¹´æ—¥æœˆ #2013-1-10# å¹´æœˆæ—¥ #2013/10/1# æ—¥æœˆå¹´ #1/10/2013/# æœˆæ—¥å¹´ #10/1/2013# ä»¥è¡¨è¾¾å¼åœ¨ç³»ç»Ÿæ— é”™è¯†åˆ«æœ€é«˜çš„åº”è¯¥æ˜¯ æœˆ/æ—¥/å¹´ #10/1/2013# å¦‚ä½•æŸ¥è¯¢äºŒä¸ªæ—¥æœŸé—´çš„æ•°æ®Where â€¦. ANDâ€¦è¯­å¥ï¼Œä¾‹å¦‚æŸ¥æ‰¾å¤§äºç­‰äº2013å¹´10æœˆ1æ—¥ï¼Œå°äºç­‰äº2013å¹´10æœˆ7æ—¥çš„æ•°æ®ï¼Œçš„SQLè¡¨è¾¾å¼ä¸ºï¼š SELECT * From [Sheet1$A:C] where æ—¥æœŸ&gt;=#10/1/2013# And æ—¥æœŸ&lt;=#10/7/2013# è¿˜å¯ä»¥ä»¥å•å…ƒä¸ºåŠ¨æ€å¼•ç”¨æŸ¥è¯¢ä¸¤ä¸ªæ—¥æœŸå†…çš„æ•°æ®,å¦‚ä¸‹å›¾æ‰€ç¤º strSQL = &quot;SELECT * From [Sheet1$A:C] where æ—¥æœŸ&gt;=#&quot; &amp; Range(&quot;J1&quot;) &amp; &quot;# And æ—¥æœŸ&lt;=#&quot; &amp; Range(&quot;K1&quot;) &amp; &quot;#&quot; likeå…³é”®å­—Like æ“ä½œç¬¦ç”¨äºåœ¨ WHERE å­å¥ä¸­æœç´¢åˆ—ä¸­çš„æ¨¡ç³ŠåŒ¹é… Select åˆ—å­—æ®µå From [å·¥ä½œè¡¨å$] Where åˆ—å­—æ®µ Like &#39;å…³é”®å­—&#39; å¯ä»¥åŠ ä¸Šé€šé…ç¬¦% ï¼ˆç›¸å½“äºå‡½æ•°å…¬å¼ä¸­çš„é€šé…ç¬¦*ï¼‰ strSQL = &quot;Select * from [Sheet1$] Where å§“å like &#39;[AB]%&#39;&quot; è¿™ä¸€è¯­å¥è¡¨ç¤ºåŒ¹é…å§“åä»¥Aå¼€å¤´æˆ–Bå¼€å¤´çš„æ•°æ®åŒæ ·çš„å¯ä»¥åå‘æŸ¥è¯¢å§“åä¸ä»¥Aå¼€å¤´æˆ–Bå¼€å¤´çš„æ•°æ® strSQL = &quot;Select * from [Sheet1$] Where å§“å like &#39;[!AB]%&#39;&quot; --or strSQL = &quot;Select * from [Sheet1$] Where not å§“å like &#39;[AB]%&#39;&quot; inå…³é”®å­—Inè¿ç®—ç¬¦å…è®¸ åœ¨ WHERE å­å¥ä¸­è§„å®šå¤šä¸ªå€¼,è¯­æ³•å¦‚ä¸‹ï¼š Select å­—æ®µ From [è¡¨å$] Where å­—æ®µ In(æ¡ä»¶1, æ¡ä»¶2,æ¡ä»¶3, ....) å¦‚æœåœ¨Inçš„æ¡ä»¶ä¸­ä¸æ˜¯æ•°å€¼ç±»å‹ï¼Œä¸€å®šè¦åŠ ä¸Šå¼•å·ã€‚eg: Select * FROM [Sheet1$A:D] where çœä»½ in(&#39;å¹¿ä¸œ&#39;,&#39;å¹¿è¥¿&#39;) 2.ä¸¤è¡¨çš„ä¸Šä¸‹æ‹¼æ¥å°†ä¸¤è¡¨è¿æ¥èµ·æ¥çš„è¯­å¥ä¸€èˆ¬æ˜¯UNIONå’ŒUNION ALLUNION ALLæ˜¯æŸ¥è¯¢æ‰€æœ‰è®°å½•ï¼ˆç›´æ¥è¿æ¥ï¼Œå¯ä»¥é‡å¤ï¼‰ï¼ŒUNIONåªæŸ¥è¯¢ä¸é‡å¤ï¼ˆæŒ‡æ•´æ¡è®°å½•ä¸é‡å¤ï¼Œå–å”¯ä¸€ï¼‰çš„è®°å½•ï¼Œä¸¤ç§è¯­å¥å¦‚æœæœ‰é‡å¤è®°å½•ï¼Œåˆ™æŸ¥è¯¢ç»“æœå°±ä¸ä¸€æ ·ã€‚åœ¨æ•°æ®åº“ä¸­ï¼ŒUNIONå’ŒUNION ALLå…³é”®å­—éƒ½æ˜¯å°†ä¸¤ä¸ªç»“æœé›†åˆå¹¶ä¸ºä¸€ä¸ªï¼Œä½†è¿™ä¸¤è€…ä»ä½¿ç”¨å’Œæ•ˆç‡ä¸Šæ¥è¯´éƒ½æœ‰æ‰€ä¸åŒã€‚UNIONåœ¨è¿è¡Œæ—¶å…ˆå–å‡ºå‡ ä¸ªè¡¨çš„ç»“æœï¼Œå†ç”¨æ’åºç©ºé—´è¿›è¡Œæ’åºåˆ é™¤é‡å¤çš„è®°å½•ï¼Œæœ€åè¿”å›ç»“æœé›†ï¼Œå¦‚æœè¡¨æ•°æ®é‡å¤§çš„è¯å¯èƒ½ä¼šå¯¼è‡´ç”¨ç£ç›˜è¿›è¡Œæ’åºã€‚è€ŒUNION ALLåªæ˜¯ç®€å•çš„å°†ä¸¤ä¸ªç»“æœåˆå¹¶åå°±è¿”å›ã€‚è¿™æ ·ï¼Œå¦‚æœè¿”å›çš„ä¸¤ä¸ªç»“æœé›†ä¸­æœ‰é‡å¤çš„æ•°æ®ï¼Œé‚£ä¹ˆè¿”å›çš„ç»“ä»æ•ˆç‡ä¸Šè¯´ï¼ŒUNION ALL è¦æ¯”UNIONå¿«å¾ˆå¤šï¼Œæ‰€ä»¥ï¼Œå¦‚æœå¯ä»¥ç¡®è®¤åˆå¹¶çš„ä¸¤ä¸ªç»“æœé›†ä¸­ä¸åŒ…å«é‡å¤çš„æ•°æ®çš„è¯ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨UNION ALLã€‚ä¾‹å¦‚å°†sheet1ä¸sheet2ä¸­çš„æ•°æ®è¿æ¥èµ·æ¥ï¼š SELECT æ—¥æœŸ,å§“å,äº§å“æ•° From [Sheet1$] UNION SELECT æ—¥æœŸ,å§“å,äº§å“æ•° From [Sheet2$] è¿™ä¸ªæ˜¯åœ¨ä¸¤å¼ è¡¨çš„æ ¼å¼ä¸€æ ·çš„æƒ…å†µä¸‹ç›´æ¥è¿æ¥ï¼Œä½†æ˜¯æœ‰äº›æƒ…å†µä¸‹ä¸¤è¡¨çš„æ ¼å¼å¹¶ä¸ä¸€æ ·ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨ä¸‹åˆ—è¯­å¥ï¼šä¾‹å¦‚sheet1ä¸­æœ‰æ—¥æœŸï¼Œå§“åä¸¤ä¸ªå­—æ®µï¼Œè€Œsheet2ä¸­æœ‰å§“åï¼Œäº§å“æ•°ä¸¤ä¸ªå­—æ®µï¼Œéœ€è¦ä¸Šä¸‹è¿æ¥ä¸¤ä¸ªè¡¨æ ¼ï¼š SELECT æ—¥æœŸ,å§“å,null as äº§å“æ•° From [Sheet1$] UNION SELECT null as æ—¥æœŸ,å§“å,äº§å“æ•° From [Sheet2$] å³ä½¿ç”¨nullåŠ åˆ—æ‹¼æˆæ ¼å¼ç›¸åŒçš„ä¸¤ä¸ªè¡¨æ ¼å†è¿æ¥ 3.ä¸¤è¡¨çš„å·¦å³æ‹¼æ¥ä¸¤è¡¨çš„å·¦å³æ‹¼æ¥å³æ˜¯joinå…³é”®å­—SQLä»£æ›¿Vlookup ç²¾ç¡®æŸ¥æ‰¾ï¼ˆå·¦è¿æ¥ â€œLeft Outer JOINâ€ ç”¨æ³•ï¼‰ï¼Œè¯­æ³•ç»“æ„ä¸ºï¼š Select è¡¨å .å­—æ®µ1,è¡¨å .å­—æ®µ2,è¡¨å .å­—æ®µ3,è¡¨å .å­—æ®µ4 FROM æŸ¥è¯¢è¡¨ AS åˆ«å1 Left Outer JOIN è¢«æŸ¥è¯¢è¡¨ AS åˆ«å2 ON åˆ«å1.å­—æ®µå=åˆ«å2.å­—æ®µå ä¾‹å¦‚ï¼š SELECT A.å§“å,B.æ€§åˆ«,B.éƒ¨é—¨ FROM [Sheet2$] AS A Left Outer JOIN [Sheet1$] AS B ON A.å§“å=B.å§“å --ç®€å†™ä¸º SELECT A.å§“å,æ€§åˆ«,éƒ¨é—¨ FROM [Sheet2$]A Left JOIN [Sheet1$]B ON A.å§“å=B.å§“å joiné™¤äº†left joinå¤–è¿˜æœ‰right joinï¼Œinner joinç­‰ï¼Œä¹‹é—´çš„åŒºåˆ«ä¸sqlè¯­å¥éƒ½æ˜¯ä¸€è‡´çš„ã€‚æ³¨æ„VBAä¸­çš„SQLæ˜¯ä¸æ”¯æŒouter joinè¿æ¥çš„ 4.ä¸‰è¡¨è¿æ¥æ³¨æ„è¯­å¥ä¸­çš„æ‹¬å·ï¼Œåœ¨VBA SQLä¸­ä¸ä½¿ç”¨æ‹¬å·ä¼šå¯¼è‡´é”™è¯¯ select b.Impression,b.Click,c.Visits,c.DemandClick,c.Bounce_Rate,c.PD_Page_View,c.Add_to_Cart,c.Cart_Additions,c.My_Account_Registration,c.Average_Time_Spent,c.Checkout_Starts,c.Total_Orders from ([database template$] as a left JOIN [Raw$] as b on b.SPID=a.placement_id) left JOIN [Raw_Om$] as c on c.key=a.key&quot; 3.æ•°æ®é€è§†è¡¨TRANSFORMè¯­å¥å¯ä»¥å®ç°åƒé€è§†è¡¨ä¸€æ ·çš„æ˜¾ç¤ºç»“æœï¼Œè¯­æ³•ç»“æ„ä¸ºï¼š TRANSFORM æ±‡æ€»æ–¹å¼ SELECT è¡Œæ ‡ç­¾ from è¡¨å group by è¡Œå­—æ®µ PIVOT åˆ—æ ‡ç­¾ è¿™ä¸€è¯­å¥æ˜¯éå¸¸å¸¸ç”¨çš„æ–¹æ³•ï¼Œè¦æ³¨æ„TRANSFORMåçš„æ±‡æ€»æ–¹å¼ä¸ºä¸€ä¸ªèšåˆå‡½æ•°(ä¸€èˆ¬ä¸ºsum),åŒæ—¶åç»­çš„SELECTè¯­å¥ä¸­ä¸è¦åŠ å…¥aå­—æ®µ/bå­—æ®µæˆ–è€…havingè¯­å¥ï¼Œå¦åˆ™ä¼šå¯¼è‡´è¯­å¥é”™è¯¯æ— æ³•è¿è¡Œeg: TRANSFORM Sum(æ•°é‡) Select äº§å“åç§° from [Sheet1$] group by äº§å“åç§° PIVOT æ¬¾å· TRANSFORMè¯­å¥è¯è¿˜å¯ä»¥åŠ å…¥ä¸€äº›è‡ªå®šä¹‰çš„è®¾ç½®ï¼š TRANSFORM æ±‡æ€»æ–¹å¼ SELECT è¡Œæ ‡ç­¾ from è¡¨å group by è¡Œå­—æ®µ PIVOT åˆ—æ ‡ç­¾ in [åˆ—æ ‡ç­¾å€¼1ï¼Œåˆ—æ ‡ç­¾å€¼2ï¼Œåˆ—æ ‡ç­¾å€¼3.....] ä½¿ç”¨inå¯ä»¥é™åˆ¶åˆ—æ ‡ç­¾çš„å†…å®¹ï¼ŒåŒæ—¶å¯ä»¥è§„å®šåˆ—å­—æ®µå€¼çš„å±•ç¤ºé¡ºåº 4.ä¸€äº›å…¶ä»–SQLè¯­å¥çš„è¡¥å……åœ¨SQLä¸­ä½¿ç”¨å¹¿æ³›çš„caseå…³é”®å­—åœ¨VBA SQLä¸­çš„å®ç°æ–¹å¼ä¸ºIIFï¼ŒIIFçš„è¯­æ³•ä¸ºï¼šIIf(Logical EXPression, Numeric Expression1, Numeric Expression2)å¦‚æœ Logical Expression å–å€¼ä¸º TRUEï¼Œåˆ™æ­¤å‡½æ•°è¿”å› Numeric Expression1ï¼Œå¦åˆ™ï¼Œè¿”å› Numeric Expression2ã€‚ ä¾‹å¦‚ï¼šå½“siteåˆ—å¡«NAæ—¶ï¼Œå°†if_addressè®¾ä¸ºNï¼Œå¦åˆ™è®¾ä¸ºY select name,iif([site]=&#39;NA&#39;,&#39;N&#39;,&#39;Y&#39;) as if_address form [student$] åŒç†ï¼ŒLogical Expressionå¯ä»¥ä½¿ç”¨isnull,æ•°å­—ç­‰å€¼åˆ¤æ–­è¯­å¥ç­‰ åŒæ—¶iifè¯­å¥å¯¹ç¬¦åˆæ¡ä»¶çš„æ•°æ®è¿›è¡Œè®¡ç®—ã€‚ä¾‹å¦‚å¦‚æœæ˜¯èµ é€çš„ï¼Œå®é™…çš„èŠ±è´¹ä¸º0,å¦åˆ™ä¸ºåŸä»·è´­ä¹°è®¡ç®—èŠ±è´¹ select å®¢æˆ·,sum(iif(buying_type=&#39;èµ é€&#39;,price,0)) as cost from [order$] ç›´æ¥ä»å…¶ä»–æ–‡ä»¶è·å–æ•°æ®çš„SQLè¯­å¥ï¼š Select * From [ç›˜ç¬¦:\\è·¯å¾„\\å·¥ä½œç°¿å1.åè¾å].[å·¥ä½œè¡¨å$] Union All Select * From [ç›˜ç¬¦:\\è·¯å¾„\\å·¥ä½œç°¿å2.åè¾å].[å·¥ä½œè¡¨å$] Union All Select * From [ç›˜ç¬¦:\\è·¯å¾„\\å·¥ä½œç°¿å3.åè¾å].[å·¥ä½œè¡¨å$]","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"Excel & VBA","slug":"Excel-VBA","permalink":"http://smilecoc.vip/tags/Excel-VBA/"}],"author":"smilecoc"},{"title":"äº¬ä¸œå•†å“è¯„è®ºçˆ¬è™«","slug":"äº¬ä¸œå•†å“è¯„è®ºçˆ¬è™«","date":"2020-03-02T14:16:24.000Z","updated":"2022-04-17T08:28:11.690Z","comments":true,"path":"2020/03/02/äº¬ä¸œå•†å“è¯„è®ºçˆ¬è™«/","link":"","permalink":"http://smilecoc.vip/2020/03/02/äº¬ä¸œå•†å“è¯„è®ºçˆ¬è™«/","excerpt":"","text":"é¦–å…ˆæ‰“å¼€äº¬ä¸œçš„ä»»æ„å‡ ä¸ªå•†å“é¡µé¢ï¼Œå¹¶è§‚URLï¼Œå¯ä»¥å‘ç°éƒ½æ˜¯https://item.jd.com/+æ•°å­—+.htmçš„æ ¼å¼ï¼Œè€Œä¸”æ•°å­—ä¹Ÿéšç€å•†å“çš„æ”¹å˜è€Œæ”¹å˜ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥ç¡®å®šè¿™ä¸²æ•°å­—æ˜¯å•†å“ID ä¹‹åæˆ‘ä»¬æ‰¾åˆ°ç½‘é¡µçš„æºç å¹¶éšä¾¿å¤åˆ¶ä¸€å¥è¯„è®ºï¼Œåœ¨ç½‘é¡µæºç ä¸­æŸ¥æ‰¾ï¼Œå‘ç°å¹¶æ²¡æœ‰æ‰¾åˆ°è¯„è®ºå†…å®¹ï¼Œè¯´æ˜jdçš„è¯„è®ºé¡µé¢å¹¶éé™æ€ç½‘é¡µ AJAXï¼šAJAXçš„å…¨ç§°æ˜¯Asynchronous JavaScript and XMLï¼ˆå¼‚æ­¥çš„ JavaScript å’Œ XMLï¼‰ã€‚ajaxä¸æ˜¯æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯ä¸€ç§ä½¿ç”¨ç°æœ‰æ ‡å‡†çš„æ–°æ–¹æ³•ã€‚ajaxæ˜¯ä¸æœåŠ¡å™¨äº¤æ¢æ•°æ®å¹¶æ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„è‰ºæœ¯ï¼Œåœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹ã€‚ajaxæ˜¯ä¸€ç§åœ¨æ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„æŠ€æœ¯ã€‚ajaxæ˜¯ä¸€ç§ç”¨äºåˆ›å»ºå¿«é€ŸåŠ¨æ€ç½‘é¡µçš„æŠ€æœ¯ã€‚é€šè¿‡åœ¨åå°ä¸æœåŠ¡å™¨è¿›è¡Œå°‘é‡æ•°æ®äº¤æ¢ã€‚ajaxå¯ä»¥ä½¿ç½‘é¡µå®ç°å¼‚æ­¥æ›´æ–°ã€‚è¿™æ„å‘³ç€å¯ä»¥åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œå¯¹ç½‘é¡µçš„æŸéƒ¨åˆ†è¿›è¡Œæ›´æ–°ã€‚è€Œä¼ ç»Ÿçš„ç½‘é¡µï¼ˆä¸ä½¿ç”¨ajaxï¼‰å¦‚æœéœ€è¦æ›´æ–°å†…å®¹ï¼Œå¿…é¡»é‡è½½æ•´ä¸ªç½‘é¡µé¢ã€‚ æ—¢ç„¶ç¡®å®šæ˜¯AJAXçš„æ–¹å¼åŠ è½½ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ‰“å¼€chromeçš„è°ƒè¯•å·¥å…·ï¼Œåœ¨networkä¸­çš„XHRå’ŒJSä¸­å¯»æ‰¾ä¿å­˜æœ‰è¯„è®ºçš„æ–‡ä»¶ã€‚æ³¨æ„è¿™é‡Œå¿…é¡»å…ˆä¸‹æ‹‰åˆ°è¯„è®ºé¡µé¢ä½¿æ•°æ®æ–‡ä»¶åŠ è½½ä¸‹æ¥ï¼Œå¦åˆ™ä¼šæ‰¾ä¸åˆ°åŠ è½½çš„æ•°æ®æ–‡ä»¶ æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼æ¥æŸ¥æ‰¾åŒ…å«è¯„è®ºçš„æ–‡ä»¶ï¼šï¼‘.å¯ä»¥åœ¨ï½Šï½“å’Œï¼¸ï¼¨ï¼²ä¸­å¯»æ‰¾ï½ƒï½ï½ï½ï½…ï½ï½”å…³é”®å­—ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰æ–‡ä»¶ç¬¦åˆè¦æ±‚ï¼Œå¹¶å¯¹ç¬¦åˆè¦æ±‚çš„ç»“æœç­›é€‰ï¼’.è¯„è®ºåœ¨é¡µé¢çš„æœ€ä¸‹æ–¹ï¼Œæ ¹æ®æ–‡ä»¶çš„åŠ è½½é¡ºåºå¯ä»¥å¤§è‡´äº†è§£åˆ°ä¼šåœ¨åé¢ï¼Œä»åé¢å¼€å§‹æ‰¾å³å¯ æœ€ç»ˆç¡®å®šï½Šï½“æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç¡®å®šè¯„è®ºçš„è¯·æ±‚åœ°å€å¹¶å¼€å§‹æŠ“å– import requests import json url=&#39;https://item.jd.com/52297931949.html&#39; jsonurl=&#39;https://club.jd.com/comment/productPageComments.action?productId=52297931949&amp;score=0&amp;sortType=5&amp;page=0&amp;pageSize=10&amp;isShadowSku=0&amp;fold=1&#39; html=requests.get(jsonurl).text #print(html) josntext=json.loads(html) comments= josntext[&#39;comments&#39;] for comment in comments: content = comment[&#39;content&#39;] print(content) è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹åŸå§‹çš„jsonurlå¾—åˆ°çš„æ–‡ä»¶å¹¶ä¸æ˜¯æ ‡å‡†çš„jsonæ–‡ä»¶æ ¼å¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¾—åˆ°çš„æ–‡æœ¬å†…å®¹å¤åˆ¶åˆ°https://www.json.cnå‘ç°è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªæ ‡å‡†çš„josnæ–‡ä»¶ï¼Œæ‰€ä»¥ç›´æ¥loads()ä¼šç›´æ¥æŠ¥é”™ï¼šjson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)ï¼Œåªè¦è¿”å›çš„å¯¹è±¡ä¸æ˜¯josnå¯¹è±¡å°±ä¼šå‡ºç°æ­¤é”™è¯¯è§£å†³çš„æ–¹æ³•æœ‰ä¸¤ä¸ªï¼Œä¸€æ˜¯å°†URLä¸­çš„?callback=fetchJSON_comment98å»é™¤ï¼Œå¦å¤–ä¸€ç§æ–¹æ³•æ˜¯å°†è¿”å›çš„æ–‡æœ¬å¯¹è±¡ä¸­çš„fetchJSON_comment98æ›¿æ¢ä¸ºç©º å¾—åˆ°æ‰€éœ€è¦çš„jsonæ–‡ä»¶åå°±å¯ä»¥å°†æ•°æ®å­˜åˆ°sqlliteä¸­äº†sqlliteæ˜¯pythonå†…ç½®çš„å…³ç³»å‹æ•°æ®åº“ï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š ä¸éœ€è¦ä¸€ä¸ªå•ç‹¬çš„æœåŠ¡å™¨è¿›ç¨‹æˆ–æ“ä½œçš„ç³»ç»Ÿï¼ˆæ— æœåŠ¡å™¨çš„ï¼‰ã€‚ SQLiteä¸éœ€è¦é…ç½®ï¼Œè¿™æ„å‘³ç€ä¸éœ€è¦å®‰è£…æˆ–ç®¡ç†ã€‚ ä¸€ä¸ªå®Œæ•´çš„SQLiteæ•°æ®åº“æ˜¯å­˜å‚¨åœ¨ä¸€ä¸ªå•ä¸€çš„è·¨å¹³å°çš„ç£ç›˜æ–‡ä»¶ã€‚ SQLiteæ˜¯éå¸¸å°çš„ï¼Œæ˜¯è½»é‡çº§çš„ï¼Œå®Œå…¨é…ç½®æ—¶å°äº 400KiBï¼Œçœç•¥å¯é€‰åŠŸèƒ½é…ç½®æ—¶å°äº250KiBã€‚ SQLiteæ˜¯è‡ªç»™è‡ªè¶³çš„ï¼Œè¿™æ„å‘³ç€ä¸éœ€è¦ä»»ä½•å¤–éƒ¨çš„ä¾èµ–ã€‚ SQLiteäº‹åŠ¡æ˜¯å®Œå…¨å…¼å®¹ ACID çš„ï¼Œå…è®¸ä»å¤šä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹å®‰å…¨è®¿é—®ã€‚ SQLiteæ”¯æŒ SQL92ï¼ˆSQL2ï¼‰æ ‡å‡†çš„å¤§å¤šæ•°æŸ¥è¯¢è¯­è¨€çš„åŠŸèƒ½ã€‚ SQLiteä½¿ç”¨ ANSI-C ç¼–å†™çš„ï¼Œå¹¶æä¾›äº†ç®€å•å’Œæ˜“äºä½¿ç”¨çš„ APIã€‚ SQLite åœ¨ UNIXï¼ˆLinux, Mac OS-X, Android,iOSï¼‰å’Œ Windowsï¼ˆWin32, WinCE,WinRTï¼‰ä¸­è¿è¡Œã€‚ pythonæ“ä½œSQLiteæµç¨‹ä¸è¿æ¥å…¶ä»–çš„æ•°æ®åº“ç›¸åŒï¼Œå¤§æ¦‚åˆ†ä¸ºä»¥ä¸‹äº”æ­¥ é€šè¿‡sqlite3.open()åˆ›å»ºä¸æ•°æ®åº“æ–‡ä»¶çš„è¿æ¥å¯¹è±¡connectionï¼› é€šè¿‡connection.cursor()åˆ›å»ºå…‰æ ‡å¯¹è±¡cursorï¼› é€šè¿‡cursor.execute()æ‰§è¡ŒSQLè¯­å¥ï¼› é€šè¿‡connection.commit()æäº¤å½“å‰çš„äº‹åŠ¡ï¼Œæˆ–è€…é€šè¿‡cursor.fetchall()è·å¾—æŸ¥è¯¢ç»“æœï¼› é€šè¿‡connection.close()å…³é—­ä¸æ•°æ®åº“æ–‡ä»¶çš„è¿æ¥ è¿™ä¸€éƒ¨åˆ†ä»£ç å¦‚ä¸‹æ‰€ç¤º conn=sqlite3.connect(&quot;comments.db&quot;)#å»ºç«‹è¿æ¥ï¼Œæ•°æ®åº“å­˜åœ¨æ—¶ï¼Œç›´æ¥è¿æ¥ï¼›ä¸å­˜åœ¨æ—¶ï¼Œåˆ›å»ºç›¸åº”æ•°æ®åº“ #æ–°å»ºä¸€å¼ è¡¨ conn.execute(&#39;&#39;&#39;CREATE TABLE Comments_jd (ID text PRIMARY KEY NOT NULL, comment text );&#39;&#39;&#39;) #æ³¨æ„sqlè¯­å¥ä¸­ä½¿ç”¨äº†æ ¼å¼åŒ–è¾“å‡ºçš„å ä½ç¬¦%så’Œ%dæ¥è¡¨ç¤ºå°†è¦æ’å…¥çš„å˜é‡ï¼Œå…¶ä¸­%séœ€è¦åŠ å¼•å·&#39;&#39; for comment in comments: sql = &quot;insert into Comments_jd(ID,comment) values(&#39;%s&#39;,&#39;%s&#39;)&quot; % (comment[&#39;id&#39;],comment[&#39;content&#39;]) conn.execute(sql)conn.commit() # å…³é—­æ•°æ®åº“è¿æ¥ conn.close() ä¹‹åæ£€æŸ¥ä»¥ä¸‹æ•°æ®æ˜¯å¦æœ‰é—®é¢˜ï¼š conn=sqlite3.connect(&quot;comments.db&quot;) cursor = conn.execute(&quot;select * from Comments_jd&quot;) for row in cursor: print(&#39;ID = &#39;, row[0], &#39; Comment = &#39;, row[1]) conn.close() å¾—åˆ°çš„ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤º è¿™æ ·æ•´ä¸ªæµç¨‹å°±æå®šäº† æœ€ç»ˆçš„ä»£ç å¦‚ä¸‹ï¼š import requests import json import sqlite3 def get_comments(good_id): #good_url_template = &#39;https://item.jd.com/{}.html&#39;.format(good_id) jsonurl=&#39;https://club.jd.com/comment/productPageComments.action?productId={}&amp;score=0&amp;sortType=5&amp;page=0&amp;pageSize=10&amp;isShadowSku=0&amp;fold=1&#39;.format(good_id) html=requests.get(jsonurl).text return html def data_stored(html): conn = sqlite3.connect(&quot;comments.db&quot;) # å»ºç«‹è¿æ¥ï¼Œæ•°æ®åº“å­˜åœ¨æ—¶ï¼Œç›´æ¥è¿æ¥ï¼›ä¸å­˜åœ¨æ—¶ï¼Œåˆ›å»ºç›¸åº”æ•°æ®åº“ # æ–°å»ºä¸€å¼ è¡¨ conn.execute(&#39;&#39;&#39;CREATE TABLE Comments_jd (ID text PRIMARY KEY NOT NULL, comment text );&#39;&#39;&#39;) josntext=json.loads(html) comments= josntext[&#39;comments&#39;] #æ³¨æ„sqlè¯­å¥ä¸­ä½¿ç”¨äº†æ ¼å¼åŒ–è¾“å‡ºçš„å ä½ç¬¦%så’Œ%dæ¥è¡¨ç¤ºå°†è¦æ’å…¥çš„å˜é‡ï¼Œå…¶ä¸­%séœ€è¦åŠ å¼•å·&#39;&#39; for comment in comments: sql = &quot;insert into Comments_jd(ID,comment) values(&#39;%s&#39;,&#39;%s&#39;)&quot; % (comment[&#39;id&#39;],comment[&#39;content&#39;]) conn.execute(sql) conn.commit() # å…³é—­æ•°æ®åº“è¿æ¥ conn.close() if __name__ == &#39;__main__&#39;: html=get_comments(str(52297931949)) data_stored(html)","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"pythonçˆ¬è™«","slug":"pythonçˆ¬è™«","permalink":"http://smilecoc.vip/tags/pythonçˆ¬è™«/"}],"author":"smilecoc"},{"title":"Chromeæ’ä»¶èµ„æº","slug":"Chromeæ’ä»¶èµ„æº","date":"2020-02-24T13:57:00.000Z","updated":"2022-04-17T08:26:14.250Z","comments":true,"path":"2020/02/24/Chromeæ’ä»¶èµ„æº/","link":"","permalink":"http://smilecoc.vip/2020/02/24/Chromeæ’ä»¶èµ„æº/","excerpt":"","text":"Chromeæµè§ˆå™¨çš„çµé­‚æ˜¯æ’ä»¶ï¼Œä»¥ä¸‹æ˜¯ç›®å‰ä½“éªŒæ•ˆæœè¾ƒå¥½çš„æ’ä»¶æ¨èï¼š adblockè¿™ä¸ªæ’ä»¶åº”è¯¥æœ‰å¾ˆå¤šäººä½¿ç”¨ï¼Œå®ƒå¯ä»¥å±è”½ç½‘é¡µä¸Šçš„å¹¿å‘Šï¼Œè·å¾—æä½³çš„ä½“éªŒï¼Œç¥å™¨ï¼ tampermonkeyæ²¹çŒ´ï¼Œé€šè¿‡æ²¹çŒ´å¯ä»¥ä¸‹è½½æµ·é‡çš„è„šæœ¬å®ç°å„ç§éªšæ“ä½œï¼Œæ¯”å¦‚åœ¨çº¿ä¸‹è½½ï¼Œå…è´¹è§‚çœ‹ä¼šå‘˜ç”µå½±ç­‰ï¼Œç¥å™¨ï¼ Sourcegraphå®‰è£…æ’ä»¶åå¯ä»¥ç›´æ¥åœ¨githubä¸ŠæŸ¥çœ‹ä»£ç ï¼Œå®šä½å’Œæœç´¢ä»£ç ï¼Œä¸éœ€è¦ä¸€ä¸ªä¸€ä¸ªä¸‹è½½å†æœ¬åœ°æ‰“å¼€ï¼Œè€Œä¸”æ”¯æŒå„ç§è¯­è¨€çš„IDE markdown-hereå¯ä»¥åœ¨mdè¯­æ³•ä¸æ–‡æœ¬ä¹‹é—´ç›¸äº’è½¬æ¢ï¼Œä¾‹å¦‚å§åœ¨ç®€ä¹¦ä¸­çš„æ–‡ç« å¯ä»¥ä¸€é”®è½¬åŒ–ä¸ºå¾®ä¿¡çš„æ–‡ç« æ ¼å¼ï¼Œéå¸¸æ–¹ä¾¿ SimilarWebå¯ä»¥åœ¨çº¿åˆ†æç½‘ç«™çš„è®¿é—®é‡ï¼Œæ’è¡Œï¼Œä»¥åŠè®¿é—®æ­¤ç½‘ç«™çš„ç”¨æˆ·åˆ†æï¼ŒåŒæ—¶è¿˜å¯ä»¥ç›´æ¥ç”Ÿæˆç½‘ç«™çš„åˆ†ææŠ¥å‘Š Sync sofaå®ç°ä¸¤å°ç”µè„‘åŒæ­¥åœ¨æµè§ˆå™¨é‡ŒåŒæ­¥çœ‹ç‰‡ï¼Œæƒ…ä¾£å¼‚åœ°çœ‹ç‰‡ä¸æ˜¯æ¢¦ï¼ Chromeæ’ä»¶è‹±é›„æ¦œgithubçš„é¡¹ç›®ä¸Šé€‰å‡ºæ¥çš„æ¯”è¾ƒå¥½çš„chromeæ’ä»¶ï¼Œä¸»è¦æœ‰:1ã€markdown-hereå¯ä»¥åœ¨ç½‘é¡µç‰ˆQQé‚®ç®±ã€Gmailã€163ç­‰é‚®ç®±é‡Œé¢ï¼Œä½¿ç”¨mardownæ ¼å¼è¿›è¡Œä¹¦å†™ï¼Œç„¶åä¸€é”®è½¬æ¢ä¸ºå¯Œæ–‡æœ¬ã€‚2ã€chronoå¯ä»¥éå¸¸æ–¹ä¾¿çš„å—…æ¢è¯†åˆ«ç½‘é¡µä¸­çš„èµ„æº, ç„¶åä¸€é”®ä¸‹è½½æ‰€æœ‰èµ„æºã€‚3ã€Secure Shell AppWindowså¹¶æ²¡æœ‰è‡ªå¸¦sshè½¯ä»¶ï¼Œæœ‰äº†Secure Shell Appï¼Œå¯ä»¥è®©ä½ æ— éœ€ä¸‹è½½puttyæˆ–xshellï¼Œå°±èƒ½åœ¨chromeç›´æ¥å®ç°sshç™»å½•æœåŠ¡å™¨äº†ã€‚4ã€Tampermonkeyå¯ä»¥å¸®ä½ å®‰è£…è„šæœ¬ï¼Œä»è€Œå…è´¹æŸ¥çœ‹VIPè§†é¢‘ï¼Œæ¸…é™¤å„ç§ç½‘é¡µå¹¿å‘Šï¼Œåœ¨è±†ç“£å½±è¯„é¡µé¢æ˜¾ç¤ºç”µå½±èµ„æºçš„ä¸‹è½½åœ°å€ã€‚5ã€Video Speed Controlleråˆ·ä¸€äº›æ²¡è¥å…»è§†é¢‘çš„æ—¶å€™ï¼Œè€Œç½‘ç«™çš„åœ¨çº¿æ’­æ”¾å™¨ä¸€èˆ¬åªæä¾›ä¸é«˜äº4å€çš„æ’­æ”¾é€Ÿåº¦,ï¼Œè€ŒVideo Speed Controllerå¯ä»¥å°†è§†é¢‘æ’­æ”¾é€Ÿåº¦æé«˜åˆ°16å€é€Ÿã€‚ 6ã€SimilarSiteså½“ä½ æµè§ˆä¸€ä¸ªå¾ˆæ£’çš„ç«™ç‚¹çš„æ—¶å€™ï¼Œæˆ–è®¸ä½ ä¼šæƒ³åˆ°ï¼Œå’Œå®ƒâ€œå·®ä¸å¤šâ€çš„ç«™ç‚¹æœ‰å“ªäº›ã€‚å°¤å…¶æ˜¯é’ˆå¯¹ä¸€äº›èµ„æºç«™ç‚¹ï¼Œè¿™ä¸ªç«™ç‚¹æ²¡æœ‰ï¼Œè€Œå®ƒåŒç±»çš„ç«™ç‚¹â€œå¾€å¾€æœ‰â€ã€‚SimilarSitesçš„ä½œç”¨åªæœ‰ä¸€ä¸ªï¼Œå‘ç°åŒç±»ç«™ç‚¹ã€‚7ã€Loomå¯ä»¥ä¸€é”®å½•åˆ¶æµè§ˆå™¨çš„å•ä¸ªæ ‡ç­¾é¡µï¼Œå½•åˆ¶å®Œæˆåè‡ªåŠ¨ç”Ÿæˆåœ¨çº¿ç½‘é¡µï¼Œè¿›è¡Œè§†é¢‘æ’­æ”¾ï¼Œå¯ä»¥ä¸‹è½½åˆšåˆšå½•åˆ¶çš„è§†é¢‘ï¼Œä¹Ÿå¯ä»¥ä¸ºåˆšåˆšç”Ÿæˆçš„åœ¨çº¿è§†é¢‘è®¾ç½®å¯†ç ã€‚8ã€Chrome Cleaner ProChromeç»è¿‡æœ€è¿‘å‡ å¹´çš„å‘å±•ï¼Œå¼ºåŠ›çš„æ‰©å±•è¶Šæ¥è¶Šå¤šï¼Œä½†è½¯ä»¶ä¼šå˜æ…¢ã€‚è®©Chromeå˜å¿«çš„æœ€ç®€å•æ–¹å¼å°±æ˜¯æ¸…ç†åƒåœ¾ï¼Œè€ŒChrome Cleaner Proèµ°çš„æ˜¯ä¸€é”®æ¸…ç†çš„è·¯å­ã€‚9ã€vimiumå¯ä»¥è®©ä½ åªä½¿ç”¨é”®ç›˜å°±å¯ä»¥æµè§ˆç½‘é¡µã€‚10ã€speedteståœ¨æµè§ˆå™¨ä¸­ç›´æ¥æµ‹ç½‘é€Ÿã€‚11ã€whatrunså¦‚æœä½ å¯¹å½“å‰æµè§ˆçš„ç½‘ç«™éå¸¸æ„Ÿå…´è¶£, å¯ä»¥é€šè¿‡whatrunsäº†è§£è½¯ä»¶çš„æŠ€æœ¯æ ˆã€‚12ã€OurStickyså¯ä»¥ç›´æ¥åœ¨ç½‘ç«™ä¸Šè´´ä¾¿ç­¾ã€‚ 13ã€Quick QRå¯ä»¥ä¸å€ŸåŠ©ä»»ä½•é€šè®¯è½¯ä»¶ï¼Œé€šè¿‡æ‰‹æœºæ‰«ç ï¼Œè·å–PCæµè§ˆå™¨ä¸Šä»»æ„ä¸€æ®µæ–‡å­—ä¿¡æ¯ã€‚14ã€è¶…çº§é©¬é‡Œå¥¥æ¸¸æˆç”¨Chromeç©è¶…çº§é©¬é‡Œå¥¥ã€‚15ã€XPath HelperXPathæ˜¯ä¸€ä¸ªè¾…åŠ©å†™çˆ¬è™«çš„å°æ’ä»¶ï¼Œæ¯”å¦‚å¯ä»¥å¸®åŠ©å®Œæˆä¸€ä¸ªBingå£çº¸çš„å°çˆ¬è™«ã€‚16ã€è§£é™¤Bç«™åŒºåŸŸé™åˆ¶å¦‚é¢˜ã€‚17ã€æ–°æµªå¾®åšå›¾åºŠç”¨Markdownå†™æ–‡ç« ï¼Œå¦‚æœæ–‡ç« ä¸­ä½¿ç”¨äº†æœ¬åœ°é…å›¾ï¼Œé‚£æœ¬åœ°é…å›¾å°±è¦å’Œæ–‡ç« ä¸€èµ·æ‰“åŒ…ï¼Œå¦åˆ™åˆ«äººçœ‹ä¸åˆ°å›¾ç‰‡ã€‚æ–°æµªå¾®åšå›¾åºŠå¸®ä½ æŠŠæœ¬åœ°å›¾ç‰‡æ”¾åˆ°ç½‘ç»œæœåŠ¡å™¨ï¼Œç„¶åç›´æ¥æŠŠå›¾ç‰‡çš„urlç²˜è´´åˆ°æ–‡ç« é‡Œé¢ï¼Œå°±å¯ä»¥å…é™¤å›¾ç‰‡æ‰“åŒ…çš„æ­¥éª¤ã€‚18ã€Enhanced Githubå¯ä»¥æ˜¾ç¤ºGitHubæ•´ä¸ªä»“åº“å’Œå•ä¸ªæ–‡ä»¶çš„å¤§å°ï¼Œå¸®ä½ ä¸‹è½½Githubä¼˜ç§€é¡¹ç›®ä¸­æœ€æ ¸å¿ƒçš„ä»£ç æ–‡ä»¶è¿›è¡Œå­¦ä¹ ï¼Œè€Œä¸æ˜¯ä¸‹è½½æ•´ä¸ªä»“åº“ä½œä¸ºè—å“ã€‚ 19ã€MEGAä¸€ä¸ªç½‘ç›˜åº”ç”¨ï¼Œæ²¡æœ‰é™é€Ÿçš„æ¦‚å¿µï¼Œåœ¨å›½å†…å¯ç”¨ï¼Œäº‘ç«¯åŠ å¯†ï¼Œå®˜æ–¹æä¾›äº†Linuxå®¢æˆ·ç«¯ã€‚20ã€Boxel ReboundChromeä¸­çš„è·‘é…·æ¸¸æˆã€‚å¯ä»¥è‡ªç”±åˆ›å»ºèµ›é“ï¼Œåˆ†äº«èµ›é“,ï¼Œè·å–åˆ«äººçš„èµ›é“è¿›è¡ŒäºŒæ¬¡å¼€å‘ã€‚21ã€å“”å“©å“”å“©åŠ©æ‰‹å…·å¤‡çº¯å‡€çœ‹è§†é¢‘ï¼Œä¸‹è½½è§†é¢‘&amp;å¼¹å¹•ç­‰å®ç”¨åŠŸèƒ½ã€‚22ã€æ‰©å±•ç®¡ç†å™¨ç®¡ç†ä½ çš„Chromeæ‰©å±•ã€‚23ã€FireShotä¸€é”®æ»šåŠ¨æˆªå±æ•´ä¸ªç½‘é¡µã€‚24ã€Dark Readerä¸ºä»»æ„ç½‘ç«™å¯ç”¨å¤œé—´æ¨¡å¼ã€‚ 25ã€ConsoleChromeè‡ªå¸¦çš„è®¡ç®—å™¨ï¼Œå¯ä»¥çœ‹åˆ°åŠ æ•°å­—çš„è®°å½•ï¼Œä¹Ÿå¯ä»¥å®æ—¶é¢„è§ˆè¿ç®—çš„ç»“æœã€‚26ã€Quickey Launcherä¸ºä»»æ„ç½‘é¡µç»‘å®šä¸€ä¸ªå¿«æ·é”®ï¼Œç»‘å®šå®Œæˆåå¯é€šè¿‡å¿«æ·é”®æ‰“å¼€ç½‘é¡µã€‚27ã€Textç”±è°·æ­ŒChromeå®éªŒå®¤ç ”å‘å¹¶å¼€æºçš„è·¨å¹³å°è®°äº‹æœ¬ã€‚28ã€Adblockæµè§ˆç½‘é¡µæ—¶ï¼Œå¯ä»¥ä½¿ç”¨å³é”®å·¥å…·å±è”½ä¸å–œæ¬¢çš„å¹¿å‘Šã€‚ 29ã€SimpReadä¸ºä»»æ„ç½‘é¡µå¼€å¯é˜…è¯»æ¨¡å¼ã€‚30ã€æ˜é‡‘é˜…è¯»æ’ä»¶ï¼Œæä¾›ç¨‹åºå‘˜ã€è®¾è®¡å¸ˆç­‰è¡Œä¸šçŸ¥è¯†ã€‚31ã€OneTabæŠŠæ‰€æœ‰æ‰“å¼€çš„æ ‡ç­¾é¡µè½¬æ¢æˆä¸€ä¸ªåˆ—è¡¨ï¼Œéœ€è¦å†æ¬¡è®¿é—®æ ‡ç­¾é¡µæ—¶ï¼Œç‚¹å‡»åˆ—è¡¨æ¢å¤æ ‡ç­¾é¡µã€‚32ã€Smallpdfå¤šä»½pdfåœ¨çº¿åˆå¹¶ï¼Œpdfåœ¨çº¿ç¼–è¾‘ã€‚33ã€ä¸€å¶åœ¨ä»»æ„ç½‘é¡µå¼€å¯å®æ—¶å¼¹å¹•ã€èŠå¤©çª—å£å’Œç•™è¨€æ¿ã€‚34ã€Astro Botåˆ·é¢˜å¿…å¤‡ï¼Œæ‰“å¼€æ–°æ ‡ç­¾é¡µæ—¶ï¼Œå±•ç¤ºä¸€é“ä¸ç¨‹åºç›¸å…³çš„é—®é¢˜æˆ–ç›¸å…³æ–°é—»ã€‚ 35ã€Print Friendly &amp; PDFæ–‡ä»¶æ‰“å°çš„chromeæ’ä»¶ï¼Œä¼šåœ¨æ‰“å°ä¹‹å‰åˆ é™¤åƒåœ¾å¹¿å‘Šï¼Œå¯¼èˆªå’Œæ— ç”¨æµ®çª—æ¥å®ç°é¡µé¢ä¼˜åŒ–ã€‚36ã€Screen ShaderæŠŠå±å¹•è°ƒæˆæš–è‰²ã€‚37ã€SaladictæŸ¥å•è¯çš„æ—¶å€™ï¼Œèšåˆå¤šä¸ªè¯å…¸çš„ç»“æœï¼Œå¹¶è¡Œç¿»è¯‘ã€‚38ã€Alexa Traffic Rankä¸€é”®æŸ¥çœ‹ç½‘ç«™å…¨çƒæ’åã€‚39ã€Simplify Gmailè®©ç½‘é¡µç‰ˆGmailæ›´æ¸…çˆ½ã€‚40ã€GitZip for githubä»Githubæ‰¹é‡ä¸‹è½½è¡¨æƒ…åŒ…ã€‚ 41ã€Copy All Urlsæ–¹ä¾¿åœ°ä¿å­˜-å¼€å¯å¤šä¸ªæ ‡ç­¾é¡µã€‚42ã€åœ¨Edgeä¸­å®‰è£…Chromeæ‰©å±•ç¨‹åºå¦‚é¢˜ã€‚43ã€Dream Afar New Tabè®¾ç½®æ›´åŠ å”¯ç¾çš„ChromeèƒŒæ™¯ã€‚44ã€è°·æ­Œè®¿é—®åŠ©æ‰‹å¦‚é¢˜ï¼Œä½†é™åˆ¶æ¡ä»¶ä¸€ç®©ç­ã€‚45ã€Restlet Clientå¼€å‘å®ç”¨å·¥å…·, æ”¯æŒä¸€é”®å¯¼å…¥Postmanç­‰APIæµ‹è¯•å·¥å…·çš„æµ‹è¯•ç”¨ä¾‹ã€‚46ã€WhatFontåŠŸèƒ½éå¸¸å•ä¸€çš„å°å·¥å…·ï¼Œå¸®ä½ æŸ¥çœ‹ç½‘é¡µä¸Šçš„å­—ä½“å±æ€§ã€‚47ã€Go to Tabå½¢æˆä¸€ä¸ªä¸‹æ‹‰åˆ—è¡¨ï¼Œå¸®ä½ å¿«é€Ÿè·³è½¬åˆ°æ‰“å¼€çš„ç½‘é¡µ48ã€Words Discovererçªå‡ºæ˜¾ç¤ºç½‘é¡µä¸Šç½•è§çš„è‹±è¯­å­—å…¸è¯æ±‡å’Œæƒ¯ç”¨è¯­ã€‚ 49ã€Web Server for Chromeå¯ä»¥åœ¨æœ¬åœ°å¿«é€Ÿå¼€å¯httpæœåŠ¡ï¼Œè®©å¼€å‘å’Œæµ‹è¯•å˜å¾—æ›´åŠ ç®€å•ã€‚ä¹Ÿå¯ä»¥å’Œå±€åŸŸç½‘çš„å°ä¼™ä¼´å»ºç«‹ä¸€ä¸ªå…±äº«æ–‡ä»¶å¤¹ã€‚50ã€Google Results Previewerä¸ç”¨ç‚¹é“¾æ¥å°±èƒ½çœ‹è°·æ­Œæœç´¢ç»“æœã€‚51ã€Custom Cursor for Chromeâ„¢åœ¨Chromeä¸­è®¾ç½®é¼ æ ‡çš„å½¢å¼ï¼Œæ¯”å¦‚å¯ä»¥æ¢æˆåˆéŸ³æœªæ¥ç­‰ï¼Œè®©ä½ å›å½’QQç©ºé—´æ—¶ä»£ã€‚ 52ã€Site Paletteè‡ªåŠ¨æå–ç½‘ç«™é…è‰²ã€‚53ã€é¼ æ ‡ç‚¹å‡»ç‰¹æ•ˆ (à¹‘â€¢Ì âˆ€ â€¢Ì€à¹‘)ä¸ºé¼ æ ‡ç‚¹å‡»æ·»åŠ æœ‰è¶£çš„ç‰¹æ•ˆçš„æ‰©å±•ç¨‹åºã€‚54ã€äºŒç®± ä»¥å›¾æœå›¾å¦‚é¢˜ã€‚55ã€Keylinesä¸ºç½‘é¡µå…ƒç´ æ·»åŠ éšæœºæè¾¹é¢œè‰²ã€‚56ã€Searchä¸ºChromeè®¾ç½®æœç´¢å¼•æ“å…³é”®è¯ï¼Œå¿«é€Ÿåœ¨Chromeé‡Œé¢è¿›è¡Œæœç´¢ã€‚ 57ã€ç½‘é¡µå›¾ç‰‡å¦å­˜ä¸ºJPG/PNG/WebPè®©WebPå›¾ç‰‡ä¸‹è½½ä¸ºPNGæ ¼å¼ã€‚58ã€IP-Addresså¿«é€ŸæŸ¥çœ‹å½“å‰è®¾å¤‡IPã€‚59ã€PageSpeed Insight and CheckListä¸ºç½‘é¡µä¼˜åŒ–æä¾›å»ºè®®å’Œé‡åŒ–æŒ‡æ ‡60ã€Tabagotchiä»¥ä¸€ç§æœ‰è¶£çš„æ–¹å¼ï¼Œæé†’æˆ‘ä»¬å‡å°‘æ ‡ç­¾é¡µæ•°é‡ï¼Œå‡å°‘è®¡ç®—æœºäº§ç”Ÿçš„çƒ­é‡ï¼Œä¸ºé˜»æ­¢å…¨çƒå˜æš–åšå‡ºäº†è´¡çŒ®ã€‚ ä¼ é€é—¨ï¼šhttps://github.com/zhaoolee/ChromeAppHeroes å®‰è£…æ’ä»¶çš„æ–¹æ³•1.è°·æ­Œå•†åº—ç›´æ¥ä¸‹è½½å®‰è£…ï¼ˆéœ€è¦æ¢¯å­)2.ä¸‹è½½æ’ä»¶æ–‡ä»¶ï¼Œç„¶åä½ åªè¦åœ¨ Chrome ä¸­è¾“å…¥chrome://extensions/ï¼Œæ¥ç€æŠŠæ’ä»¶æ‹–è¿›å»å®‰è£…å°±å¯ä»¥äº†","categories":[{"name":"èµ„æº","slug":"èµ„æº","permalink":"http://smilecoc.vip/categories/èµ„æº/"}],"tags":[{"name":"å…¶ä»–èµ„æº","slug":"å…¶ä»–èµ„æº","permalink":"http://smilecoc.vip/tags/å…¶ä»–èµ„æº/"}],"author":"smilecoc"},{"title":"Bç«™æ¯æ—¥æ’è¡Œæ¦œçˆ¬è™«","slug":"Bç«™æ¯æ—¥æ’è¡Œæ¦œçˆ¬è™«","date":"2020-02-15T07:59:01.000Z","updated":"2022-04-17T08:25:28.070Z","comments":true,"path":"2020/02/15/Bç«™æ¯æ—¥æ’è¡Œæ¦œçˆ¬è™«/","link":"","permalink":"http://smilecoc.vip/2020/02/15/Bç«™æ¯æ—¥æ’è¡Œæ¦œçˆ¬è™«/","excerpt":"","text":"çˆ¬å–Bç«™æ’è¡Œæ¦œå‰100åçš„è§†é¢‘åç§°ï¼Œä½œè€…å’Œæ’­æ”¾é‡ï¼Œç”¨åˆ°çš„ä¸»è¦æœ‰requeståº“è·å–ç½‘é¡µä¿¡æ¯ï¼Œç”¨æ­£åˆ™è§£æç½‘é¡µå¹¶ä½¿ç”¨openpyxlå°†ä¿¡æ¯ä¿å­˜åœ¨Excelä¸­ ç¬¬ä¸€éƒ¨åˆ†ä¸ºè¯·æ±‚ç½‘é¡µè·å–ä¿¡æ¯éƒ¨åˆ†ï¼Œrequeståº“çš„åŸºæœ¬ç”¨æ³• def get_html_text(url,self_header): try: response = requests.get(url,headers=self_header,timeout=30) response.raise_for_status() response.encoding = response.apparent_encoding #print(response.text) return response.text except: return &quot;&quot; ç¬¬äºŒéƒ¨åˆ†ä¸ºç”¨æ­£åˆ™è¡¨è¾¾å¼è§£æç½‘é¡µå†…å®¹å¹¶ä¿å­˜åˆ°Excel def re_get_inf(html): list=[] rank_list=re.findall(r&#39;&lt;div class=&quot;num&quot;&gt;(\\d*)&lt;/div&gt;&#39;,html)#æ’å title_list=re.findall(r&#39;&lt;div class=&quot;info&quot;&gt;&lt;a href=[\\s\\S]*?class=&quot;title&quot;&gt;([\\s\\S]*?)&lt;/a&gt;&lt;!----&gt;&#39;,html)#è§†é¢‘åç§° play_num=re.findall(r&#39;&lt;div class=&quot;detail&quot;&gt;&lt;span class=&quot;data-box&quot;&gt;&lt;i class=&quot;b-icon play&quot;&gt;&lt;/i&gt;(\\d*.\\d*)\\S&lt;/span&gt;&#39;,html)#æ’­æ”¾é‡ author_list=re.findall(r&#39;&lt;span class=&quot;data-box&quot;&gt;&lt;i class=&quot;b-icon author&quot;&gt;&lt;/i&gt;([\\s\\S]*?)&lt;/span&gt;&#39;,html)#UPä¸»åç§° wb=Workbook()#æ–°å»ºä¿å­˜æ–‡ä»¶ sheet=wb.active sheet.append([&#39;rank&#39;,&#39;title&#39;,&#39;playnum&#39;,&#39;author&#39;])#å†™å…¥æ ‡é¢˜åç§° for i in range(len(rank_list)): rank = rank_list[i] title = title_list[i] playnum=play_num[i] author=author_list[i] sheet.append([rank,title,playnum,author])#å†™å…¥æ•°æ® wb.save(&#39;bilibili_rankdata.xlsx&#39;)#ä¿å­˜æ–‡ä»¶ å®Œæ•´ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼Œä»£ç ä¸ç»“æœæ–‡ä»¶é“¾æ¥å¯ä»¥ç‚¹å‡»ä»¥ä¸‹é“¾æ¥ï¼š https://github.com/smilecoc/bilibili_rankdata #Bilibiliæ¯æ—¥çƒ­æ¦œçˆ¬è™« import re import requests from openpyxl import Workbook def get_html_text(url,self_header): try: response = requests.get(url,headers=self_header,timeout=30) response.raise_for_status() response.encoding = response.apparent_encoding #print(response.text) return response.text except: return &quot;&quot; def re_get_inf(html): list=[] rank_list=re.findall(r&#39;&lt;div class=&quot;num&quot;&gt;(\\d*)&lt;/div&gt;&#39;,html) title_list=re.findall(r&#39;&lt;div class=&quot;info&quot;&gt;&lt;a href=[\\s\\S]*?class=&quot;title&quot;&gt;([\\s\\S]*?)&lt;/a&gt;&lt;!----&gt;&#39;,html) play_num=re.findall(r&#39;&lt;div class=&quot;detail&quot;&gt;&lt;span class=&quot;data-box&quot;&gt;&lt;i class=&quot;b-icon play&quot;&gt;&lt;/i&gt;(\\d*.\\d*)\\S&lt;/span&gt;&#39;,html) author_list=re.findall(r&#39;&lt;span class=&quot;data-box&quot;&gt;&lt;i class=&quot;b-icon author&quot;&gt;&lt;/i&gt;([\\s\\S]*?)&lt;/span&gt;&#39;,html) wb=Workbook() sheet=wb.active sheet.append([&#39;rank&#39;,&#39;title&#39;,&#39;playnum&#39;,&#39;author&#39;]) for i in range(len(rank_list)): rank = rank_list[i] title = title_list[i] playnum=play_num[i] author=author_list[i] sheet.append([rank,title,playnum,author]) wb.save(&#39;bilibili_rankdata.xlsx&#39;) def main(): bilibili_url=&#39;https://www.bilibili.com/ranking/all/0/0/3&#39; self_header = { &quot;User-Agent&quot;:&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36&quot; } html=get_html_text(bilibili_url,self_header) re_get_inf(html) if __name__ == &#39;__main__&#39;: main()","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"pythonçˆ¬è™«","slug":"pythonçˆ¬è™«","permalink":"http://smilecoc.vip/tags/pythonçˆ¬è™«/"}],"author":"smilecoc"},{"title":"Hexo Sakuraä¸»é¢˜çš„é—®é¢˜æ±‡æ€»","slug":"Hexo Sakuraä¸»é¢˜é‡åˆ°çš„é—®é¢˜æ±‡æ€»","date":"2020-02-02T14:02:02.000Z","updated":"2022-04-17T08:24:40.329Z","comments":true,"path":"2020/02/02/Hexo Sakuraä¸»é¢˜é‡åˆ°çš„é—®é¢˜æ±‡æ€»/","link":"","permalink":"http://smilecoc.vip/2020/02/02/Hexo Sakuraä¸»é¢˜é‡åˆ°çš„é—®é¢˜æ±‡æ€»/","excerpt":"","text":"ä»£ç é«˜äº®åˆšç”¨çš„æ—¶å€™ä»£ç æ¡†ååˆ†è¯¡å¼‚è€Œä¸”å‹æ ¹å°±æ²¡æœ‰é«˜äº®ã€‚æ‰¾äº†å‡ ç§æ–¹æ³•å¹¶ä¸å¯è¡Œï¼Œæ•´ç†äº†ä¸€ä¸‹å‡ ç§å¯èƒ½é”™è¯¯çš„åŸå› ã€‚é”™è¯¯å¯èƒ½ä¸º1.markdown(md)è¯­æ³•é—®é¢˜ï¼Œå°†ä»£ç å—æ”¹ä¸ºå¦‚ä¸‹æ ¼å¼ï¼š ```+è¯­è¨€åï¼ˆæ¯”å¦‚javaï¼‰ ä»£ç å†…å®¹ 2.ä¸hexoè‡ªå¸¦çš„é«˜äº®å†²çªäº†ï¼Œåªè¦æŠŠç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­ï¼š ```TEXT highlight: enable: true trueæ”¹ä¸ºfalseå°±å¯ä»¥äº†ã€‚æ³¨æ„æ˜¯ç«™ç‚¹é…ç½®æ–‡ä»¶è€Œä¸æ˜¯ä¸»é¢˜é…ç½®æ–‡ä»¶ æœç´¢æœç´¢ä¸€ç›´ä¸èƒ½ç”¨çš„åŸå› å°±æ˜¯å°‘äº†ä¸ªæ’ä»¶ã€‚ git bashä¸­æ‰§è¡Œï¼š npm install hexo-generator-json-content --save æ–‡ç« å†…æ’å…¥å›¾ç‰‡åœ¨æ–‡ç« ä¸­å†™å…¥: ![](/upload_image/1.jpg) ç„¶åè¿›å…¥themes-ä¸»é¢˜å-source-upload_imageç›®å½•ä¸‹(è‡ªå·±åˆ›å»º)ï¼Œå°†å›¾ç‰‡æ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹ï¼Œå°±å¯ä»¥äº†ã€‚ è¯´æ˜ï¼šå½“æ‰§è¡Œhexo gå‘½ä»¤æ—¶ï¼Œä¼šè‡ªåŠ¨æŠŠå›¾ç‰‡å¤åˆ¶åˆ° publicæ–‡ä»¶çš„upload_imageç›®å½•ä¸‹ã€‚ èµèµé¡µé¢çš„ä½œè€…åç§°ä¿®æ”¹èµèµé¡µé¢çš„é¡µè„šä½œè€…æ°¸è¿œæ˜¯åŸä½œè€…çš„åç§°ï¼Œå¯èƒ½æ˜¯æ²¡æœ‰é“¾æ¥åˆ°å˜é‡çš„bugå§ ä¿®æ”¹æ–¹æ³•ä¸ºå°†â€\\blog\\themes\\Sakura\\themes\\Sakura\\layout\\donate.ejsâ€ä¸­çš„ &lt;h3 itemprop=&quot;name&quot;&gt; &lt;a href=&quot;&lt;%- theme.url%&gt;&quot; itemprop=&quot;url&quot; rel=&quot;author&quot;&gt;houjun&lt;/a&gt; &lt;/h3&gt; â€œhoujunâ€æ¢ä¸ºè‡ªå·±çš„åå­—å°±å¯ä»¥äº† å¦å¤–å…¶ä»–çš„ç›¸ä¼¼é—®é¢˜æ¯”å¦‚å‹é“¾é¡µé¢çš„æè¿°éœ€è¦æ”¹åŠ¨çš„è¯ä¹Ÿæ˜¯ä¸€æ ·çš„æ–¹æ³• ä¸»é¢˜å·¥å…·åœ¨themes\\sakura\\layout\\layout.ejsä¸­ï¼š &lt;div class=&quot;scrollbar&quot; id=&quot;bar&quot;&gt; &lt;/div&gt; å‰é¢æ·»åŠ ï¼š &lt;%- partial(&#39;_partial/setdisplay&#39;) %&gt; &lt;%- partial(&#39;_partial/set&#39;, null, {cache: !config.relative_link}) %&gt; åŸç‰ˆæ˜¯åœ¨&lt;%- partial(â€˜_partial/mheaderâ€™, null, {cache: !config.relative_link}) %&gt;å‰æ·»åŠ çš„ï¼Œä½†è¦è¿™æ ·å­—ä½“åˆ‡æ¢ä¼šå‡ºbugã€‚ åœ¨\\themes\\sakura\\layout_partialä¸­æ–°å»ºset.ejsï¼Œå†…å®¹ï¼š &lt;div class=&quot;changeSkin-gear no-select&quot;&gt; &lt;div class=&quot;keys&quot; id=&quot;setbtn&quot;&gt; &lt;span id=&quot;open-skinMenu&quot;&gt; SCHEME TOOL | ä¸»é¢˜å·¥å…· &amp;nbsp; &lt;i class=&quot;iconfont icon-gear inline-block rotating&quot;&gt; &lt;/i&gt; &lt;/span&gt; &lt;/div&gt; &lt;/div&gt; æ–°å»ºsetdisplay.ejsï¼Œå†…å®¹ï¼š &lt;div class=&quot;skin-menu no-select&quot; id=&quot;mainskin&quot; style=&quot;position: fixed&quot;&gt; &lt;div class=&quot;theme-controls row-container&quot;&gt; &lt;p style=&quot;text-align:center;font-family:&#39;Monaco&#39;;font-weight:bold;color:#444&quot;&gt;&lt;i style=&quot;color:grey&quot; class=&quot;fa fa-chevron-left&quot;&gt;&lt;/i&gt; background &lt;i style=&quot;color:grey&quot; class=&quot;fa fa-chevron-right&quot;&gt;&lt;/i&gt;&lt;/p&gt; &lt;ul class=&quot;menu-list&quot;&gt; &lt;li id=&quot;white-bg&quot;&gt; &lt;i class=&quot;fa fa-television&quot; aria-hidden=&quot;true&quot;&gt; &lt;/i&gt; &lt;/li&gt; &lt;li id=&quot;sakura-bg&quot;&gt; &lt;i class=&quot;iconfont icon-sakura&quot;&gt; &lt;/i&gt; &lt;/li&gt; &lt;li id=&quot;gribs-bg&quot;&gt; &lt;i class=&quot;fa fa-slack&quot; aria-hidden=&quot;true&quot;&gt; &lt;/i&gt; &lt;/li&gt; &lt;li id=&quot;KAdots-bg&quot;&gt; &lt;i class=&quot;iconfont icon-dots&quot;&gt; &lt;/i&gt; &lt;/li&gt; &lt;li id=&quot;totem-bg&quot;&gt; &lt;i class=&quot;fa fa-optin-monster&quot; aria-hidden=&quot;true&quot;&gt; &lt;/i&gt; &lt;/li&gt; &lt;li id=&quot;pixiv-bg&quot;&gt; &lt;i class=&quot;iconfont icon-pixiv&quot;&gt; &lt;/i&gt; &lt;/li&gt; &lt;li id=&quot;bing-bg&quot;&gt; &lt;i class=&quot;iconfont icon-bing&quot;&gt; &lt;/i&gt; &lt;/li&gt; &lt;li id=&quot;dark-bg&quot;&gt; &lt;i class=&quot;fa fa-moon-o&quot; aria-hidden=&quot;true&quot;&gt; &lt;/i&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;canvas id=&quot;night-mode-cover&quot;&gt; &lt;/canvas&gt; &lt;/div&gt; è¿˜è¦ä¿®ç‚¹bugï¼š åœ¨\\themes\\sakura\\source\\js\\sakura-app.jsä¸­ï¼Œæ‰¾åˆ°å‡½æ•°$(â€˜.skin-menu #dark-bgâ€™).click(function ()ï¼Œå‡½æ•°æœ€åº•ä¸‹æ·»åŠ ï¼š setCookie(&#39;bgImgSetting&#39;,&#39;https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/starry_sky.png&#39;,30) æŠŠæ‰€æœ‰å½¢å¦‚ï¼š $(&#39;.changeSkin-gear, .toc&#39;).css(&#39;background&#39;, &#39;none&#39;) æˆ– $(&#39;.changeSkin-gear, .toc&#39;).css(&#39;background&#39;, &#39;rgba(255,255,255,0.8)&#39;) é‡Œçš„.changeSkin-gear,åˆ æ‰ã€‚ è¿™åªæ˜¯åˆå§‹ç‰ˆï¼Œåé¢è¿˜æœ‰æ›´é«˜çº§çš„ã€‚ æ›´æ¢bingå›¾ç‰‡bingä¸»é¢˜æ˜¯ä»bingéšæœºå›¾ç‰‡apiè·å–ä¸€å¼ å›¾ç‰‡åšèƒŒæ™¯ï¼Œå¯ä»¥æ›´æ¢ã€‚ åœ¨\\themes\\sakura\\source\\js\\sakura-app.jsä¸­ï¼Œä¸‹é¢ä¸¤å¥ï¼š changeBGnoTrans(&#39;#bing-bg&#39;, &#39;https://api.shino.cc/bing/&#39;) else if (bgurl == &#39;https://api.shino.cc/bing/&#39;) å…¶ä¸­çš„ç½‘å€æ¢æˆå…¶ä»–urlã€‚ ä½ç½®å’Œå¤–è§‚åœ¨set.ejsé‡Œç›´æ¥ç”¨cssç¾åŒ–ï¼Œå¯èƒ½è¿˜è¦ä¿®æ­£setdisplay.ejsã€‚ å‚è€ƒé…ç½®ï¼š set.ejsï¼š &lt;div class=&quot;changeSkin-gear no-select&quot; style=&quot;background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%; visibility: visible; bottom: 0px;&quot;&gt; &lt;div class=&quot;keys&quot; id=&quot;setbtn&quot;&gt; &lt;button id=&quot;open-skinMenu&quot;&gt; &lt;style&gt; button#open-skinMenu{ transition: all 0.2s linear 0s; outline:none; position:fixed; bottom:13px; left:15px; font-size:16px; background-color: rgba(255,255,255,.95); border-radius: 20px; box-shadow: 0 3px 8px 0 rgba(0,0,0,0.1), 0 3px 8px 0 rgba(0,0,0,0.1); } button#open-skinMenu:hover{ transition: all 0.2s linear 0s; background-color: rgb(255, 165, 0); color: rgba(255,255,255); } &lt;/style&gt; &lt;i class=&quot;iconfont icon-gear inline-block rotating&quot;&gt; &lt;/i&gt; SCHEME TOOL | ä¸»é¢˜å·¥å…· &lt;/button&gt; &lt;/div&gt; &lt;/div&gt; æ–‡ç« åˆ—è¡¨å›¾ç‰‡æ‹‰ä¼¸é—®é¢˜æµè§ˆæŸä¸ªåˆ†ç±»æˆ–æ ‡ç­¾ä¸‹çš„æ–‡ç« ä¸‹æ—¶ï¼Œé…å›¾æ˜¯è¢«å‹ç¼©æˆæ­£æ–¹å½¢çš„,å¯¼è‡´åŸæ¥çš„å›¾ç‰‡äº§ç”Ÿå˜å½¢è§£å†³åŠæ³•ä¸ºï¼šåœ¨\\themes\\sakura\\source\\css\\style.cssä¸­ï¼Œæ‰¾åˆ°.feature imgï¼Œå†…éƒ¨æ·»åŠ ï¼š object-fit: cover; å¯¹ä¸»é¢˜è¿›è¡Œé­”æ”¹ç”Ÿæˆç½‘é¡µçš„ä»£ç éƒ½åœ¨\\blog\\themes\\Sakura\\themes\\Sakura\\layoutæ–‡ä»¶å¤¹ä¸­ï¼Œé€šè¿‡åç§°å¯ä»¥æ‰¾åˆ°æ•´ä¸ªç½‘é¡µçš„ä»£ç ï¼Œå¯¹ç…§ç”Ÿæˆçš„ç½‘é¡µæºç æ‰¾åˆ°å¯¹åº”çš„é¢æ–‡ä»¶è¿›è¡Œä¿®æ”¹å³å¯ã€‚ä¸æ¸…æ¥šç›¸å¯¹è·¯å¾„æ˜¯å¦å½¢åŒï¼Œå¯ä»¥å¤šå¤šè¿›è¡Œå°è¯• åç»­cdnçš„æ·»åŠ å’Œä¿®æ”¹å¦‚æœéœ€è¦å¯¹cdné‡Œçš„æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œä¾‹å¦‚åˆ é™¤å’Œæ›´åï¼Œæ”¹å˜æ–‡ä»¶ç»“æ„ç­‰ï¼š å…‹éš†Githubä»“åº“åˆ°æœ¬åœ°ç‚¹å‡» Clone or downloadï¼Œä¸€é”®å¤åˆ¶ä»“åº“åœ°å€åœ¨æœ¬åœ°ç›®å½•å³é”® Git Bash Hereï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š git clone ä¸€é”®å¤åˆ¶çš„ä»“åº“åœ°å€ ä¸Šä¼ èµ„æºå¤åˆ¶éœ€è¦ä¸Šä¼ çš„èµ„æºåˆ°æœ¬åœ°gitä»“åº“ï¼ˆæ³¨ï¼šjsDelivrä¸æ”¯æŒåŠ è½½è¶…è¿‡20Mçš„èµ„æºï¼‰ï¼Œåœ¨æœ¬åœ°gitä»“åº“ç›®å½•ä¸‹å³é”® Git Bash Hereï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š git status //æŸ¥çœ‹çŠ¶æ€ git add . //æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº git commit -m &#39;ç¬¬ä¸€æ¬¡æäº¤&#39; //æŠŠæ–‡ä»¶æäº¤åˆ°ä»“åº“ git push //æ¨é€è‡³è¿œç¨‹ä»“åº“ å‘å¸ƒä»“åº“ç‚¹å‡»releaseå‘å¸ƒè‡ªå®šä¹‰å‘å¸ƒç‰ˆæœ¬å· é€šè¿‡jsDelivrå¼•ç”¨èµ„æºä½¿ç”¨æ–¹æ³•ï¼šhttps://cdn.jsdelivr.net/gh/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å@å‘å¸ƒçš„ç‰ˆæœ¬å·/æ–‡ä»¶è·¯å¾„æˆ–è€…ï¼šhttps://cdn.jsdelivr.net/gh/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å@master/æ–‡ä»¶è·¯å¾„,è¿™æ ·å¯ä»¥ä¸ç”¨å†githubä¸­releaseç‰ˆæœ¬ä¾‹å¦‚ï¼šhttps://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@1.0/images/trhx.pnghttps://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@2.0.1/css/style.csshttps://cdn.jsdelivr.net/gh/moezx/cdn@3.1.3//The%20Pet%20Girl%20of%20Sakurasou.mp4æ³¨æ„ï¼šç‰ˆæœ¬å·ä¸æ˜¯å¿…éœ€çš„ï¼Œæ˜¯ä¸ºäº†åŒºåˆ†æ–°æ—§èµ„æºï¼Œå¦‚æœä¸ä½¿ç”¨ç‰ˆæœ¬å·ï¼Œå°†ä¼šç›´æ¥å¼•ç”¨æœ€æ–°èµ„æºï¼Œé™¤æ­¤ä¹‹å¤–è¿˜å¯ä»¥ä½¿ç”¨æŸä¸ªèŒƒå›´å†…çš„ç‰ˆæœ¬ï¼ŒæŸ¥çœ‹æ‰€æœ‰èµ„æºç­‰ï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š // åŠ è½½ä»»ä½•Githubå‘å¸ƒã€æäº¤æˆ–åˆ†æ”¯ https://cdn.jsdelivr.net/gh/user/repo@version/file // åŠ è½½ jQuery v3.2.1 https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/dist/jquery.min.js // ä½¿ç”¨ç‰ˆæœ¬èŒƒå›´è€Œä¸æ˜¯ç‰¹å®šç‰ˆæœ¬ https://cdn.jsdelivr.net/gh/jquery/jquery@3.2/dist/jquery.min.js https://cdn.jsdelivr.net/gh/jquery/jquery@3/dist/jquery.min.js // å®Œå…¨çœç•¥è¯¥ç‰ˆæœ¬ä»¥è·å–æœ€æ–°ç‰ˆæœ¬ https://cdn.jsdelivr.net/gh/jquery/jquery/dist/jquery.min.js // å°†â€œ.minâ€æ·»åŠ åˆ°ä»»ä½•JS/CSSæ–‡ä»¶ä¸­ä»¥è·å–ç¼©å°ç‰ˆæœ¬ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå°†ä¸ºä¼šè‡ªåŠ¨ç”Ÿæˆ https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/src/core.min.js // åœ¨æœ«å°¾æ·»åŠ  / ä»¥è·å–èµ„æºç›®å½•åˆ—è¡¨ https://cdn.jsdelivr.net/gh/jquery/jquery/ Rssé¡µé¢ä¿®æ”¹RSSé…ç½®åæ˜¯404çš„é¡µé¢ï¼Œè§£å†³æ­¥éª¤å¦‚ä¸‹ï¼šå®‰è£…æ’ä»¶ npm install hexo-generator-feed ä¸»é…ç½®_config.ymlæ–‡æœ«æ·»åŠ  # Extensions ## Plugins: http://hexo.io/plugins/ #RSSè®¢é˜… plugin: hexo-generator-feed #Feed Atom feed: type: atom #RSSçš„ç±»å‹(atom/rss2) path: atom.xml #æ–‡ä»¶è·¯å¾„,é»˜è®¤æ˜¯atom.xml/rss2.xml limit: 20 #å±•ç¤ºæ–‡ç« çš„æ•°é‡,ä½¿ç”¨0æˆ–åˆ™falseä»£è¡¨å±•ç¤ºå…¨éƒ¨ hub: content: #åœ¨RSSæ–‡ä»¶ä¸­æ˜¯å¦åŒ…å«å†…å®¹ ,æœ‰3ä¸ªå€¼ true/falseé»˜è®¤ä¸å¡«ä¸ºfalse content_limit: 140 #æŒ‡å®šå†…å®¹çš„é•¿åº¦ä½œä¸ºæ‘˜è¦,ä»…ä»…åœ¨ä¸Šé¢contentè®¾ç½®ä¸ºfalseå’Œæ²¡æœ‰è‡ªå®šä¹‰çš„æè¿°å‡ºç° content_limit_delim: &#39; &#39; #ä¸Šé¢æˆªå–æè¿°çš„åˆ†éš”ç¬¦,æˆªå–å†…å®¹æ˜¯ä»¥æŒ‡å®šçš„è¿™ä¸ªåˆ†éš”ç¬¦ä½œä¸ºæˆªå–ç»“æŸçš„æ ‡å¿—.åœ¨è¾¾åˆ°è§„å®šçš„å†…å®¹é•¿åº¦ä¹‹å‰æœ€åå‡ºç°çš„è¿™ä¸ªåˆ†éš”ç¬¦ä¹‹å‰çš„å†…å®¹,ï¼Œé˜²æ­¢ä»ä¸­é—´æˆªæ–­. order_by: -date icon: #icon.png ä¸»é¢˜é…ç½®themes\\sakura_config.ymlæ–‡æœ«æ·»åŠ (sakuraä¸»é¢˜ä¸­åº”è¯¥å·²æœ‰è¿™ä¸€å¥ï¼Œå¦‚æœå·²æœ‰çš„è¯å¯ä»¥ç›´æ¥è·³è¿‡) # ç®€æ˜“ä¿¡æ¯èšåˆ,ç«™ç‚¹å…±äº« rss: /atom.xml æ·»åŠ æœç´¢å¼•æ“æ”¶å½•æŸ¥çœ‹ç½‘ç«™æ˜¯å¦è¢«æ”¶å½•é¦–å…ˆæˆ‘ä»¬å¯ä»¥è¾“å…¥ site:åŸŸå æ¥æŸ¥çœ‹åŸŸåæ˜¯å¦è¢«æœç´¢å¼•æ“æ”¶å½•ï¼Œå¦‚æœæ²¡æœ‰ç›¸å…³ç½‘é¡µï¼Œè¡¨ç¤ºæ²¡æœ‰æ”¶å½• æäº¤ç™¾åº¦æœç´¢githubæ˜¯ç¦æ­¢ç™¾åº¦çˆ¬è™«çš„ï¼Œæ‰€ä»¥å¦‚æœä½ æ˜¯å’Œæˆ‘ä¸€æ ·åœ¨githubä¸­å»ºç«‹çš„é™æ€ç½‘ç«™ï¼Œæƒ³è¦åœ¨ç™¾åº¦ä¸­è¢«æœåˆ°éœ€è¦å°†åšå®¢åŒçº¿éƒ¨ç½²åˆ°å›½å†…çš„ä»£ç æ‰˜ç®¡å¹³å°ã€‚è¿™é‡Œä½¿ç”¨Codingã€‚å¦å¤–ç™¾åº¦æ”¶å½•çš„æ‰€éœ€çš„æ—¶é—´è¾ƒé•¿ï¼Œå¤§çº¦åŠä¸ªæœˆå·¦å³æ‰ä¼šçœ‹åˆ°æ•ˆæœï¼ åˆ›å»ºé¡¹ç›®ï¼šè¿›å…¥ Coding å®˜ç½‘ï¼Œç‚¹å‡»ä¸ªäººç‰ˆç™»é™†ï¼Œæ²¡æœ‰è´¦å·å°±æ³¨å†Œä¸€ä¸ªå¹¶ç™»å½•ï¼Œè¿›å…¥åæœ‰å•¥æç¤ºå¼•å¯¼çš„è¯è·³è¿‡ï¼Œç‚¹å‡»åˆ›å»ºé¡¹ç›®ã€‚é¡¹ç›®åç§°å»ºè®®å’Œä½ çš„ç”¨æˆ·åä¸€è‡´ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼šåˆ°æ—¶å€™å¯ä»¥ç›´æ¥é€šè¿‡user_name.coding.meè®¿é—®ä½ çš„åšå®¢ï¼Œå¦‚æœé¡¹ç›®åä¸ç”¨æˆ·åä¸ä¸€è‡´ï¼Œåˆ™éœ€è¦é€šè¿‡user_name.coding.me/project_nameæ‰èƒ½è®¿é—®ï¼Œé¡¹ç›®æè¿°å¯ä»¥éšä¾¿å†™ é…ç½®å…¬é’¥ã€‚é…ç½® SSH å…¬é’¥æ–¹æ³•ä¸ GitHub Pages çš„æ–¹å¼å·®ä¸å¤šï¼Œç‚¹å‡»ä½ çš„å¤´åƒï¼Œä¾æ¬¡é€‰æ‹© ä¸ªäººè®¾ç½®-SSHå…¬é’¥-æ–°å¢å…¬é’¥ï¼Œå‰é¢éƒ¨ç½²åˆ° GitHub Pages çš„æ—¶å€™å°±å·²ç»æœ‰äº†ä¸€å¯¹å…¬é’¥ï¼Œæˆ‘ä»¬ç›´æ¥å°†è¯¥å…¬é’¥ç²˜è´´è¿›å»å°±è¡Œï¼Œå…¬é’¥åç§°å¯ä»¥éšä¾¿å†™ï¼Œé€‰ä¸­æ°¸ä¹…æœ‰æ•ˆé€‰é¡¹ PSï¼šå…¬é’¥å‚¨å­˜ä½ç½®ä¸€èˆ¬åœ¨ C:\\Users\\ç”¨æˆ·å.ssh ç›®å½•ä¸‹çš„ id_rsa.pub æ–‡ä»¶é‡Œï¼Œç”¨è®°äº‹æœ¬æ‰“å¼€å¤åˆ¶å…¶å†…å®¹å³å¯ã€‚å¦å¤–ç”±äºcodingçš„UIå˜åŒ–å¾ˆå¿«ï¼Œæ‰€ä»¥æœ‰äº›æŒ‰é’®çš„ä½ç½®å’Œå±‚çº§å·²ç»å˜åŒ–éœ€è¦æ‰¾ä¸€ä¸‹ï¼Œä½†æ˜¯å·®çš„ä¸å¤šï¼Œå®åœ¨ä¸è¡Œçš„è¯å°±ç™¾åº¦ æ·»åŠ å…¬é’¥åï¼Œæˆ‘ä»¬å¯ä»¥å³é”®Get Bashï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥æ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸï¼šssh -T git@e.coding.net ` è‹¥å‡ºç°ä»¥ä¸‹æç¤ºï¼Œåˆ™è¯æ˜é…ç½®æˆåŠŸï¼šcoding æç¤º: Hello XXX, You&#39;ve connected to Coding.net via SSH. This is a personal key. XXXï¼Œä½ å¥½ï¼Œä½ å·²ç»é€šè¿‡ SSH åè®®è®¤è¯ Coding.net æœåŠ¡ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸ªäººå…¬é’¥ é…ç½® _config.yml:è¿›å…¥ä½ çš„é¡¹ç›®ï¼Œåœ¨å³ä¸‹è§’æœ‰é€‰æ‹©è¿æ¥æ–¹å¼ï¼Œé€‰æ‹© SSH æ–¹å¼ï¼ˆHTTPS æ–¹å¼ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼æœ‰æ—¶å€™å¯èƒ½è¿æ¥ä¸ä¸Šï¼ŒSSH è¿æ¥ä¸å®¹æ˜“å‡ºé—®é¢˜ï¼‰ï¼Œä¸€é”®å¤åˆ¶ï¼Œç„¶åæ‰“å¼€ä½ æœ¬åœ°åšå®¢æ ¹ç›®å½•çš„ _config.yml æ–‡ä»¶ï¼Œæ‰¾åˆ° deploy å…³é”®å­—ï¼Œæ·»åŠ  coding åœ°å€ï¼Œä¹Ÿå°±æ˜¯åˆšåˆšå¤åˆ¶çš„ SSH åœ°å€:deploy: type: git repository: github: git@github.com:xxx/xxx.github.io.git coding: git@e.coding.net:xxx/xxx/xxx.git branch: master æ³¨æ„ä¸­é—´æœ‰ç©ºæ ¼ã€‚æ·»åŠ å®Œæˆåå…ˆæ‰§è¡Œå‘½ä»¤ hexo clean æ¸…ç†ä¸€ä¸‹ç¼“å­˜ï¼Œç„¶åæ‰§è¡Œå‘½ä»¤ hexo g -d å°†åšå®¢åŒçº¿éƒ¨ç½²åˆ° Coding Pages å’Œ GitHub Pagesï¼Œå¯ä»¥æŸ¥çœ‹ä¸€ä¸‹ä»£ç ä»“åº“æ˜¯å¦æœ‰ä»£ç ä¸Šä¼ ï¼Œå¦‚æœæœ‰å³è¡¨ç¤ºéƒ¨ç½²æˆåŠŸï¼š å¼€å¯ Coding Pagesã€‚æ‰“å¼€ é¡¹ç›®è®¾ç½®-é¡¹ç›®ä¸æˆå‘˜-åŠŸèƒ½å¼€å…³ï¼Œæ‰“å¼€ æŒç»­é›†æˆ å’Œ æŒç»­éƒ¨ç½²ï¼Œç„¶ååœ¨ æŒç»­éƒ¨ç½² ä¸­å¯ä»¥çœ‹åˆ°é™æ€ç½‘ç«™ã€‚ç»è¿‡èº«ä»½éªŒè¯åå³å¯å¼€å¯ ç»‘å®šåŸŸåå¹¶å¼€å¯ HPPTSï¼šé¦–å…ˆåœ¨ä½ çš„åŸŸå DNS è®¾ç½®ä¸­æ·»åŠ ä¸€æ¡ CNAME è®°å½•æŒ‡å‘ xxxx.coding.meï¼Œè§£æè·¯çº¿é€‰æ‹© é»˜è®¤ï¼Œå°† GitHub çš„è§£æè·¯çº¿æ”¹ä¸º å¢ƒå¤–ï¼Œè¿™æ ·å¢ƒå¤–è®¿é—®å°±ä¼šèµ° GitHubï¼Œå¢ƒå†…å°±ä¼šèµ° Codingï¼Œä¹Ÿæœ‰äººè¯´é˜¿é‡Œäº‘æ˜¯æ™ºèƒ½è§£æï¼Œè‡ªåŠ¨åˆ†é…è·¯çº¿ï¼Œå¦‚æœè§£æè·¯çº¿éƒ½æ˜¯é»˜è®¤ï¼Œå¢ƒå¤–è®¿é—®åŒæ ·ä¼šæ™ºèƒ½é€‰æ‹©èµ° GitHubï¼Œå¢ƒå†…èµ° Codingï¼Œæˆ‘æ²¡æœ‰éªŒè¯è¿‡ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªå·±è¯•è¯•ï¼Œæˆ‘çš„è§£æå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šç„¶åç‚¹å‡»é™æ€ Pages åº”ç”¨å³ä¸Šè§’çš„è®¾ç½®ï¼Œè¿›å…¥è®¾ç½®é¡µé¢ï¼Œè¿™é‡Œè¦æ³¨æ„ï¼Œå¦‚æœä½ ä¹‹å‰å·²ç»éƒ¨ç½²åˆ°äº† GitHub Pages å¹¶å¼€å¯äº† HTTPSï¼Œé‚£ä¹ˆç›´æ¥åœ¨è®¾ç½®é¡µé¢ç»‘å®šä½ è‡ªå·±çš„åŸŸåï¼ŒSSL/TLS å®‰å…¨è¯ä¹¦å°±ä¼šæ˜¾ç¤ºç”³è¯·é”™è¯¯ï¼Œå½“ä½ è®¿é—®ä½ çš„ç½‘ç«™æ—¶ï¼Œæµè§ˆå™¨å°±ä¼šæç¤ºä¸æ˜¯å®‰å…¨è¿æ¥ã€‚ç”³è¯·é”™è¯¯åŸå› æ˜¯ï¼šåœ¨éªŒè¯åŸŸåæ‰€æœ‰æƒæ—¶ä¼šå®šä½åˆ° Github Pages çš„ä¸»æœºä¸Šå¯¼è‡´ SSL è¯ä¹¦ç”³è¯·å¤±è´¥æ­£ç¡®çš„åšæ³•æ˜¯ï¼šå…ˆå»åŸŸå DNS æŠŠ GitHub çš„è§£ææš‚åœæ‰ï¼Œç„¶åå†é‡æ–°ç”³è¯· SSL è¯ä¹¦ï¼Œå¤§çº¦åç§’å·¦å³å°±èƒ½ç”³è¯·æˆåŠŸï¼Œç„¶åå¼€å¯å¼ºåˆ¶ HTTPS è®¿é—®è¿™é‡Œä¹Ÿå»ºè®®åŒæ—¶ç»‘å®šæœ‰ www å‰ç¼€å’Œæ²¡æœ‰ www å‰ç¼€çš„ï¼Œå¦‚æœè¦ç»‘å®šæ²¡æœ‰ www å‰ç¼€çš„ï¼Œé¦–å…ˆè¦å»åŸŸå DNS æ·»åŠ ä¸€ä¸ª A è®°å½•ï¼Œä¸»æœºè®°å½•ä¸º @ï¼Œè®°å½•å€¼ä¸ºä½ åšå®¢ IP åœ°å€ï¼ŒIP åœ°å€å¯ä»¥åœ¨ cmd å‘½ä»¤è¡Œ ping ä¸€ä¸‹å¾—åˆ°ï¼Œç„¶ååœ¨ Coding Pages ä¸­è®¾ç½®å…¶ä¸­ä¸€ä¸ªä¸ºã€é¦–é€‰ã€‘ï¼Œå¦ä¸€ä¸ªè®¾ç½®ã€è·³è½¬è‡³é¦–é€‰ã€‘ï¼Œè¿™æ ·ä¸ç®¡ç”¨æˆ·æ˜¯å¦è¾“å…¥ www å‰ç¼€éƒ½ä¼šè·³åˆ°æœ‰ www å‰ç¼€çš„äº†è‡³æ­¤ï¼Œæˆ‘ä»¬çš„ Hexo åšå®¢å°±æˆåŠŸåŒçº¿éƒ¨ç½²åˆ° Coding Pages å’Œ GitHub Pages äº†ã€‚ è®¿é—®ç™¾åº¦æœç´¢èµ„æºå¹³å°å®˜ç½‘ï¼Œæ³¨å†Œæˆ–è€…ç™»é™†ç™¾åº¦è´¦å·ï¼Œä¾æ¬¡é€‰æ‹© ç”¨æˆ·ä¸­å¿ƒ-ç«™ç‚¹ç®¡ç† ï¼Œæ·»åŠ ä½ çš„ç½‘ç«™ï¼Œåœ¨æ·»åŠ ç«™ç‚¹æ—¶ä¼šè®©ä½ é€‰æ‹©åè®®å¤´ï¼ˆhttp æˆ–è€… httpsï¼‰ï¼Œä¹‹åä¼šè®©ä½ éªŒè¯ç½‘ç«™æ‰€æœ‰æƒï¼Œæä¾›ä¸‰ç§éªŒè¯æ–¹å¼ï¼š æ–‡ä»¶éªŒè¯ï¼šä¸‹è½½ç»™å®šçš„æ–‡ä»¶ï¼Œå°†å…¶æ”¾åˆ°æœ¬åœ°ä¸»é¢˜ç›®å½• source æ–‡ä»¶å¤¹ï¼Œç„¶åéƒ¨ç½²ä¸Šå»å®ŒæˆéªŒè¯ HTML æ ‡ç­¾éªŒè¯ï¼šä¸€èˆ¬æ˜¯ç»™ä¸€ä¸ª meta æ ‡ç­¾ï¼Œæ”¾åˆ°é¦–é¡µ ä¸ æ ‡ç­¾ä¹‹é—´å³å¯å®ŒæˆéªŒè¯ CNAME éªŒè¯ï¼šå»åŸŸå DNS æ·»åŠ ä¸€ä¸ª CNAME è®°å½•å³å¯å®ŒæˆéªŒè¯ æäº¤ç™¾åº¦æœç´¢:ç™¾åº¦æä¾›äº†è‡ªåŠ¨æäº¤å’Œæ‰‹åŠ¨æäº¤ä¸¤ç§æ–¹å¼ï¼Œå…¶ä¸­è‡ªåŠ¨æäº¤åˆåˆ†ä¸ºä¸»åŠ¨æ¨é€ã€è‡ªåŠ¨æ¨é€å’Œ sitemap ä¸‰ç§æ–¹å¼,æ¨èåŒæ—¶ä½¿ç”¨ä¸»åŠ¨æ¨é€å’Œ sitemap æ–¹å¼ ä¸»åŠ¨æ¨é€å¯ä»¥åœ¨åšå®¢æ ¹ç›®å½•å®‰è£…æ’ä»¶ npm install hexo-baidu-url-submit â€”saveï¼Œç„¶ååœ¨æ ¹ç›®å½• _config.yml æ–‡ä»¶é‡Œå†™å…¥ä»¥ä¸‹é…ç½®ï¼šbaidu_url_submit: count: 1 # æäº¤æœ€æ–°çš„å¤šå°‘ä¸ªé“¾æ¥ host: www.itrhx.com # åœ¨ç™¾åº¦ç«™é•¿å¹³å°ä¸­æ·»åŠ çš„åŸŸå token: your_token # ç§˜é’¥ path: baidu_urls.txt # æ–‡æœ¬æ–‡æ¡£çš„åœ°å€ï¼Œ æ–°é“¾æ¥ä¼šä¿å­˜åœ¨æ­¤æ–‡æœ¬æ–‡æ¡£é‡Œ å…¶ä¸­çš„å…¶ä¸­çš„ token å¯ä»¥åœ¨ã€é“¾æ¥æäº¤ã€‘-ã€è‡ªåŠ¨æäº¤ã€‘-ã€ä¸»åŠ¨æ¨é€ã€‘ä¸‹é¢çœ‹åˆ°ï¼Œæ¥å£è°ƒç”¨åœ°å€æœ€åé¢ token=xxxxx å³ä¸ºä½ çš„ tokenåŒæ ·æ˜¯åœ¨æ ¹ç›®å½•çš„ _config.yml æ–‡ä»¶ï¼Œå¤§çº¦ç¬¬ 17 è¡Œå¤„ï¼Œurl è¦æ”¹ä¸ºåœ¨ç™¾åº¦ç«™é•¿å¹³å°æ·»åŠ çš„åŸŸåï¼Œä¹Ÿå°±æ˜¯ä½ ç½‘ç«™çš„é¦–é¡µåœ°å€ï¼š# URL url: https://www.itrhx.com root: / permalink: :year/:month/:day/:title/ æœ€åï¼ŒåŠ å…¥æ–°çš„ deployerï¼š # Deployment ## Docs: https://hexo.io/docs/deployment.html deploy: - type: git repository: github: git@github.com:TRHX/TRHX.github.io.git # è¿™æ˜¯åŸæ¥çš„ github é…ç½® coding: git@git.dev.tencent.com:TRHX/TRHX.git # è¿™æ˜¯åŸæ¥çš„ coding é…ç½® branch: master - type: baidu_url_submitter # è¿™æ˜¯æ–°åŠ çš„ä¸»åŠ¨æ¨é€ æœ€åæ‰§è¡Œ hexo g -d éƒ¨ç½²ä¸€éå³å¯å®ç°ä¸»åŠ¨æ¨é€ï¼Œæ¨é€æˆåŠŸçš„æ ‡å¿—æ˜¯ï¼šåœ¨æ‰§è¡Œéƒ¨ç½²å‘½ä»¤æœ€åä¼šæ˜¾ç¤ºç±»ä¼¼å¦‚ä¸‹ä»£ç ï¼š {&quot;remain&quot;:4999953,&quot;success&quot;:47} INFO Deploy done: baidu_url_submitter sitemapæäº¤ï¼šé¦–å…ˆæˆ‘ä»¬è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆä¸€ä¸ªç½‘ç«™åœ°å›¾ï¼š npm install hexo-generator-sitemap --save npm install hexo-generator-baidu-sitemap --save è¿™é‡Œä¹Ÿæ³¨æ„ä¸€ä¸‹ï¼Œå°†æ ¹ç›®å½•çš„ _config.yml æ–‡ä»¶ï¼Œå¤§çº¦ç¬¬ 17 è¡Œå¤„ï¼Œurl æ”¹ä¸ºåœ¨ç™¾åº¦ç«™é•¿å¹³å°æ·»åŠ çš„åŸŸåï¼Œä¹Ÿå°±æ˜¯ä½ ç½‘ç«™çš„é¦–é¡µåœ°å€ï¼š # URL url: https://www.itrhx.com root: / permalink: :year/:month/:day/:title/ ç„¶åä½¿ç”¨å‘½ä»¤ hexo g -d å°†ç½‘ç«™éƒ¨ç½²ä¸Šå»ï¼Œç„¶åè®¿é—® ä½ çš„é¦–é¡µ/sitemap.xml æˆ–è€… ä½ çš„é¦–é¡µ/baidusitemap.xml å°±å¯ä»¥çœ‹åˆ°ç½‘ç«™åœ°å›¾äº†æ¯”å¦‚æˆ‘çš„æ˜¯ï¼šhttps://www.itrhx.com/baidusitemap.xml æˆ–è€… https://www.itrhx.com/sitemap.xmlå…¶ä¸­ sitemap.xml æ–‡ä»¶æ˜¯æœç´¢å¼•æ“é€šç”¨çš„ sitemap æ–‡ä»¶ï¼Œbaidusitemap.xml æ˜¯ç™¾åº¦ä¸“ç”¨çš„ sitemap æ–‡ä»¶ç„¶åæ¥åˆ°ç™¾åº¦ç«™é•¿å¹³å°çš„ sitemap æäº¤é¡µé¢ï¼Œå°†ä½ çš„ sitemap åœ°å€æäº¤å³å¯ï¼Œå¦‚æœæˆåŠŸçš„è¯çŠ¶æ€ä¼šæ˜¾ç¤ºä¸ºæ­£å¸¸ï¼Œåˆæ¬¡æäº¤è¦ç­‰å‡ åˆ†é’Ÿï¼Œsitemap.xml ç›¸æ¯” baidusitemap.xml æ¥è¯´ç­‰å¾…æ—¶é—´ä¹Ÿä¼šæ›´é•¿ï¼Œå¦‚æœä»¥åä½ åšå®¢æœ‰æ–°çš„æ–‡ç« æˆ–å…¶ä»–é¡µé¢ï¼Œå¯ä»¥ç‚¹å‡»æ‰‹åŠ¨æ›´æ–°æ–‡ä»¶ï¼Œæ›´æ–°ä¸€ä¸‹æ–°çš„ sitemap æäº¤è°·æ­Œæœç´¢æäº¤è°·æ­Œæœç´¢å¼•æ“æ¯”è¾ƒç®€å•ï¼Œåœ¨æäº¤ä¹‹å‰ï¼Œæˆ‘ä»¬ä¾ç„¶å¯ä»¥ä½¿ç”¨site:åŸŸåæŸ¥çœ‹ç½‘ç«™æ˜¯å¦è¢«æ”¶å½•æ¥ä¸‹æ¥æˆ‘ä»¬å°†ç½‘ç«™æäº¤è°·æ­Œæœç´¢å¼•æ“æœç´¢ï¼Œè¿›å…¥è°·æ­Œç«™é•¿å¹³å°ï¼Œç™»å½•ä½ çš„è°·æ­Œè´¦å·ä¹‹åä¼šè®©ä½ éªŒè¯ç½‘ç«™æ‰€æœ‰æƒ.æ‰€æœ‰æ“ä½œéœ€è¦ç§‘å­¦ä¸Šç½‘ä¹‹åæœ‰ä¸¤ç§éªŒè¯æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯ç½‘åŸŸå’Œç½‘å€å‰ç¼€ï¼Œé€‰æ‹©ä¸€ä¸ªé€‚åˆçš„å°±è¡Œã€‚æˆ‘ç”¨çš„æ˜¯æ¯”è¾ƒç®€å•çš„ç½‘å€å‰ç¼€ï¼Œæ ¹æ®è°·æ­Œç»™çš„æç¤ºåšåç»­çš„æ“ä½œå°±å¯ä»¥çš„ã€‚è°·æ­Œæ”¶å½•åŸºæœ¬ä¸Šç­‰å‡ åˆ†é’Ÿå°±å¯ä»¥çœ‹åˆ°ç»“æœäº†ï¼Œéå¸¸å¿«,è€Œä¸”ä¹Ÿä¸éœ€è¦æ·»åŠ sitemapæˆ–è€…è®¾ç½®è‡ªåŠ¨æ¨é€å°±å¯ä»¥ç›´æ¥æŠ“å–åˆ°å†…å®¹äº†ï¼Œéå¸¸æ–¹ä¾¿ æäº¤å¿…åº”æœç´¢å¿…åº”æ”¶å½•ä¹Ÿæ˜¯å¾ˆç®€å•ï¼Œç‚¹å‡»å¿…åº”ç«™é•¿ã€‚å…ˆæ³¨å†Œç™»å½•ï¼Œå¿…åº”æ”¶å½•æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§ä½¿ç”¨åˆšåˆšè°·æ­Œå¯¼å…¥è¿‡å»ï¼Œç¬¬äºŒç§æ˜¯å°±æ˜¯è‡ªå·±æ·»åŠ URL,è·Ÿç€æç¤ºæ“ä½œå°±è¡Œã€‚ä¸è¿‡å¿…åº”ä¹Ÿæ”¶å½•ä¹Ÿæ¯”è¾ƒæ…¢ï¼Œåªæ¯”ç™¾åº¦ç¨å¿«ä¸€ç‚¹ ä½¿ç”¨Latexåœ¨åšå®¢ä¸­å¦‚æœæœ‰ä¹¦å†™æ•°å­¦å…¬ç¤ºçš„éœ€æ±‚ï¼Œé‚£ä¹ˆä¸€å®šä¼šç”¨åˆ°Latex.Sakuraä¸»é¢˜ä¸­å·²ç»å†…ç½®æœ‰Latexè¯­æ³•ï¼Œåªè¦åœ¨ä¸»é¢˜æ–‡ä»¶å¤¹ä¸­çš„_config.ymlæ–‡ä»¶ä¸­å°†mathjaxè®¾ç½®ä¸º1å³å¯ã€‚ å‚è€ƒæ–‡ç« /ç½‘ç«™ï¼šctzâ€™s blogyrempâ€™s bloghttps://blog.csdn.net/qq_36759224/article/details/100879609https://www.itrhx.com/2019/09/17/A48-submit-search-engine-inclusion/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"blog","slug":"blog","permalink":"http://smilecoc.vip/tags/blog/"}],"author":"smilecoc"},{"title":"Hexo Sakuraä¸»é¢˜çš„é—®é¢˜æ±‡æ€»","slug":"Hexo Sakura problems list","date":"2020-02-02T14:02:02.000Z","updated":"2022-04-17T08:23:47.980Z","comments":true,"path":"2020/02/02/Hexo Sakura problems list/","link":"","permalink":"http://smilecoc.vip/2020/02/02/Hexo Sakura problems list/","excerpt":"","text":"ä»£ç é«˜äº®åˆšç”¨çš„æ—¶å€™ä»£ç æ¡†ååˆ†è¯¡å¼‚è€Œä¸”å‹æ ¹å°±æ²¡æœ‰é«˜äº®ã€‚æ‰¾äº†å‡ ç§æ–¹æ³•å¹¶ä¸å¯è¡Œï¼Œæ•´ç†äº†ä¸€ä¸‹å‡ ç§å¯èƒ½é”™è¯¯çš„åŸå› ã€‚é”™è¯¯å¯èƒ½ä¸º1.markdown(md)è¯­æ³•é—®é¢˜ï¼Œå°†ä»£ç å—æ”¹ä¸ºå¦‚ä¸‹æ ¼å¼ï¼š ```+è¯­è¨€åï¼ˆæ¯”å¦‚javaï¼‰ ä»£ç å†…å®¹ 2.ä¸hexoè‡ªå¸¦çš„é«˜äº®å†²çªäº†ï¼Œåªè¦æŠŠç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­ï¼š ```TEXT highlight: enable: true trueæ”¹ä¸ºfalseå°±å¯ä»¥äº†ã€‚æ³¨æ„æ˜¯ç«™ç‚¹é…ç½®æ–‡ä»¶è€Œä¸æ˜¯ä¸»é¢˜é…ç½®æ–‡ä»¶ æœç´¢æœç´¢ä¸€ç›´ä¸èƒ½ç”¨çš„åŸå› å°±æ˜¯å°‘äº†ä¸ªæ’ä»¶ã€‚ git bashä¸­æ‰§è¡Œï¼š npm install hexo-generator-json-content --save æ–‡ç« å†…æ’å…¥å›¾ç‰‡åœ¨æ–‡ç« ä¸­å†™å…¥: ![](/upload_image/1.jpg) ç„¶åè¿›å…¥themes-ä¸»é¢˜å-source-upload_imageç›®å½•ä¸‹(è‡ªå·±åˆ›å»º)ï¼Œå°†å›¾ç‰‡æ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹ï¼Œå°±å¯ä»¥äº†ã€‚ è¯´æ˜ï¼šå½“æ‰§è¡Œhexo gå‘½ä»¤æ—¶ï¼Œä¼šè‡ªåŠ¨æŠŠå›¾ç‰‡å¤åˆ¶åˆ° publicæ–‡ä»¶çš„upload_imageç›®å½•ä¸‹ã€‚ èµèµé¡µé¢çš„ä½œè€…åç§°ä¿®æ”¹èµèµé¡µé¢çš„é¡µè„šä½œè€…æ°¸è¿œæ˜¯åŸä½œè€…çš„åç§°ï¼Œå¯èƒ½æ˜¯æ²¡æœ‰é“¾æ¥åˆ°å˜é‡çš„bugå§ ä¿®æ”¹æ–¹æ³•ä¸ºå°†â€\\blog\\themes\\Sakura\\themes\\Sakura\\layout\\donate.ejsâ€ä¸­çš„ &lt;h3 itemprop=&quot;name&quot;&gt; &lt;a href=&quot;&lt;%- theme.url%&gt;&quot; itemprop=&quot;url&quot; rel=&quot;author&quot;&gt;houjun&lt;/a&gt; &lt;/h3&gt; â€œhoujunâ€æ¢ä¸ºè‡ªå·±çš„åå­—å°±å¯ä»¥äº† å¦å¤–å…¶ä»–çš„ç›¸ä¼¼é—®é¢˜æ¯”å¦‚å‹é“¾é¡µé¢çš„æè¿°éœ€è¦æ”¹åŠ¨çš„è¯ä¹Ÿæ˜¯ä¸€æ ·çš„æ–¹æ³• ä¸»é¢˜å·¥å…·åœ¨themes\\sakura\\layout\\layout.ejsä¸­ï¼š &lt;div class=&quot;scrollbar&quot; id=&quot;bar&quot;&gt; &lt;/div&gt; å‰é¢æ·»åŠ ï¼š &lt;%- partial(&#39;_partial/setdisplay&#39;) %&gt; &lt;%- partial(&#39;_partial/set&#39;, null, {cache: !config.relative_link}) %&gt; åŸç‰ˆæ˜¯åœ¨&lt;%- partial(â€˜_partial/mheaderâ€™, null, {cache: !config.relative_link}) %&gt;å‰æ·»åŠ çš„ï¼Œä½†è¦è¿™æ ·å­—ä½“åˆ‡æ¢ä¼šå‡ºbugã€‚ åœ¨\\themes\\sakura\\layout_partialä¸­æ–°å»ºset.ejsï¼Œå†…å®¹ï¼š &lt;div class=&quot;changeSkin-gear no-select&quot;&gt; &lt;div class=&quot;keys&quot; id=&quot;setbtn&quot;&gt; &lt;span id=&quot;open-skinMenu&quot;&gt; SCHEME TOOL | ä¸»é¢˜å·¥å…· &amp;nbsp; &lt;i class=&quot;iconfont icon-gear inline-block rotating&quot;&gt; &lt;/i&gt; &lt;/span&gt; &lt;/div&gt; &lt;/div&gt; æ–°å»ºsetdisplay.ejsï¼Œå†…å®¹ï¼š &lt;div class=&quot;skin-menu no-select&quot; id=&quot;mainskin&quot; style=&quot;position: fixed&quot;&gt; &lt;div class=&quot;theme-controls row-container&quot;&gt; &lt;p style=&quot;text-align:center;font-family:&#39;Monaco&#39;;font-weight:bold;color:#444&quot;&gt;&lt;i style=&quot;color:grey&quot; class=&quot;fa fa-chevron-left&quot;&gt;&lt;/i&gt; background &lt;i style=&quot;color:grey&quot; class=&quot;fa fa-chevron-right&quot;&gt;&lt;/i&gt;&lt;/p&gt; &lt;ul class=&quot;menu-list&quot;&gt; &lt;li id=&quot;white-bg&quot;&gt; &lt;i class=&quot;fa fa-television&quot; aria-hidden=&quot;true&quot;&gt; &lt;/i&gt; &lt;/li&gt; &lt;li id=&quot;sakura-bg&quot;&gt; &lt;i class=&quot;iconfont icon-sakura&quot;&gt; &lt;/i&gt; &lt;/li&gt; &lt;li id=&quot;gribs-bg&quot;&gt; &lt;i class=&quot;fa fa-slack&quot; aria-hidden=&quot;true&quot;&gt; &lt;/i&gt; &lt;/li&gt; &lt;li id=&quot;KAdots-bg&quot;&gt; &lt;i class=&quot;iconfont icon-dots&quot;&gt; &lt;/i&gt; &lt;/li&gt; &lt;li id=&quot;totem-bg&quot;&gt; &lt;i class=&quot;fa fa-optin-monster&quot; aria-hidden=&quot;true&quot;&gt; &lt;/i&gt; &lt;/li&gt; &lt;li id=&quot;pixiv-bg&quot;&gt; &lt;i class=&quot;iconfont icon-pixiv&quot;&gt; &lt;/i&gt; &lt;/li&gt; &lt;li id=&quot;bing-bg&quot;&gt; &lt;i class=&quot;iconfont icon-bing&quot;&gt; &lt;/i&gt; &lt;/li&gt; &lt;li id=&quot;dark-bg&quot;&gt; &lt;i class=&quot;fa fa-moon-o&quot; aria-hidden=&quot;true&quot;&gt; &lt;/i&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;canvas id=&quot;night-mode-cover&quot;&gt; &lt;/canvas&gt; &lt;/div&gt; è¿˜è¦ä¿®ç‚¹bugï¼š åœ¨\\themes\\sakura\\source\\js\\sakura-app.jsä¸­ï¼Œæ‰¾åˆ°å‡½æ•°$(â€˜.skin-menu #dark-bgâ€™).click(function ()ï¼Œå‡½æ•°æœ€åº•ä¸‹æ·»åŠ ï¼š setCookie(&#39;bgImgSetting&#39;,&#39;https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/other/starry_sky.png&#39;,30) æŠŠæ‰€æœ‰å½¢å¦‚ï¼š $(&#39;.changeSkin-gear, .toc&#39;).css(&#39;background&#39;, &#39;none&#39;) æˆ– $(&#39;.changeSkin-gear, .toc&#39;).css(&#39;background&#39;, &#39;rgba(255,255,255,0.8)&#39;) é‡Œçš„.changeSkin-gear,åˆ æ‰ã€‚ è¿™åªæ˜¯åˆå§‹ç‰ˆï¼Œåé¢è¿˜æœ‰æ›´é«˜çº§çš„ã€‚ æ›´æ¢bingå›¾ç‰‡bingä¸»é¢˜æ˜¯ä»bingéšæœºå›¾ç‰‡apiè·å–ä¸€å¼ å›¾ç‰‡åšèƒŒæ™¯ï¼Œå¯ä»¥æ›´æ¢ã€‚ åœ¨\\themes\\sakura\\source\\js\\sakura-app.jsä¸­ï¼Œä¸‹é¢ä¸¤å¥ï¼š changeBGnoTrans(&#39;#bing-bg&#39;, &#39;https://api.shino.cc/bing/&#39;) else if (bgurl == &#39;https://api.shino.cc/bing/&#39;) å…¶ä¸­çš„ç½‘å€æ¢æˆå…¶ä»–urlã€‚ ä½ç½®å’Œå¤–è§‚åœ¨set.ejsé‡Œç›´æ¥ç”¨cssç¾åŒ–ï¼Œå¯èƒ½è¿˜è¦ä¿®æ­£setdisplay.ejsã€‚ å‚è€ƒé…ç½®ï¼š set.ejsï¼š &lt;div class=&quot;changeSkin-gear no-select&quot; style=&quot;background: rgba(0, 0, 0, 0) none repeat scroll 0% 0%; visibility: visible; bottom: 0px;&quot;&gt; &lt;div class=&quot;keys&quot; id=&quot;setbtn&quot;&gt; &lt;button id=&quot;open-skinMenu&quot;&gt; &lt;style&gt; button#open-skinMenu{ transition: all 0.2s linear 0s; outline:none; position:fixed; bottom:13px; left:15px; font-size:16px; background-color: rgba(255,255,255,.95); border-radius: 20px; box-shadow: 0 3px 8px 0 rgba(0,0,0,0.1), 0 3px 8px 0 rgba(0,0,0,0.1); } button#open-skinMenu:hover{ transition: all 0.2s linear 0s; background-color: rgb(255, 165, 0); color: rgba(255,255,255); } &lt;/style&gt; &lt;i class=&quot;iconfont icon-gear inline-block rotating&quot;&gt; &lt;/i&gt; SCHEME TOOL | ä¸»é¢˜å·¥å…· &lt;/button&gt; &lt;/div&gt; &lt;/div&gt; æ–‡ç« åˆ—è¡¨å›¾ç‰‡æ‹‰ä¼¸é—®é¢˜æµè§ˆæŸä¸ªåˆ†ç±»æˆ–æ ‡ç­¾ä¸‹çš„æ–‡ç« ä¸‹æ—¶ï¼Œé…å›¾æ˜¯è¢«å‹ç¼©æˆæ­£æ–¹å½¢çš„,å¯¼è‡´åŸæ¥çš„å›¾ç‰‡äº§ç”Ÿå˜å½¢è§£å†³åŠæ³•ä¸ºï¼šåœ¨\\themes\\sakura\\source\\css\\style.cssä¸­ï¼Œæ‰¾åˆ°.feature imgï¼Œå†…éƒ¨æ·»åŠ ï¼š object-fit: cover; å¯¹ä¸»é¢˜è¿›è¡Œé­”æ”¹ç”Ÿæˆç½‘é¡µçš„ä»£ç éƒ½åœ¨\\blog\\themes\\Sakura\\themes\\Sakura\\layoutæ–‡ä»¶å¤¹ä¸­ï¼Œé€šè¿‡åç§°å¯ä»¥æ‰¾åˆ°æ•´ä¸ªç½‘é¡µçš„ä»£ç ï¼Œå¯¹ç…§ç”Ÿæˆçš„ç½‘é¡µæºç æ‰¾åˆ°å¯¹åº”çš„é¢æ–‡ä»¶è¿›è¡Œä¿®æ”¹å³å¯ã€‚ä¸æ¸…æ¥šç›¸å¯¹è·¯å¾„æ˜¯å¦å½¢åŒï¼Œå¯ä»¥å¤šå¤šè¿›è¡Œå°è¯• åç»­cdnçš„æ·»åŠ å’Œä¿®æ”¹å¦‚æœéœ€è¦å¯¹cdné‡Œçš„æ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œä¾‹å¦‚åˆ é™¤å’Œæ›´åï¼Œæ”¹å˜æ–‡ä»¶ç»“æ„ç­‰ï¼š å…‹éš†Githubä»“åº“åˆ°æœ¬åœ°ç‚¹å‡» Clone or downloadï¼Œä¸€é”®å¤åˆ¶ä»“åº“åœ°å€åœ¨æœ¬åœ°ç›®å½•å³é”® Git Bash Hereï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š git clone ä¸€é”®å¤åˆ¶çš„ä»“åº“åœ°å€ ä¸Šä¼ èµ„æºå¤åˆ¶éœ€è¦ä¸Šä¼ çš„èµ„æºåˆ°æœ¬åœ°gitä»“åº“ï¼ˆæ³¨ï¼šjsDelivrä¸æ”¯æŒåŠ è½½è¶…è¿‡20Mçš„èµ„æºï¼‰ï¼Œåœ¨æœ¬åœ°gitä»“åº“ç›®å½•ä¸‹å³é”® Git Bash Hereï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š git status //æŸ¥çœ‹çŠ¶æ€ git add . //æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº git commit -m &#39;ç¬¬ä¸€æ¬¡æäº¤&#39; //æŠŠæ–‡ä»¶æäº¤åˆ°ä»“åº“ git push //æ¨é€è‡³è¿œç¨‹ä»“åº“ å‘å¸ƒä»“åº“ç‚¹å‡»releaseå‘å¸ƒè‡ªå®šä¹‰å‘å¸ƒç‰ˆæœ¬å· é€šè¿‡jsDelivrå¼•ç”¨èµ„æºä½¿ç”¨æ–¹æ³•ï¼šhttps://cdn.jsdelivr.net/gh/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å@å‘å¸ƒçš„ç‰ˆæœ¬å·/æ–‡ä»¶è·¯å¾„æˆ–è€…ï¼šhttps://cdn.jsdelivr.net/gh/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å@master/æ–‡ä»¶è·¯å¾„,è¿™æ ·å¯ä»¥ä¸ç”¨å†githubä¸­releaseç‰ˆæœ¬ä¾‹å¦‚ï¼šhttps://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@1.0/images/trhx.pnghttps://cdn.jsdelivr.net/gh/TRHX/CDN-for-itrhx.com@2.0.1/css/style.csshttps://cdn.jsdelivr.net/gh/moezx/cdn@3.1.3//The%20Pet%20Girl%20of%20Sakurasou.mp4æ³¨æ„ï¼šç‰ˆæœ¬å·ä¸æ˜¯å¿…éœ€çš„ï¼Œæ˜¯ä¸ºäº†åŒºåˆ†æ–°æ—§èµ„æºï¼Œå¦‚æœä¸ä½¿ç”¨ç‰ˆæœ¬å·ï¼Œå°†ä¼šç›´æ¥å¼•ç”¨æœ€æ–°èµ„æºï¼Œé™¤æ­¤ä¹‹å¤–è¿˜å¯ä»¥ä½¿ç”¨æŸä¸ªèŒƒå›´å†…çš„ç‰ˆæœ¬ï¼ŒæŸ¥çœ‹æ‰€æœ‰èµ„æºç­‰ï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š // åŠ è½½ä»»ä½•Githubå‘å¸ƒã€æäº¤æˆ–åˆ†æ”¯ https://cdn.jsdelivr.net/gh/user/repo@version/file // åŠ è½½ jQuery v3.2.1 https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/dist/jquery.min.js // ä½¿ç”¨ç‰ˆæœ¬èŒƒå›´è€Œä¸æ˜¯ç‰¹å®šç‰ˆæœ¬ https://cdn.jsdelivr.net/gh/jquery/jquery@3.2/dist/jquery.min.js https://cdn.jsdelivr.net/gh/jquery/jquery@3/dist/jquery.min.js // å®Œå…¨çœç•¥è¯¥ç‰ˆæœ¬ä»¥è·å–æœ€æ–°ç‰ˆæœ¬ https://cdn.jsdelivr.net/gh/jquery/jquery/dist/jquery.min.js // å°†â€œ.minâ€æ·»åŠ åˆ°ä»»ä½•JS/CSSæ–‡ä»¶ä¸­ä»¥è·å–ç¼©å°ç‰ˆæœ¬ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå°†ä¸ºä¼šè‡ªåŠ¨ç”Ÿæˆ https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/src/core.min.js // åœ¨æœ«å°¾æ·»åŠ  / ä»¥è·å–èµ„æºç›®å½•åˆ—è¡¨ https://cdn.jsdelivr.net/gh/jquery/jquery/ Rssé¡µé¢ä¿®æ”¹RSSé…ç½®åæ˜¯404çš„é¡µé¢ï¼Œè§£å†³æ­¥éª¤å¦‚ä¸‹ï¼šå®‰è£…æ’ä»¶ npm install hexo-generator-feed ä¸»é…ç½®_config.ymlæ–‡æœ«æ·»åŠ  # Extensions ## Plugins: http://hexo.io/plugins/ #RSSè®¢é˜… plugin: hexo-generator-feed #Feed Atom feed: type: atom #RSSçš„ç±»å‹(atom/rss2) path: atom.xml #æ–‡ä»¶è·¯å¾„,é»˜è®¤æ˜¯atom.xml/rss2.xml limit: 20 #å±•ç¤ºæ–‡ç« çš„æ•°é‡,ä½¿ç”¨0æˆ–åˆ™falseä»£è¡¨å±•ç¤ºå…¨éƒ¨ hub: content: #åœ¨RSSæ–‡ä»¶ä¸­æ˜¯å¦åŒ…å«å†…å®¹ ,æœ‰3ä¸ªå€¼ true/falseé»˜è®¤ä¸å¡«ä¸ºfalse content_limit: 140 #æŒ‡å®šå†…å®¹çš„é•¿åº¦ä½œä¸ºæ‘˜è¦,ä»…ä»…åœ¨ä¸Šé¢contentè®¾ç½®ä¸ºfalseå’Œæ²¡æœ‰è‡ªå®šä¹‰çš„æè¿°å‡ºç° content_limit_delim: &#39; &#39; #ä¸Šé¢æˆªå–æè¿°çš„åˆ†éš”ç¬¦,æˆªå–å†…å®¹æ˜¯ä»¥æŒ‡å®šçš„è¿™ä¸ªåˆ†éš”ç¬¦ä½œä¸ºæˆªå–ç»“æŸçš„æ ‡å¿—.åœ¨è¾¾åˆ°è§„å®šçš„å†…å®¹é•¿åº¦ä¹‹å‰æœ€åå‡ºç°çš„è¿™ä¸ªåˆ†éš”ç¬¦ä¹‹å‰çš„å†…å®¹,ï¼Œé˜²æ­¢ä»ä¸­é—´æˆªæ–­. order_by: -date icon: #icon.png ä¸»é¢˜é…ç½®themes\\sakura_config.ymlæ–‡æœ«æ·»åŠ (sakuraä¸»é¢˜ä¸­åº”è¯¥å·²æœ‰è¿™ä¸€å¥ï¼Œå¦‚æœå·²æœ‰çš„è¯å¯ä»¥ç›´æ¥è·³è¿‡) # ç®€æ˜“ä¿¡æ¯èšåˆ,ç«™ç‚¹å…±äº« rss: /atom.xml æ·»åŠ æœç´¢å¼•æ“æ”¶å½•æŸ¥çœ‹ç½‘ç«™æ˜¯å¦è¢«æ”¶å½•é¦–å…ˆæˆ‘ä»¬å¯ä»¥è¾“å…¥ site:åŸŸå æ¥æŸ¥çœ‹åŸŸåæ˜¯å¦è¢«æœç´¢å¼•æ“æ”¶å½•ï¼Œå¦‚æœæ²¡æœ‰ç›¸å…³ç½‘é¡µï¼Œè¡¨ç¤ºæ²¡æœ‰æ”¶å½• æäº¤ç™¾åº¦æœç´¢githubæ˜¯ç¦æ­¢ç™¾åº¦çˆ¬è™«çš„ï¼Œæ‰€ä»¥å¦‚æœä½ æ˜¯å’Œæˆ‘ä¸€æ ·åœ¨githubä¸­å»ºç«‹çš„é™æ€ç½‘ç«™ï¼Œæƒ³è¦åœ¨ç™¾åº¦ä¸­è¢«æœåˆ°éœ€è¦å°†åšå®¢åŒçº¿éƒ¨ç½²åˆ°å›½å†…çš„ä»£ç æ‰˜ç®¡å¹³å°ã€‚è¿™é‡Œä½¿ç”¨Codingã€‚å¦å¤–ç™¾åº¦æ”¶å½•çš„æ‰€éœ€çš„æ—¶é—´è¾ƒé•¿ï¼Œå¤§çº¦åŠä¸ªæœˆå·¦å³æ‰ä¼šçœ‹åˆ°æ•ˆæœï¼ åˆ›å»ºé¡¹ç›®ï¼šè¿›å…¥ Coding å®˜ç½‘ï¼Œç‚¹å‡»ä¸ªäººç‰ˆç™»é™†ï¼Œæ²¡æœ‰è´¦å·å°±æ³¨å†Œä¸€ä¸ªå¹¶ç™»å½•ï¼Œè¿›å…¥åæœ‰å•¥æç¤ºå¼•å¯¼çš„è¯è·³è¿‡ï¼Œç‚¹å‡»åˆ›å»ºé¡¹ç›®ã€‚é¡¹ç›®åç§°å»ºè®®å’Œä½ çš„ç”¨æˆ·åä¸€è‡´ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼šåˆ°æ—¶å€™å¯ä»¥ç›´æ¥é€šè¿‡user_name.coding.meè®¿é—®ä½ çš„åšå®¢ï¼Œå¦‚æœé¡¹ç›®åä¸ç”¨æˆ·åä¸ä¸€è‡´ï¼Œåˆ™éœ€è¦é€šè¿‡user_name.coding.me/project_nameæ‰èƒ½è®¿é—®ï¼Œé¡¹ç›®æè¿°å¯ä»¥éšä¾¿å†™ é…ç½®å…¬é’¥ã€‚é…ç½® SSH å…¬é’¥æ–¹æ³•ä¸ GitHub Pages çš„æ–¹å¼å·®ä¸å¤šï¼Œç‚¹å‡»ä½ çš„å¤´åƒï¼Œä¾æ¬¡é€‰æ‹© ä¸ªäººè®¾ç½®-SSHå…¬é’¥-æ–°å¢å…¬é’¥ï¼Œå‰é¢éƒ¨ç½²åˆ° GitHub Pages çš„æ—¶å€™å°±å·²ç»æœ‰äº†ä¸€å¯¹å…¬é’¥ï¼Œæˆ‘ä»¬ç›´æ¥å°†è¯¥å…¬é’¥ç²˜è´´è¿›å»å°±è¡Œï¼Œå…¬é’¥åç§°å¯ä»¥éšä¾¿å†™ï¼Œé€‰ä¸­æ°¸ä¹…æœ‰æ•ˆé€‰é¡¹ PSï¼šå…¬é’¥å‚¨å­˜ä½ç½®ä¸€èˆ¬åœ¨ C:\\Users\\ç”¨æˆ·å.ssh ç›®å½•ä¸‹çš„ id_rsa.pub æ–‡ä»¶é‡Œï¼Œç”¨è®°äº‹æœ¬æ‰“å¼€å¤åˆ¶å…¶å†…å®¹å³å¯ã€‚å¦å¤–ç”±äºcodingçš„UIå˜åŒ–å¾ˆå¿«ï¼Œæ‰€ä»¥æœ‰äº›æŒ‰é’®çš„ä½ç½®å’Œå±‚çº§å·²ç»å˜åŒ–éœ€è¦æ‰¾ä¸€ä¸‹ï¼Œä½†æ˜¯å·®çš„ä¸å¤šï¼Œå®åœ¨ä¸è¡Œçš„è¯å°±ç™¾åº¦ æ·»åŠ å…¬é’¥åï¼Œæˆ‘ä»¬å¯ä»¥å³é”®Get Bashï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥æ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸï¼šssh -T git@e.coding.net ` è‹¥å‡ºç°ä»¥ä¸‹æç¤ºï¼Œåˆ™è¯æ˜é…ç½®æˆåŠŸï¼šcoding æç¤º: Hello XXX, You&#39;ve connected to Coding.net via SSH. This is a personal key. XXXï¼Œä½ å¥½ï¼Œä½ å·²ç»é€šè¿‡ SSH åè®®è®¤è¯ Coding.net æœåŠ¡ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸ªäººå…¬é’¥ é…ç½® _config.yml:è¿›å…¥ä½ çš„é¡¹ç›®ï¼Œåœ¨å³ä¸‹è§’æœ‰é€‰æ‹©è¿æ¥æ–¹å¼ï¼Œé€‰æ‹© SSH æ–¹å¼ï¼ˆHTTPS æ–¹å¼ä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼æœ‰æ—¶å€™å¯èƒ½è¿æ¥ä¸ä¸Šï¼ŒSSH è¿æ¥ä¸å®¹æ˜“å‡ºé—®é¢˜ï¼‰ï¼Œä¸€é”®å¤åˆ¶ï¼Œç„¶åæ‰“å¼€ä½ æœ¬åœ°åšå®¢æ ¹ç›®å½•çš„ _config.yml æ–‡ä»¶ï¼Œæ‰¾åˆ° deploy å…³é”®å­—ï¼Œæ·»åŠ  coding åœ°å€ï¼Œä¹Ÿå°±æ˜¯åˆšåˆšå¤åˆ¶çš„ SSH åœ°å€:deploy: type: git repository: github: git@github.com:xxx/xxx.github.io.git coding: git@e.coding.net:xxx/xxx/xxx.git branch: master æ³¨æ„ä¸­é—´æœ‰ç©ºæ ¼ã€‚æ·»åŠ å®Œæˆåå…ˆæ‰§è¡Œå‘½ä»¤ hexo clean æ¸…ç†ä¸€ä¸‹ç¼“å­˜ï¼Œç„¶åæ‰§è¡Œå‘½ä»¤ hexo g -d å°†åšå®¢åŒçº¿éƒ¨ç½²åˆ° Coding Pages å’Œ GitHub Pagesï¼Œå¯ä»¥æŸ¥çœ‹ä¸€ä¸‹ä»£ç ä»“åº“æ˜¯å¦æœ‰ä»£ç ä¸Šä¼ ï¼Œå¦‚æœæœ‰å³è¡¨ç¤ºéƒ¨ç½²æˆåŠŸï¼š å¼€å¯ Coding Pagesã€‚æ‰“å¼€ é¡¹ç›®è®¾ç½®-é¡¹ç›®ä¸æˆå‘˜-åŠŸèƒ½å¼€å…³ï¼Œæ‰“å¼€ æŒç»­é›†æˆ å’Œ æŒç»­éƒ¨ç½²ï¼Œç„¶ååœ¨ æŒç»­éƒ¨ç½² ä¸­å¯ä»¥çœ‹åˆ°é™æ€ç½‘ç«™ã€‚ç»è¿‡èº«ä»½éªŒè¯åå³å¯å¼€å¯ ç»‘å®šåŸŸåå¹¶å¼€å¯ HPPTSï¼šé¦–å…ˆåœ¨ä½ çš„åŸŸå DNS è®¾ç½®ä¸­æ·»åŠ ä¸€æ¡ CNAME è®°å½•æŒ‡å‘ xxxx.coding.meï¼Œè§£æè·¯çº¿é€‰æ‹© é»˜è®¤ï¼Œå°† GitHub çš„è§£æè·¯çº¿æ”¹ä¸º å¢ƒå¤–ï¼Œè¿™æ ·å¢ƒå¤–è®¿é—®å°±ä¼šèµ° GitHubï¼Œå¢ƒå†…å°±ä¼šèµ° Codingï¼Œä¹Ÿæœ‰äººè¯´é˜¿é‡Œäº‘æ˜¯æ™ºèƒ½è§£æï¼Œè‡ªåŠ¨åˆ†é…è·¯çº¿ï¼Œå¦‚æœè§£æè·¯çº¿éƒ½æ˜¯é»˜è®¤ï¼Œå¢ƒå¤–è®¿é—®åŒæ ·ä¼šæ™ºèƒ½é€‰æ‹©èµ° GitHubï¼Œå¢ƒå†…èµ° Codingï¼Œæˆ‘æ²¡æœ‰éªŒè¯è¿‡ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªå·±è¯•è¯•ï¼Œæˆ‘çš„è§£æå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šç„¶åç‚¹å‡»é™æ€ Pages åº”ç”¨å³ä¸Šè§’çš„è®¾ç½®ï¼Œè¿›å…¥è®¾ç½®é¡µé¢ï¼Œè¿™é‡Œè¦æ³¨æ„ï¼Œå¦‚æœä½ ä¹‹å‰å·²ç»éƒ¨ç½²åˆ°äº† GitHub Pages å¹¶å¼€å¯äº† HTTPSï¼Œé‚£ä¹ˆç›´æ¥åœ¨è®¾ç½®é¡µé¢ç»‘å®šä½ è‡ªå·±çš„åŸŸåï¼ŒSSL/TLS å®‰å…¨è¯ä¹¦å°±ä¼šæ˜¾ç¤ºç”³è¯·é”™è¯¯ï¼Œå½“ä½ è®¿é—®ä½ çš„ç½‘ç«™æ—¶ï¼Œæµè§ˆå™¨å°±ä¼šæç¤ºä¸æ˜¯å®‰å…¨è¿æ¥ã€‚ç”³è¯·é”™è¯¯åŸå› æ˜¯ï¼šåœ¨éªŒè¯åŸŸåæ‰€æœ‰æƒæ—¶ä¼šå®šä½åˆ° Github Pages çš„ä¸»æœºä¸Šå¯¼è‡´ SSL è¯ä¹¦ç”³è¯·å¤±è´¥æ­£ç¡®çš„åšæ³•æ˜¯ï¼šå…ˆå»åŸŸå DNS æŠŠ GitHub çš„è§£ææš‚åœæ‰ï¼Œç„¶åå†é‡æ–°ç”³è¯· SSL è¯ä¹¦ï¼Œå¤§çº¦åç§’å·¦å³å°±èƒ½ç”³è¯·æˆåŠŸï¼Œç„¶åå¼€å¯å¼ºåˆ¶ HTTPS è®¿é—®è¿™é‡Œä¹Ÿå»ºè®®åŒæ—¶ç»‘å®šæœ‰ www å‰ç¼€å’Œæ²¡æœ‰ www å‰ç¼€çš„ï¼Œå¦‚æœè¦ç»‘å®šæ²¡æœ‰ www å‰ç¼€çš„ï¼Œé¦–å…ˆè¦å»åŸŸå DNS æ·»åŠ ä¸€ä¸ª A è®°å½•ï¼Œä¸»æœºè®°å½•ä¸º @ï¼Œè®°å½•å€¼ä¸ºä½ åšå®¢ IP åœ°å€ï¼ŒIP åœ°å€å¯ä»¥åœ¨ cmd å‘½ä»¤è¡Œ ping ä¸€ä¸‹å¾—åˆ°ï¼Œç„¶ååœ¨ Coding Pages ä¸­è®¾ç½®å…¶ä¸­ä¸€ä¸ªä¸ºã€é¦–é€‰ã€‘ï¼Œå¦ä¸€ä¸ªè®¾ç½®ã€è·³è½¬è‡³é¦–é€‰ã€‘ï¼Œè¿™æ ·ä¸ç®¡ç”¨æˆ·æ˜¯å¦è¾“å…¥ www å‰ç¼€éƒ½ä¼šè·³åˆ°æœ‰ www å‰ç¼€çš„äº†è‡³æ­¤ï¼Œæˆ‘ä»¬çš„ Hexo åšå®¢å°±æˆåŠŸåŒçº¿éƒ¨ç½²åˆ° Coding Pages å’Œ GitHub Pages äº†ã€‚ è®¿é—®ç™¾åº¦æœç´¢èµ„æºå¹³å°å®˜ç½‘ï¼Œæ³¨å†Œæˆ–è€…ç™»é™†ç™¾åº¦è´¦å·ï¼Œä¾æ¬¡é€‰æ‹© ç”¨æˆ·ä¸­å¿ƒ-ç«™ç‚¹ç®¡ç† ï¼Œæ·»åŠ ä½ çš„ç½‘ç«™ï¼Œåœ¨æ·»åŠ ç«™ç‚¹æ—¶ä¼šè®©ä½ é€‰æ‹©åè®®å¤´ï¼ˆhttp æˆ–è€… httpsï¼‰ï¼Œä¹‹åä¼šè®©ä½ éªŒè¯ç½‘ç«™æ‰€æœ‰æƒï¼Œæä¾›ä¸‰ç§éªŒè¯æ–¹å¼ï¼š æ–‡ä»¶éªŒè¯ï¼šä¸‹è½½ç»™å®šçš„æ–‡ä»¶ï¼Œå°†å…¶æ”¾åˆ°æœ¬åœ°ä¸»é¢˜ç›®å½• source æ–‡ä»¶å¤¹ï¼Œç„¶åéƒ¨ç½²ä¸Šå»å®ŒæˆéªŒè¯ HTML æ ‡ç­¾éªŒè¯ï¼šä¸€èˆ¬æ˜¯ç»™ä¸€ä¸ª meta æ ‡ç­¾ï¼Œæ”¾åˆ°é¦–é¡µ ä¸ æ ‡ç­¾ä¹‹é—´å³å¯å®ŒæˆéªŒè¯ CNAME éªŒè¯ï¼šå»åŸŸå DNS æ·»åŠ ä¸€ä¸ª CNAME è®°å½•å³å¯å®ŒæˆéªŒè¯ æäº¤ç™¾åº¦æœç´¢:ç™¾åº¦æä¾›äº†è‡ªåŠ¨æäº¤å’Œæ‰‹åŠ¨æäº¤ä¸¤ç§æ–¹å¼ï¼Œå…¶ä¸­è‡ªåŠ¨æäº¤åˆåˆ†ä¸ºä¸»åŠ¨æ¨é€ã€è‡ªåŠ¨æ¨é€å’Œ sitemap ä¸‰ç§æ–¹å¼,æ¨èåŒæ—¶ä½¿ç”¨ä¸»åŠ¨æ¨é€å’Œ sitemap æ–¹å¼ ä¸»åŠ¨æ¨é€å¯ä»¥åœ¨åšå®¢æ ¹ç›®å½•å®‰è£…æ’ä»¶ npm install hexo-baidu-url-submit â€”saveï¼Œç„¶ååœ¨æ ¹ç›®å½• _config.yml æ–‡ä»¶é‡Œå†™å…¥ä»¥ä¸‹é…ç½®ï¼šbaidu_url_submit: count: 1 # æäº¤æœ€æ–°çš„å¤šå°‘ä¸ªé“¾æ¥ host: www.itrhx.com # åœ¨ç™¾åº¦ç«™é•¿å¹³å°ä¸­æ·»åŠ çš„åŸŸå token: your_token # ç§˜é’¥ path: baidu_urls.txt # æ–‡æœ¬æ–‡æ¡£çš„åœ°å€ï¼Œ æ–°é“¾æ¥ä¼šä¿å­˜åœ¨æ­¤æ–‡æœ¬æ–‡æ¡£é‡Œ å…¶ä¸­çš„å…¶ä¸­çš„ token å¯ä»¥åœ¨ã€é“¾æ¥æäº¤ã€‘-ã€è‡ªåŠ¨æäº¤ã€‘-ã€ä¸»åŠ¨æ¨é€ã€‘ä¸‹é¢çœ‹åˆ°ï¼Œæ¥å£è°ƒç”¨åœ°å€æœ€åé¢ token=xxxxx å³ä¸ºä½ çš„ tokenåŒæ ·æ˜¯åœ¨æ ¹ç›®å½•çš„ _config.yml æ–‡ä»¶ï¼Œå¤§çº¦ç¬¬ 17 è¡Œå¤„ï¼Œurl è¦æ”¹ä¸ºåœ¨ç™¾åº¦ç«™é•¿å¹³å°æ·»åŠ çš„åŸŸåï¼Œä¹Ÿå°±æ˜¯ä½ ç½‘ç«™çš„é¦–é¡µåœ°å€ï¼š# URL url: https://www.itrhx.com root: / permalink: :year/:month/:day/:title/ æœ€åï¼ŒåŠ å…¥æ–°çš„ deployerï¼š # Deployment ## Docs: https://hexo.io/docs/deployment.html deploy: - type: git repository: github: git@github.com:TRHX/TRHX.github.io.git # è¿™æ˜¯åŸæ¥çš„ github é…ç½® coding: git@git.dev.tencent.com:TRHX/TRHX.git # è¿™æ˜¯åŸæ¥çš„ coding é…ç½® branch: master - type: baidu_url_submitter # è¿™æ˜¯æ–°åŠ çš„ä¸»åŠ¨æ¨é€ æœ€åæ‰§è¡Œ hexo g -d éƒ¨ç½²ä¸€éå³å¯å®ç°ä¸»åŠ¨æ¨é€ï¼Œæ¨é€æˆåŠŸçš„æ ‡å¿—æ˜¯ï¼šåœ¨æ‰§è¡Œéƒ¨ç½²å‘½ä»¤æœ€åä¼šæ˜¾ç¤ºç±»ä¼¼å¦‚ä¸‹ä»£ç ï¼š {&quot;remain&quot;:4999953,&quot;success&quot;:47} INFO Deploy done: baidu_url_submitter sitemapæäº¤ï¼šé¦–å…ˆæˆ‘ä»¬è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç”Ÿæˆä¸€ä¸ªç½‘ç«™åœ°å›¾ï¼š npm install hexo-generator-sitemap --save npm install hexo-generator-baidu-sitemap --save è¿™é‡Œä¹Ÿæ³¨æ„ä¸€ä¸‹ï¼Œå°†æ ¹ç›®å½•çš„ _config.yml æ–‡ä»¶ï¼Œå¤§çº¦ç¬¬ 17 è¡Œå¤„ï¼Œurl æ”¹ä¸ºåœ¨ç™¾åº¦ç«™é•¿å¹³å°æ·»åŠ çš„åŸŸåï¼Œä¹Ÿå°±æ˜¯ä½ ç½‘ç«™çš„é¦–é¡µåœ°å€ï¼š # URL url: https://www.itrhx.com root: / permalink: :year/:month/:day/:title/ ç„¶åä½¿ç”¨å‘½ä»¤ hexo g -d å°†ç½‘ç«™éƒ¨ç½²ä¸Šå»ï¼Œç„¶åè®¿é—® ä½ çš„é¦–é¡µ/sitemap.xml æˆ–è€… ä½ çš„é¦–é¡µ/baidusitemap.xml å°±å¯ä»¥çœ‹åˆ°ç½‘ç«™åœ°å›¾äº†æ¯”å¦‚æˆ‘çš„æ˜¯ï¼šhttps://www.itrhx.com/baidusitemap.xml æˆ–è€… https://www.itrhx.com/sitemap.xmlå…¶ä¸­ sitemap.xml æ–‡ä»¶æ˜¯æœç´¢å¼•æ“é€šç”¨çš„ sitemap æ–‡ä»¶ï¼Œbaidusitemap.xml æ˜¯ç™¾åº¦ä¸“ç”¨çš„ sitemap æ–‡ä»¶ç„¶åæ¥åˆ°ç™¾åº¦ç«™é•¿å¹³å°çš„ sitemap æäº¤é¡µé¢ï¼Œå°†ä½ çš„ sitemap åœ°å€æäº¤å³å¯ï¼Œå¦‚æœæˆåŠŸçš„è¯çŠ¶æ€ä¼šæ˜¾ç¤ºä¸ºæ­£å¸¸ï¼Œåˆæ¬¡æäº¤è¦ç­‰å‡ åˆ†é’Ÿï¼Œsitemap.xml ç›¸æ¯” baidusitemap.xml æ¥è¯´ç­‰å¾…æ—¶é—´ä¹Ÿä¼šæ›´é•¿ï¼Œå¦‚æœä»¥åä½ åšå®¢æœ‰æ–°çš„æ–‡ç« æˆ–å…¶ä»–é¡µé¢ï¼Œå¯ä»¥ç‚¹å‡»æ‰‹åŠ¨æ›´æ–°æ–‡ä»¶ï¼Œæ›´æ–°ä¸€ä¸‹æ–°çš„ sitemap æäº¤è°·æ­Œæœç´¢æäº¤è°·æ­Œæœç´¢å¼•æ“æ¯”è¾ƒç®€å•ï¼Œåœ¨æäº¤ä¹‹å‰ï¼Œæˆ‘ä»¬ä¾ç„¶å¯ä»¥ä½¿ç”¨site:åŸŸåæŸ¥çœ‹ç½‘ç«™æ˜¯å¦è¢«æ”¶å½•æ¥ä¸‹æ¥æˆ‘ä»¬å°†ç½‘ç«™æäº¤è°·æ­Œæœç´¢å¼•æ“æœç´¢ï¼Œè¿›å…¥è°·æ­Œç«™é•¿å¹³å°ï¼Œç™»å½•ä½ çš„è°·æ­Œè´¦å·ä¹‹åä¼šè®©ä½ éªŒè¯ç½‘ç«™æ‰€æœ‰æƒ.æ‰€æœ‰æ“ä½œéœ€è¦ç§‘å­¦ä¸Šç½‘ä¹‹åæœ‰ä¸¤ç§éªŒè¯æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯ç½‘åŸŸå’Œç½‘å€å‰ç¼€ï¼Œé€‰æ‹©ä¸€ä¸ªé€‚åˆçš„å°±è¡Œã€‚æˆ‘ç”¨çš„æ˜¯æ¯”è¾ƒç®€å•çš„ç½‘å€å‰ç¼€ï¼Œæ ¹æ®è°·æ­Œç»™çš„æç¤ºåšåç»­çš„æ“ä½œå°±å¯ä»¥çš„ã€‚è°·æ­Œæ”¶å½•åŸºæœ¬ä¸Šç­‰å‡ åˆ†é’Ÿå°±å¯ä»¥çœ‹åˆ°ç»“æœäº†ï¼Œéå¸¸å¿«,è€Œä¸”ä¹Ÿä¸éœ€è¦æ·»åŠ sitemapæˆ–è€…è®¾ç½®è‡ªåŠ¨æ¨é€å°±å¯ä»¥ç›´æ¥æŠ“å–åˆ°å†…å®¹äº†ï¼Œéå¸¸æ–¹ä¾¿ æäº¤å¿…åº”æœç´¢å¿…åº”æ”¶å½•ä¹Ÿæ˜¯å¾ˆç®€å•ï¼Œç‚¹å‡»å¿…åº”ç«™é•¿ã€‚å…ˆæ³¨å†Œç™»å½•ï¼Œå¿…åº”æ”¶å½•æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§ä½¿ç”¨åˆšåˆšè°·æ­Œå¯¼å…¥è¿‡å»ï¼Œç¬¬äºŒç§æ˜¯å°±æ˜¯è‡ªå·±æ·»åŠ URL,è·Ÿç€æç¤ºæ“ä½œå°±è¡Œã€‚ä¸è¿‡å¿…åº”ä¹Ÿæ”¶å½•ä¹Ÿæ¯”è¾ƒæ…¢ï¼Œåªæ¯”ç™¾åº¦ç¨å¿«ä¸€ç‚¹ ä½¿ç”¨Latexåœ¨åšå®¢ä¸­å¦‚æœæœ‰ä¹¦å†™æ•°å­¦å…¬ç¤ºçš„éœ€æ±‚ï¼Œé‚£ä¹ˆä¸€å®šä¼šç”¨åˆ°Latex.Sakuraä¸»é¢˜ä¸­å·²ç»å†…ç½®æœ‰Latexè¯­æ³•ï¼Œåªè¦åœ¨ä¸»é¢˜æ–‡ä»¶å¤¹ä¸­çš„_config.ymlæ–‡ä»¶ä¸­å°†mathjaxè®¾ç½®ä¸º1å³å¯ã€‚ åˆå§‹åŒ–Hexoå¹¶æœ¬åœ°é¢„è§ˆé€‰ä¸­ç½‘ç«™æ–‡ä»¶å¤¹å³é”®ï¼Œç‚¹å‡»Git Bash Hereï¼Œæˆ–è€…CMDä¸­ç›´æ¥è¿›å…¥åšå®¢çš„æ–‡ä»¶å¤¹ï¼Œä¾æ¬¡è¾“å…¥ä»¥ä¸‹ä»£ç ï¼š hexo g hexo s æ³¨æ„ä»£ç æ˜¯åˆ†åˆ«è¾“å…¥çš„åœ¨æµè§ˆå™¨åœ°å€æ ä¸­è¾“å…¥localhost:4000 å¹¶æŒ‰ä¸‹å›è½¦é”®ï¼Œå¦‚æœå‡ºç°ä»¥åšå®¢ç•Œé¢å°±è¯´æ˜Hexoæœ¬åœ°é¢„è§ˆæˆåŠŸ å›åˆ°Gitæ§åˆ¶å°æˆ–CMDä¸­æŒ‰ä¸‹CTRL+Cå³å¯å…³é—­æœ¬åœ°é¢„è§ˆæœåŠ¡å™¨ å‚è€ƒæ–‡ç« /ç½‘ç«™ï¼šctzâ€™s blogyrempâ€™s bloghttps://blog.csdn.net/qq_36759224/article/details/100879609https://www.itrhx.com/2019/09/17/A48-submit-search-engine-inclusion/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"blog","slug":"blog","permalink":"http://smilecoc.vip/tags/blog/"}],"author":"smilecoc"},{"title":"å®šåˆ¶ç³»ç»Ÿä¸ä½¿ç”¨æ–¹å¼èµ„æº","slug":"å®šåˆ¶ç³»ç»Ÿèµ„æº","date":"2019-12-31T16:00:00.000Z","updated":"2022-04-17T08:25:15.248Z","comments":true,"path":"2020/01/01/å®šåˆ¶ç³»ç»Ÿèµ„æº/","link":"","permalink":"http://smilecoc.vip/2020/01/01/å®šåˆ¶ç³»ç»Ÿèµ„æº/","excerpt":"","text":"å®šåˆ¶ç³»ç»Ÿèµ„æºä¸‹è½½ https://www.drblack-system.com/index.php/system/ ç³»ç»Ÿå®‰è£…æ–¹æ³•ä¹‹ï¼šPEå®‰è£… https://www.drblack-system.com/index.php/2019/08/19/%e7%b3%bb%e7%bb%9f%e5%ae%89%e8%a3%85%e6%96%b9%e6%b3%95%e4%b9%8b%ef%bc%9ape%e5%ae%89%e8%a3%85/ ç³»ç»Ÿå®‰è£…æ–¹æ³•ä¹‹ï¼šç¡¬ç›˜å®‰è£… https://www.drblack-system.com/index.php/2019/03/24/bilibili-os%e3%81%ae%e7%a1%ac%e7%9b%98%e5%ae%89%e8%a3%85%e6%96%b9%e6%b3%95/","categories":[{"name":"èµ„æº","slug":"èµ„æº","permalink":"http://smilecoc.vip/categories/èµ„æº/"}],"tags":[{"name":"å…¶ä»–èµ„æº","slug":"å…¶ä»–èµ„æº","permalink":"http://smilecoc.vip/tags/å…¶ä»–èµ„æº/"}],"author":"smilecoc"},{"title":"SQLçª—å£å‡½æ•°å¹¶å®ç°ç­›é€‰å‡ºè¿ç»­nå¤©ç™»å½•ç”¨æˆ·","slug":"SQLå®ç°ç­›é€‰å‡ºè¿ç»­3å¤©ç™»å½•ç”¨æˆ·","date":"2019-12-25T08:24:08.000Z","updated":"2020-11-26T14:06:22.977Z","comments":true,"path":"2019/12/25/SQLå®ç°ç­›é€‰å‡ºè¿ç»­3å¤©ç™»å½•ç”¨æˆ·/","link":"","permalink":"http://smilecoc.vip/2019/12/25/SQLå®ç°ç­›é€‰å‡ºè¿ç»­3å¤©ç™»å½•ç”¨æˆ·/","excerpt":"","text":"@TOC è¿˜åŸè¯•é¢˜é¦–å…ˆæ–°å»ºä¸€å¼ è¡¨æ¥è¿˜åŸä¸€ä¸‹è¯•é¢˜ï¼š CREATE TABLE last_3_day_test_table ( user_id varchar(300), login_date date ); INSERT INTO last_3_day_test_table ( user_id , login_date ) VALUES (&#39;A&#39;, &#39;2019/9/2&#39;), (&#39;A&#39;, &#39;2019/9/3&#39;), (&#39;A&#39;, &#39;2019/9/4&#39;), (&#39;B&#39;, &#39;2018/11/25&#39;), (&#39;B&#39;, &#39;2018/12/31&#39;), (&#39;C&#39;, &#39;2019/1/1&#39;), (&#39;C&#39;, &#39;2019/4/4&#39;), (&#39;C&#39;, &#39;2019/9/3&#39;), (&#39;C&#39;, &#39;2019/9/4&#39;), (&#39;C&#39;, &#39;2019/9/5&#39;); è¡¨ä¸­æ•°æ®å¦‚ä¸‹æ‰€ç¤ºï¼š +â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+ | user_id | login_date | +â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+ | A | 2019-09-02 | | A | 2019-09-03 | | A | 2019-09-04 | | B | 2018-11-25 | | B | 2018-12-31 | | C | 2019-01-01 | | C | 2019-04-04 | | C | 2019-09-03 | | C | 2019-09-04 | | C | 2019-09-05 | +â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+ç°åœ¨éœ€è¦æ‰¾å‡ºè¿™å¼ è¡¨ä¸­æ‰€æœ‰çš„è¿ç»­3å¤©ç™»å½•ç”¨æˆ· è¿™ä¸ªé—®é¢˜è™½ç„¶è¯´éš¾ä¸éš¾ï¼Œä½†è¯´æ˜“ä¹Ÿä¸ç®€å•ï¼Œè€Œä¸”ï¼Œåå—å¤§å°å‚å–œæ¬¢ã€‚å…¶å®ï¼Œä¸ç®¡æ˜¯æ•°ä»“/ETL/BI/æ•°æ®åˆ†æ/å¤§æ•°æ®ç­‰æ–¹å‘ï¼Œéƒ½ä¼šç»å¸¸è¢«é¢è¯•/ç¬”è¯•è€ƒå¯Ÿåˆ°ã€‚è€Œè§£å†³è¿™ä¸ªé—®é¢˜çš„æ ¸å¿ƒåœ¨äºçª—å£å‡½æ•°çš„ä½¿ç”¨ï¼Œå› æ­¤å…ˆæ¥çœ‹ä¸€ä¸‹ä»€ä¹ˆæ˜¯çª—å£å‡½æ•° SQLçª—å£å‡½æ•°ä¸€.çª—å£å‡½æ•°æœ‰ä»€ä¹ˆç”¨åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°éœ€è¦åœ¨æ¯ç»„å†…æ’åï¼Œæ¯”å¦‚ä¸‹é¢çš„ä¸šåŠ¡éœ€æ±‚ï¼š æ’åé—®é¢˜ï¼šæ¯ä¸ªéƒ¨é—¨æŒ‰ä¸šç»©æ¥æ’å topNé—®é¢˜ï¼šæ‰¾å‡ºæ¯ä¸ªéƒ¨é—¨æ’åå‰Nçš„å‘˜å·¥è¿›è¡Œå¥–åŠ± æ±‡æ€»é—®é¢˜ï¼šéœ€è¦åŠ æ€»æ¯ä¸ªéƒ¨é—¨çš„ä¸šç»©åŠ æ€»ï¼Œä½†æ˜¯éœ€è¦æŒ‰ç…§æŒ‰ç…§æœ€ç»†çš„ç»´åº¦å‘ˆç°è€Œéä¸€å¼ æ±‡æ€»è¡¨å‘ˆç° é¢å¯¹è¿™ç±»éœ€æ±‚ï¼Œå°±éœ€è¦ä½¿ç”¨sqlçš„é«˜çº§åŠŸèƒ½çª—å£å‡½æ•°äº†ã€‚ äºŒ.ä»€ä¹ˆæ˜¯çª—å£å‡½æ•°çª—å£å‡½æ•°ï¼Œä¹Ÿå«OLAPå‡½æ•°ï¼ˆOnline Anallytical Processingï¼Œè”æœºåˆ†æå¤„ç†ï¼‰ï¼Œå¯ä»¥å¯¹æ•°æ®åº“æ•°æ®è¿›è¡Œå®æ—¶åˆ†æå¤„ç†ã€‚ çª—å£å‡½æ•°çš„åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š &lt;çª—å£å‡½æ•°&gt; over (partition by &lt;ç”¨äºåˆ†ç»„çš„åˆ—å&gt; order by &lt;ç”¨äºæ’åºçš„åˆ—å&gt;)é‚£ä¹ˆè¯­æ³•ä¸­çš„&lt;çª—å£å‡½æ•°&gt;éƒ½æœ‰å“ªäº›å‘¢ï¼Ÿ &lt;çª—å£å‡½æ•°&gt;çš„ä½ç½®ï¼Œå¯ä»¥æ”¾ä»¥ä¸‹ä¸¤ç§å‡½æ•°ï¼š 1ï¼‰ ä¸“ç”¨çª—å£å‡½æ•°ï¼ŒåŒ…æ‹¬åé¢è¦è®²åˆ°çš„rank, dense_rank, row_numberç­‰ä¸“ç”¨çª—å£å‡½æ•°ã€‚2ï¼‰ èšåˆå‡½æ•°ï¼Œå¦‚sum. avg, count, max, minç­‰ å› ä¸ºçª—å£å‡½æ•°æ˜¯å¯¹whereæˆ–è€…group byå­å¥å¤„ç†åçš„ç»“æœè¿›è¡Œæ“ä½œï¼Œæ‰€ä»¥çª—å£å‡½æ•°åŸåˆ™ä¸Šåªèƒ½å†™åœ¨selectå­å¥ä¸­ã€‚ ä¸‰.å¦‚ä½•ä½¿ç”¨æ¥ä¸‹æ¥ï¼Œå°±ç»“åˆå®ä¾‹ï¼Œç»™å¤§å®¶ä»‹ç»å‡ ç§çª—å£å‡½æ•°çš„ç”¨æ³•ã€‚ 1.ä¸“ç”¨çª—å£å‡½æ•°rankä¾‹å¦‚ä¸‹å›¾ï¼Œæ˜¯ç­çº§è¡¨ä¸­çš„å†…å®¹ å¦‚æœæˆ‘ä»¬æƒ³åœ¨æ¯ä¸ªç­çº§å†…æŒ‰æˆç»©æ’åï¼Œå¾—åˆ°ä¸‹é¢çš„ç»“æœã€‚ ä»¥ç­çº§â€œ1â€ä¸ºä¾‹ï¼Œè¿™ä¸ªç­çº§çš„æˆç»©â€œ95â€æ’åœ¨ç¬¬1ä½ï¼Œè¿™ä¸ªç­çº§çš„â€œ83â€æ’åœ¨ç¬¬4ä½ã€‚ä¸Šé¢è¿™ä¸ªç»“æœç¡®å®æŒ‰æˆ‘ä»¬çš„è¦æ±‚åœ¨æ¯ä¸ªç­çº§å†…ï¼ŒæŒ‰æˆç»©æ’åäº†ã€‚ å¾—åˆ°ä¸Šé¢ç»“æœçš„sqlè¯­å¥ä»£ç å¦‚ä¸‹ï¼š select *, rank() over (partition by ç­çº§ order by æˆç»© desc) as ranking from ç­çº§è¡¨ æˆ‘ä»¬æ¥è§£é‡Šä¸‹è¿™ä¸ªsqlè¯­å¥é‡Œçš„selectå­å¥ã€‚rankæ˜¯æ’åºçš„å‡½æ•°ã€‚è¦æ±‚æ˜¯â€œæ¯ä¸ªç­çº§å†…æŒ‰æˆç»©æ’åâ€ï¼Œè¿™å¥è¯å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š 1ï¼‰æ¯ä¸ªç­çº§å†…ï¼šæŒ‰ç­çº§åˆ†ç»„ partition byç”¨æ¥å¯¹è¡¨åˆ†ç»„ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬æŒ‡å®šäº†æŒ‰â€œç­çº§â€åˆ†ç»„ï¼ˆpartition by ç­çº§ï¼‰2ï¼‰æŒ‰æˆç»©æ’å order byå­å¥çš„åŠŸèƒ½æ˜¯å¯¹åˆ†ç»„åçš„ç»“æœè¿›è¡Œæ’åºï¼Œé»˜è®¤æ˜¯æŒ‰ç…§å‡åºï¼ˆascï¼‰æ’åˆ—ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼ˆorder by æˆç»© descï¼‰æ˜¯æŒ‰æˆç»©è¿™ä¸€åˆ—æ’åºï¼ŒåŠ äº†descå…³é”®è¯è¡¨ç¤ºé™åºæ’åˆ—ã€‚ é€šè¿‡ä¸‹å›¾ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç†è§£partiition byï¼ˆåˆ†ç»„ï¼‰å’Œorder byï¼ˆåœ¨ç»„å†…æ’åºï¼‰çš„ä½œç”¨äº†ã€‚ çª—å£å‡½æ•°å…·å¤‡äº†æˆ‘ä»¬ä¹‹å‰å­¦è¿‡çš„group byå­å¥åˆ†ç»„çš„åŠŸèƒ½å’Œorder byå­å¥æ’åºçš„åŠŸèƒ½ã€‚é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆè¿˜è¦ç”¨çª—å£å‡½æ•°å‘¢ï¼Ÿ è¿™æ˜¯å› ä¸ºï¼Œgroup byåˆ†ç»„æ±‡æ€»åæ”¹å˜äº†è¡¨çš„è¡Œæ•°ï¼Œä¸€è¡Œåªæœ‰ä¸€ä¸ªç±»åˆ«ã€‚è€Œpartiition byå’Œrankå‡½æ•°ä¸ä¼šå‡å°‘åŸè¡¨ä¸­çš„è¡Œæ•°ã€‚ä¾‹å¦‚ä¸‹é¢ç»Ÿè®¡æ¯ä¸ªç­çº§çš„äººæ•°ã€‚ ç›¸ä¿¡é€šè¿‡è¿™ä¸ªä¾‹å­ï¼Œä½ å·²ç»æ˜ç™½äº†è¿™ä¸ªçª—å£å‡½æ•°çš„ä½¿ç”¨ï¼š ç°åœ¨æˆ‘ä»¬è¯´å›æ¥ï¼Œä¸ºä»€ä¹ˆå«â€œçª—å£â€å‡½æ•°å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºpartition byåˆ†ç»„åçš„ç»“æœç§°ä¸ºâ€œçª—å£â€ï¼Œè¿™é‡Œçš„çª—å£ä¸æ˜¯æˆ‘ä»¬å®¶é‡Œçš„é—¨çª—ï¼Œè€Œæ˜¯è¡¨ç¤ºâ€œèŒƒå›´â€çš„æ„æ€ã€‚ ç®€å•æ¥è¯´ï¼Œçª—å£å‡½æ•°æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š åŒæ—¶å…·æœ‰åˆ†ç»„å’Œæ’åºçš„åŠŸèƒ½ ä¸å‡å°‘åŸè¡¨çš„è¡Œæ•° è¯­æ³•å¦‚ä¸‹:```&lt;çª—å£å‡½æ•°&gt; over (partition by &lt;ç”¨äºåˆ†ç»„çš„åˆ—å&gt; order by &lt;ç”¨äºæ’åºçš„åˆ—å&gt;)``` 2.å…¶ä»–ä¸“ä¸šçª—å£å‡½æ•°ä¸“ç”¨çª—å£å‡½æ•°rank, dense_rank, row_numberæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿ å®ƒä»¬çš„åŒºåˆ«æˆ‘ä¸¾ä¸ªä¾‹å­ï¼Œä½ ä»¬ä¸€ä¸‹å°±èƒ½çœ‹æ‡‚ï¼š select *, rank() over (order by æˆç»© desc) as ranking, dense_rank() over (order by æˆç»© desc) as dese_rank, row_number() over (order by æˆç»© desc) as row_num from ç­çº§è¡¨ å¾—åˆ°ç»“æœï¼š ä»ä¸Šé¢çš„ç»“æœå¯ä»¥çœ‹å‡ºï¼š rankå‡½æ•°: è¿™ä¸ªä¾‹å­ä¸­æ˜¯5ä½ï¼Œ5ä½ï¼Œ5ä½ï¼Œ8ä½ï¼Œä¹Ÿå°±æ˜¯å¦‚æœæœ‰å¹¶åˆ—åæ¬¡çš„è¡Œï¼Œä¼šå ç”¨ä¸‹ä¸€åæ¬¡çš„ä½ç½®ã€‚æ¯”å¦‚æ­£å¸¸æ’åæ˜¯1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œä½†æ˜¯ç°åœ¨å‰3åæ˜¯å¹¶åˆ—çš„åæ¬¡ï¼Œç»“æœæ˜¯ï¼š1ï¼Œ1ï¼Œ1ï¼Œ4ã€‚ dense_rankå‡½æ•°: è¿™ä¸ªä¾‹å­ä¸­æ˜¯5ä½ï¼Œ5ä½ï¼Œ5ä½ï¼Œ6ä½ï¼Œä¹Ÿå°±æ˜¯å¦‚æœæœ‰å¹¶åˆ—åæ¬¡çš„è¡Œï¼Œä¸å ç”¨ä¸‹ä¸€åæ¬¡çš„ä½ç½®ã€‚æ¯”å¦‚æ­£å¸¸æ’åæ˜¯1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œä½†æ˜¯ç°åœ¨å‰3åæ˜¯å¹¶åˆ—çš„åæ¬¡ï¼Œç»“æœæ˜¯ï¼š1ï¼Œ1ï¼Œ1ï¼Œ2ã€‚ row_numberå‡½æ•°: è¿™ä¸ªä¾‹å­ä¸­æ˜¯5ä½ï¼Œ6ä½ï¼Œ7ä½ï¼Œ8ä½ï¼Œä¹Ÿå°±æ˜¯ä¸è€ƒè™‘å¹¶åˆ—åæ¬¡çš„æƒ…å†µã€‚æ¯”å¦‚å‰3åæ˜¯å¹¶åˆ—çš„åæ¬¡ï¼Œæ’åæ˜¯æ­£å¸¸çš„1ï¼Œ2ï¼Œ3ï¼Œ4ã€‚ è¿™ä¸‰ä¸ªå‡½æ•°çš„åŒºåˆ«å¦‚ä¸‹ï¼š æœ€åï¼Œéœ€è¦å¼ºè°ƒçš„ä¸€ç‚¹æ˜¯ï¼šåœ¨ä¸Šè¿°çš„è¿™ä¸‰ä¸ªä¸“ç”¨çª—å£å‡½æ•°ä¸­ï¼Œå‡½æ•°åé¢çš„æ‹¬å·ä¸éœ€è¦ä»»ä½•å‚æ•°ï¼Œä¿æŒ()ç©ºç€å°±å¯ä»¥ã€‚ ç°åœ¨ï¼Œå¤§å®¶å¯¹çª—å£å‡½æ•°æœ‰ä¸€ä¸ªåŸºæœ¬äº†è§£äº†å—ï¼Ÿ 3.èšåˆå‡½æ•°ä½œä¸ºçª—å£å‡½æ•°èšå’Œçª—å£å‡½æ•°å’Œä¸Šé¢æåˆ°çš„ä¸“ç”¨çª—å£å‡½æ•°ç”¨æ³•å®Œå…¨ç›¸åŒï¼Œåªéœ€è¦æŠŠèšåˆå‡½æ•°å†™åœ¨çª—å£å‡½æ•°çš„ä½ç½®å³å¯ï¼Œä½†æ˜¯å‡½æ•°åé¢æ‹¬å·é‡Œé¢ä¸èƒ½ä¸ºç©ºï¼Œéœ€è¦æŒ‡å®šèšåˆçš„åˆ—åã€‚ æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹çª—å£å‡½æ•°æ˜¯èšåˆå‡½æ•°æ—¶ï¼Œä¼šå‡ºæ¥ä»€ä¹ˆç»“æœï¼š select *, sum(æˆç»©) over (order by å­¦å·) as current_sum, avg(æˆç»©) over (order by å­¦å·) as current_avg, count(æˆç»©) over (order by å­¦å·) as current_count, max(æˆç»©) over (order by å­¦å·) as current_max, min(æˆç»©) over (order by å­¦å·) as current_min from ç­çº§è¡¨ å¾—åˆ°ç»“æœï¼š æœ‰å‘ç°ä»€ä¹ˆå—ï¼Ÿæˆ‘å•ç‹¬ç”¨sumä¸¾ä¸ªä¾‹å­ï¼š å¦‚ä¸Šå›¾ï¼Œèšåˆå‡½æ•°sumåœ¨çª—å£å‡½æ•°ä¸­ï¼Œæ˜¯å¯¹è‡ªèº«è®°å½•ã€åŠä½äºè‡ªèº«è®°å½•ä»¥ä¸Šçš„æ•°æ®è¿›è¡Œæ±‚å’Œçš„ç»“æœã€‚æ¯”å¦‚0004å·ï¼Œåœ¨ä½¿ç”¨sumçª—å£å‡½æ•°åçš„ç»“æœï¼Œæ˜¯å¯¹0001ï¼Œ0002ï¼Œ0003ï¼Œ0004å·çš„æˆç»©æ±‚å’Œï¼Œè‹¥æ˜¯0005å·ï¼Œåˆ™ç»“æœæ˜¯0001å·~0005å·æˆç»©çš„æ±‚å’Œï¼Œä»¥æ­¤ç±»æ¨ã€‚ ä¸ä»…æ˜¯sumæ±‚å’Œï¼Œå¹³å‡ã€è®¡æ•°ã€æœ€å¤§æœ€å°å€¼ï¼Œä¹Ÿæ˜¯åŒç†ï¼Œéƒ½æ˜¯é’ˆå¯¹è‡ªèº«è®°å½•ã€ä»¥åŠè‡ªèº«è®°å½•ä¹‹ä¸Šçš„æ‰€æœ‰æ•°æ®è¿›è¡Œè®¡ç®—ï¼Œç°åœ¨å†ç»“åˆåˆšæ‰å¾—åˆ°çš„ç»“æœï¼ˆä¸‹å›¾ï¼‰ï¼Œæ˜¯ä¸æ˜¯ç†è§£èµ·æ¥å®¹æ˜“å¤šäº†ï¼Ÿ æ¯”å¦‚0005å·åé¢çš„èšåˆçª—å£å‡½æ•°ç»“æœæ˜¯ï¼šå­¦å·0001~0005äº”äººæˆç»©çš„æ€»å’Œã€å¹³å‡ã€è®¡æ•°åŠæœ€å¤§æœ€å°å€¼ã€‚ å¦‚æœæƒ³è¦çŸ¥é“æ‰€æœ‰äººæˆç»©çš„æ€»å’Œã€å¹³å‡ç­‰èšåˆç»“æœï¼Œçœ‹æœ€åä¸€è¡Œå³å¯ã€‚ è¿™æ ·ä½¿ç”¨çª—å£å‡½æ•°æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ èšåˆå‡½æ•°ä½œä¸ºçª—å£å‡½æ•°ï¼Œå¯ä»¥åœ¨æ¯ä¸€è¡Œçš„æ•°æ®é‡Œç›´è§‚çš„çœ‹åˆ°ï¼Œæˆªæ­¢åˆ°æœ¬è¡Œæ•°æ®ï¼Œç»Ÿè®¡æ•°æ®æ˜¯å¤šå°‘ï¼ˆæœ€å¤§å€¼ã€æœ€å°å€¼ç­‰ï¼‰ã€‚åŒæ—¶å¯ä»¥çœ‹å‡ºæ¯ä¸€è¡Œæ•°æ®ï¼Œå¯¹æ•´ä½“ç»Ÿè®¡æ•°æ®çš„å½±å“ã€‚ 4.æ³¨æ„äº‹é¡¹partitionå­å¥å¯æ˜¯çœç•¥ï¼Œçœç•¥å°±æ˜¯ä¸æŒ‡å®šåˆ†ç»„ï¼Œç»“æœå¦‚ä¸‹ï¼Œåªæ˜¯æŒ‰æˆç»©ç”±é«˜åˆ°ä½è¿›è¡Œäº†æ’åºï¼š select *, rank() over (order by æˆç»© desc) as ranking from ç­çº§è¡¨ å¾—åˆ°ç»“æœï¼š ä½†æ˜¯ï¼Œè¿™å°±å¤±å»äº†çª—å£å‡½æ•°çš„åŠŸèƒ½ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸è¦è¿™ä¹ˆä½¿ç”¨ã€‚ å››.æ€»ç»“1.çª—å£å‡½æ•°è¯­æ³• &lt;çª—å£å‡½æ•°&gt; over (partition by &lt;ç”¨äºåˆ†ç»„çš„åˆ—å&gt; order by &lt;ç”¨äºæ’åºçš„åˆ—å&gt;)&lt;çª—å£å‡½æ•°&gt;çš„ä½ç½®ï¼Œå¯ä»¥æ”¾ä»¥ä¸‹ä¸¤ç§å‡½æ•°ï¼š 1ï¼‰ ä¸“ç”¨çª—å£å‡½æ•°ï¼Œæ¯”å¦‚rank, dense_rank, row_numberç­‰ 2ï¼‰ èšåˆå‡½æ•°ï¼Œå¦‚sum. avg, count, max, minç­‰ 2.çª—å£å‡½æ•°æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š 1ï¼‰åŒæ—¶å…·æœ‰åˆ†ç»„ï¼ˆpartition byï¼‰å’Œæ’åºï¼ˆorder byï¼‰çš„åŠŸèƒ½ 2ï¼‰ä¸å‡å°‘åŸè¡¨çš„è¡Œæ•°ï¼Œæ‰€ä»¥ç»å¸¸ç”¨æ¥åœ¨æ¯ç»„å†…æ’å 3.æ³¨æ„äº‹é¡¹ çª—å£å‡½æ•°åŸåˆ™ä¸Šåªèƒ½å†™åœ¨selectå­å¥ä¸­ è§£é¢˜æ€è·¯é€šè¿‡ä¸Šè¿°è§£é‡Šï¼Œæˆ‘ä»¬çŸ¥é“äº†ä»€ä¹ˆæ˜¯çª—å£å‡½æ•°ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å¦‚ä½•åˆ©ç”¨çª—å£å‡½æ•°æ¥è§£å†³è¿™ä¸ªé—®é¢˜.è§£å†³é—®é¢˜çš„å…³é”®æ˜¯ï¼šå¦‚ä½•åˆ¤æ–­æ¯ä¸ªç”¨æˆ·è¿ç»­ æ€è·¯æ˜¯å…ˆé€šè¿‡çª—å£å‡½æ•°å¯¹user_idåˆ†ç»„æ’åºåï¼ˆrnï¼‰ï¼Œç”¨ç™»å½•æ—¥æœŸå‡å»åºå·m,å¦‚æœè¿ç»­çš„è¯ï¼Œåˆ™å¾—åˆ°çš„è¿™ä¸ªæ—¥æœŸï¼ˆflag_dateï¼‰ä¼šç›¸åŒå³ï¼š flag_date=login_date-rn +â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+ | user_id | login_date | rn | flag_date | +â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+ | A | 2019-09-02 | 1 | 2019-09-01 | | A | 2019-09-03 | 2 | 2019-09-01 | | A | 2019-09-04 | 3 | 2019-09-01 | | B | 2018-11-25 | 1 | 2018-11-24 | | B | 2018-12-31 | 2 | 2018-12-29 | | C | 2019-01-01 | 1 | 2018-12-31 | | C | 2019-04-04 | 2 | 2019-04-02 | | C | 2019-09-03 | 3 | 2019-08-31 | | C | 2019-09-04 | 4 | 2019-08-31 | | C | 2019-09-05 | 5 | 2019-08-31 | +â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+ ç„¶åæˆ‘ä»¬åªéœ€è¦é€šè¿‡ç­›é€‰å‡ºæ‰€æœ‰ç›¸åŒflag_dateä¸ªæ•°å¤§äº3å³å¯å¾—åˆ°ç»“æœã€‚å¦‚æœå®ç°ç­›é€‰å‡ºè¿ç»­nå¤©ç™»å½•ç”¨æˆ·,è¿™é‡Œç›¸åº”çš„æ”¹æˆnå°±å¯ä»¥äº† ä»£ç å®ç°åœ¨SQL Serverä¸­ï¼š select user_id from ( select user_id,login_date, row_number() over(partition by user_id order by login_date) as rn from last_3_day_test_table ) t group by user_id,DATEADD(D,-t.rn,login_date) having count(1)&gt;=3; åœ¨Mysqlä¸­ï¼š select user_id from ( select user_id,login_date, 1 as rn from last_3_day_test_table ) as t group by user_id,date_sub(login_date,interval t.rn day) having count(1)&gt;=3 ä¸¤è€…çš„åŒºåˆ«å°±æ˜¯åœ¨è®¡ç®—login_date-t.rnæ—¶ï¼ŒSQL Serverä¸­è¦ä½¿ç”¨DATEADDå‡½æ•°ï¼Œä¸”è¯­æ³•ä¸ºï¼šDATEADD(D,-t.rn,login_date)ï¼Œè€ŒMysqlä¸­ç›´æ¥ä½¿ç”¨date_sub(login_date,t.rn)å³å¯å®ç°æ—¥æœŸå‡å»æŒ‡å®šçš„æ—¶é—´é—´éš” å…¶ä»–è§£æ³•ä¸å»¶å±•é™„ä¸Šå¦å¤–çš„ä¸€ç§è§£æ³•ä¾›å‚è€ƒï¼ŒåŸºäºSQL server: select b.user_id from ( select user_id,login_date,lead(login_date,2,&#39;1900/1/1&#39;) over(partition by user_id order by login_date desc) as date1 from last_3_day_test_table a group by user_id,login_date ) as b where DATEADD(D,-2,cast(b.login_date as date)) =cast(b.date1 as date); åœ¨è¿™ä¸ªè§£æ³•ä¸­ä½¿ç”¨äº†å¦ä¸€ä¸ªçª—å£å‡½æ•°ï¼š LEAD()å‡½æ•°ã€‚å®ƒæä¾›å¯¹å½“å‰è¡Œä¹‹åçš„æŒ‡å®šç‰©ç†åç§»é‡çš„è¡Œçš„è®¿é—®ã€‚ç®€å•æ¥è¯´å°±æ˜¯é€šè¿‡ä½¿ç”¨LEAD()å‡½æ•°ï¼Œå¯ä»¥è¿”å›å½“å‰è¡Œçš„ä¸‹ä¸€è¡Œçš„æ•°æ®æˆ–ä¸‹nè¡Œçš„æ•°æ®ã€‚ LEAD()å‡½æ•°å¯¹äºå°†å½“å‰è¡Œçš„å€¼ä¸åç»­è¡Œçš„å€¼è¿›è¡Œæ¯”è¾ƒéå¸¸æœ‰ç”¨ã€‚ LEAD()å‡½æ•°çš„è¯­æ³•ä¸ºï¼š LEAD(return_value ,offset [,default]) over (partition by &lt;ç”¨äºåˆ†ç»„çš„åˆ—å&gt; order by &lt;ç”¨äºæ’åºçš„åˆ—å&gt;)åœ¨ä¸Šé¢è¯­æ³•ä¸­ï¼Œ return_valueï¼š åŸºäºæŒ‡å®šåç§»é‡çš„åç»­è¡Œçš„è¿”å›å€¼ï¼Œè¿”å›å€¼å¿…é¡»æ±‚å€¼ä¸ºå•ä¸ªå€¼ã€‚ç®€å•æ¥è¯´å°±æ˜¯åç§»è¡Œåå»å“ªä¸€åˆ—çš„å€¼è¿”å›offsetï¼š æ˜¯ä»å½“å‰è¡Œæ‰€éœ€åç§»çš„è¡Œæ•°ï¼Œç”¨äºè®¿é—®æ•°æ®ã€‚offsetå¯ä»¥æ˜¯è¡¨è¾¾å¼ï¼Œå­æŸ¥è¯¢æˆ–åˆ—ï¼Œå…¶å€¼ä¸ºæ­£æ•´æ•°ã€‚å¦‚æœæœªæ˜ç¡®æŒ‡å®šï¼Œåˆ™offsetçš„é»˜è®¤å€¼ä¸º1ã€‚å¦‚æœoffsetè¶…å‡ºåˆ†åŒºèŒƒå›´ï¼Œåˆ™è¯¥å‡½æ•°è¿”å›defaultã€‚defaultï¼š åç§»è¶…å‡ºåˆ†åŒºèŒƒå›´åçš„é»˜è®¤å€¼ï¼Œå¦‚æœæœªæŒ‡å®šï¼Œåˆ™é»˜è®¤ä¸ºNULLã€‚ æœ¬æ–‡å‚è€ƒæ–‡ç« ï¼šhttps://zhuanlan.zhihu.com/p/92654574","categories":[{"name":"ç¬”è®°","slug":"ç¬”è®°","permalink":"http://smilecoc.vip/categories/ç¬”è®°/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"ç®€å•å®ç”¨çš„SQLè„šæœ¬æ±‡æ€»","slug":"ç®€å•å®ç”¨çš„SQLè„šæœ¬æ±‡æ€»","date":"2019-09-30T16:00:01.000Z","updated":"2022-04-17T08:27:35.125Z","comments":true,"path":"2019/10/01/ç®€å•å®ç”¨çš„SQLè„šæœ¬æ±‡æ€»/","link":"","permalink":"http://smilecoc.vip/2019/10/01/ç®€å•å®ç”¨çš„SQLè„šæœ¬æ±‡æ€»/","excerpt":"","text":"1ã€è¡Œè½¬åˆ—çš„ç”¨æ³•PIVOTCREATE table test (id int,name nvarchar(20),quarter int,number int) insert into test values(1,N&#39;è‹¹æœ&#39;,1,1000) insert into test values(1,N&#39;è‹¹æœ&#39;,2,2000) insert into test values(1,N&#39;è‹¹æœ&#39;,3,4000) insert into test values(1,N&#39;è‹¹æœ&#39;,4,5000) insert into test values(2,N&#39;æ¢¨å­&#39;,1,3000) insert into test values(2,N&#39;æ¢¨å­&#39;,2,3500) insert into test values(2,N&#39;æ¢¨å­&#39;,3,4200) insert into test values(2,N&#39;æ¢¨å­&#39;,4,5500) select * from test ç»“æœï¼š select ID,NAME, [1] as &#39;ä¸€å­£åº¦&#39;, [2] as &#39;äºŒå­£åº¦&#39;, [3] as &#39;ä¸‰å­£åº¦&#39;, [4] as &#39;å››å­£åº¦&#39; from test pivot ( sum(number) for quarter in ([1],[2],[3],[4]) ) as pvt ç»“æœï¼š 2ã€åˆ—è½¬è¡Œçš„ç”¨æ³•UNPIOVTcreate table test2 (id int,name varchar(20), Q1 int, Q2 int, Q3 int, Q4 int) insert into test2 values(1,&#39;è‹¹æœ&#39;,1000,2000,4000,5000) insert into test2 values(2,&#39;æ¢¨å­&#39;,3000,3500,4200,5500) select * from test2 ç»“æœï¼š --åˆ—è½¬è¡Œ select id,name,quarter,number from test2 unpivot ( number for quarter in ([Q1],[Q2],[Q3],[Q4]) ) as unpvt ç»“æœï¼š 3ã€å­—ç¬¦ä¸²æ›¿æ¢SUBSTRING/REPLACESELECT REPLACE(&#39;abcdefg&#39;,SUBSTRING(&#39;abcdefg&#39;,2,4),&#39;**&#39;) ç»“æœï¼š SELECT REPLACE(&#39;12345678@qq.com&#39;,&#39;1234567&#39;,&#39;******&#39;) ç»“æœï¼š 4ã€æŸ¥è¯¢ä¸€ä¸ªè¡¨å†…ç›¸åŒçºªå½• HAVINGHR.Employeesè¡¨çš„è¡¨ç»“æ„ï¼šå¦‚æœä¸€ä¸ªIDå¯ä»¥åŒºåˆ†çš„è¯ï¼Œå¯ä»¥è¿™ä¹ˆå†™ select * from HR.Employees where title in ( select title from HR.Employees group by title having count(1)&gt;1) ç»“æœï¼š å¯¹æ¯”ä¸€ä¸‹å‘ç°ï¼ŒIDä¸º1,2çš„è¢«è¿‡æ»¤æ‰äº†ï¼Œå› ä¸ºä»–ä»¬åªæœ‰ä¸€æ¡è®°å½• å¦‚æœæœ‰å‡ ä¸ªIDéœ€è¦åŒºåˆ†çš„è¯å¯ä»¥è¿™ä¹ˆå†™ select * from HR.Employees where title+titleofcourtesy in (select title+titleofcourtesy from HR.Employees group by title,titleofcourtesy having count(1)&gt;1) ç»“æœï¼š titleåœ¨å’Œtitleofcourtesyè¿›è¡Œæ‹¼æ¥åç¬¦åˆæ¡ä»¶çš„å°±åªæœ‰IDä¸º6,7,8,9çš„äº† 5ã€æŠŠå¤šè¡ŒSQLæ•°æ®å˜æˆä¸€æ¡å¤šåˆ—æ•°æ®ï¼Œå³æ–°å¢åˆ—SELECT id, name, SUM(CASE WHEN quarter=1 THEN number ELSE 0 END) &#39;ä¸€å­£åº¦&#39;, SUM(CASE WHEN quarter=2 THEN number ELSE 0 END) &#39;äºŒå­£åº¦&#39;, SUM(CASE WHEN quarter=3 THEN number ELSE 0 END) &#39;ä¸‰å­£åº¦&#39;, SUM(CASE WHEN quarter=4 THEN number ELSE 0 END) &#39;å››å­£åº¦&#39; FROM test GROUP BY id,name ç»“æœï¼š æˆ‘ä»¬å°†åŸæ¥çš„4åˆ—å¢åŠ åˆ°äº†6åˆ—ã€‚ç»†å¿ƒçš„æœ‹å‹å¯èƒ½å‘ç°äº†è¿™ä¸ªç»“æœå’Œä¸Šé¢çš„è¡Œè½¬åˆ—æ€ä¹ˆä¸€æ¨¡ä¸€æ ·ï¼Ÿå…¶å®ä¸Šé¢çš„è¡Œè½¬åˆ—æ˜¯çœç•¥å†™æ³•ï¼Œè¿™ç§æ˜¯æ¯”è¾ƒé€šç”¨çš„å†™æ³•ã€‚ 6ã€è¡¨å¤åˆ¶è¯­æ³•1ï¼šInsert INTO table(field1,field2,â€¦) values(value1,value2,â€¦) è¯­æ³•2ï¼šInsert into Table2(field1,field2,â€¦) select value1,value2,â€¦ from Table1 ï¼ˆè¦æ±‚ç›®æ ‡è¡¨Table2å¿…é¡»å­˜åœ¨ï¼Œç”±äºç›®æ ‡è¡¨Table2å·²ç»å­˜åœ¨ï¼Œæ‰€ä»¥æˆ‘ä»¬é™¤äº†æ’å…¥æºè¡¨Table1çš„å­—æ®µå¤–ï¼Œè¿˜å¯ä»¥æ’å…¥å¸¸é‡ã€‚ï¼‰ è¯­æ³•3ï¼šSELECT vale1, value2 into Table2 from Table1 ï¼ˆè¦æ±‚ç›®æ ‡è¡¨Table2ä¸å­˜åœ¨ï¼Œå› ä¸ºåœ¨æ’å…¥æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºè¡¨Table2ï¼Œå¹¶å°†Table1ä¸­æŒ‡å®šå­—æ®µæ•°æ®å¤åˆ¶åˆ°Table2ä¸­ã€‚ï¼‰ è¯­æ³•4ï¼šä½¿ç”¨å¯¼å…¥å¯¼å‡ºåŠŸèƒ½è¿›è¡Œå…¨è¡¨å¤åˆ¶ã€‚å¦‚æœæ˜¯ä½¿ç”¨ã€ç¼–å†™æŸ¥è¯¢ä»¥æŒ‡å®šè¦ä¼ è¾“çš„æ•°æ®ã€‘ï¼Œé‚£ä¹ˆåœ¨å¤§æ•°æ®è¡¨çš„å¤åˆ¶å°±ä¼šæœ‰é—®é¢˜ï¼Ÿå› ä¸ºå¤åˆ¶åˆ°ä¸€å®šç¨‹åº¦å°±ä¸å†åŠ¨äº†ï¼Œå†…å­˜çˆ†äº†ï¼Ÿå®ƒä¹Ÿæ²¡æœ‰å†™å…¥åˆ°è¡¨ä¸­ã€‚è€Œä½¿ç”¨ä¸Šé¢3ç§è¯­æ³•ç›´æ¥æ‰§è¡Œæ˜¯ä¼šé©¬ä¸Šåˆ·æ–°åˆ°æ•°æ®åº“è¡¨ä¸­çš„ï¼Œä½ åˆ·æ–°ä¸€ä¸‹mdfæ–‡ä»¶å°±çŸ¥é“äº†ã€‚ 7ã€åˆ©ç”¨å¸¦å…³è”å­æŸ¥è¯¢Updateè¯­å¥æ›´æ–°æ•°æ®--æ–¹æ³•1ï¼š Update Table1 set c = (select c from Table2 where a = Table1.a) where c is null --æ–¹æ³•2ï¼š update A set newqiantity=B.qiantity from A,B where A.bnum=B.bnum --æ–¹æ³•3ï¼š update (select A.bnum ,A.newqiantity,B.qiantity from A left join B on A.bnum=B.bnum) AS C set C.newqiantity = C.qiantity where C.bnum =&#39;001&#39; 8ã€è¿æ¥è¿œç¨‹æœåŠ¡å™¨--æ–¹æ³•1ï¼š select * from openrowset( &#39;SQLOLEDB&#39;, &#39;server=192.168.0.1;uid=sa;pwd=password&#39;, &#39;SELECT * FROM dbo.test&#39;) --æ–¹æ³•2ï¼š select * from openrowset( &#39;SQLOLEDB&#39;, &#39;192.168.0.1&#39;; &#39;sa&#39;; &#39;password&#39;, &#39;SELECT * FROM dbo.test&#39;) å½“ç„¶ä¹Ÿå¯ä»¥å‚è€ƒä»¥å‰çš„ç¤ºä¾‹ï¼Œå»ºç«‹DBLINKè¿›è¡Œè¿œç¨‹è¿æ¥ 9ã€Date å’Œ Time æ ·å¼ CONVERTCONVERT() å‡½æ•°æ˜¯æŠŠæ—¥æœŸè½¬æ¢ä¸ºæ–°æ•°æ®ç±»å‹çš„é€šç”¨å‡½æ•°ã€‚CONVERT() å‡½æ•°å¯ä»¥ç”¨ä¸åŒçš„æ ¼å¼æ˜¾ç¤ºæ—¥æœŸ/æ—¶é—´æ•°æ®ã€‚ è¯­æ³•: CONVERT(data_type(length),data_to_be_converted,style) data_type(length) è§„å®šç›®æ ‡æ•°æ®ç±»å‹ï¼ˆå¸¦æœ‰å¯é€‰çš„é•¿åº¦ï¼‰ã€‚data_to_be_converted å«æœ‰éœ€è¦è½¬æ¢çš„å€¼ã€‚style è§„å®šæ—¥æœŸ/æ—¶é—´çš„è¾“å‡ºæ ¼å¼ã€‚ å¯ä»¥ä½¿ç”¨çš„ style å€¼ï¼š SELECT CONVERT(varchar(100), GETDATE(), 0) --ç»“æœï¼š 01 2 2019 9:33PM SELECT CONVERT(varchar(100), GETDATE(), 1) --ç»“æœï¼š 01/02/19 SELECT CONVERT(varchar(100), GETDATE(), 2) --ç»“æœï¼š 19.01.02 SELECT CONVERT(varchar(100), GETDATE(), 3) --ç»“æœï¼š 02/01/19 SELECT CONVERT(varchar(100), GETDATE(), 4) --ç»“æœï¼š 02.01.19 SELECT CONVERT(varchar(100), GETDATE(), 5) --ç»“æœï¼š 02-01-19 SELECT CONVERT(varchar(100), GETDATE(), 6) --ç»“æœï¼š 02 01 19 SELECT CONVERT(varchar(100), GETDATE(), 7) --ç»“æœï¼š 01 02, 19 SELECT CONVERT(varchar(100), GETDATE(), 8) --ç»“æœï¼š 21:33:18 SELECT CONVERT(varchar(100), GETDATE(), 9) --ç»“æœï¼š 01 2 2019 9:33:18:780PM SELECT CONVERT(varchar(100), GETDATE(), 10) --ç»“æœï¼š 01-02-19 SELECT CONVERT(varchar(100), GETDATE(), 11) --ç»“æœï¼š 19/01/02 SELECT CONVERT(varchar(100), GETDATE(), 12) --ç»“æœï¼š 190102 SELECT CONVERT(varchar(100), GETDATE(), 13) --ç»“æœï¼š 02 01 2019 21:33:18:780 SELECT CONVERT(varchar(100), GETDATE(), 14) --ç»“æœï¼š 21:33:18:780 SELECT CONVERT(varchar(100), GETDATE(), 20) --ç»“æœï¼š 2019-01-02 21:33:18 SELECT CONVERT(varchar(100), GETDATE(), 21) --ç»“æœï¼š 2019-01-02 21:33:18.780 SELECT CONVERT(varchar(100), GETDATE(), 22) --ç»“æœï¼š 01/02/19 9:33:18 PM SELECT CONVERT(varchar(100), GETDATE(), 23) --ç»“æœï¼š 2019-01-02 SELECT CONVERT(varchar(100), GETDATE(), 24) --ç»“æœï¼š 21:33:18 SELECT CONVERT(varchar(100), GETDATE(), 25) --ç»“æœï¼š 2019-01-02 21:33:18.780 SELECT CONVERT(varchar(100), GETDATE(), 100) --ç»“æœï¼š 01 2 2019 9:33PM SELECT CONVERT(varchar(100), GETDATE(), 101) --ç»“æœï¼š 01/02/2019 SELECT CONVERT(varchar(100), GETDATE(), 102) --ç»“æœï¼š 2019.01.02 SELECT CONVERT(varchar(100), GETDATE(), 103) --ç»“æœï¼š 02/01/2019 SELECT CONVERT(varchar(100), GETDATE(), 104) --ç»“æœï¼š 02.01.2019 SELECT CONVERT(varchar(100), GETDATE(), 105) --ç»“æœï¼š 02-01-2019 SELECT CONVERT(varchar(100), GETDATE(), 106) --ç»“æœï¼š 02 01 2019 SELECT CONVERT(varchar(100), GETDATE(), 107) --ç»“æœï¼š 01 02, 2019 SELECT CONVERT(varchar(100), GETDATE(), 108) --ç»“æœï¼š 21:33:18 SELECT CONVERT(varchar(100), GETDATE(), 109) --ç»“æœï¼š 01 2 2019 9:33:18:780PM SELECT CONVERT(varchar(100), GETDATE(), 110) --ç»“æœï¼š 01-02-2019 SELECT CONVERT(varchar(100), GETDATE(), 111) --ç»“æœï¼š 2019/01/02 SELECT CONVERT(varchar(100), GETDATE(), 112) --ç»“æœï¼š 20190102 SELECT CONVERT(varchar(100), GETDATE(), 113) --ç»“æœï¼š 02 01 2019 21:33:18:780 SELECT CONVERT(varchar(100), GETDATE(), 114) --ç»“æœï¼š 21:33:18:780 SELECT CONVERT(varchar(100), GETDATE(), 120) --ç»“æœï¼š 2019-01-02 21:33:18 SELECT CONVERT(varchar(100), GETDATE(), 121) --ç»“æœï¼š 2019-01-02 21:33:18.780 10ã€SQLä¸­çš„ç›¸é™¤æ–¹æ³•ä¸€ --SQLä¸­çš„ç›¸é™¤ SELECT CASE WHEN ISNULL(A-B,0)=0 THEN &#39;&#39; ELSE CAST(CONVERT(DECIMAL(18,2),A*100.0/(A-B)) AS VARCHAR(10))+&#39;%&#39; END AS &#39;ç™¾åˆ†æ•°&#39; --FROM è¡¨ è¿™é‡Œæˆ‘ä»¬å…ˆè¦åˆ¤æ–­è¢«é™¤æ•°æ˜¯å¦ä¸º0ï¼Œå¦‚æœä¸º0ç»™å‡ºä¸€ä¸ªæƒ³è¾“å‡ºçš„ç»“æœï¼Œè¿™é‡Œæˆ‘ä»¬è¿”å›ç©ºç™½(æ˜¯å­—ç¬¦ç±»å‹ï¼Œä¸æ˜¯NULL)ï¼Œåœ¨ä¸ä¸º0çš„æ—¶å€™å°±ç»™å‡ºå…·ä½“çš„è®¡ç®—å…¬å¼ï¼Œç„¶åè½¬æ¢æˆå­—ç¬¦ç±»å‹å†å’Œâ€œ%â€è¿›è¡Œæ‹¼æ¥ã€‚ä¾‹å¦‚ï¼š SELECT CASE WHEN ISNULL(5-2,0)=0 THEN &#39;&#39; ELSE CAST(CONVERT(DECIMAL(18,2),5*100.0/(5-2)) AS VARCHAR(10))+&#39;%&#39; END AS &#39;ç™¾åˆ†æ•°&#39; --FROM è¡¨ è¿”å›çš„ç»“æœï¼š æ–¹æ³•äºŒ SELECT (CONVERT(VARCHAR(20),ROUND(41*100.0/88,3))+&#39;%&#39;) AS &#39;ç™¾åˆ†æ¯”&#39; --FROM A æ‰§è¡Œç»“æœï¼š 11ã€å››èˆäº”å…¥ROUNDå‡½æ•°ROUND ( numeric_expression , length [ ,function ] )function å¿…é¡»ä¸º tinyintã€smallint æˆ– intã€‚å¦‚æœçœç•¥ function æˆ–å…¶å€¼ä¸º 0ï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œåˆ™å°†èˆå…¥ numeric_expressionã€‚å¦‚æœæŒ‡å®šäº†0ä»¥å¤–çš„å€¼ï¼Œåˆ™å°†æˆªæ–­ numeric_expressionã€‚ SELECT ROUND(150.45648, 2); --ä¿ç•™å°æ•°ç‚¹åä¸¤ä½ï¼Œéœ€è¦å››èˆäº”å…¥ --ç»“æœï¼š 150.46000 SELECT ROUND(150.45648, 2, 0); --ä¿ç•™å°æ•°ç‚¹åä¸¤ä½ï¼Œ0ä¸ºé»˜è®¤å€¼ï¼Œè¡¨ç¤ºè¿›è¡Œå››èˆäº”å…¥ --ç»“æœï¼š 150.46000 SELECT ROUND(150.45648, 2, 1); --ä¿ç•™å°æ•°ç‚¹åä¸¤ä½ï¼Œä¸éœ€è¦å››èˆäº”å…¥ï¼Œè¿™é‡Œé™¤0ä»¥å¤–éƒ½æ˜¯æœ‰åŒæ ·çš„æ•ˆæœï¼Œ --ä¸Oracleçš„TRUNCå‡½æ•°æ•ˆæœç›¸åŒ --ç»“æœï¼š 150.45000 SELECT ROUND(150.45648, 2, 2); --ä¿ç•™å°æ•°ç‚¹åä¸¤ä½ï¼Œä¸éœ€è¦å››èˆäº”å…¥ï¼Œè¿™é‡Œé™¤0ä»¥å¤–éƒ½æ˜¯æœ‰åŒæ ·çš„æ•ˆæœï¼Œ --ä¸Oracleçš„TRUNCå‡½æ•°æ•ˆæœç›¸åŒ --ç»“æœï¼š 150.45000 12ã€å¯¹å­—æ®µå‡ºç°NULLå€¼çš„å¤„ç†æ–¹æ³•ä¸€ --CASE SELECT CASE WHEN &#39;å­—æ®µå&#39; IS NULL THEN &#39;NULL&#39; ELSE CONVERT(VARCHAR(20),&#39;å­—æ®µå1&#39;) END AS &#39;NewName&#39; --ç»“æœï¼š å­—æ®µå1 SELECT CASE WHEN NULL IS NULL THEN &#39;N&#39; ELSE CONVERT(VARCHAR(20),NULL) END AS &#39;NewName&#39; --ç»“æœï¼š N æ–¹æ³•äºŒ --SQL Server 2005ï¼šCOALESCE SELECT COALESCE(&#39;å­—ç¬¦ä¸²ç±»å‹å­—æ®µ&#39;,&#39;N&#39;) AS &#39;NewName&#39; --ç»“æœï¼š å­—ç¬¦ä¸²ç±»å‹å­—æ®µ SELECT COALESCE(CONVERT(VARCHAR(20),&#39;éå­—ç¬¦ä¸²ç±»å‹å­—æ®µ&#39;),&#39;N&#39;) AS &#39;NewName&#39; --ç»“æœï¼š éå­—ç¬¦ä¸²ç±»å‹å­—æ®µ SELECT COALESCE(CONVERT(VARCHAR(20),NULL),&#39;N&#39;) AS &#39;NewName&#39; --ç»“æœï¼š N --COALESCE,è¿”å›å…¶å‚æ•°ä¸­çš„ç¬¬ä¸€ä¸ªéç©ºè¡¨è¾¾å¼ SELECT COALESCE(NULL,NULL,1,2,NULL) --ç»“æœï¼š 1 SELECT COALESCE(NULL,11,12,13,NULL) --ç»“æœï¼š 11 SELECT COALESCE(111,112,113,114,NULL) --ç»“æœï¼š 111 13ã€COUNTçš„å‡ ç§æƒ…å†µ--ä»¥ä¸‹ä¸‰ç§æ–¹æ³•å‡å¯ç»Ÿè®¡å‡ºè¡¨çš„è®°å½•æ•° --ç¬¬ä¸€ç§ select count(*) from tablename --ç¬¬äºŒç§ select count(ID) from tablename --ç¬¬ä¸‰ç§,1æ¢æˆå…¶å®ƒå€¼ä¹Ÿæ˜¯å¯ä»¥çš„ select count(1) from tablename 14ã€UNION ALLå¤šè¡¨æ’å…¥æŠŠä¸¤ä¸ªç›¸åŒç»“æ„çš„è¡¨unionåæ’å…¥åˆ°ä¸€ä¸ªæ–°è¡¨ä¸­ï¼Œå½“ç„¶ä¸¤ä¸ªä»¥ä¸Šçš„ç›¸åŒç»“æ„çš„è¡¨ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œè¿™é‡Œçš„ç›¸åŒæ˜¯æŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªè¡¨çš„åˆ—æ•°å’Œæ¯ä¸ªå¯¹åº”åˆ—çš„ç±»å‹ç›¸åŒï¼Œåˆ—åç§°å¯ä»¥ä¸åŒ select * into table_new from table_1 union all select * from table_2 15ã€æŸ¥çœ‹æ•°æ®åº“ç¼“å­˜çš„SQLuse master declare @dbid int Select @dbid = dbid from sysdatabases where name = &#39;SQL_ROAD&#39;--ä¿®æ”¹æˆæ•°æ®åº“çš„åç§° select dbid,UseCounts ,RefCounts,CacheObjtype,ObjType, DB_Name(dbid) as DatabaseName,SQL from syscacheobjects where dbid=@dbid order by dbid,useCounts desc,objtype æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ•°æ®åº“ä¸­å½“å‰æ­£åœ¨è¿è¡Œçš„SQLæœ‰å“ªäº› 16ã€åˆ é™¤è®¡åˆ’ç¼“å­˜--åˆ é™¤æ•´ä¸ªæ•°æ®åº“çš„è®¡åˆ’ç¼“å­˜ DBCC FREEPROCCACHE --åˆ é™¤æŸä¸ªæ•°æ®åº“çš„è®¡åˆ’ç¼“å­˜ USE master DECLARE @dbid INT SELECT @dbid=dbid FROM sysdatabases WHERE NAME = &#39;SQL_ROAD&#39; DBCC FLUSHPROCINDB (@dbid) 17ã€SQLæ¢è¡ŒSQLçš„æ¢è¡Œåˆ¶è¡¨ç¬¦ CHAR(9)æ¢è¡Œç¬¦ CHAR(10)å›è½¦ CHAR(13) PRINT &#39;SQL&#39;+CHAR(13)+&#39;ROAD&#39; PRINT &#39;SQL&#39;+CHAR(10)+&#39;ROAD&#39; PRINT &#39;SQL&#39;+CHAR(9)+&#39;ROAD&#39; æ‰§è¡Œç»“æœï¼š å¦‚æœå°†æŸ¥è¯¢ç»“æœä»¥æ–‡æœ¬æ ¼å¼æ˜¾ç¤ºï¼Œè€Œä¸æ˜¯ç½‘æ ¼æ ¼å¼æ˜¾ç¤ºï¼ŒSELECTè¯­å¥ä¹Ÿé€‚ç”¨ï¼Œæˆ‘ä»¬å…ˆå°†æŸ¥è¯¢ç»“æœæ”¹æˆä»¥æ–‡æœ¬æ ¼å¼æ˜¾ç¤º --ä»¥æ–‡æœ¬æ ¼å¼æ˜¾ç¤ºç»“æœ SELECT &#39;SQL&#39;+ CHAR(10)+&#39;ROAD&#39; SELECT &#39;SQL&#39;+ CHAR(13)+&#39;ROAD&#39; SELECT &#39;SQL&#39; + CHAR(10) + CHAR(13) + &#39;ROAD&#39; ç»“æœå¦‚ä¸‹ï¼š 18ã€TRUNCATE TABLE [Table Name]TRUNCATE æ˜¯SQLä¸­çš„ä¸€ä¸ªåˆ é™¤æ•°æ®è¡¨å†…å®¹çš„è¯­å¥ï¼Œç”¨æ³•æ˜¯ï¼š TRUNCATE TABLE [Table Name] é€Ÿåº¦å¿«,è€Œä¸”æ•ˆç‡é«˜,å› ä¸º:TRUNCATE TABLE åœ¨åŠŸèƒ½ä¸Šä¸ä¸å¸¦ WHERE å­å¥çš„ DELETE è¯­å¥ç›¸åŒï¼šäºŒè€…å‡åˆ é™¤è¡¨ä¸­çš„å…¨éƒ¨è¡Œã€‚ä½† TRUNCATE TABLE æ¯” DELETE é€Ÿåº¦å¿«ï¼Œä¸”ä½¿ç”¨çš„ç³»ç»Ÿå’Œäº‹åŠ¡æ—¥å¿—èµ„æºå°‘ã€‚DELETE è¯­å¥æ¯æ¬¡åˆ é™¤ä¸€è¡Œï¼Œå¹¶åœ¨äº‹åŠ¡æ—¥å¿—ä¸­ä¸ºæ‰€åˆ é™¤çš„æ¯è¡Œè®°å½•ä¸€é¡¹ã€‚TRUNCATE TABLE é€šè¿‡é‡Šæ”¾å­˜å‚¨è¡¨æ•°æ®æ‰€ç”¨çš„æ•°æ®é¡µæ¥åˆ é™¤æ•°æ®ï¼Œå¹¶ä¸”åªåœ¨äº‹åŠ¡æ—¥å¿—ä¸­è®°å½•é¡µçš„é‡Šæ”¾ã€‚TRUNCATE TABLE åˆ é™¤è¡¨ä¸­çš„æ‰€æœ‰è¡Œï¼Œä½†è¡¨ç»“æ„åŠå…¶åˆ—ã€çº¦æŸã€ç´¢å¼•ç­‰ä¿æŒä¸å˜ã€‚æ–°è¡Œæ ‡è¯†æ‰€ç”¨çš„è®¡æ•°å€¼é‡ç½®ä¸ºè¯¥åˆ—çš„ç§å­ã€‚ å¦‚æœæƒ³ä¿ç•™æ ‡è¯†è®¡æ•°å€¼ï¼Œè¯·æ”¹ç”¨ DELETEã€‚ å¦‚æœè¦åˆ é™¤è¡¨å®šä¹‰åŠå…¶æ•°æ®ï¼Œè¯·ä½¿ç”¨ DROP TABLE è¯­å¥ã€‚å¯¹äºç”± FOREIGN KEY çº¦æŸå¼•ç”¨çš„è¡¨ï¼Œä¸èƒ½ä½¿ç”¨ TRUNCATE TABLEï¼Œè€Œåº”ä½¿ç”¨ä¸å¸¦ WHERE å­å¥çš„ DELETE è¯­å¥ã€‚ç”±äº TRUNCATE TABLE ä¸è®°å½•åœ¨æ—¥å¿—ä¸­ï¼Œæ‰€ä»¥å®ƒä¸èƒ½æ¿€æ´»è§¦å‘å™¨ã€‚TRUNCATE TABLE ä¸èƒ½ç”¨äºå‚ä¸äº†ç´¢å¼•è§†å›¾çš„è¡¨ã€‚ 19ã€å¸¸ç”¨ç³»ç»Ÿæ£€æµ‹è„šæœ¬--æŸ¥çœ‹å†…å­˜çŠ¶æ€ dbcc memorystatus --æŸ¥çœ‹å“ªä¸ªå¼•èµ·çš„é˜»å¡ï¼Œblk EXEC sp_who active --æŸ¥çœ‹é”ä½äº†é‚£ä¸ªèµ„æºidï¼Œobjid EXEC sp_lock è¿˜æœ‰å¦‚ä½•æŸ¥çœ‹æŸ¥è¯¢åˆ†æå™¨çš„SPIDï¼Œå¯ä»¥åœ¨æŸ¥è¯¢åˆ†æå™¨çš„çŠ¶æ€æ çœ‹åˆ°ï¼Œæ¯”å¦‚sa(57),è¿™å°±è¡¨ç¤ºå½“å‰æŸ¥è¯¢åˆ†æå™¨SPIDä¸º57,è¿™æ ·åœ¨ä½¿ç”¨profileçš„æ—¶å€™å°±å¯ä»¥æŒ‡å®šå½“å‰çª—ä½“è¿›è¡Œç›‘æ§ã€‚çŠ¶æ€æ åœ¨æŸ¥è¯¢çª—å£çš„å³ä¸‹è§’ã€‚ 20ã€è·å–è„šæœ¬çš„æ‰§è¡Œæ—¶é—´declare @timediff datetime select @timediff=getdate() select * from Suppliers print &#39;è€—æ—¶:&#39;+ convert(varchar(10),datediff(ms,@timediff,getdate())) ç»“æœå¦‚ä¸‹ï¼š åœ¨çŠ¶æ€æ æ˜¯ä¸ä¼šç²¾ç¡®åˆ°æ¯«ç§’çš„ï¼Œåªèƒ½ç²¾ç¡®åˆ°ç§’ è¿™ä¸ªè„šæœ¬å¯ä»¥æ›´åŠ æœ‰æ•ˆçš„æŸ¥çœ‹SQLä»£ç çš„æ‰§è¡Œæ•ˆç‡ã€‚","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://smilecoc.vip/categories/è½¬è½½/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"ç»å…¸SQLè¯­å¥å¤§å…¨","slug":"ç»å…¸SQLè¯­å¥å¤§å…¨","date":"2019-09-30T16:00:00.000Z","updated":"2022-04-17T08:27:44.188Z","comments":true,"path":"2019/10/01/ç»å…¸SQLè¯­å¥å¤§å…¨/","link":"","permalink":"http://smilecoc.vip/2019/10/01/ç»å…¸SQLè¯­å¥å¤§å…¨/","excerpt":"","text":"ä¸€ã€åŸºç¡€éƒ¨åˆ† 1ã€åˆ›å»ºæ•°æ®åº“ CREATE DATABASE dbname 2ã€åˆ é™¤æ•°æ®åº“ DROP DATABASE dbname 3ã€åˆ›å»ºæ–°è¡¨ CREATE TABLE tabname( col1 type1 [not null] [primary key], col2 type2 [not null],.. ) æ ¹æ®å·²æœ‰çš„è¡¨åˆ›å»ºæ–°è¡¨/ä½¿ç”¨æ—§è¡¨åˆ›å»ºæ–°è¡¨: create table tab_new as select col1, col2â€¦ from tab_old 4ã€åˆ é™¤æ–°è¡¨ DROP TABLE tablename 5ã€å¢åŠ ä¸€ä¸ªåˆ— Alter table tabname add column col type 6ã€æ·»åŠ ä¸»é”®ï¼š Alter table tabname add primary key(col) åˆ é™¤ä¸»é”®ï¼š Alter table tabname drop primary key(col) 7ã€åˆ›å»ºç´¢å¼•ï¼š create [unique] index idxname on tabname(colâ€¦.) åˆ é™¤ç´¢å¼•ï¼š drop index idxname æ³¨ï¼šç´¢å¼•æ˜¯ä¸å¯æ›´æ”¹çš„ï¼Œæƒ³æ›´æ”¹å¿…é¡»åˆ é™¤é‡æ–°å»ºã€‚ 8ã€åˆ›å»ºè§†å›¾ï¼š create view viewname as select statement åˆ é™¤è§†å›¾ï¼š drop view viewname 9ã€å‡ ä¸ªç®€å•çš„sqlè¯­å¥â€”é€‰æ‹©ï¼š select * from table1 where èŒƒå›´ â€”æ’å…¥ï¼š insert into table1(field1,field2) values(value1,value2) â€”åˆ é™¤ï¼š delete from table1 where èŒƒå›´ â€”æ›´æ–°ï¼š update table1 set field1=value1 where èŒƒå›´ â€”æŸ¥æ‰¾ï¼š select * from table1 where field1 like â€™%value1%â€™ â€”æ’åºï¼š select * from table1 order by field1,field2 [desc] â€”æ€»æ•°ï¼š select count as totalcount from table1 â€”æ±‚å’Œï¼š select sum(field1) as sumvalue from table1 â€”å¹³å‡ï¼š select avg(field1) as avgvalue from table1 â€”æœ€å¤§ï¼š select max(field1) as maxvalue from table1 â€”æœ€å°ï¼š select min(field1) as minvalue from table1 10ã€å‡ ä¸ªé«˜çº§æŸ¥è¯¢è¿ç®—è¯ Aï¼šUNION è¿ç®—ç¬¦UNION è¿ç®—ç¬¦é€šè¿‡ç»„åˆå…¶ä»–ä¸¤ä¸ªç»“æœè¡¨ï¼Œå¹¶æ¶ˆå»è¡¨ä¸­ä»»ä½•é‡å¤è¡Œè€Œæ´¾ç”Ÿå‡ºä¸€ä¸ªç»“æœè¡¨ã€‚å½“ ALL éš UNION ä¸€èµ·ä½¿ç”¨æ—¶ï¼ˆå³ UNION ALLï¼‰ï¼Œä¸æ¶ˆé™¤é‡å¤è¡Œã€‚ä¸¤ç§æƒ…å†µä¸‹ï¼Œæ´¾ç”Ÿè¡¨çš„æ¯ä¸€è¡Œä¸æ˜¯æ¥è‡ª TABLE1 å°±æ˜¯æ¥è‡ª TABLE2ã€‚ Bï¼šEXCEPT è¿ç®—ç¬¦EXCEPTè¿ç®—ç¬¦é€šè¿‡åŒ…æ‹¬æ‰€æœ‰åœ¨ TABLE1 ä¸­ä½†ä¸åœ¨ TABLE2 ä¸­çš„è¡Œå¹¶æ¶ˆé™¤æ‰€æœ‰é‡å¤è¡Œè€Œæ´¾ç”Ÿå‡ºä¸€ä¸ªç»“æœè¡¨ã€‚å½“ ALL éš EXCEPT ä¸€èµ·ä½¿ç”¨æ—¶ (EXCEPT ALL)ï¼Œä¸æ¶ˆé™¤é‡å¤è¡Œã€‚ Cï¼šINTERSECT è¿ç®—ç¬¦ INTERSECTè¿ç®—ç¬¦é€šè¿‡åªåŒ…æ‹¬ TABLE1 å’Œ TABLE2 ä¸­éƒ½æœ‰çš„è¡Œå¹¶æ¶ˆé™¤æ‰€æœ‰é‡å¤è¡Œè€Œæ´¾ç”Ÿå‡ºä¸€ä¸ªç»“æœè¡¨ã€‚å½“ ALLéš INTERSECT ä¸€èµ·ä½¿ç”¨æ—¶ (INTERSECT ALL)ï¼Œä¸æ¶ˆé™¤é‡å¤è¡Œã€‚æ³¨ï¼šä½¿ç”¨è¿ç®—è¯çš„å‡ ä¸ªæŸ¥è¯¢ç»“æœè¡Œå¿…é¡»æ˜¯ä¸€è‡´çš„ã€‚ 11ã€ä½¿ç”¨å¤–è¿æ¥Aã€left ï¼ˆouterï¼‰ joinï¼šå·¦å¤–è¿æ¥ï¼ˆå·¦è¿æ¥ï¼‰ï¼šç»“æœé›†å‡ åŒ…æ‹¬è¿æ¥è¡¨çš„åŒ¹é…è¡Œï¼Œä¹ŸåŒ…æ‹¬å·¦è¿æ¥è¡¨çš„æ‰€æœ‰è¡Œã€‚ select a.a, a.b, a.c, b.c, b.d, b.f from a LEFT OUT JOIN b ON a.a = b.c Bï¼šright ï¼ˆouterï¼‰ join å³å¤–è¿æ¥(å³è¿æ¥)ï¼šç»“æœé›†æ—¢åŒ…æ‹¬è¿æ¥è¡¨çš„åŒ¹é…è¿æ¥è¡Œï¼Œä¹ŸåŒ…æ‹¬å³è¿æ¥è¡¨çš„æ‰€æœ‰è¡Œã€‚ Cï¼šfull/cross ï¼ˆouterï¼‰ joinï¼šå…¨å¤–è¿æ¥ï¼šä¸ä»…åŒ…æ‹¬ç¬¦å·è¿æ¥è¡¨çš„åŒ¹é…è¡Œï¼Œè¿˜åŒ…æ‹¬ä¸¤ä¸ªè¿æ¥è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ã€‚ 12ã€Group by å¯¹åˆ—è¿›è¡Œåˆ†ç»„ï¼Œå¸¸ä¸èšåˆå‡½æ•°(count,sum,max,min,avg )ä¸€èµ·ä½¿ç”¨ æ³¨æ„ï¼š åœ¨åˆ†ç»„æ—¶ï¼šä¸èƒ½ä»¥text,ntext,imageç±»å‹çš„å­—æ®µä½œä¸ºåˆ†ç»„ä¾æ® åœ¨selectç»Ÿè®¡å‡½æ•°ä¸­çš„å­—æ®µï¼Œä¸èƒ½å’Œæ™®é€šçš„å­—æ®µæ”¾åœ¨ä¸€èµ·ï¼› äºŒã€è¿›é˜¶éƒ¨åˆ† 1ã€å¤åˆ¶è¡¨(åªå¤åˆ¶è¡¨ç»“æ„,æºè¡¨åï¼ša æ–°è¡¨åï¼šb)â€”æ–¹æ³•ä¸€ ä»…ç”¨äºSQL Serverï¼š select * into b from a where 1&lt;&gt;1 â€”æ–¹æ³•äºŒï¼š select top 0 * into b from a 2ã€æ‹·è´è¡¨(æ‹·è´æ•°æ®,æºè¡¨åï¼ša ç›®æ ‡è¡¨åï¼šb) insert into b(a, b, c) select d,e,f from b; 3ã€å­æŸ¥è¯¢(è¡¨å1ï¼ša è¡¨å2ï¼šb) select a,b,c from a where a IN (select d from b ) æˆ–è€…: select a,b,c from a where a IN (1,2,3) 4ã€æ˜¾ç¤ºæ–‡ç« ã€æäº¤äººå’Œæœ€åå›å¤æ—¶é—´ select a.title, a.username, b.adddate from table a, (select max(adddate) adddate from table where table.title=a.title) b 5ã€å¤–è¿æ¥æŸ¥è¯¢(è¡¨å1ï¼ša è¡¨å2ï¼šb) select a.a, a.b, a.c, b.c, b.d, b.f from a LEFT OUT JOIN b ON a.a = b.c 6ã€åœ¨çº¿è§†å›¾æŸ¥è¯¢(è¡¨å1ï¼ša ) select * from ( SELECT a,b,c FROM a ) T where t.a &gt; 1; 7ã€betweençš„ç”¨æ³•,betweené™åˆ¶æŸ¥è¯¢æ•°æ®èŒƒå›´æ—¶åŒ…æ‹¬äº†è¾¹ç•Œå€¼,not betweenä¸åŒ…æ‹¬ select * from table1 where time between time1 and time2 select a,b,c, from table1 where a not between æ•°å€¼1 and æ•°å€¼2 8ã€in çš„ä½¿ç”¨æ–¹æ³• select * from table1 where a [not] in (â€˜å€¼1â€™,â€™å€¼2â€™,â€™å€¼4â€™,â€™å€¼6â€™) 9ã€ä¸¤å¼ å…³è”è¡¨ï¼Œåˆ é™¤ä¸»è¡¨ä¸­å·²ç»åœ¨å‰¯è¡¨ä¸­æ²¡æœ‰çš„ä¿¡æ¯ delete from table1 where not exists ( select * from table2 where table1.field1=table2.field1 ) 10ã€å››è¡¨è”æŸ¥é—®é¢˜ï¼š select * from a left inner join b on a.a=b.b right inner join c on a.a=c.c inner join d on a.a=d.d where ... 11ã€æ—¥ç¨‹å®‰æ’æå‰äº”åˆ†é’Ÿæé†’ select * from æ—¥ç¨‹å®‰æ’ where datediff(&#39;minute&#39;,få¼€å§‹æ—¶é—´,getdate())&gt;5 12ã€ä¸€æ¡sql è¯­å¥æå®šæ•°æ®åº“åˆ†é¡µ select top 10 b.* from ( select top 20 ä¸»é”®å­—æ®µ,æ’åºå­—æ®µ from è¡¨å order by æ’åºå­—æ®µ desc ) a, è¡¨å b where b.ä¸»é”®å­—æ®µ = a.ä¸»é”®å­—æ®µ order by a.æ’åºå­—æ®µå…·ä½“ å®ç°ï¼šå…³äºæ•°æ®åº“åˆ†é¡µï¼š declare @start int,@end int @sql nvarchar(600) set @sql=â€™select topâ€™+str(@end-@start+1)+â€™+from T where rid not in( select topâ€™+str(@str-1)+â€™Rid from T where Rid&gt;-1)â€™ exec sp_executesql @sql 13ã€å‰10æ¡è®°å½• select top 10 * form table1 where èŒƒå›´ 14ã€åŒ…æ‹¬æ‰€æœ‰åœ¨ TableAä¸­ä½†ä¸åœ¨ TableBå’ŒTableCä¸­çš„è¡Œå¹¶æ¶ˆé™¤æ‰€æœ‰é‡å¤è¡Œè€Œæ´¾ç”Ÿå‡ºä¸€ä¸ªç»“æœè¡¨ (select a from tableA ) except (select a from tableB) except (select a from tableC) 15ã€éšæœºå–å‡º10æ¡æ•°æ® select top 10 * from tablename order by newid() 16ã€è¯´æ˜ï¼šåˆ é™¤é‡å¤è®°å½• --æ–¹æ³•ä¸€ delete from tablename where id not in (select max(id) from tablename group by col1,col2,...) --æ–¹æ³•äºŒ select distinct * into temp from tablename delete from tablename insert into tablename select * from temp è¯„ä»·ï¼šè¿™ç§æ“ä½œç‰µè¿å¤§é‡çš„æ•°æ®çš„ç§»åŠ¨ï¼Œè¿™ç§åšæ³•ä¸é€‚åˆå¤§å®¹é‡ä½†æ•°æ®æ“ä½œ3),ä¾‹å¦‚ï¼šåœ¨ä¸€ä¸ªå¤–éƒ¨è¡¨ä¸­å¯¼å…¥æ•°æ®ï¼Œç”±äºæŸäº›åŸå› ç¬¬ä¸€æ¬¡åªå¯¼å…¥äº†ä¸€éƒ¨åˆ†ï¼Œä½†å¾ˆéš¾åˆ¤æ–­å…·ä½“ä½ç½®ï¼Œè¿™æ ·åªæœ‰åœ¨ä¸‹ä¸€æ¬¡å…¨éƒ¨å¯¼å…¥ï¼Œè¿™æ ·ä¹Ÿå°±äº§ç”Ÿå¥½å¤šé‡å¤çš„å­—æ®µï¼Œæ€æ ·åˆ é™¤é‡å¤å­—æ®µ alter table tablename --æ·»åŠ ä¸€ä¸ªè‡ªå¢åˆ— add column_b int identity(1,1) delete from tablename where column_b not in( select max(column_b) from tablename group by column1,column2,... ) alter table tablename drop column column_b 17ã€åˆ—å‡ºæ•°æ®åº“é‡Œæ‰€æœ‰çš„è¡¨å use master go select name from sysobjects where type=&#39;U&#39; // Uä»£è¡¨ç”¨æˆ· 18ã€åˆ—å‡ºè¡¨é‡Œçš„æ‰€æœ‰çš„åˆ—å use master go select name from syscolumns where id=object_id(&#39;TableName&#39;) 19ã€åˆå§‹åŒ–è¡¨table1 TRUNCATE TABLE table1 20ã€é€‰æ‹©ä»10åˆ°15çš„è®°å½• select top 5 * from ( select top 15 * from table order by id asc ) table_åˆ«å order by id desc ä¸‰ã€å¼€å‘æŠ€å·§ 1ã€where 1=1æ˜¯è¡¨ç¤ºé€‰æ‹©å…¨éƒ¨ï¼Œwhere 1=2å…¨éƒ¨ä¸é€‰ if @strWhere !=&#39;&#39; begin set @strSQL = &#39;select count(*) as Total from [&#39; + @tblName + &#39;] where &#39; + @strWhere end else begin set @strSQL = &#39;select count(*) as Total from [&#39; + @tblName + &#39;]&#39; end æˆ‘ä»¬å¯ä»¥ç›´æ¥å†™æˆ set @strSQL = &#39;select count(*) as Total from [&#39; + @tblName + &#39;] where 1=1 &#39;+ @strWhere 2ã€æ”¶ç¼©æ•°æ®åº“ --é‡å»ºç´¢å¼• DBCC REINDEX DBCC INDEXDEFRAG --æ”¶ç¼©æ•°æ®å’Œæ—¥å¿— DBCC SHRINKDB DBCC SHRINKFILE 3ã€å‹ç¼©æ•°æ®åº“ dbcc shrinkdatabase(dbname) 4ã€è½¬ç§»æ•°æ®åº“ç»™æ–°ç”¨æˆ·ä»¥å·²å­˜åœ¨ç”¨æˆ·æƒé™ exec sp_change_users_login &#39;update_one&#39;,&#39;newname&#39;,&#39;oldname&#39; go 5ã€æ£€æŸ¥å¤‡ä»½é›† RESTORE VERIFYONLY from disk=&#39;E:\\dvbbs.bak&#39; 6ã€ä¿®å¤æ•°æ®åº“ ALTER DATABASE [dvbbs] SET SINGLE_USER GO DBCC CHECKDB(&#39;dvbbs&#39;,repair_allow_data_loss) WITH TABLOCK GO ALTER DATABASE [dvbbs] SET MULTI_USER GO 7ã€æ—¥å¿—æ¸…é™¤ SET NOCOUNT ON DECLARE @LogicalFileName sysname, @MaxMinutes INT, @NewSize INT USE tablename -- è¦æ“ä½œçš„æ•°æ®åº“å SELECT @LogicalFileName = &#39;tablename_log&#39;, -- æ—¥å¿—æ–‡ä»¶å @MaxMinutes = 10, -- Limit on time allowed to wrap log. @NewSize = 1 -- ä½ æƒ³è®¾å®šçš„æ—¥å¿—æ–‡ä»¶çš„å¤§å°(M) Setup / initialize DECLARE @OriginalSize int SELECT @OriginalSize = size FROM sysfiles WHERE name = @LogicalFileName SELECT &#39;Original Size of &#39; + db_name() + &#39; LOG is &#39; + CONVERT(VARCHAR(30),@OriginalSize) + &#39; 8K pages or &#39; + CONVERT(VARCHAR(30),(@OriginalSize*8/1024)) + &#39;MB&#39; FROM sysfiles WHERE name = @LogicalFileName CREATE TABLE DummyTrans (DummyColumn char (8000) not null) DECLARE @Counter INT, @StartTime DATETIME, @TruncLog VARCHAR(255) SELECT @StartTime = GETDATE(), @TruncLog = &#39;BACKUP LOG &#39; + db_name() + &#39; WITH TRUNCATE_ONLY&#39; DBCC SHRINKFILE (@LogicalFileName, @NewSize) EXEC (@TruncLog) -- Wrap the log if necessary. WHILE @MaxMinutes &gt; DATEDIFF (mi, @StartTime, GETDATE()) -- time has not expired AND @OriginalSize = (SELECT size FROM sysfiles WHERE name = @LogicalFileName) AND (@OriginalSize * 8 /1024) &gt; @NewSize BEGIN -- Outer loop. SELECT @Counter = 0 WHILE ((@Counter &lt; @OriginalSize / 16) AND (@Counter &lt; 50000)) BEGIN -- update INSERT DummyTrans VALUES (&#39;Fill Log&#39;) DELETE DummyTrans SELECT @Counter = @Counter + 1 END EXEC (@TruncLog) END SELECT &#39;Final Size of &#39; + db_name() + &#39; LOG is &#39; + CONVERT(VARCHAR(30),size) + &#39; 8K pages or &#39; + CONVERT(VARCHAR(30),(size*8/1024)) + &#39;MB&#39; FROM sysfiles WHERE name = @LogicalFileName DROP TABLE DummyTrans SET NOCOUNT OFF 8ã€æ›´æ”¹æŸä¸ªè¡¨ exec sp_changeobjectowner &#39;tablename&#39;,&#39;dbo&#39; 9ã€å­˜å‚¨æ›´æ”¹å…¨éƒ¨è¡¨ CREATE PROCEDURE dbo.User_ChangeObjectOwnerBatch @OldOwner as NVARCHAR(128), @NewOwner as NVARCHAR(128) AS DECLARE @Name as NVARCHAR(128) DECLARE @Owner as NVARCHAR(128) DECLARE @OwnerName as NVARCHAR(128) DECLARE curObject CURSOR FOR select &#39;Name&#39; = name, &#39;Owner&#39; = user_name(uid) from sysobjects where user_name(uid)=@OldOwner order by name OPEN curObject FETCH NEXT FROM curObject INTO @Name, @Owner WHILE(@@FETCH_STATUS=0) BEGIN if @Owner=@OldOwner begin set @OwnerName = @OldOwner + &#39;.&#39; + rtrim(@Name) exec sp_changeobjectowner @OwnerName, @NewOwner end -- select @name,@NewOwner,@OldOwner FETCH NEXT FROM curObject INTO @Name, @Owner END close curObject deallocate curObject GO 10ã€SQL SERVERä¸­ç›´æ¥å¾ªç¯å†™å…¥æ•°æ® declare @i int set @i=1 while @i&lt;30 begin insert into test (userid) values(@i) set @i=@i+1 end æ¡ˆä¾‹ï¼šæœ‰å¦‚ä¸‹è¡¨ï¼Œè¦æ±‚å°±è£±ä¸­æ‰€æœ‰æ²’æœ‰åŠæ ¼çš„æˆç¸¾ï¼Œåœ¨æ¯æ¬¡å¢é•·0.1çš„åŸºç¤ä¸Šï¼Œä½¿ä»–å€‘å‰›å¥½åŠæ ¼: Name score Zhangshan 80 Lishi 59 Wangwu 50 Songquan 69 while((select min(score) from tb_table)&lt;60) begin update tb_table set score =score*1.01 where score&lt;60 if (select min(score) from tb_table)&gt;60 break else continue end","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://smilecoc.vip/categories/è½¬è½½/"}],"tags":[{"name":"SQL&æ•°æ®åº“","slug":"SQL-æ•°æ®åº“","permalink":"http://smilecoc.vip/tags/SQL-æ•°æ®åº“/"}],"author":"smilecoc"},{"title":"åšå®¢æ­å»ºè®°å½•","slug":"æˆ‘çš„åšå®¢æ­å»ºå…¨è®°å½•","date":"2019-08-20T04:34:02.000Z","updated":"2022-04-17T08:27:04.369Z","comments":true,"path":"2019/08/20/æˆ‘çš„åšå®¢æ­å»ºå…¨è®°å½•/","link":"","permalink":"http://smilecoc.vip/2019/08/20/æˆ‘çš„åšå®¢æ­å»ºå…¨è®°å½•/","excerpt":"","text":"æœ¬åšå®¢åˆ©ç”¨hexo+githubæ­å»ºï¼Œåœ¨æ­¤è¯¦ç»†è®°å½•ä¸‹æˆ‘æ˜¯å¦‚ä½•åˆ©ç”¨hexo+githubæ­å»ºé™æ€åšå®¢ä»¥åŠä¸€äº›é…ç½®ç›¸å…³é—®é¢˜ï¼Œä»¥å…è¿‡åé—å¿˜ï¼Œä¸”å½“å¤‡ä»½ä¹‹ç”¨ï¼Œå¹¶å¸Œæœ›å¯ä»¥ä¸ºå…¶ä»–æœ‰éœ€è¦çš„äººæä¾›å‰è½¦ä¹‹é‰´ï¼Œå°‘èµ°å¼¯è·¯ã€‚ å¼€å§‹æ­å»ºå®‰è£…node.jsä¸‹è½½node.jså¹¶å®‰è£…ï¼ˆå®˜ç½‘ä¸‹è½½å®‰è£…ï¼‰ï¼Œé»˜è®¤ä¼šå®‰è£…npmã€‚æ‰“å¼€cmdå‘½ä»¤è¡Œï¼ŒæˆåŠŸçš„æ ‡å¿—å¦‚ä¸‹ï¼š å®‰è£…gitä¸‹è½½å®‰è£…gitï¼ˆå®˜ç½‘ä¸‹è½½å®‰è£…ï¼‰,å®‰è£…æˆåŠŸçš„è±¡å¾å°±æ˜¯åœ¨ç”µè„‘ä¸Šä»»ä½•ä½ç½®é¼ æ ‡å³é”®èƒ½å¤Ÿå‡ºç°Git GUI Hereå’ŒGit Bash hereå¦‚ä¸‹ä¸¤ä¸ªé€‰æ‹©æ³¨æ„ï¼šä¸€èˆ¬å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œåªæœ‰åœ¨Git Bash Hereä¸­æ‰èƒ½è¿›è¡ŒGitçš„ç›¸å…³æ“ä½œã€‚å¦‚æœéœ€è¦åœ¨cmdå‘½ä»¤è¡Œé‡Œè°ƒç”¨Gitï¼Œé‚£ä¹ˆå°±è¦é…ç½®ç”µè„‘çš„ç¯å¢ƒå˜é‡Pathï¼Œæˆ–è€…åœ¨å®‰è£…çš„æ—¶å€™é€‰æ‹©use Git from the Windows Command Promptã€‚è¿™ä¸ªå¯æœ‰å¯æ— ï¼Œå½±å“ä¸å¤§ Githubå»ºç«‹é¡¹ç›®Githubè´¦æˆ·æ³¨å†Œå’Œæ–°å»ºé¡¹ç›®ï¼ˆnew repositoryï¼‰ï¼Œé¡¹ç›®å¿…é¡»è¦éµå®ˆæ ¼å¼ï¼šè´¦æˆ·å.github.ioï¼Œå¹¶ä¸”éœ€è¦å‹¾é€‰Initialize this repository with a READMEã€‚åœ¨å»ºå¥½çš„é¡¹ç›®å³ä¾§æœ‰ä¸ªsettingsæŒ‰é’®ï¼Œç‚¹å‡»å®ƒï¼Œå‘ä¸‹æ‹‰åˆ°GitHub Pagesï¼Œä½ ä¼šçœ‹åˆ°é‚£è¾¹æœ‰ä¸ªç½‘å€ï¼Œè®¿é—®å®ƒï¼Œä½ å°†ä¼šæƒŠå¥‡çš„å‘ç°è¯¥é¡¹ç›®å·²ç»è¢«éƒ¨ç½²åˆ°ç½‘ç»œä¸Šï¼Œèƒ½å¤Ÿé€šè¿‡å¤–ç½‘æ¥è®¿é—®å®ƒã€‚ å®‰è£…hexoå®‰è£…Hexoï¼Œåœ¨è‡ªå·±è®¤ä¸ºåˆé€‚çš„åœ°æ–¹å»ºäº†ä¸€ä¸ªblogæ–‡ä»¶å¤¹ã€‚ç„¶åé€šè¿‡å‘½ä»¤è¡Œè¿›å…¥åˆ°è¯¥æ–‡ä»¶å¤¹é‡Œé¢ä¸ºä»€ä¹ˆè¦æ–°åˆ›å»ºblogæ–‡ä»¶å‘¢ï¼Ÿå› ä¸ºhexo åˆå§‹åŒ–éœ€è¦æ–‡ä»¶å¤¹ä¸ºnullçš„ï¼Œæ‰€ä»¥ç¡®ä¿è·¯å¾„ç®€å•ä¸”è·¯å¾„ä¸­ä¸è¦æœ‰ä¸­æ–‡è¾“å…¥npm install hexo -gï¼Œå¼€å§‹å®‰è£…Hexoè¾“å…¥ hexo -v æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼Œå¦‚æœæˆåŠŸå®‰è£…ä¼šæ˜¾ç¤ºå‡ºå®‰è£…çš„ç‰ˆæœ¬ä¿¡æ¯è¾“å…¥hexo initï¼Œåˆå§‹åŒ–è¯¥æ–‡ä»¶å¤¹ï¼ˆæœ‰ç‚¹æ¼«é•¿çš„ç­‰å¾…ã€‚ã€‚ã€‚ï¼‰ä¸ªäººåœ¨è¿™ä¸€æ­¥ä¸€ç›´å‡ºç°æŠ¥é”™ï¼Œå…ˆå‡ºç°â€˜gitâ€™ is not recognized as an internal or external commandé”™è¯¯ï¼Œåæ¥åˆå‡ºç°Permission deniedé”™è¯¯ï¼Œè€½è¯¯äº†å¥½å‡ ä¸ªå°æ—¶ï¼Œåæ¥å‘ç°ä½¿ç”¨hexo init éƒ½å¯ä»¥è§£å†³çœ‹åˆ° Start blogging with Hexoï¼ åˆ™è¡¨æ˜å®‰è£…æˆåŠŸã€‚åœ¨cmdä¸­è¾“å…¥npm installï¼Œå®‰è£…æ‰€éœ€è¦çš„ç»„ä»¶è¾“å…¥hexo gï¼Œé¦–æ¬¡ä½“éªŒHexoè¾“å…¥hexo sï¼Œå¼€å¯æœåŠ¡å™¨ï¼Œè®¿é—®è¯¥ç½‘å€ï¼ˆå³æç¤ºä¸­çš„http://localhost:4000/ï¼‰ï¼Œæ­£å¼ä½“éªŒHexoå¦‚æœé¡µé¢ä¸€ç›´æ— æ³•è·³è½¬ï¼Œé‚£ä¹ˆå¯èƒ½ç«¯å£è¢«å ç”¨äº†ã€‚æ­¤æ—¶æˆ‘ä»¬ctrl+cåœæ­¢æœåŠ¡å™¨ï¼Œæ¥ç€è¾“å…¥hexo server -p ç«¯å£å·æ¥æ”¹å˜ç«¯å£å· è¿æ¥Hexoä¸Githubå°†Hexoä¸Github pageè”ç³»èµ·æ¥ï¼Œè®¾ç½®Gitçš„user nameå’Œemailï¼ˆå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡çš„è¯ï¼‰é¦–å…ˆåœ¨æ–°å»ºçš„blogæ–‡ä»¶å¤¹é‡Œé¢é¼ æ ‡å³é”®ï¼Œç‚¹å‡»Git Bash Hereã€‚è¿™é‡Œâ€œ06866â€å¯ä»¥æ›¿æ¢æˆè‡ªå·±çš„ç”¨æˆ·åï¼Œé‚®ç®±å¯ä»¥æ›¿æ¢æˆè‡ªå·±çš„é‚®ç®±è¾“å…¥cd ~/.sshï¼Œæ£€æŸ¥æ˜¯å¦ç”±.sshçš„æ–‡ä»¶å¤¹ ls æŸ¥çœ‹ssh å¯†é’¥ç”Ÿæˆè¿ç»­ä¸‰ä¸ªå›è½¦ï¼Œç”Ÿæˆå¯†é’¥ï¼Œæœ€åå¾—åˆ°äº†ä¸¤ä¸ªæ–‡ä»¶ï¼šid_rsaå’Œid_rsa.pubæ¥ç€è¾“å…¥eval â€œ$(ssh-agent -s)â€ï¼Œå›è½¦ï¼Œæ·»åŠ å¯†é’¥åˆ°ssh-agentå†è¾“å…¥ssh-add ~/.ssh/id_rsaï¼Œå›è½¦ï¼Œæ·»åŠ ç”Ÿæˆçš„SSH keyåˆ°ssh-agentæ¥ç€ç™»å½•Githubï¼Œç‚¹å‡»å¤´åƒä¸‹çš„settingsï¼Œç‚¹å‡»new ssh keyè¾“å…¥cat id_rsa.pubç”Ÿæˆä¸€ä¸ªnew ssh keyï¼Œå°†ç”Ÿæˆåçš„å†…å®¹å¤åˆ¶åˆ°ä¸Šä¸€æ­¥çš„githubä¸­çš„new ssh keyä¸­è¾“å…¥ssh -T git@github.comï¼Œæµ‹è¯•æ·»åŠ sshæ˜¯å¦æˆåŠŸã€‚å¦‚æœçœ‹åˆ°Hiåé¢æ˜¯ä½ çš„ç”¨æˆ·åï¼Œå°±è¯´æ˜æˆåŠŸäº† å¦‚æœssh-keyé…ç½®å¤±è´¥ï¼Œé‚£ä¹ˆåªè¦æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å°±èƒ½å®Œå…¨è§£å†³ é¦–å…ˆï¼Œæ¸…é™¤æ‰€æœ‰çš„key-pairï¼Œè¾“å…¥ssh-add -Då’Œrm -r ~/.sshåˆ é™¤ä½ åœ¨githubä¸­çš„public-key é‡æ–°ç”Ÿæˆsshå¯†é’¥å¯¹ï¼Œè¾“å…¥ssh-keygen -t rsa -C â€œxxx@xxx.comâ€ æ¥ä¸‹æ¥æ­£å¸¸æ“ä½œåœ¨githubä¸Šæ·»åŠ å…¬é’¥public-key: 1ã€é¦–å…ˆåœ¨ä½ çš„ç»ˆç«¯è¿è¡Œxclip -sel c ~/.ssh/id_rsa.pubå°†å…¬é’¥å†…å®¹å¤åˆ¶åˆ°å‰ªåˆ‡æ¿ 2ã€åœ¨githubä¸Šæ·»åŠ å…¬é’¥æ—¶ï¼Œç›´æ¥å¤åˆ¶å³å¯ 3ã€ä¿å­˜ æµ‹è¯•ï¼šåœ¨ç»ˆç«¯ssh -T git@github.com ä¿®æ”¹Deploymentå€¼åœ¨ä¹‹å‰æ–°å»ºçš„blogæ–‡ä»¶å¤¹ä¸­ï¼Œæ‰¾åˆ°_config.ymlæ–‡ä»¶ï¼Œä¿®æ”¹Deploymentå€¼ï¼ˆåœ¨æœ«å°¾ï¼‰,å°† deploy: type: æ›´æ”¹ä¸ºï¼š deploy: type: git repository: git@github.com:xxxx/xxxx.github.io.git branch: master repositoryå€¼æ˜¯ä½ åœ¨githubé¡¹ç›®é‡Œçš„sshï¼ˆå³ä¸‹è§’ï¼‰ å®Œæˆå»ºç«™å¹¶æ–°å»ºåšå®¢æ–°å»ºä¸€ç¯‡åšå®¢ï¼Œåœ¨cmdæ‰§è¡Œå‘½ä»¤ï¼šhexo new post â€œåšå®¢åâ€ï¼Œå°±å¯ä»¥åœ¨blog/_posts/ä¸­æ‰¾åˆ°å·²åˆ›å»ºçš„æ–‡ä»¶ã€‚åœ¨ç”Ÿæˆä»¥åŠéƒ¨ç½²æ–‡ç« ä¹‹å‰ï¼Œéœ€è¦å®‰è£…ä¸€ä¸ªæ‰©å±•ï¼Œåœ¨cmdä¸­è¾“å…¥npm install hexo-deployer-git â€”saveï¼Œå¹¶å°†åˆšåˆšç”Ÿæˆçš„æ–‡ä»¶ç¼–è¾‘å¥½åcmdä¸­è¾“å…¥å‘½ä»¤hexo d -gå³å¯ç”Ÿæˆéƒ¨ç½²æ–‡ç«  è‡³æ­¤ï¼Œä¸€ä¸ªå…·å¤‡åŸºç¡€åŠŸèƒ½çš„åšå®¢å°±å®Œæˆäº† ç»‘å®šè‡ªå·±çš„åŸŸåè´­ä¹°åŸŸåå›½å†…çš„åŸŸåæœåŠ¡å•†æœ‰æ–°ç½‘ï¼Œè…¾è®¯äº‘ï¼Œè¿˜æœ‰é˜¿é‡Œäº‘çš„ä¸‡ç½‘ç­‰ã€‚ä¸‹é¢ä»¥é˜¿é‡Œäº‘çš„ä¸‡ç½‘ä¸ºä¾‹ï¼šåœ¨ä¸‡ç½‘è´­ä¹°äº†è‡ªå·±å¿ƒä»ªçš„åŸŸååï¼Œè¿›å…¥é˜¿é‡Œäº‘çš„ç®¡ç†æ§åˆ¶å°-åŸŸåä¸ç½‘ç«™-åŸŸåå°±å¯ä»¥çœ‹åˆ°è´­ä¹°çš„åŸŸåæ­¤æ—¶çš„åŸŸåçŠ¶æ€æ˜¯æœªå®åè®¤è¯çš„ï¼Œç„¶åå°±æ˜¯å®åè®¤è¯ï¼ˆä¸€èˆ¬éœ€è¦2å°æ—¶å·¦å³ï¼‰ã€‚ åŸŸåè§£æé¦–å…ˆè·å–è‡ªå·± github çš„äºŒçº§åŸŸåçš„ IPåœ°å€ï¼Œwindows ä¸‹ç›´æ¥åœ¨ cmd é‡Œ Ping ä¸€ä¸‹è‡ªå·±çš„åšå®¢å°±ä¼šå¾—åˆ° IP åœ°å€ï¼šping username.github.io,å…¶ä¸­usernameä¸ºè‡ªå·±çš„githubç”¨æˆ·å ä¸‹é¢é€šè¿‡ DNSåŸŸåè§£æå°†è´­ä¹°çš„åŸŸåæŒ‡å‘ github çš„äºŒçº§åŸŸåï¼šusername.github.ioï¼Œè¿›å…¥é˜¿é‡Œäº‘çš„ç®¡ç†æ§åˆ¶å°-åŸŸåä¸ç½‘ç«™-äº‘è§£æ DNSï¼Œè¿›å…¥åŸŸåçš„è§£æè®¾ç½®ï¼Œç‚¹å‡»æ–°æ‰‹æŒ‡å¯¼ï¼Œå°†å¾—åˆ°çš„ IP åœ°å€å¡«åˆ°è®°å½•å€¼ä¸€æ ï¼Œç‚¹å‡»ç¡®å®šå°± OK äº†ã€‚å¡«å®Œä»¥åçš„è§£æåˆ—è¡¨ä¼šå‡ºç°ï¼š è®°å½•å€¼å°±æ˜¯è‡ªå·± github çš„äºŒçº§åŸŸåçš„ IPåœ°å€ã€‚ è®¾ç½®CNAMEåœ¨ æœ¬åœ°hexo é¡¹ç›®ä¸‹ï¼Œsource æ–‡ä»¶å¤¹ä¸‹é¢åˆ›å»º CNAME æ–‡ä»¶ï¼ˆæ²¡æœ‰åç¼€åçš„ï¼‰ï¼Œåœ¨é‡Œé¢å†™ä¸Šè´­ä¹°çš„åŸŸåã€‚æ¯”å¦‚ï¼š åœ¨ github ä¸Šé¢ï¼Œæ‰“å¼€ username.github.io é¡¹ç›®çš„ï¼ˆSettingsï¼‰è®¾ç½®ï¼Œç„¶ååœ¨ GitHub Pagesçš„ Custom domainè®¾ç½®é‡Œå¡«ä¸Šè´­ä¹°çš„åŸŸåã€‚æ¯”å¦‚ï¼šè¿™æ ·æ–°åŸŸåé…ç½®å®Œæˆï¼Œå¯ä»¥ä½¿ç”¨æ–°çš„ç½‘åè®¿é—®è‡ªå·±çš„åšå®¢äº† æ›´æ¢ä¸»é¢˜Hexoæœ‰è®¸å¤šçš„ä¸ªæ€§åŒ–ä¸»é¢˜å¯ä¾›é€‰æ‹©ï¼Œæœ‰å…´è¶£çš„å¯ä»¥ç›´æ¥æœç´¢hexoä¸»é¢˜è¿›å…¥hexoçš„å®˜ç½‘æŸ¥çœ‹ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯hexo sakuraä¸»é¢˜ï¼Œgithub åœ°å€ä¸ºhttps://github.com/honjun/hexo-theme-sakuraï¼Œåœ¨è¿™é‡Œä¹Ÿèƒ½æ‰¾åˆ°ä¸»é¢˜çš„å¤§éƒ¨åˆ†ä½¿ç”¨æ–¹æ³•ï¼Œè¿™ä¸€éƒ¨åˆ†ä¸»è¦æ˜¯ä½œè€…çš„æ•™ç¨‹+ä¸€äº›è‡ªå·±æ‘¸ç´¢å‡ºæ¥çš„æ•™ç¨‹+å…¶ä»–æœç´¢é—®é¢˜æ—¶çš„æ•™ç¨‹ ä¸»é¢˜ä¸‹è½½å®‰è£…hexo-theme-sakuraå»ºè®®ä¸‹è½½å‹ç¼©åŒ…æ ¼å¼ï¼Œå› ä¸ºé™¤äº†ä¸»é¢˜å†…å®¹è¿˜æœ‰äº›sourceçš„é…ç½®å¯¹æ–°æ‰‹æ¥è¯´æ¯”è¾ƒå¤ªéº»çƒ¦ï¼Œç›´æ¥ä¸‹è½½è§£å‹å°±çœå»è¿™äº›éº»çƒ¦å’¯ã€‚ä¸‹è½½å¥½åè§£å‹åˆ°åšå®¢æ ¹ç›®å½•ï¼ˆä¸æ˜¯ä¸»é¢˜ç›®å½•å“¦ï¼Œé‡å¤çš„é€‰æ‹©æ›¿æ¢ï¼‰ã€‚æ¥ç€åœ¨å‘½ä»¤è¡Œï¼ˆcmdã€bashï¼‰è¿è¡Œnpm iå®‰è£…ä¾èµ–ã€‚ ä¸»é¢˜é…ç½®æ‰¾åˆ° /themes/sakura/config.yml è¿™ä¸ªé…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ï¼Œè·Ÿç€ä½œè€…çš„æ³¨é‡Šä¿®æ”¹å³å¯ã€‚æ³¨æ„ä¸€ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å¸¦æœ‰æ³¨é‡Šï¼Œæ‰€ä»¥æœ€å¥½æ‰¾åˆ°è‡ªå·±çš„ç”µè„‘ä¸­çš„æ–‡ä»¶å¯¹ç…§æ”¹ï¼Œä»¥å…å‡ºé”™ã€‚ ç«™ç‚¹ # Site title: ä½ çš„ç«™ç‚¹å subtitle: description: ç«™ç‚¹ç®€ä»‹ keywords: author: ä½œè€…å language: zh-cn timezone: éƒ¨ç½² deploy: type: git repo: github: ä½ çš„githubä»“åº“åœ°å€ # coding: ä½ çš„codingä»“åº“åœ°å€ branch: master å¤‡ä»½ ï¼ˆä½¿ç”¨hexo bå‘å¸ƒå¤‡ä»½åˆ°è¿œç¨‹ä»“åº“ï¼‰ backup: type: git message: backup my blog of https://honjun.github.io/ repository: # ä½ çš„githubä»“åº“åœ°å€,å¤‡ä»½åˆ†æ”¯å ï¼ˆå»ºè®®æ–°å»ºbackupåˆ†æ”¯ï¼‰ github: https://github.com/honjun/honjun.github.io.git,backup # coding: https://git.coding.net/hojun/hojun.git,backup ä¸»é¢˜ç›®å½•ä¸‹çš„_configé…ç½®å…¶ä¸­æ ‡æ˜ã€æ”¹ã€‘çš„æ˜¯éœ€è¦ä¿®æ”¹éƒ¨é—¨ï¼Œæ ‡æ˜ã€é€‰ã€‘æ˜¯å¯æ”¹å¯ä¸æ”¹ï¼Œæ ‡æ˜ã€éã€‘æ˜¯ä¸ç”¨æ”¹çš„éƒ¨åˆ† # site name # ç«™ç‚¹åï¼Œå³ç½‘ç«™çš„å·¦ä¸Šè§’çš„åç§° ã€æ”¹ã€‘ prefixName: ã•ãã‚‰è˜ãã® siteName: hojun # favicon and site master avatar # ç«™ç‚¹çš„faviconå’Œå¤´åƒ è¾“å…¥å›¾ç‰‡è·¯å¾„ï¼ˆä¸‹é¢çš„é…ç½®æ˜¯éƒ½æ˜¯cdnçš„ç›¸å¯¹è·¯å¾„ï¼Œæ²¡æœ‰cdnè¯·å¡«å†™å®Œæ•´è·¯å¾„ï¼Œå»ºè®®ä½¿ç”¨jsdeliveræ­å»ºä¸€ä¸ªcdnå•¦ï¼Œå…ˆå»ä¸‹è½½æˆ‘çš„cdnæ›¿æ¢ä¸‹å›¾ç‰‡å°±è¡Œäº†ï¼Œç®€å•æ–¹ä¾¿~ï¼‰ã€æ”¹ã€‘ favicon: /images/favicon.ico avatar: /img/custom/avatar.jpg # ç«™ç‚¹url ã€æ”¹ä¸ºè‡ªå·±çš„åšå®¢çš„ç½‘å€ã€‘ url: https://sakura.hojun.cn # ç«™ç‚¹ä»‹ç»ï¼ˆæˆ–è€…è¯´æ˜¯ä¸ªäººç­¾åï¼‰ã€æ”¹ã€‘ description: Live your life with passion! With some drive! # ç«™ç‚¹cdnï¼Œæ²¡æœ‰å°±ä¸ºç©º ã€æ”¹ã€‘ è‹¥æ˜¯cdnä¸ºç©ºï¼Œä¸€äº›å›¾ç‰‡åœ°å€å°±è¦å¡«å®Œæ•´åœ°å€äº†ï¼Œæ¯”å¦‚ä¹‹å‰avatarå°±è¦å¡«https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/custom/avatar.jpg cdn: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6 # å¼€å¯pjax ã€é€‰ã€‘ pjax: 1 # ç«™ç‚¹é¦–é¡µçš„å…¬å‘Šä¿¡æ¯ ã€æ”¹ã€‘ notice: hexo-Sakuraä¸»é¢˜å·²ç»å¼€æºï¼Œç›®å‰æ­£åœ¨å¼€å‘ä¸­... # æ‡’åŠ è½½çš„åŠ è½½ä¸­å›¾ç‰‡ ã€é€‰ã€‘ lazyloadImg: https://cdn.jsdelivr.net/gh/honjun/cdn@1.6/img/loader/orange.progress-bar-stripe-loader.svg # ç«™ç‚¹èœå•é…ç½® ã€é€‰ã€‘ menus: é¦–é¡µ: { path: /, fa: fa-fort-awesome faa-shake } å½’æ¡£: { path: /archives, fa: fa-archive faa-shake, submenus: { æŠ€æœ¯: {path: /categories/æŠ€æœ¯/, fa: fa-code }, ç”Ÿæ´»: {path: /categories/ç”Ÿæ´»/, fa: fa-file-text-o }, èµ„æº: {path: /categories/èµ„æº/, fa: fa-cloud-download }, éšæƒ³: {path: /categories/éšæƒ³/, fa: fa-commenting-o }, è½¬è½½: {path: /categories/è½¬è½½/, fa: fa-book } } } æ¸…å•: { path: javascript:;, fa: fa-list-ul faa-vertical, submenus: { ä¹¦å•: {path: /tags/æ‚¦è¯»/, fa: fa-th-list faa-bounce }, ç•ªç»„: {path: /bangumi/, fa: fa-film faa-vertical }, æ­Œå•: {path: /music/, fa: fa-headphones }, å›¾é›†: {path: /tags/å›¾é›†/, fa: fa-photo } } } ç•™è¨€æ¿: { path: /comment/, fa: fa-pencil-square-o faa-tada } å‹äººå¸: { path: /links/, fa: fa-link faa-shake } èµèµ: { path: /donate/, fa: fa-heart faa-pulse } å…³äº: { path: /, fa: fa-leaf faa-wrench , submenus: { æˆ‘ï¼Ÿ: {path: /about/, fa: fa-meetup}, ä¸»é¢˜: {path: /theme-sakura/, fa: iconfont icon-sakura }, Lab: {path: /lab/, fa: fa-cogs }, } } å®¢æˆ·ç«¯: { path: /client/, fa: fa-android faa-vertical } RSS: { path: /atom.xml, fa: fa-rss faa-pulse } # Home page sort type: -1: newer firstï¼Œ1: older first. ã€éã€‘ homePageSortType: -1 # Home page article shown number) ã€éã€‘ homeArticleShown: 10 # èƒŒæ™¯å›¾ç‰‡ ã€é€‰ã€‘ bgn: 8 # startdashé¢æ¿ url, title, desc img ã€æ”¹ã€‘ startdash: - {url: /theme-sakura/, title: Sakura, desc: æœ¬ç«™ hexo ä¸»é¢˜, img: /img/startdash/sakura.md.png} - {url: http://space.bilibili.com/271849279, title: Bilibili, desc: åšä¸»çš„bç«™è§†é¢‘, img: /img/startdash/bilibili.jpg} - {url: /, title: hojunçš„ä¸‡äº‹å±‹, desc: æŠ€æœ¯æœåŠ¡, img: /img/startdash/wangshiwu.jpg} # your site build time or founded date # ä½ çš„ç«™ç‚¹å»ºç«‹æ—¥æœŸ ã€æ”¹ã€‘ siteBuildingTime: 07/17/2018 # ç¤¾äº¤æŒ‰é’®(social) url, img PCç«¯é…ç½® ã€æ”¹ã€‘ social: github: {url: http://github.com/honjun, img: /img/social/github.png} sina: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/sina.png} wangyiyun: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/wangyiyun.png} zhihu: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/zhihu.png} email: {url: http://weibo.com/mashirozx?is_all=1, img: /img/social/email.svg} wechat: {url: /#, qrcode: /img/custom/wechat.jpg, img: /img/social/wechat.png} # ç¤¾äº¤æŒ‰é’®(msocial) url, img ç§»åŠ¨ç«¯é…ç½® ã€æ”¹ã€‘ msocial: github: {url: http://github.com/honjun, fa: fa-github, color: 333} weibo: {url: http://weibo.com/mashirozx?is_all=1, fa: fa-weibo, color: dd4b39} qq: {url: https://wpa.qq.com/msgrd?v=3&amp;uin=954655431&amp;site=qq&amp;menu=yes, fa: fa-qq, color: 25c6fe} # èµèµäºŒç»´ç ï¼ˆå…¶ä¸­wechatSQæ˜¯èµèµå•é¡µé¢çš„èµèµç å›¾ç‰‡ï¼‰ã€æ”¹ã€‘ donate: alipay: /img/custom/donate/AliPayQR.jpg wechat: /img/custom/donate/WeChanQR.jpg wechatSQ: /img/custom/donate/WeChanSQ.jpg # é¦–é¡µè§†é¢‘åœ°å€ä¸ºhttps://cdn.jsdelivr.net/gh/honjun/hojun@1.2/Unbroken.mp4ï¼Œé…ç½®å¦‚ä¸‹ ã€æ”¹ã€‘ movies: url: https://cdn.jsdelivr.net/gh/honjun/hojun@1.2 # å¤šä¸ªè§†é¢‘ç”¨é€—å·éš”å¼€ï¼Œéšæœºè·å–ã€‚æ”¯æŒçš„æ ¼å¼ç›®å‰å·²çŸ¥MP4,Flvã€‚å…¶ä»–çš„å¯ä»¥è¯•ä¸‹ï¼Œä¸ä¿è¯æœ‰ç”¨ name: Unbroken.mp4 # å·¦ä¸‹è§’aplayeræ’­æ”¾å™¨é…ç½® ä¸»è¦æ”¹idå’Œserverè¿™ä¸¤é¡¹ï¼Œä¿®æ”¹è¯¦è§[aplayeræ–‡æ¡£] ã€æ”¹ã€‘ aplayer: id: 2660651585 server: netease type: playlist fixed: true mini: false autoplay: false loop: all order: random preload: auto volume: 0.7 mutex: true # Valineè¯„è®ºé…ç½®ã€æ”¹ã€‘ valine: true v_appId: GyC3NzMvd0hT9Yyd2hYIC0MN-gzGzoHsz v_appKey: mgOpfzbkHYqU92CV4IDlAUHQ CDNæ­å»ºè¿™å…¶ä¸­æ¶‰åŠåˆ°æ­å»ºcdn,å¯ä»¥ç›´æ¥å»è§†å±åœ°å€çœ‹ï¼Œç›´æ¥çœ‹æ–‡å­—ç‰ˆå¦‚ä¸‹ï¼š å›½å†…åŠ è½½githubçš„èµ„æºæ¯”è¾ƒæ…¢ï¼Œéœ€è¦ä½¿ç”¨CDNåŠ é€Ÿæ¥ä¼˜åŒ–ç½‘ç«™æ‰“å¼€é€Ÿåº¦ï¼Œäºæ˜¯ä½¿ç”¨jsDeliver+githubæ­å»ºå…è´¹çš„cdnã€‚jsDelivr æ˜¯ä¸€ä¸ªå…è´¹å¼€æºçš„ CDN è§£å†³æ–¹æ¡ˆï¼Œç”¨äºå¸®åŠ©å¼€å‘è€…å’Œç«™é•¿ã€‚åŒ…å« JavaScript åº“ã€jQuery æ’ä»¶ã€CSS æ¡†æ¶ã€å­—ä½“ç­‰ç­‰ Web ä¸Šå¸¸ç”¨çš„é™æ€èµ„æº ä»€ä¹ˆæ˜¯CDNCDNçš„å…¨ç§°æ˜¯Content Delivery Networkï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œã€‚CDNæ˜¯æ„å»ºåœ¨ç½‘ç»œä¹‹ä¸Šçš„å†…å®¹åˆ†å‘ç½‘ç»œï¼Œä¾é éƒ¨ç½²åœ¨å„åœ°çš„è¾¹ç¼˜æœåŠ¡å™¨ï¼Œé€šè¿‡ä¸­å¿ƒå¹³å°çš„è´Ÿè½½å‡è¡¡ã€å†…å®¹åˆ†å‘ã€è°ƒåº¦ç­‰åŠŸèƒ½æ¨¡å—ï¼Œä½¿ç”¨æˆ·å°±è¿‘è·å–æ‰€éœ€å†…å®¹ï¼Œé™ä½ç½‘ç»œæ‹¥å¡ï¼Œæé«˜ç”¨æˆ·è®¿é—®å“åº”é€Ÿåº¦å’Œå‘½ä¸­ç‡ã€‚CDNçš„å…³é”®æŠ€æœ¯ä¸»è¦æœ‰å†…å®¹å­˜å‚¨å’Œåˆ†å‘æŠ€æœ¯ã€‚ å›½å†…åŠ è½½githubçš„èµ„æºæ¯”è¾ƒæ…¢ï¼Œéœ€è¦ä½¿ç”¨CDNåŠ é€Ÿæ¥ä¼˜åŒ–ç½‘ç«™æ‰“å¼€é€Ÿåº¦ï¼Œäºæ˜¯ä½¿ç”¨jsDeliver+githubæ­å»ºå…è´¹çš„CDNï¼Œéå¸¸é€‚åˆåšå®¢ç½‘ç«™ä½¿ç”¨ã€‚ jsDelivr æ˜¯ä¸€ä¸ªå…è´¹å¼€æºçš„ CDN è§£å†³æ–¹æ¡ˆï¼Œç”¨äºå¸®åŠ©å¼€å‘è€…å’Œç«™é•¿ã€‚åŒ…å« JavaScript åº“ã€jQuery æ’ä»¶ã€CSS æ¡†æ¶ã€å­—ä½“ç­‰ç­‰ Web ä¸Šå¸¸ç”¨çš„é™æ€èµ„æºã€‚ NPMæ˜¯JavaScriptçš„åŒ…ç®¡ç†å™¨ï¼Œä¹Ÿæ˜¯ä¸–ç•Œä¸Šæœ€å¤§çš„è½¯ä»¶æ³¨å†Œä¸­å¿ƒã€‚å‘ç°å¯é‡ç”¨ä»£ç çš„åŒ…â€”â€”å¹¶ä»¥å¼ºå¤§çš„æ–°æ–¹å¼ç»„è£…å®ƒä»¬ã€‚æ¯æ˜ŸæœŸå¤§çº¦æœ‰ 30 äº¿æ¬¡çš„ä¸‹è½½é‡ï¼ŒåŒ…å«è¶…è¿‡ 600000 ä¸ª åŒ…ï¼ˆpackageï¼‰ ï¼ˆå³ï¼Œä»£ç æ¨¡å—ï¼‰ã€‚æ¥è‡ªå„å¤§æ´²çš„å¼€æºè½¯ä»¶å¼€å‘è€…ä½¿ç”¨ npm äº’ç›¸åˆ†äº«å’Œå€Ÿé‰´ã€‚åŒ…çš„ç»“æ„ä½¿æ‚¨èƒ½å¤Ÿè½»æ¾è·Ÿè¸ªä¾èµ–é¡¹å’Œç‰ˆæœ¬ã€‚ æ‰€ä»¥jsDeliver+npmå°±æ˜¯æŠŠnpmä¸Šçš„åŒ…å½“åšcdnçš„å­˜å‚¨ã€‚jsDeliverä¸æ”¯æŒåŠ è½½è¶…è¿‡20Mçš„èµ„æºï¼Œæ‰€ä»¥ä¸€äº›è§†é¢‘æœ€å¥½å‹ç¼©åˆ°20Mä»¥ä¸‹ ç¬¬ä¸€æ­¥ï¼šæ–°å»ºgithubä»“åº“ ç¬¬äºŒæ­¥ï¼šå…‹éš†Githubä»“åº“åˆ°æœ¬åœ° $ git clone ä½ çš„ä»“åº“é“¾æ¥ # æœ¬åœ°å…‹éš†githubä»“åº“ ç¬¬ä¸‰æ­¥ï¼šä¸Šä¼ éœ€è¦çš„èµ„æºåœ¨æœ¬åœ°ç›®å½•å³é”® Git Bash Here,å¤åˆ¶éœ€è¦çš„é™æ€èµ„æºåˆ°æœ¬åœ°gitä»“åº“ä¸­ï¼Œæäº¤åˆ°githubä»“åº“ä¸Šã€‚äº¦å¯ä»¥githubç›´æ¥ä¸Šä¼ æ–‡ä»¶å‘½ä»¤å¦‚ä¸‹ï¼š // æŸ¥çœ‹çŠ¶æ€ git status // æ·»åŠ åˆ°åº“ä¸­ git add . // æäº¤æ›´æ–°ï¼ˆå¼•å·å†… ä¸ºè‡ªå®šä¹‰ä¿¡æ¯è¯´æ˜ï¼‰ git commit -m &#39;ç¬¬ä¸€æ¬¡æäº¤&#39; // æ¨é€è‡³è¿œç¨‹ä»“åº“ git push ç¬¬å››æ­¥ï¼šå‘å¸ƒä»“åº“ç‚¹å‡»releaseå‘å¸ƒ å‘å¸ƒç‰ˆæœ¬å·ä¸º1.0ï¼ˆè‡ªå®šä¹‰ï¼‰ åŒæ—¶ä¹Ÿå¯ä»¥ç›´æ¥åœ¨å»ºç«‹çš„ä»“åº“ä¸­ç›´æ¥ä¸Šä¼ æ–‡ä»¶ï¼Œè¿™ä¸€éƒ¨åˆ†æ˜¯githubçš„æ“ä½œï¼Œä¸å¤šèµ˜è¿° ç¬¬äº”æ­¥ï¼šé€šè¿‡jsDeliverå¼•ç”¨èµ„æºä½¿ç”¨æ–¹æ³•ï¼šhttps://cdn.jsdelivr.net/gh/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å@å‘å¸ƒçš„ç‰ˆæœ¬å·/æ–‡ä»¶è·¯å¾„æ¯”å¦‚ï¼š//åŠ è½½å›¾ç‰‡https://cdn.jsdelivr.net/gh/Zevs6/CDN/img/avatar.jpg æ³¨æ„ï¼šç‰ˆæœ¬å·ä¸æ˜¯å¿…éœ€çš„ï¼Œæ˜¯ä¸ºäº†åŒºåˆ†æ–°æ—§èµ„æºï¼Œå¦‚æœä¸ä½¿ç”¨ç‰ˆæœ¬å·ï¼Œå°†ä¼šç›´æ¥å¼•ç”¨æœ€æ–°èµ„æºï¼Œé™¤æ­¤ä¹‹å¤–è¿˜å¯ä»¥ä½¿ç”¨æŸä¸ªèŒƒå›´å†…çš„ç‰ˆæœ¬ï¼ŒæŸ¥çœ‹æ‰€æœ‰èµ„æºç­‰ï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š // åŠ è½½ä»»ä½•Githubå‘å¸ƒã€æäº¤æˆ–åˆ†æ”¯https://cdn.jsdelivr.net/gh/user/repo@version/file // åŠ è½½ jQuery v3.2.1https://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/dist/jquery.min.js // ä½¿ç”¨ç‰ˆæœ¬èŒƒå›´è€Œä¸æ˜¯ç‰¹å®šç‰ˆæœ¬https://cdn.jsdelivr.net/gh/jquery/jquery@3.2/dist/jquery.min.jshttps://cdn.jsdelivr.net/gh/jquery/jquery@3/dist/jquery.min.js // å®Œå…¨çœç•¥è¯¥ç‰ˆæœ¬ä»¥è·å–æœ€æ–°ç‰ˆæœ¬https://cdn.jsdelivr.net/gh/jquery/jquery/dist/jquery.min.js // å°†â€œ.minâ€æ·»åŠ åˆ°ä»»ä½•JS/CSSæ–‡ä»¶ä¸­ä»¥è·å–ç¼©å°ç‰ˆæœ¬ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå°†ä¸ºä¼šè‡ªåŠ¨ç”Ÿæˆhttps://cdn.jsdelivr.net/gh/jquery/jquery@3.2.1/src/core.min.js // åœ¨æœ«å°¾æ·»åŠ  / ä»¥è·å–èµ„æºç›®å½•åˆ—è¡¨https://cdn.jsdelivr.net/gh/jquery/jquery/ å­é¡µé¢ä¸å…¶ä»–ç»†èŠ‚ä¿®æ”¹ï¼šå»æ‰prefixNameå¦‚æœæƒ³å»æ‰prefixNameï¼ˆç½‘é¡µå·¦ä¸Šè§’çš„ç½‘ç«™åç§°å‰åŠéƒ¨åˆ†ï¼‰ï¼Œå¯åœ¨ /themes/sakura/source/css/style.cssä¸‹ä¿®æ”¹äº†æ ·å¼è¡¨å»æ‰prefixNameå³å¯ã€‚å¤§å®¶å¦‚æœæƒ³ä¿®æ”¹å…¶ç›¸å…³çš„æ ·å¼ä¹Ÿå¯ä»¥å»è¿™ä¸ªcssæ–‡ä»¶ä¸­è‡ªå®šä¹‰,è¿™ä¸ªæ–‡ä»¶æ˜¯ä¸»è¦çš„cssæ–‡ä»¶ï¼Œå¤§éƒ¨åˆ†çš„æ ·å¼éƒ½æ˜¯ç”±è¿™ä¸ªæ–‡ä»¶å®šä¹‰çš„ã€‚ ç½‘é¡µé¡¶éƒ¨å¯¼èˆªæ ç½‘é¡µé¡¶éƒ¨å¯¼èˆªæ å¯ä»¥åœ¨/themes/sakura/config.ymlä¸­çš„meuns:ä¸‹ä¿®æ”¹ï¼Œå¦‚æœæœ‰éœ€è¦ï¼Œå¯ä»¥ä¿®æ”¹åç§°ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åˆ é™¤ï¼Œç”Ÿæˆçš„ç½‘é¡µä¼šéšä¹‹å˜åŠ¨å‰é¢çš„pathæ˜¯ç½‘é¡µè·¯å¾„ï¼Œè¿™ä¸ªä¸å»ºè®®ä¿®æ”¹ï¼Œä½†å¯ä»¥ä¿®æ”¹ã€‚åé¢çš„å¦‚: fa: fas fa-home fa-1x è¿™ä¸ªå°±æ˜¯å¯¹åº”çš„å›¾æ ‡è®¾ç½®,å…³äºè¿™ä¸ªå›¾æ ‡å¤§å®¶å¯ä»¥å»fontawesomeçœ‹æ•™ç¨‹ä»¥åŠé€‰æ‹©è‡ªå·±å–œæ¬¢çš„å›¾æ ‡ï¼Œå¯¼èˆªæ ä¸‹æ‹‰ä¸‹æ‹‰èœå•çš„å›¾æ ‡ä¿®æ”¹å’Œå¯¼èˆªæ ç›¸åŒã€‚ ç¤¾äº¤æ æ ·å¼ç¤¾äº¤æ çš„æ ·å¼åœ¨ /themes/sakura/source/css/style.cssä¸­å¯ä»¥ä¿®æ”¹ï¼Œ Ctrl+f æœç´¢ header-infoå³å¯ï¼Œå»ºè®®æ²¡æœ‰å¿…è¦å°±ä¸ä¿®æ”¹äº† æ¨¡å—æ›´åstartdashæ¨¡å—æ›´æ”¹åç§°ï¼šåœ¨ /themes/sakura/layout/_partial/startdash.ejsä¸­æœ‰ï¼š &lt;div class=&quot;top-feature-row&quot;&gt; &lt;h1 class=&quot;fes-title&quot; style=&quot;font-family: &#39;Ubuntu&#39;, sans-serif;&quot;&gt; &lt;i class=&quot;fa fa-anchor&quot; aria-hidden=&quot;true&quot;&gt; &lt;/i&gt; startdash&lt;/h1&gt; &lt;% for (dash in theme.startdash) { %&gt; .... æ›´æ”¹å…¶ä¸­çš„startdashå³å¯åŒæ ·å¦‚æœè¦æ›´æ”¹discoveryæ¨¡å—çš„åç§°ï¼Œåœ¨/themes/sakura/layout/index.ejsä¸­æ‰¾åˆ°å¦‚ä¸‹ä»£ç ï¼š &lt;h1 class=&quot;main-title&quot; style=&quot;font-family: &#39;Ubuntu&#39;, sans-serif;&quot;&gt; &lt;i class=&quot;fa fa-envira&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; Discovery&lt;/h1&gt; &lt;%- partial(&#39;_partial/archive&#39;, {pagination: 2, index: true}) %&gt; &lt;!-- é¦–é¡µé»˜è®¤å–æœ€æœ€æ–°æ–‡ç« é›† --&gt; ä¿®æ”¹discoveryå³å¯ æ–‡ç« çš„å°é¢ï¼Œå½’æ¡£è®¾ç½®åœ¨ä½ å†™åšå®¢æ—¶çš„mdæ–‡ä»¶ä¸­å¯ä»¥è‡ªç”±è®¾ç½®ï¼Œä¸‹é¢æ˜¯ç¤ºä¾‹ï¼š title: Sakuraç¾åŒ–æ•™ç¨‹#æ–‡ç« çš„æ ‡é¢˜ author: hojun#ä½œè€…åç§° avatar: https://wx1.sinaimg.cn/large/006bYVyvgy1ftand2qurdj303c03cdfv.jpg#æ–‡ç« æ ‡é¢˜ä¸‹ä½œè€…çš„å›¾æ ‡ï¼Œå¦‚æœä¸åŠ ä¼šå¯¼è‡´å›¾ç‰‡ç¼ºå¤±ï¼Œæ¯”è¾ƒä¸‘ authorLink: https://yremp.club#ä½œè€…é“¾æ¥ authorAbout: authorDesc: categories: æŠ€æœ¯#å¯¹åº”ç½‘é¡µé¡¶éƒ¨å¯¼èˆªæ å½’æ¡£ date: 2019-5-26 12:16:01 comments: true tags: - web keywords: Sakuraä¸»é¢˜è‡ªå®šä¹‰ç¾åŒ–æ•™ç¨‹ description: Sakuraç¾åŒ–æ•™ç¨‹ photos: https://static.2heng.xin/wp-content/uploads//2019/02/wallhaven-672007-1-1024x576.png#å°é¢çš„å›¾ç‰‡é“¾æ¥ --- å½’æ¡£å­é¡µé¢å½’æ¡£å­é¡µé¢ä¸‹çš„å›¾ç‰‡/å°é¢è®¾ç½®åœ¨ /themes/sakura/language/zh-cn.ymlï¼Œæ‰¾åˆ°å¦‚ä¸‹ä»£ç ï¼š #category æŠ€æœ¯: zh: é‡ç”ŸæŠ€æœ¯åä¼š en: Technical Communication img: https://cdn.jsdelivr.net/gh/yremp/cdn@2.1.5/img/cover/(1).jpg.webp ç”Ÿæ´»: zh: ç”Ÿæ´» en: Live img: https://cdn.jsdelivr.net/gh/yremp/cdn@2.1.5/img/cover/(2).jpg.webp ...... è¿™ä¸€ä¸ªå­é¡µé¢åŒæ ·æ˜¯å’Œä¹‹å‰è®¾ç½®çš„ç›¸å…³çš„ï¼Œè‡ªå·±æœ‰å‡ ä¸ªå½’æ¡£åˆ†ç±»å°±è‡ªå·±æ·»åŠ å³å¯ æ‚¦è¯»å’Œå›¾é›†åœ¨ /themes/sakura/language/zh-cn.ymlä¿®æ”¹ï¼š #tag æ‚¦è¯»: img: https://cdn.jsdelivr.net/gh/yremp/cdn@2.1.5/img/cover/(6).jpg.webp å›¾é›†: img: https://cdn.jsdelivr.net/gh/yremp/cdn@2.1.5/img/cover/(5).jpg.webp web: img: https://cdn.jsdelivr.net/gh/yremp/resource@1.0/img/pic.jpg ç•ªç»„æ³¨æ„ï¼šè¿™ä¸ªsouceæ–‡ä»¶å¤¹éœ€è¦æ”¾åœ¨blogä¸€çº§çš„æ–‡ä»¶å¤¹ä¸‹ï¼Œå¦‚æœæ²¡æœ‰çš„è¯åœ¨ä¸‹è½½çš„sakuraæ–‡ä»¶ä¸­å¤åˆ¶ç²˜è´´è¿™ä¸ªé¡µé¢å¯¹åº”çš„é…ç½®æ˜¯åœ¨ /source/bangumi/index.mdä¸­ä¿®æ”¹ï¼Œå…¶ä¸­ä»£ç å¦‚ä¸‹,å¯¹ç…§ç½‘é¡µä¿®æ”¹å³å¯ --- layout: bangumi title: bangumi comments: false date: 2019-02-10 21:32:48 keywords: description: bangumis: - img: http://pic.netbian.com/uploads/allimg/180413/121552-152359295246db.jpg title: ç‹å¦–å°çº¢å¨˜ status: è¿½ç•ªä¸­ progress: 100 jp: ç‹å¦–å°çº¢å¨˜ time: 2019-05-24 SUN. desc: ç™½æœˆåˆâ€¦â€¦ - img: http://pic.netbian.com/uploads/allimg/170605/130458-149663909840b3.jpg title: åä¾¦æ¢æŸ¯å— status: è¿½ç•ªä¸­ progress: 1000 jp: åæ¢åµã‚³ãƒŠãƒ³ time: 2019-05-24 SUN. desc: ä¸­ç”Ÿä¾¦æ¢å·¥è—¤æ–°ä¸€â€¦â€¦ --- æ­Œå•æ•´ä¸ªé¡µé¢é…ç½®åœ¨ /source/music/index.mdä¸­ï¼š --- title: music date: 2018-12-20 23:14:28 keywords: å–œæ¬¢çš„éŸ³ä¹ description: comments: false photos: http://pic.netbian.com/uploads/allimg/170911/233802-15051442827782.jpg --- &lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=100% height=450 src=&quot;//music.163.com/outchain/player?type=0&amp;id=762797776&amp;auto=1&amp;height=430&quot;&gt;&lt;/iframe&gt; photoså°±æ˜¯è¿™ä¸ªé¡µé¢çš„é¡¶éƒ¨å›¾ç‰‡ï¼Œidå°±æ˜¯ç½‘æ˜“äº‘éŸ³ä¹æ­Œå•idï¼Œç™»å½•ç½‘é¡µç‰ˆç½‘æ˜“äº‘éŸ³ä¹ï¼Œæ‰“å¼€æ­Œå•å°±å¯ä»¥åœ¨ç½‘å€ä¸­æ‰¾åˆ° å‹é“¾é…ç½®å‹æƒ…é“¾æ¥å†…å®¹é…ç½®å…·ä½“åœ¨ /source/link/index.mdä¸­ï¼Œç•Œé¢èƒŒæ™¯åŠå¸ƒå±€ä¸»è¦åœ¨/themes/sakura/layout/links.ejs å…¶ä»–äº‹é¡¹ ç½‘é¡µé¡¶éƒ¨å¯¼èˆªæ å½’æ¡£å¦‚æœæŸä¸€ä¸ªåˆ†ç±»ä¸‹æ²¡æœ‰æ·»åŠ æ–‡ä»¶ï¼Œåˆ™ä¼šå‡ºç°not foungé¡µé¢ï¼Œæ‰€ä»¥å¯¹åº”çš„ä¸Šä¸€æ­¥ä¸­çš„categorieséœ€è¦ä¸_configæ–‡ä»¶ä¸­çš„å¯¹åº” æ³¨æ„æ‰€æœ‰çš„mdæ–‡ä»¶ä¸­çš„ï¼šåéƒ½æœ‰ä¸€ä¸ªç©ºæ ¼ï¼ˆä¸çŸ¥é“æ”¹å¦‚ä½•å«ï¼Œé”®å€¼å¯¹ï¼Ÿï¼‰ å…¶ä»–çš„åç»­é—®é¢˜ï¼Œbugç­‰å½’çº³æ•´ç†åˆ°Hexo Sakuraä¸»é¢˜é‡åˆ°çš„é—®é¢˜æ±‡æ€»ä¾›å‚è€ƒ æ·»åŠ ä¸€ä¸ªçœ‹æ¿å¨˜å°±æ˜¯å³ä¸‹è§’çš„å¡é€šäººç‰© åŸºç¡€ç‰ˆçœ‹æ¿å¨˜é¡¹ç›®åœ°å€ live2dæ¨¡å‹ éƒ¨åˆ†æ¨¡å‹é¢„è§ˆ é¦–å…ˆè¿›å…¥Hexoåšå®¢æ ¹ç›®å½•å®‰è£…live2dæ’ä»¶ $ npm install --save hexo-helper-live2d æ¥ç€ï¼Œä¿®æ”¹æ ¹ç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶ æ·»åŠ è‡ªå®šä¹‰é…ç½®(ä¸‹é¢æä¾›æˆ‘çš„é…ç½®åšå‚è€ƒ)ï¼š ## live2d live2d: enable: true scriptFrom: local pluginRootPath: live2dw/ pluginJsPath: lib/ pluginModelPath: assets/ tagMode: false debug: false model: use: live2d-widget-model-z16 scale: 1 hHeadPos: 0.5 vHeadPos: 0.618 display: superSample: 2 width: 150 height: 300 position: right hOffset: 0 vOffset: -20 mobile: show: true scale: 0.5 react: opacityDefault: 0.7 opacityOnHover: 0.2 ç»†å¿ƒä¸€ç‚¹è‚¯å®šèƒ½å‘ç° model.use åçš„å­—ç¬¦ä¸²å°±æ˜¯çœ‹æ¿å¨˜æ¨¡å‹çš„åå­— ç°åœ¨ä½ å°±å¯ä»¥è¿›å…¥æ¨¡å‹é¢„è§ˆ æŒ‘é€‰è‡ªå·±å–œæ¬¢çš„çœ‹æ¿å¨˜å•¦ ç°åœ¨å‡è®¾ä½ æ‰€æŒ‘é€‰çš„çœ‹æ¿å¨˜ä¹Ÿæ˜¯z16 ä½ æœ‰å‡ ç§æ–¹å¼è®©çœ‹æ¿å¨˜è¿›é©»ä½ çš„Hexoåšå®¢ï¼Œè¿™é‡Œåªæä¾›æœ€æ–¹ä¾¿çš„ä¸€ç§(å‘½ä»¤å®‰è£…)ã€‚ è¿›å…¥åšå®¢æ ¹ç›®å½•è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š $ npm install live2d-widget-model-z16 å†å°† _config.yml ä¸­ model.useæ£€æŸ¥ ä¸€éç¡®ä¿ä¸ä½ å®‰è£…çš„åç§°ä¸€è‡´ åˆ°æ­¤å¤„çœ‹æ¿å¨˜è¿›é©»æˆåŠŸ è¿›é˜¶ç‰ˆçœ‹æ¿å¨˜å¦‚ä½•å®‰è£…çœ‹æ¿å¨˜å‚»ç“œå¼å®‰è£…åªéœ€åœ¨ç½‘é¡µä¸­å¼•å…¥è¿™ä¸‰è¡Œä»£ç å³å¯ &lt;script src=&quot;https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css&quot;/&gt; &lt;script src=&quot;https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget/autoload.js&quot;&gt;&lt;/script&gt; åœ¨ ä¸»é¢˜é…ç½®æ–‡ä»¶ ä¸­,æ–°å¢å¦‚ä¸‹å†…å®¹ï¼š live2d: enable: true å¦‚æœä½ æƒ³æŠ˜è…¾ä¸€ç¿»ï¼Œè¯·çœ‹ä¸‹é¢æœ¬æ’ä»¶éœ€è¦jQueryå’Œfont-awesomeæ”¯æŒï¼Œè¯·ç¡®ä¿å®ƒä»¬å·²åœ¨é¡µé¢ä¸­åŠ è½½ï¼Œä¾‹å¦‚åœ¨ä¸­åŠ å…¥ï¼š &lt;script src=&quot;https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css&quot;&gt; å¦åˆ™æ— æ³•æ­£å¸¸æ˜¾ç¤ºã€‚ï¼ˆå¦‚æœä½ çš„ç½‘é¡µå·²ç»åŠ è½½äº†jQueryï¼Œå°±ä¸è¦é‡å¤åŠ è½½äº†ï¼‰ ä½ å¯ä»¥ç›´æ¥è¿™æ ·ä½¿ç”¨ï¼š &lt;script src=&quot;https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget/autoload.js&quot;&gt;&lt;/script&gt; å°†è¿™ä¸€è¡Œä»£ç åŠ å…¥æˆ–ï¼Œå³å¯çœ‹åˆ°æ•ˆæœã€‚å¦‚æœä½ çš„ç½‘ç«™å¯ç”¨äº†PJAXï¼Œç”±äºçœ‹æ¿å¨˜ä¸å¿…æ¯é¡µåˆ·æ–°ï¼Œå› æ­¤éœ€è¦æ³¨æ„å°†ç›¸å…³è„šæœ¬æ”¾åˆ°PJAXåˆ·æ–°åŒºåŸŸä¹‹å¤–ã€‚ æ¢å¥è¯è¯´ï¼Œå¦‚æœä½ æ˜¯å°ç™½ï¼Œæˆ–è€…åªéœ€è¦æœ€åŸºç¡€çš„åŠŸèƒ½ï¼Œå°±åªéœ€è¦ï¼š æŠŠè¿™ä¸€è¡Œä»£ç ï¼Œè¿åŒå‰é¢çš„ä¸¤è¡Œä»£ç ï¼Œä¸€èµ·æ”¾åˆ°htmlçš„ä¸­å³å¯ï¼›å¦‚æœé¡µé¢æ˜¯ç”¨å„ç§æ¨¡ç‰ˆå¼•æ“ã€phpã€aspç”Ÿæˆçš„ï¼Œä¹Ÿè¦è‡ªè¡Œä¿®æ”¹ï¼Œæ–¹æ³•ç±»ä¼¼ï¼Œåªæ˜¯å¯èƒ½ç•¥ä¸ºéº»çƒ¦ã€‚ä½†æ˜¯ï¼æˆ‘ä»¬å¼ºçƒˆæ¨èè‡ªå·±è¿›è¡Œé…ç½®ï¼Œå¦åˆ™å¾ˆå¤šåŠŸèƒ½æ˜¯ä¸å®Œæ•´çš„ï¼Œå¹¶ä¸”å¯èƒ½äº§ç”Ÿé—®é¢˜ï¼å¦‚æœä½ è¿˜æœ‰å…´è¶£è‡ªå·±æŠ˜è…¾çš„è¯ï¼Œè¯·çœ‹ä¸‹é¢çš„è¯¦ç»†è¯´æ˜ã€‚ç®—äº†ä¸æä½ ä»¬äº†ï¼Œå¦‚æœæä¸åˆ°ï¼Œè¯·ä½¿ç”¨å‚»ç“œå¼å®‰è£… å¦‚æœè¦è‡ªå®šä¹‰æœ‰å…³å†…å®¹ï¼Œå¯ä»¥æŠŠè¿™ä¸ªä»“åº“Forkä¸€ä»½ï¼Œç„¶åè¿›è¡Œä¿®æ”¹ã€‚è¿™æ—¶ï¼Œä½¿ç”¨æ–¹æ³•å¯¹åº”åœ°å˜ä¸º &lt;script src=&quot;https://cdn.jsdelivr.net/gh/username/live2d-widget/autoload.js&quot;&gt;&lt;/script&gt; å°†usernameæ›¿æ¢ä¸ºä½ çš„GitHubç”¨æˆ·åå³å¯ã€‚ å®šåˆ¶çœ‹æ¿å¨˜çš„è¯­å½•1.ä»githubä¸­ä¸‹è½½é¡¹ç›®: https://github.com/stevenjoezhang/live2d-widget2.æ›´æ”¹waifu-tip.jsoné‡Œé¢çš„å†…å®¹è¯¦æƒ…3.æ›´æ”¹autoload.jsçš„å¼•å…¥ä½ç½®å°†ä¸‹è½½çš„æ–‡ä»¶è§£å‹åˆ°æœ¬åœ°åšå®¢ç›®å½•çš„themes/ä¸»é¢˜æ–‡ä»¶å¤¹/sourceä¸‹ï¼Œä¿®æ”¹autoload.jsæ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼š å°† æ”¹æˆconst live2d_path = â€œ/live2d-widget/â€œ; æƒ³ä¿®æ”¹çœ‹æ¿å¨˜å¤§å°ã€ä½ç½®ã€æ ¼å¼ã€æ–‡æœ¬å†…å®¹ç­‰ï¼Œå¯æŸ¥çœ‹å¹¶ä¿®æ”¹ waifu-tips.js ã€ waifu-tips.json å’Œ waifu.cssã€‚ æ¨èä¸€ä¸ª Live2D æ¨¡å‹èµ„æºæ”¶é›†ç«™ï¼šhttps://mx-model.ga/","categories":[{"name":"æŠ€æœ¯","slug":"æŠ€æœ¯","permalink":"http://smilecoc.vip/categories/æŠ€æœ¯/"}],"tags":[{"name":"blog","slug":"blog","permalink":"http://smilecoc.vip/tags/blog/"}],"author":"smilecoc"},{"title":"2019å¹´ï¼Œå°ç ´ç«™å»ºç«‹æ’’èŠ±~","slug":"2019å¹´éšæƒ³","date":"2019-08-05T16:00:00.000Z","updated":"2022-04-17T08:25:21.900Z","comments":true,"path":"2019/08/06/2019å¹´éšæƒ³/","link":"","permalink":"http://smilecoc.vip/2019/08/06/2019å¹´éšæƒ³/","excerpt":"","text":"2019å¹´8æœˆ6æ—¥ï¼Œå°ç ´ç«™æˆåŠŸå»ºç«‹èµ·æ¥å•¦~æ­å–œåˆæ–°å¢äº†ä¸€ä¸ªå‘ï¼ˆå›§ï¼‰ ä»Šå¹´å¼€äº†å¾ˆå¤šçš„æ–°å‘ï¼Œä»¥åè¦ä¸€ä¸ªä¸€ä¸ªå¡«ä¸Š~ å…³äºæˆ‘çš„å…¶ä»–æ–°å¼€çš„å‘ï¼Œè¯·å…³æ³¨â€”&gt; å¾®ä¿¡å…¬ä¼—å·ï¼šRomiçš„æ‚è´§é“ºï¼Œæ—¶ä¸æ—¶çš„ä¼šå†™ä¸€äº›æ–‡ç«  Bç«™ï¼šupä¸»çš„ä¸»é¡µï¼Œæ—¶ä¸æ—¶çš„ä¼šè½¬è½½å’Œåˆ¶ä½œä¸€äº›è§†é¢‘ ç®€ä¹¦ï¼šç®€ä¹¦ä¸»é¡µï¼Œä¸€äº›è½¬è½½çš„ï¼ŒåŸåˆ›çš„ï¼Œå„ç§æ‚ä¹±çš„æ–‡ç« å¯èƒ½éƒ½æœ‰","categories":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"http://smilecoc.vip/categories/éšæƒ³/"}],"tags":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"http://smilecoc.vip/tags/éšæƒ³/"}],"author":"smilecoc"},{"title":"RFMç”¨æˆ·æ¨¡å‹","slug":"RFMç”¨æˆ·åˆ†ææ¨¡å‹","date":"2019-03-12T14:22:30.000Z","updated":"2022-04-17T08:25:45.502Z","comments":true,"path":"2019/03/12/RFMç”¨æˆ·åˆ†ææ¨¡å‹/","link":"","permalink":"http://smilecoc.vip/2019/03/12/RFMç”¨æˆ·åˆ†ææ¨¡å‹/","excerpt":"","text":"","categories":[{"name":"è½¬è½½","slug":"è½¬è½½","permalink":"http://smilecoc.vip/categories/è½¬è½½/"}],"tags":[{"name":"Pythonæ•°æ®åˆ†æ","slug":"Pythonæ•°æ®åˆ†æ","permalink":"http://smilecoc.vip/tags/Pythonæ•°æ®åˆ†æ/"}],"author":"smilecoc"}]}